<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>GuoXin Li&#39;s Blog</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://github.com/liysky/liysky.github.io.git/"/>
  <updated>2021-04-03T15:46:53.551Z</updated>
  <id>https://github.com/liysky/liysky.github.io.git/</id>
  
  <author>
    <name>jax</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Learnopengl-note</title>
    <link href="https://github.com/liysky/liysky.github.io.git/2021/04/01/Learnopengl-note/"/>
    <id>https://github.com/liysky/liysky.github.io.git/2021/04/01/Learnopengl-note/</id>
    <published>2021-04-01T15:16:18.000Z</published>
    <updated>2021-04-03T15:46:53.551Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ç€è‰²å™¨"><a href="#ç€è‰²å™¨" class="headerlink" title="ç€è‰²å™¨"></a>ç€è‰²å™¨</h2><p>Learnopengl-note</p><p>é¡¶ç‚¹ç€è‰²å™¨</p><p>vertex shader</p><p>å¦‚æœæˆ‘ä»¬æ‰“ç®—åšæ¸²æŸ“çš„è¯ï¼Œç°ä»£OpenGLéœ€è¦æˆ‘ä»¬è‡³å°‘è®¾ç½®ä¸€ä¸ªé¡¶ç‚¹å’Œä¸€ä¸ªç‰‡æ®µç€è‰²å™¨ã€‚</p><pre><code>#version 330 corelayout (location = 0) in vec3 aPos;void main(){    gl_Position = vec4(aPos.x, aPos.y, aPos.z, 1.0);}</code></pre><p>#version 330 core å£°æ˜ç‰ˆæœ¬å’Œæ ¸å¿ƒæ¨¡å¼</p><p>in , outå…³é”®å­—ï¼Œæ¯ä¸ªç€è‰²å™¨éƒ½æœ‰è¾“å…¥å’Œè¾“å‡ºè¿›è¡Œæ•°æ®äº¤æ¢ã€‚</p><p>layout (location = 0) è®¾å®šäº†è¾“å…¥å˜é‡çš„ä½ç½®å€¼ã€‚</p><p>ç€è‰²å™¨çš„å¼€å¤´æ€»æ˜¯è¦å£°æ˜ç‰ˆæœ¬ï¼Œæ¥ç€æ˜¯è¾“å…¥å’Œè¾“å‡ºå˜é‡ã€uniformå’Œmainå‡½æ•°ã€‚æ¯ä¸ªç€è‰²å™¨çš„å…¥å£ç‚¹éƒ½æ˜¯mainå‡½æ•°ï¼Œåœ¨è¿™ä¸ªå‡½æ•°ä¸­æˆ‘ä»¬å¤„ç†æ‰€æœ‰çš„è¾“å…¥å˜é‡ï¼Œå¹¶å°†ç»“æœè¾“å‡ºåˆ°è¾“å‡ºå˜é‡ä¸­ã€‚</p><p>æ¯ä¸ªè¾“å…¥å˜é‡ä¹Ÿå«åš é¡¶ç‚¹å±æ€§ vertex attributeï¼ŒOpenGL å–ä¿è‡³å°‘ 16 ä¸ªåŒ…å« 4 åˆ†é‡çš„é¡¶ç‚¹å±æ€§å¯ç”¨ã€‚</p><p>GLSLä¸­åŒ…å«Cç­‰å…¶å®ƒè¯­è¨€å¤§éƒ¨åˆ†çš„é»˜è®¤åŸºç¡€æ•°æ®ç±»å‹ï¼šintã€floatã€doubleã€uintå’Œboolã€‚</p><p>GLSLä¸¤ç§å®¹å™¨ç±»å‹ï¼švector å’Œ matrix</p><p><strong>å¦‚æœæ‰“ç®—ä»ä¸€ä¸ªç€è‰²å™¨å‘å¦ä¸€ä¸ªç€è‰²å™¨å‘é€æ•°æ®ï¼Œå¿…é¡»åœ¨å‘é€æ–¹ç€è‰²å™¨ä¸­å£°æ˜ä¸€ä¸ªè¾“å‡ºï¼Œåœ¨æ¥æ”¶æ–¹ç€è‰²å™¨ä¸­å£°æ˜ä¸€ä¸ªç±»ä¼¼çš„è¾“å…¥ã€‚</strong></p><h3 id="é¡¶ç‚¹ç€è‰²å™¨"><a href="#é¡¶ç‚¹ç€è‰²å™¨" class="headerlink" title="é¡¶ç‚¹ç€è‰²å™¨"></a><strong>é¡¶ç‚¹ç€è‰²å™¨</strong></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#version 330 core</span><br><span class="line">layout (location &#x3D; 0) in vec3 aPos; &#x2F;&#x2F; ä½ç½®å˜é‡çš„å±æ€§ä½ç½®å€¼ä¸º0</span><br><span class="line"></span><br><span class="line">out vec4 vertexColor; &#x2F;&#x2F; ä¸ºç‰‡æ®µç€è‰²å™¨æŒ‡å®šä¸€ä¸ªé¢œè‰²è¾“å‡º</span><br><span class="line"></span><br><span class="line">void main()</span><br><span class="line">&#123;</span><br><span class="line">    gl_Position &#x3D; vec4(aPos, 1.0); </span><br><span class="line">    vertexColor &#x3D; vec4(0.5, 0.0, 0.0, 1.0); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç‰‡æ®µç€è‰²å™¨"><a href="#ç‰‡æ®µç€è‰²å™¨" class="headerlink" title="ç‰‡æ®µç€è‰²å™¨"></a><strong>ç‰‡æ®µç€è‰²å™¨</strong></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#version 330 core</span><br><span class="line">out vec4 FragColor;</span><br><span class="line"></span><br><span class="line">in vec4 vertexColor; &#x2F;&#x2F; ä»é¡¶ç‚¹ç€è‰²å™¨ä¼ æ¥çš„è¾“å…¥å˜é‡ï¼ˆåç§°ç›¸åŒã€ç±»å‹ç›¸åŒï¼‰</span><br><span class="line"></span><br><span class="line">void main()</span><br><span class="line">&#123;</span><br><span class="line">    FragColor &#x3D; vertexColor;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Uniform"><a href="#Uniform" class="headerlink" title="Uniform"></a><strong>Uniform</strong></h3><p>uniform æ˜¯ä¸€ç§ä» CPU ä¸­çš„åº”ç”¨å‘ GPU ä¸­çš„ç€è‰²å™¨å‘é€æ•°æ®çš„æ–¹å¼ã€‚</p><p>uniform æ˜¯å…¨å±€çš„ï¼Œå…¨å±€æ„å‘³ç€ uniform å˜é‡ï¼š</p><ul><li>å¿…é¡»åœ¨æ¯ä¸ªç€è‰²å™¨ç¨‹åºå¯¹è±¡ä¸­éƒ½æ˜¯ç‹¬ä¸€æ— äºŒçš„</li><li>å®ƒå¯ä»¥è¢«ç€è‰²å™¨ç¨‹åºçš„ä»»æ„ç€è‰²å™¨åœ¨ä»»æ„é˜¶æ®µè®¿é—®</li><li>æ— è®º uniform è¢«è®¾ç½®ä¸ºä»€ä¹ˆï¼Œuniform ä¼šä¸€ç›´ä¿å­˜å®ƒä»¬çš„æ•°æ®ï¼Œç›´åˆ°å®ƒä»¬è¢«é‡ç½®æˆ–è€…æ›´æ–°ã€‚</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#version 330 core</span><br><span class="line">out vec4 FragColor;</span><br><span class="line"></span><br><span class="line">uniform vec4 ourColor;</span><br><span class="line">void main()&#123;</span><br><span class="line">FragColor &#x3D; ourColor;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å£°æ˜ä¸€ä¸ª uniform vec4 çš„ourColor å…¨å±€å˜é‡ï¼Œå¹¶åœ¨ç‰‡æ®µç€è‰²å™¨çš„è¾“å‡ºé¢œè‰²è®¾ç½®ä¸º uniform çš„å€¼ã€‚</p><p><strong>å› ä¸º uniform æ˜¯å…¨å±€å˜é‡ï¼Œè€Œæ— éœ€é€šè¿‡é¡¶ç‚¹ç€è‰²å™¨ä½œä¸ºä¸­ä»‹</strong></p><p><strong>å¦‚æœå£°æ˜äº† uniformå´æœªæ›¾ä½¿ç”¨ï¼Œç¼–è¯‘å™¨ä¼šé»˜è®¤ç§»é™¤æ­¤å˜é‡ï¼Œå¯¼è‡´æœ€åç¼–è¯‘å‡ºçš„ç‰ˆæœ¬ä¸­ä¸ä¼šåŒ…å«å®ƒ</strong></p><p><strong>ç»™ç€è‰²å™¨ä¸­çš„ uniform å±æ€§æ·»åŠ ç´¢å¼•/ä½ç½®ï¼Œå’Œæ•°æ®</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">float timeValue &#x3D; glfwGetTime();</span><br><span class="line">float greenValue &#x3D; (sin(timeValue) &#x2F; 2.0f) + 0.5f;</span><br><span class="line">int vertexColorLocation &#x3D; glGetUniformLocation(shaderProgram, &quot;ourColor&quot;);</span><br><span class="line">glUseProgram(shaderProgram);</span><br><span class="line">glUniform4f(vertexColorLocation, 0.0f, greenValue, 0.0f, 1.0f);</span><br></pre></td></tr></table></figure><p><code>glfwGetTime()</code>è·å–è¿è¡Œçš„ç§’æ•°ã€‚</p><p><code>glGetUniformLocation</code> æŸ¥è¯¢ uniform ä¸­  <code>ourColor</code> çš„ä½ç½®å€¼ï¼Œå¦‚æœè¿”å› -1 ä»£è¡¨æ²¡æœ‰æ‰¾åˆ°è¿™ä¸ªå€¼ã€‚</p><p><code>glUniform4f</code> å‡½æ•°è®¾ç½® uniform çš„å€¼ã€‚</p><p><strong>æ³¨æ„ï¼šåœ¨æ›´æ–° uniform ä¹‹å‰å¿…é¡»é¦–å…ˆä½¿ç”¨æ­¤ç€è‰²å™¨ç¨‹åºï¼Œé€šè¿‡è°ƒç”¨<code>glUseProgram</code> </strong></p><h3 id="å¤šä¸ªå±æ€§"><a href="#å¤šä¸ªå±æ€§" class="headerlink" title="å¤šä¸ªå±æ€§"></a>å¤šä¸ªå±æ€§</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">float vertices[] &#x3D; &#123;</span><br><span class="line">&#x2F;&#x2F; ä½ç½®              &#x2F;&#x2F; é¢œè‰²</span><br><span class="line">     0.5f, -0.5f, 0.0f,  1.0f, 0.0f, 0.0f,   &#x2F;&#x2F; å³ä¸‹</span><br><span class="line">    -0.5f, -0.5f, 0.0f,  0.0f, 1.0f, 0.0f,   &#x2F;&#x2F; å·¦ä¸‹</span><br><span class="line">     0.0f,  0.5f, 0.0f,  0.0f, 0.0f, 1.0f    &#x2F;&#x2F; é¡¶éƒ¨</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è®¾ç½® <code>layout</code> æ ‡è¯†ç¬¦å°† aColor å±æ€§ä½ç½®è®¾ç½®ä¸º1</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#version 330 core</span><br><span class="line">layout(location &#x3D; 0) in vec3 aPos;&#x2F;&#x2F;ä½ç½®å˜é‡å±æ€§ä½ç½®å€¼ä¸º0</span><br><span class="line">layout(location &#x3D; 1) in vec3 aColor;&#x2F;&#x2F;é¢œè‰²å˜é‡å±æ€§ä½ç½®ä¸º1</span><br><span class="line"></span><br><span class="line">out vec3 ourColor; &#x2F;&#x2F; å‘ç‰‡æ®µç€è‰²å™¨è¾“å‡ºä¸€ä¸ªé¢œè‰²</span><br><span class="line"></span><br><span class="line">void main()</span><br><span class="line">&#123;</span><br><span class="line">    gl_Position &#x3D; vec4(aPos, 1.0);</span><br><span class="line">    ourColor &#x3D; aColor; &#x2F;&#x2F; å°†ourColorè®¾ç½®ä¸ºæˆ‘ä»¬ä»é¡¶ç‚¹æ•°æ®é‚£é‡Œå¾—åˆ°çš„è¾“å…¥é¢œè‰²</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;ç€è‰²å™¨&quot;&gt;&lt;a href=&quot;#ç€è‰²å™¨&quot; class=&quot;headerlink&quot; title=&quot;ç€è‰²å™¨&quot;&gt;&lt;/a&gt;ç€è‰²å™¨&lt;/h2&gt;&lt;p&gt;Learnopengl-note&lt;/p&gt;
&lt;p&gt;é¡¶ç‚¹ç€è‰²å™¨&lt;/p&gt;
&lt;p&gt;vertex shader&lt;/p&gt;
&lt;p&gt;å¦‚æœæˆ‘ä»¬æ‰“
      
    
    </summary>
    
    
    
      <category term="learning-note" scheme="https://github.com/liysky/liysky.github.io.git/tags/learning-note/"/>
    
  </entry>
  
  <entry>
    <title>Analysis of &lt;&lt;Dual Attention Network for Scene Segmentation&gt;&gt;</title>
    <link href="https://github.com/liysky/liysky.github.io.git/2021/03/29/Analysis-of-Dual-Attention-Network-for-Scene-Segmentation/"/>
    <id>https://github.com/liysky/liysky.github.io.git/2021/03/29/Analysis-of-Dual-Attention-Network-for-Scene-Segmentation/</id>
    <published>2021-03-28T16:06:29.000Z</published>
    <updated>2021-03-29T13:38:18.891Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Dual-Attention-Network-for-Scene-Segmentation"><a href="#Dual-Attention-Network-for-Scene-Segmentation" class="headerlink" title="Dual Attention Network for Scene Segmentation"></a>Dual Attention Network for Scene Segmentation</h1><h2 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h2><p>Unlike previous works that capture contexts by multi-scale feature fusion.</p><p>Author propose Dual attention:</p><ul><li><p>adaptively integrate local fetures with their global dependecies</p></li><li><p>two types of attention model</p><ul><li><p>spatial dimension</p><p>selectively aggregates the feature at each position by a weighted sum of the features at all positions.</p><p>é€šè¿‡å¯¹æ‰€æœ‰ä½ç½®ä¸Šçš„ç‰¹å¾è¿›è¡ŒåŠ æƒå’Œï¼Œæ¥é€‰æ‹©æ€§åœ°èšåˆæ¯ä¸ªä½ç½®ä¸Šçš„ç‰¹å¾ã€‚</p></li><li><p>channel dimension</p><p>selectively emphasizes interdependent channel maps by integrating associated features among all channel maps.</p><p>é€šè¿‡æ•´åˆæ‰€æœ‰é€šé“å›¾ä¸­çš„ç›¸å…³ç‰¹å¾ï¼Œé€‰æ‹©æ€§åœ°å¼ºè°ƒç›¸äº’ä¾èµ–çš„é€šé“å›¾ã€‚</p></li></ul></li></ul><p>åœ¨å…¬å¼€çš„æœ‰æŒ‘æˆ˜æ€§çš„ä¸‰ä¸ªæ•°æ®é›†ä¸Šè·å¾—äº† state-of-the-art çš„æ°´å¹³ï¼š</p><ul><li>Cityscapes</li><li>PASCAL Context</li><li>COCO Stuff dataset</li></ul><h2 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h2><p>ï¼ˆéœ€æ±‚ï¼‰</p><p>åœºæ™¯åˆ†å‰²ç›®æ ‡å°±æ˜¯è¿›è¡Œè§£æä¸åŒçš„å›¾åƒåŒºåŸŸï¼ŒåŒ…æ‹¬è¿ç»­çš„ç‰©ä½“ï¼ˆå¤©ç©ºã€é“è·¯ã€è‰åœ°ï¼‰å’Œç¦»æ•£çš„ç‰©ä½“ï¼ˆäººã€æ±½è½¦ã€è‡ªè¡Œè½¦ï¼‰ã€‚</p><p><strong>å‰äººå·¥ä½œ</strong></p><ul><li><p>CNN æ–¹æ³•åœ¨è¿™ä¸Šé¢çš„è¡¨ç°</p><p>é€šè¿‡ç»“åˆä¸åŒçš„æ‰©å¼ å·ç§¯å’Œæ± åŒ–æ“ä½œç”Ÿæˆçš„ç‰¹å¾å›¾æ¥èšåˆå¤šå°ºåº¦ä¸Šä¸‹æ–‡ã€‚</p><p>é€šè¿‡æ‰©å¤§å·ç§¯æ ¸ï¼Œç¼–è§£ç å™¨ç»“æ„èåˆä¸­é«˜å±‚è¯­ä¹‰ç‰¹å¾ã€‚</p><p>ä»–ä»¬å¯ä»¥è¿›è¡Œç›®æ ‡æ£€æµ‹ï¼Œä½†ç¼ºç‚¹ï¼š</p><p>å®ƒä»¬ä¸èƒ½åœ¨å…¨å±€è¯•å›¾ä¸­åˆ©ç”¨å¯¹è±¡æˆ–è€…è§†å›¾ä¹‹é—´çš„å…³ç³»ï¼Œè¿™ä¹Ÿæ˜¯åœºæ™¯åˆ†å‰²çš„å¿…è¦æ¡ä»¶ã€‚</p></li><li><p>RNN æ–¹é¢</p><p>æé«˜äº†åœºæ™¯åˆ†å‰²ç²¾åº¦ã€‚åˆ©ç”¨äº† 2D é•¿çŸ­æœŸè®°å¿† LSTM ç½‘ç»œæ¥æ•æ‰æ ‡ç­¾å¤æ‚çš„ç©ºé—´ä¾èµ–å…³ç³»ã€‚ç”¨å®šå‘æ— ç¯å›¾çš„å¾ªç¯ç¥ç»ç½‘ç»œæ¥æ•æ‰å±€éƒ¨ç‰¹å¾ä¸Šä¸°å¯Œçš„ä¸Šä¸‹æ–‡ä¾èµ–æ€§ã€‚</p><p>ç¼ºç‚¹ï¼šè¿™äº›æ–¹æ³•æ•æ‰çš„å…¨å±€å…³ç³»éšå«åœ¨å¾ªç¯ç¥ç»ç½‘ç»œä¸­ï¼Œå…¶æœ‰æ•ˆæ€§ä¾èµ–äºé•¿æœŸè®°å¿†çš„å­¦ä¹ ç»“æœã€‚</p><p>RNN</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20210328223755548.png" alt="image-20210328223755548"></p><p><strong>RNN ç¼ºç‚¹ï¼š</strong></p><p>æ¢¯åº¦æ¶ˆå¤±</p><ul><li>è¯¯å·®åå‘ä¼ æ’­æ—¶å¾ˆå®¹æ˜“æ¶ˆå¤±</li><li>ç‰¹å¾æ­£å‘ä¼ æ’­æ—¶ä¹Ÿå®¹æ˜“æ¶ˆå¤±</li></ul><p>æ¢¯åº¦çˆ†ç‚¸</p><ul><li>ç›´æ¥æŠŠæ•´ä¸ªç½‘ç»œæç¿»è½¦äº†</li></ul></li></ul><p><strong>è§£å†³æ–¹æ³•</strong></p><p>åŒæ³¨æ„åŠ›ç½‘ç»œ</p><p>é‡ç‚¹æ˜¯ä½¿ç”¨äº†æ³¨æ„åŠ›æœºåˆ¶ï¼Œæ³¨æ„åŠ›æœºåˆ¶åœ¨ CNN å’Œ RNN ä¸­ä¹Ÿæœ‰ï¼Œä½†æ˜¯å…·ä½“æ¥è¯´å®ƒä»¬çš„æ³¨æ„åŠ›æœºåˆ¶å¤ªå¼±äº†ã€‚ä¸å¤ŸæŠŠæ¡å®è§‚å¤§å±€ï¼Œåœ¨ç»†åˆ†å±€éƒ¨æŠŠæ¡ä¸Šä¹Ÿå…·æœ‰ä¸€å®šçš„è·ç¦»ç­‰çš„å±€é™æ€§ã€‚</p><ul><li><p>ä½ç½®æ³¨æ„åŠ›æ¨¡å—</p><p>æ•æ‰ä»»æ„ä¸¤ä¸ªä½ç½®ä¹‹é—´çš„ä¾èµ–å…³ç³»ã€‚</p><p>å¯¹æŸä¸ªä½ç½®çš„ç‰¹å¾ï¼Œé€šè¿‡å¯¹æ‰€æœ‰ä½ç½®çš„ç‰¹å¾è¿›è¡ŒåŠ æƒæ±‚å’Œèšåˆæ›´æ–°ï¼Œæƒé‡ç”±å¯¹åº”ä¸¤ä¸ªä½ç½®ä¹‹é—´çš„ç‰¹å¾ç›¸ä¼¼åº¦å†³å®šã€‚</p><p>ä»»æ„ä¸¤ä¸ªä½ç½®éƒ½å¯ä»¥è¿›è¡Œç›¸äº’æ”¹å–„ï¼Œä¸å¿…è€ƒè™‘å®ƒä»¬åœ¨ç©ºé—´ç»´åº¦ä¸Šçš„è·ç¦»ã€‚</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20210328225301495.png" alt="image-20210328225301495"></p><p>ä¸å¿…è€ƒè™‘ç©ºé—´è·ç¦»ä¸Šçš„å…³ç³»ï¼Œè¿™ä¹Ÿæ˜¯ attention æœºåˆ¶æ‰€å…·æœ‰çš„ç‰¹ç‚¹ã€‚</p></li></ul><ul><li><p>é€šé“æ³¨æ„åŠ›æ¨¡å—</p><p>ä½¿ç”¨ç›¸ä¼¼çš„è‡ªæ³¨æ„åŠ›æœºåˆ¶æ•æ‰ä»»æ„ä¸¤ä¸ªé€šé“å›¾ä¹‹é—´çš„é€šé“ä¾èµ–æ€§ï¼Œå¹¶ä»¥æ‰€æœ‰é€šé“å›¾çš„åŠ æƒå’Œæ›´æ–°æ¯ä¸ªé€šé“å›¾ã€‚</p></li></ul><p><strong>æœ€åå°†ä¸Šé¢çš„ä¸¤ä¸ªæ³¨æ„åŠ›æ¨¡å—çš„è¾“å‡ºè¿›è¡Œèåˆï¼Œè¿›ä¸€æ­¥å¢å¼ºç‰¹å¾è¡¨ç¤ºã€‚</strong></p><p>åœ¨å¤„ç†å¤æ‚åœºæ™¯æ—¶æ¯”å‰äººå·¥ä½œæ›´å¥½ã€‚</p><p>å¯¹äºä¸æ˜æ˜¾çš„å¯¹è±¡çš„ç‰¹å¾æå–ä¼šæ›´å¥½ï¼ˆä¾‹å¦‚çªå‡ºå¯¹è±¡ï¼ˆæ±½è½¦ã€å»ºç­‘ï¼‰çš„ä¸Šä¸‹æ–‡ä¼šæŸå®³ä¸æ˜æ˜¾å¯¹è±¡çš„æ ‡ç­¾ï¼‰ï¼Œæ³¨æ„åŠ›æœºåˆ¶æœ‰é€‰æ‹©çš„èšåˆä¸æ˜æ˜¾å¯¹è±¡çš„ç›¸ä¼¼ç‰¹å¾ï¼Œæ¥çªå‡ºå…¶ç‰¹å¾çš„è¡¨ç°ï¼Œé¿å…çªå‡ºå¯¹è±¡å¯¹å…¶çš„å½±å“ï¼Œä»¥è‡³äºå…¶ç‰¹å¾ä¼šè¢«å¿½ç•¥æ‰ã€‚</p><p>ä¸åŒä½ç½®çš„ç‰¹å¾åº”è¯¥å¯¹äºˆä»¥ç›¸åŒå¯¹å¾…ã€‚</p><p>æ¨¡å‹å¯¹äºä»»ä½•å°ºåº¦çš„ç›¸ä¼¼ç‰¹å¾ä»å…¨å±€ä¸Šäºˆä»¥é€‚åº”æ€§çš„æ•´åˆã€‚</p><p>å°†ç©ºé—´å’Œé€šé“ç›¸å…³è¡Œäºˆä»¥æ•´åˆè€ƒè™‘ï¼Œåœºæ™¯èƒ½å¤Ÿåœ¨é•¿è·ç¦»çš„ä¾èµ–ä¸­è·åˆ©ã€‚</p><p><strong>ä¸»è¦è´¡çŒ®æ€»ç»“</strong></p><ul><li>æå‡ºäº†åŒæ³¨æ„åŠ›æœºåˆ¶ï¼Œç©ºé—´ä¸Šçš„å’Œé€šé“ä¸Šçš„ï¼Œæé«˜åœºæ™¯çš„ç‰¹å¾åŒºåˆ†åº¦èƒ½åŠ›ã€‚</li><li><p>ä½ç½®æ³¨æ„åŠ›æ¨¡å—é€šè¿‡å¯¹äºç©ºé—´å’Œé€šé“æ¨¡å—çš„ç‰¹å¾æå–ï¼Œå¯¹äºé€šè¿‡æ¨¡å‹çš„ä¸°å¯Œçš„ä¸Šä¸‹æ–‡ä¾èµ–è¿›è¡Œå±€éƒ¨ç‰¹å¾æå–ï¼Œæ˜¾è‘—æé«˜åˆ†å‰²çš„ç»“æœã€‚</p></li><li><p>åœ¨æµè¡Œçš„æ•°æ®é›†ä¸Šå–å¾—äº† state-of-the-art çš„ç»“æœã€‚</p></li></ul><h2 id="ç›¸å…³å·¥ä½œ"><a href="#ç›¸å…³å·¥ä½œ" class="headerlink" title="ç›¸å…³å·¥ä½œ"></a>ç›¸å…³å·¥ä½œ</h2><p>CNN åœ¨è¯­ä¹‰åˆ†å‰²æ–¹é¢å–å¾—çš„å·¨å¤§è¿›å±•ã€‚</p><p>å¯¹äºå¢å¼ºä¸Šä¸‹æ–‡çš„å·²æœ‰æ¨¡å‹ï¼š</p><ul><li><p>Deeplab2/3 æå‡ºçš„ç©ºé—´é‡‘å­—å¡”æ± åŒ–ï¼Œç”±ä¸åŒçš„æ‰©å¼ ç‡çš„å¹³è¡Œæ‰©å¼ å·ç§¯ç»„æˆã€‚</p></li><li><p>PSP-Net è®¾è®¡äº†é‡‘å­—å¡”æ± åŒ–æ¨¡å—æ¥æ”¶é›†æœ‰æ•ˆçš„ä¸Šä¸‹æ–‡å…ˆå¯¼ï¼ŒåŒ…å«ä¸åŒå°ºåº¦çš„ä¿¡æ¯ã€‚</p></li><li><p>ç¼–è§£ç å™¨ç»“æ„èåˆäº†ä¸­é«˜æ°´å¹³çš„è¯­ä¹‰ç‰¹å¾è·å–ä¸åŒå°ºåº¦çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚</p></li><li><p>DAG-RNN ç”¨å¾ªç¯ç¥ç»ç½‘ç»œå»ºç«‹æœ‰å‘æ— ç¯å›¾æ¨¡å‹ï¼Œæ•æ‰äº†ä¸°å¯Œçš„ä¸Šä¸‹æ–‡ä¾èµ–æ€§ã€‚</p></li><li><p>PSANet é€šè¿‡å·æœºå±‚å’Œç©ºé—´ç»´åº¦çš„ç›¸å¯¹ä½ç½®ä¿¡æ¯æ¥æ•è·åƒç´ é—´çš„å…³ç³»ã€‚</p></li><li><p>OCNet é‡‡ç”¨äº†å…·æœ‰ ASPP çš„è‡ªæ³¨æ„åŠ›æœºåˆ¶æ¢ç´¢ä¸Šä¸‹æ–‡çš„ä¾èµ–æ€§ã€‚</p></li><li><p>EncNet å¼•å…¥äº†é€šé“æ³¨æ„åŠ›æœºåˆ¶æ¥æ•è·å…¨å±€ä¸Šä¸‹æ–‡ã€‚</p></li></ul><p><strong>è‡ªæ³¨æ„åŠ›æœºåˆ¶</strong></p><p>Google çš„ <strong>Attention is all you need </strong> å°† attention æœºåˆ¶å‘æ‰¬å…‰å¤§ã€‚</p><p>GAN ç”Ÿæˆå¼å¯¹æŠ—ç½‘ç»œå¯¹äº attention æœºåˆ¶çš„åº”ç”¨å­¦ä¹ æœ‰äº†æ›´å¥½çš„å›¾åƒç”Ÿæˆå™¨ã€‚</p><p>Non-Local Neural Networks ä¸attention ç›¸å…³çš„å·¥ä½œï¼Œæ¢ç´¢äº†è§†é¢‘å’Œå›¾åƒåœ¨æ—¶ç©ºç»´åº¦ä¸Šéå±€éƒ¨æ“ä½œçš„æœ‰æ•ˆæ€§ã€‚</p><h2 id="Dual-Attention-Network-åŒé‡æ³¨æ„åŠ›ç½‘ç»œ"><a href="#Dual-Attention-Network-åŒé‡æ³¨æ„åŠ›ç½‘ç»œ" class="headerlink" title="Dual Attention Network åŒé‡æ³¨æ„åŠ›ç½‘ç»œ"></a>Dual Attention Network åŒé‡æ³¨æ„åŠ›ç½‘ç»œ</h2><p>æ­¤ä»½å·¥ä½œæ³¨æ„æ˜¯åœ¨è¯­ä¹‰åˆ†å‰²é¢†åŸŸå¯¹äº attention æœºåˆ¶çš„åº”ç”¨ï¼Œåœ¨ç©ºé—´å’Œé€šé“ç»´åº¦ä¸Šå¯¹äºæ›´é•¿çš„ä¸Šä¸‹æ–‡ä¿¡æ¯è·å–ï¼Œé¦–æ¬¡æå‡ºäº†ä¸€ä¸ªé€šç”¨çš„ç½‘ç»œæ¶æ„ã€‚</p><p>å¼•ç”¨è‡ªæ³¨æ„åŠ›æœºåˆ¶è§£å†³ä¼ ç»Ÿçš„ CNN å·æœºç½‘ç»œå¯¹äº receptive field å±€éƒ¨æ¥å—åœºåœ¨ç›¸åŒæ ‡ç­¾çš„åƒç´ ä¸Šæ‰€å¯¹åº”çš„ç‰¹å¾å¯èƒ½ä¼šäº§ç”Ÿå·®å¼‚çš„é—®é¢˜ï¼Œå³ CNN ä¸èƒ½å¾ˆå¥½çš„æŠŠæ¡ç›¸åŒçš„å±€éƒ¨ä¿¡æ¯ï¼Œè¿™ä¼šå½±å“æŸäº›æƒ…å†µä¸‹çš„è¯†åˆ«ç²¾åº¦ã€‚</p><p>é€šè¿‡æ³¨æ„åŠ›æœºåˆ¶å°†ç‰¹å¾å°†å…¨å±€ä¸Šä¸‹æ–‡ä¿¡æ¯è¿›è¡Œè”ç³»ï¼Œæé«˜äº†é€‚åº”æ€§å¢å¼ºé•¿èŒƒå›´çš„ä¸Šä¸‹æ–‡ä¿¡æ¯çš„èƒ½åŠ›ï¼Œæé«˜äº†å¯¹äºè¯­ä¹‰è¯†åˆ«çš„ç‰¹å¾ä»£è¡¨ã€‚</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20210329065204740.png" alt="image-20210329065204740"></p><p>é¦–å…ˆå¯¹å›¾ç‰‡è¿›è¡Œä¸€ä¸ªæœ‰æ‰€æ”¹è¿›çš„å°½å¯èƒ½ä¿ç•™äº†æ›´å¤šç»†èŠ‚çš„æ®‹å·®ç½‘ç»œ RESnet ç”Ÿæˆå¯¹äºåƒç´ çº§çš„é¢„æµ‹ç‰¹å¾ï¼Œç„¶ååˆ†åˆ«è¿›å…¥ä¸¤ä¸ªæ³¨æ„åŠ›æœºåˆ¶æ¨¡å—ï¼Œåœ¨ä¸¤ä¸ªæ¨¡å—é‡Œè¿›è¡Œäº†å¦‚ä¸‹æ“ä½œï¼š</p><ul><li>é¦–å…ˆè¿›è¡Œå·æœºå±‚è·å¾—å†æ¬¡é™ç»´çš„ç‰¹å¾</li><li>è¿›è¡Œç©ºé—´è¡°å‡çŸ©é˜µæ“ä½œï¼Œå°±æ˜¯å°†ç‰¹å¾ä¸­ä»»æ„ä¸¤ä¸ªåƒç´ ä¹‹é—´çš„ç©ºé—´å…³ç³»è¿›è¡Œå»ºæ¨¡</li><li>æ³¨æ„åŠ›ç”ŸæˆçŸ©é˜µä¸åŸå§‹ç‰¹å¾çŸ©é˜µä½œä¹˜æ³•</li><li>å¯¹ä¸Šè¿°ç”Ÿæˆçš„çŸ©é˜µå’ŒåŸå§‹ç‰¹å¾çŸ©é˜µè¿›è¡Œå…ƒç´ æ±‚å’Œè¿ç®—</li></ul><p><strong>å¾—åˆ°äº†é•¿èŒƒå›´ä¸Šä¸‹æ–‡çš„æœ€ç»ˆè¡¨ç°</strong></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20210329213518412.png" alt="image-20210329213518412"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20210329213616073.png" alt="image-20210329213616073"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20210329213630370.png" alt="image-20210329213630370"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Dual-Attention-Network-for-Scene-Segmentation&quot;&gt;&lt;a href=&quot;#Dual-Attention-Network-for-Scene-Segmentation&quot; class=&quot;headerlink&quot; title=&quot;Du
      
    
    </summary>
    
    
    
      <category term="Paper-reading" scheme="https://github.com/liysky/liysky.github.io.git/tags/Paper-reading/"/>
    
  </entry>
  
  <entry>
    <title>Important Conception In CG</title>
    <link href="https://github.com/liysky/liysky.github.io.git/2021/03/23/Important-Conception-In-CG/"/>
    <id>https://github.com/liysky/liysky.github.io.git/2021/03/23/Important-Conception-In-CG/</id>
    <published>2021-03-23T13:50:57.000Z</published>
    <updated>2021-03-23T13:52:10.634Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-22%20at%2017.06.20.png" alt="Screen Shot 2021-03-23 at 15.26.53"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-23%20at%2015.26.53.png" alt="Screen Shot 2021-03-23 at 15.26.53"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;img src=&quot;https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-22%20at%2017.06.20.png&quot; alt=&quot;Screen Shot 2
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>Docker notes</title>
    <link href="https://github.com/liysky/liysky.github.io.git/2021/03/21/Docker-notes/"/>
    <id>https://github.com/liysky/liysky.github.io.git/2021/03/21/Docker-notes/</id>
    <published>2021-03-21T15:18:15.000Z</published>
    <updated>2021-03-21T15:19:15.856Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Docker"><a href="#Docker" class="headerlink" title="Docker"></a>Docker</h1><h2 id="åŸºæœ¬æ¦‚å¿µ"><a href="#åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="åŸºæœ¬æ¦‚å¿µ"></a>åŸºæœ¬æ¦‚å¿µ</h2><h3 id="é•œåƒ"><a href="#é•œåƒ" class="headerlink" title="é•œåƒ"></a>é•œåƒ</h3><p>æ“ä½œç³»ç»Ÿåˆ†ä¸º <strong>å†…æ ¸</strong> å’Œ <strong>ç”¨æˆ·ç©ºé™</strong>ã€‚Linux ç³»ç»Ÿå†…æ ¸å¯åŠ¨åï¼Œä¼šæŒ‚è½½ root æ–‡ä»¶ç³»ç»Ÿä¸ºå…¶æä¾›ç”¨æˆ·ç©ºé—´æ”¯æŒã€‚</p><p>Docker é•œåƒç›¸å½“äºä¸€ä¸ª root æ–‡ä»¶ç³»ç»Ÿï¼Œå¦‚ å®˜æ–¹é•œåƒ ubuntu:18:04 å°±åŒ…å«äº†å®Œæ•´çš„ä¸€å¥— ubuntu18.04æœ€å°ç³»ç»Ÿ root æ–‡ä»¶ç³»ç»Ÿã€‚</p><p>Docker é•œåƒæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æ–‡ä»¶ç³»ç»Ÿï¼Œé™¤äº†æä¾›å®¹å™¨è¿è¡Œæ—¶æ‰€éœ€è¦çš„ç¨‹åºã€åº“ã€èµ„æºã€é…ç½®ç­‰æ–‡ä»¶å¤–ï¼Œè¿˜åŒ…å«äº†ä¸€äº›ä¸ºè¿è¡Œæ—¶å‡†å¤‡çš„ä¸€äº›é…ç½®å‚æ•°ï¼ˆåŒ¿åå·ã€ç¯å¢ƒå˜é‡ã€ç”¨æˆ·ç­‰ï¼‰ã€‚é•œåƒ ä¸åŒ…å« ä»»ä½•åŠ¨æ€æ•°æ®ï¼Œå…¶å†…å®¹åœ¨æ„å»ºä¹‹åä¹Ÿä¸ä¼šè¢«æ”¹å˜ã€‚</p><p>é•œåƒåªæ˜¯ä¸€ä¸ªè™šæ‹Ÿçš„æ¦‚å¿µï¼Œå…¶å®é™…ä½“ç°å¹¶éç”±ä¸€ä¸ªæ–‡ä»¶ç»„æˆï¼Œè€Œæ˜¯ç”±ä¸€ç»„æ–‡ä»¶ç³»ç»Ÿç»„æˆï¼Œæˆ–è€…è¯´æ˜¯ç”±å¤šå±‚æ–‡ä»¶ç³»ç»Ÿè”åˆç»„æˆã€‚</p><h3 id="å®¹å™¨"><a href="#å®¹å™¨" class="headerlink" title="å®¹å™¨"></a>å®¹å™¨</h3><p>é•œåƒï¼ˆ<code>Image</code>ï¼‰å’Œå®¹å™¨ï¼ˆ<code>Container</code>ï¼‰çš„å…³ç³»ï¼Œå°±åƒæ˜¯é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡ä¸­çš„ <code>ç±»</code> å’Œ <code>å®ä¾‹</code> ä¸€æ ·ï¼Œé•œåƒæ˜¯é™æ€çš„å®šä¹‰ï¼Œå®¹å™¨æ˜¯é•œåƒè¿è¡Œæ—¶çš„å®ä½“ã€‚å®¹å™¨å¯ä»¥è¢«åˆ›å»ºã€å¯åŠ¨ã€åœæ­¢ã€åˆ é™¤ã€æš‚åœç­‰ã€‚</p><p>å®¹å™¨çš„å®è´¨æ˜¯è¿›ç¨‹ï¼Œä½†æ˜¯ä¸ç›´æ¥åœ¨å®¿ä¸»æ‰§è¡Œçš„è¿›ç¨‹ä¸åŒï¼Œå®¹å™¨è¿›ç¨‹è¿è¡Œäºå±äºè‡ªå·±çš„ç‹¬ç«‹çš„å‘½åç©ºé—´ã€‚</p><p>å®¹å™¨å¯ä»¥æ‹¥æœ‰è‡ªå·±çš„ root æ–‡ä»¶ç³»ç»Ÿã€è‡ªå·±çš„ç½‘ç»œé…ç½®ã€è‡ªå·±çš„è¿›ç¨‹ç©ºé—´ï¼Œè‡ªå·±çš„ç”¨æˆ· ID ç©ºé—´ã€‚</p><p>å®¹å™¨å†…çš„è¿›ç¨‹æ˜¯è¿è¡Œåœ¨ä¸€ä¸ªéš”ç¦»çš„ç¯å¢ƒé‡Œï¼Œä½¿ç”¨èµ·æ¥ï¼Œå°±å¥½åƒæ˜¯åœ¨ä¸€ä¸ªç‹¬ç«‹äºå®¿ä¸»çš„ç³»ç»Ÿä¸‹æ“ä½œä¸€æ ·ã€‚</p><p>æ¯ä¸€ä¸ªå®¹å™¨è¿è¡Œæ—¶ï¼Œæ˜¯ä»¥é•œåƒä¸ºåŸºç¡€å±‚ï¼Œåœ¨å…¶ä¸Šåˆ›å»ºä¸€ä¸ªå½“å‰å®¹å™¨çš„å­˜å‚¨å±‚ï¼Œæˆ‘ä»¬å¯ä»¥ç§°è¿™ä¸ªä¸ºå®¹å™¨è¿è¡Œæ—¶è¯»å†™è€Œå‡†å¤‡çš„å­˜å‚¨å±‚ä¸º <strong>å®¹å™¨å­˜å‚¨å±‚</strong>ã€‚</p><p>å®¹å™¨å­˜å‚¨å±‚çš„ç”Ÿå­˜å‘¨æœŸå’Œå®¹å™¨ä¸€æ ·ï¼Œå®¹å™¨æ¶ˆäº¡æ—¶ï¼Œå®¹å™¨å­˜å‚¨å±‚ä¹Ÿéšä¹‹æ¶ˆäº¡ï¼Œæ‰€ä»¥ä»»ä½•ä¿å­˜äºå®¹å™¨å­˜å‚¨å±‚çš„ä¿¡æ¯éƒ½ä¼šéšç€å®¹å™¨çš„åˆ é™¤è€Œåˆ é™¤ã€‚</p><p>æŒ‰ç…§ Docker æœ€ä½³å®è·µçš„è¦æ±‚ï¼Œå®¹å™¨ä¸åº”è¯¥å‘å…¶å­˜å‚¨å±‚å†…å†™å…¥ä»»ä½•æ•°æ®ï¼Œå®¹å™¨å­˜å‚¨å±‚è¦ä¿æŒæ— çŠ¶æ€åŒ–ã€‚æ‰€æœ‰çš„æ–‡ä»¶å†™å…¥æ“ä½œï¼Œéƒ½åº”è¯¥ä½¿ç”¨ <a href="">æ•°æ®å·ï¼ˆVolumeï¼‰</a>ã€æˆ–è€… <a href="">ç»‘å®šå®¿ä¸»ç›®å½•</a>ï¼Œåœ¨è¿™äº›ä½ç½®çš„è¯»å†™ä¼šè·³è¿‡å®¹å™¨å­˜å‚¨å±‚ï¼Œç›´æ¥å¯¹å®¿ä¸»ï¼ˆæˆ–ç½‘ç»œå­˜å‚¨ï¼‰å‘ç”Ÿè¯»å†™ï¼Œå…¶æ€§èƒ½å’Œç¨³å®šæ€§æ›´é«˜ã€‚</p><ul><li><p>æ•°æ®å·ï¼š</p><ul><li>æ•°æ®å·å¯ä»¥åœ¨å®¹å™¨ä¹‹é—´å…±äº«å’Œé‡ç”¨</li><li>å¯¹æ•°æ®å·çš„ä¿®æ”¹ä¼šç«‹é©¬ç”Ÿæ•ˆ</li><li>å¯¹æ•°æ®å·çš„æ›´æ–°ï¼Œä¸ä¼šå½±å“é•œåƒ</li><li>æ•°æ®å·é»˜è®¤ä¼šä¸€ç›´å­˜åœ¨ï¼Œå³ä½¿å®¹å™¨è¢«åˆ é™¤</li></ul><p>æ•°æ®å·çš„ä½¿ç”¨ï¼Œç±»ä¼¼äº Linux ä¸‹å¯¹ç›®å½•æˆ–æ–‡ä»¶è¿›è¡Œ mountï¼Œé•œåƒä¸­è¢«ç½®é¡¶ä¸ºæŒ‚è½½ç‚¹çš„ç›®å½•ä¸­çš„æ–‡ä»¶ä¼šå¤åˆ¶åˆ°æ•°æ®å·ä¸­ï¼ˆä»…æ•°æ®å·ä¸ºç©ºæ—¶ä¼šè¢«å¤åˆ¶ï¼‰ã€‚</p><ul><li><p>åˆ›å»ºæ•°æ®å·<br><code>docker volume create my-vol</code></p><p>æŸ¥çœ‹æ‰€æœ‰ <code>æ•°æ®å·</code></p><p><code>docker volume ls</code></p><p>åœ¨ä¸»æœºé‡Œä½¿ç”¨ä¸€ä¸‹å‘½ä»¤å¯ä»¥æŸ¥çœ‹æŒ‡å®šçš„ æ•°æ®å· çš„ä¿¡æ¯</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ docker volume inspect my-vol</span><br><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;Driver&quot;: &quot;local&quot;,</span><br><span class="line">        &quot;Labels&quot;: &#123;&#125;,</span><br><span class="line">        &quot;Mountpoint&quot;: &quot;&#x2F;var&#x2F;lib&#x2F;docker&#x2F;volumes&#x2F;my-vol&#x2F;_data&quot;,</span><br><span class="line">        &quot;Name&quot;: &quot;my-vol&quot;,</span><br><span class="line">        &quot;Options&quot;: &#123;&#125;,</span><br><span class="line">        &quot;Scope&quot;: &quot;local&quot;</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure></li></ul></li></ul><pre><code>*   å¯åŠ¨ä¸€ä¸ªæŒ‚è½½æ•°æ®å·çš„å®¹å™¨    åœ¨ç”¨ `docker run` å‘½ä»¤æ—¶ï¼Œä½¿ç”¨ `--mount ` æ ‡è®°æ¥å°† æ•°æ®å·æŒ‚è½½åˆ°å®¹å™¨é‡Œï¼Œåœ¨ä¸€æ¬¡ `docker run` ä¸­å¯ä»¥æŒ‚è½½å¤šä¸ª æ•°æ®å·ã€‚</code></pre><p>æ•°æ®å·çš„ç”Ÿå­˜å‘¨æœŸç‹¬ç«‹äºå®¹å™¨ï¼Œå®¹å™¨æ¶ˆäº¡ï¼Œæ•°æ®å·ä¸ä¼šæ¶ˆäº¡ã€‚å› æ­¤ï¼Œä½¿ç”¨æ•°æ®å·åï¼Œå®¹å™¨åˆ é™¤æˆ–è€…é‡æ–°è¿è¡Œä¹‹åï¼Œæ•°æ®å´ä¸ä¼šä¸¢å¤±ã€‚</p><h3 id="ä»“åº“"><a href="#ä»“åº“" class="headerlink" title="ä»“åº“"></a>ä»“åº“</h3><p>Docker Registry å°±æ˜¯ä¸€ä¸ªé›†ä¸­çš„å­˜å‚¨ã€åˆ†å‘é•œåƒçš„æœåŠ¡ã€‚</p><p>é€šå¸¸ï¼Œä¸€ä¸ªä»“åº“ä¼šåŒ…å«åŒä¸€ä¸ªè½¯ä»¶ä¸åŒç‰ˆæœ¬çš„é•œåƒï¼Œè€Œæ ‡ç­¾å°±å¸¸ç”¨äºå¯¹åº”è¯¥è½¯ä»¶çš„å„ä¸ªç‰ˆæœ¬ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>&lt;ä»“åº“å&gt;:&lt;æ ‡ç­¾&gt;</code> çš„æ ¼å¼æ¥æŒ‡å®šå…·ä½“æ˜¯è¿™ä¸ªè½¯ä»¶å“ªä¸ªç‰ˆæœ¬çš„é•œåƒã€‚å¦‚æœä¸ç»™å‡ºæ ‡ç­¾ï¼Œå°†ä»¥ <code>latest</code> ä½œä¸ºé»˜è®¤æ ‡ç­¾ã€‚</p><p>æœ€å¸¸ä½¿ç”¨çš„ Registry å…¬å¼€æœåŠ¡æ˜¯å®˜æ–¹çš„ <a href="https://hub.docker.com/" target="_blank" rel="noopener">Docker Hub</a>ï¼Œè¿™ä¹Ÿæ˜¯é»˜è®¤çš„ Registryï¼Œå¹¶æ‹¥æœ‰å¤§é‡çš„é«˜è´¨é‡çš„ <a href="https://hub.docker.com/search?q=&amp;type=image&amp;image_filter=official" target="_blank" rel="noopener">å®˜æ–¹é•œåƒ</a>ã€‚é™¤æ­¤ä»¥å¤–ï¼Œè¿˜æœ‰ Red Hat çš„ <a href="https://quay.io/repository/" target="_blank" rel="noopener">Quay.io</a>ï¼›Google çš„ <a href="https://cloud.google.com/container-registry/" target="_blank" rel="noopener">Google Container Registry</a>ï¼Œ<a href="https://kubernetes.io/" target="_blank" rel="noopener">Kubernetes</a> çš„é•œåƒä½¿ç”¨çš„å°±æ˜¯è¿™ä¸ªæœåŠ¡ï¼›ä»£ç æ‰˜ç®¡å¹³å° <a href="https://github.com/">GitHub</a> æ¨å‡ºçš„ <a href="https://docs.github.com/cn/packages/guides/about-github-container-registry" target="_blank" rel="noopener">ghcr.io</a>ã€‚</p><p>å›½å†…çš„ä¸€äº›äº‘æœåŠ¡å•†æä¾›äº†é’ˆå¯¹ Docker Hub çš„é•œåƒæœåŠ¡ï¼ˆ<code>Registry Mirror</code>ï¼‰ï¼Œè¿™äº›é•œåƒæœåŠ¡è¢«ç§°ä¸º <strong>åŠ é€Ÿå™¨</strong>ã€‚å¸¸è§çš„æœ‰ <a href="https://www.aliyun.com/product/acr?source=5176.11533457&amp;userCode=8lx5zmtu" target="_blank" rel="noopener">é˜¿é‡Œäº‘åŠ é€Ÿå™¨</a>ã€<a href="https://www.daocloud.io/mirror#accelerator-doc" target="_blank" rel="noopener">DaoCloud åŠ é€Ÿå™¨</a> ç­‰ã€‚ä½¿ç”¨åŠ é€Ÿå™¨ä¼šç›´æ¥ä»å›½å†…çš„åœ°å€ä¸‹è½½ Docker Hub çš„é•œåƒï¼Œæ¯”ç›´æ¥ä» Docker Hub ä¸‹è½½é€Ÿåº¦ä¼šæé«˜å¾ˆå¤šã€‚</p><p>é™¤æ­¤ä¹‹å¤–ï¼ŒDocker è¿˜æä¾›æ­å»ºç§æœ‰ä»“åº“ã€‚</p><h2 id="å®‰è£…-Docker"><a href="#å®‰è£…-Docker" class="headerlink" title="å®‰è£… Docker"></a>å®‰è£… Docker</h2><h3 id="Ubuntu"><a href="#Ubuntu" class="headerlink" title="Ubuntu"></a>Ubuntu</h3><p>é¦–å…ˆå¸è½½æ—§ç‰ˆæœ¬</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-get remove docker \</span><br><span class="line">               docker-engine \</span><br><span class="line">               docker.io</span><br></pre></td></tr></table></figure><p>å¯ä»¥ä½¿ç”¨ APT å®‰è£…ï¼Œæ•´ä¸ªè¿‡ç¨‹ç”± apt ä½¿ç”¨ https ç¡®ä¿ä¸‹è½½è¿‡ç¨‹ä¸­ä¸è¢«ç¯¡æ”¹ã€‚</p><p>å½“ç„¶æœ€ä¾¿æ·çš„æ–¹æ³•æ˜¯ä½¿ç”¨ Docker å®˜æ–¹æä¾›çš„è„šæœ¬è¿›è¡Œå®‰è£…ç®€åŒ–æµç¨‹ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># $ curl -fsSL test.docker.com -o get-docker.sh</span><br><span class="line">$ curl -fsSL get.docker.com -o get-docker.sh</span><br><span class="line">$ sudo sh get-docker.sh --mirror Aliyun</span><br><span class="line"># $ sudo sh get-docker.sh --mirror AzureChinaCloud</span><br></pre></td></tr></table></figure><h4 id="å¯åŠ¨-Docker"><a href="#å¯åŠ¨-Docker" class="headerlink" title="å¯åŠ¨ Docker"></a>å¯åŠ¨ Docker</h4><p><code>$ sudo systemctl enable docker$ sudo systemctl start docker</code></p><h4 id="å»ºç«‹-Docker-ç”¨æˆ·ç»„"><a href="#å»ºç«‹-Docker-ç”¨æˆ·ç»„" class="headerlink" title="å»ºç«‹ Docker ç”¨æˆ·ç»„"></a>å»ºç«‹ Docker ç”¨æˆ·ç»„</h4><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>docker</code> å‘½ä»¤ä¼šä½¿ç”¨ <a href="https://en.wikipedia.org/wiki/Unix_domain_socket" target="_blank" rel="noopener">Unix socket</a> ä¸ Docker å¼•æ“é€šè®¯ã€‚è€Œåªæœ‰ <code>root</code> ç”¨æˆ·å’Œ <code>docker</code> ç»„çš„ç”¨æˆ·æ‰å¯ä»¥è®¿é—® Docker å¼•æ“çš„ Unix socketã€‚å‡ºäºå®‰å…¨è€ƒè™‘ï¼Œä¸€èˆ¬ Linux ç³»ç»Ÿä¸Šä¸ä¼šç›´æ¥ä½¿ç”¨ <code>root</code> ç”¨æˆ·ã€‚å› æ­¤ï¼Œæ›´å¥½åœ°åšæ³•æ˜¯å°†éœ€è¦ä½¿ç”¨ <code>docker</code> çš„ç”¨æˆ·åŠ å…¥ <code>docker</code> ç”¨æˆ·ç»„ã€‚</p><p><strong>å»ºç«‹ docker ç”¨æˆ·ç»„</strong></p><p><code>$ sudo groupadd docker</code></p><p><strong>å°†å½“å‰ç”¨æˆ·åŠ å…¥ docker ç»„</strong></p><p><code>$ sudo usermod -aG docker $USER</code></p><h3 id="Mac"><a href="#Mac" class="headerlink" title="Mac"></a>Mac</h3><ul><li>ä½¿ç”¨ Homebrew</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install --cask docker</span><br></pre></td></tr></table></figure><ul><li>æ‰‹åŠ¨ä¸‹è½½ package è¿›è¡Œå®‰è£…ï¼Œä¸‹è½½<a href="https://desktop.docker.com/mac/stable/Docker.dmg" target="_blank" rel="noopener">é“¾æ¥</a></li></ul><p>æ£€æŸ¥ Docker ç‰ˆæœ¬</p><p><code>docker --version</code></p><p>å®‰è£… Nginx æµ‹è¯• Docker æœåŠ¡</p><p><code>$ docker run -d -p 80:80 --name webserver nginx</code></p><p>ä¹‹åè®¿é—® <a href="http://localhost" target="_blank" rel="noopener">http://localhost</a> å³å¯è¿›å…¥åˆ° nginx</p><p>åœæ­¢ Nginx å¹¶åˆ é™¤å‘½ä»¤</p><p><code>$ docker stop webserver</code></p><p><code>$ docker rm webserver</code></p><h2 id="è·å–é•œåƒ"><a href="#è·å–é•œåƒ" class="headerlink" title="è·å–é•œåƒ"></a>è·å–é•œåƒ</h2><p>è·å–é•œåƒå‘½ä»¤ <code>docker pull</code></p><p><code>$ docker pull [é€‰é¡¹] [Docker Registry åœ°å€[:ç«¯å£å·]/]ä»“åº“å[:æ ‡ç­¾]</code></p><p>Docker é•œåƒä»“åº“åœ°å€ï¼šåœ°å€çš„æ ¼å¼ä¸€èˆ¬æ˜¯ <code>&lt;åŸŸå/IP&gt;[:ç«¯å£å·]</code>ã€‚é»˜è®¤åœ°å€æ˜¯ Docker Hub(<code>docker.io</code>)ã€‚</p><p>ä»“åº“åï¼šå¦‚ä¹‹å‰æ‰€è¯´ï¼Œè¿™é‡Œçš„ä»“åº“åæ˜¯ä¸¤æ®µå¼åç§°ï¼Œå³ <code>&lt;ç”¨æˆ·å&gt;/&lt;è½¯ä»¶å&gt;</code>ã€‚å¯¹äº Docker Hubï¼Œå¦‚æœä¸ç»™å‡ºç”¨æˆ·åï¼Œåˆ™é»˜è®¤ä¸º <code>library</code>ï¼Œä¹Ÿå°±æ˜¯å®˜æ–¹é•œåƒã€‚</p><h4 id="è¿è¡Œ"><a href="#è¿è¡Œ" class="headerlink" title="è¿è¡Œ"></a>è¿è¡Œ</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">$ docker run -it --rm ubuntu:18.04 bash</span><br><span class="line"></span><br><span class="line">root@e7009c6ce357:&#x2F;# cat &#x2F;etc&#x2F;os-release</span><br><span class="line">NAME&#x3D;&quot;Ubuntu&quot;</span><br><span class="line">VERSION&#x3D;&quot;18.04.1 LTS (Bionic Beaver)&quot;</span><br><span class="line">ID&#x3D;ubuntu</span><br><span class="line">ID_LIKE&#x3D;debian</span><br><span class="line">PRETTY_NAME&#x3D;&quot;Ubuntu 18.04.1 LTS&quot;</span><br><span class="line">VERSION_ID&#x3D;&quot;18.04&quot;</span><br><span class="line">HOME_URL&#x3D;&quot;https:&#x2F;&#x2F;www.ubuntu.com&#x2F;&quot;</span><br><span class="line">SUPPORT_URL&#x3D;&quot;https:&#x2F;&#x2F;help.ubuntu.com&#x2F;&quot;</span><br><span class="line">BUG_REPORT_URL&#x3D;&quot;https:&#x2F;&#x2F;bugs.launchpad.net&#x2F;ubuntu&#x2F;&quot;</span><br><span class="line">PRIVACY_POLICY_URL&#x3D;&quot;https:&#x2F;&#x2F;www.ubuntu.com&#x2F;legal&#x2F;terms-and-policies&#x2F;privacy-policy&quot;</span><br><span class="line">VERSION_CODENAME&#x3D;bionic</span><br><span class="line">UBUNTU_CODENAME&#x3D;bionic</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Docker&quot;&gt;&lt;a href=&quot;#Docker&quot; class=&quot;headerlink&quot; title=&quot;Docker&quot;&gt;&lt;/a&gt;Docker&lt;/h1&gt;&lt;h2 id=&quot;åŸºæœ¬æ¦‚å¿µ&quot;&gt;&lt;a href=&quot;#åŸºæœ¬æ¦‚å¿µ&quot; class=&quot;headerlink&quot; title=&quot;åŸº
      
    
    </summary>
    
    
    
      <category term="learning-note" scheme="https://github.com/liysky/liysky.github.io.git/tags/learning-note/"/>
    
  </entry>
  
  <entry>
    <title>Hongyi-Lee Machine Learning Spring 2021 Mandarin</title>
    <link href="https://github.com/liysky/liysky.github.io.git/2021/03/17/Self-Learning-OF-Hongyi-Lee-Machine-Learning-Spring-Mandarin/"/>
    <id>https://github.com/liysky/liysky.github.io.git/2021/03/17/Self-Learning-OF-Hongyi-Lee-Machine-Learning-Spring-Mandarin/</id>
    <published>2021-03-17T14:17:21.000Z</published>
    <updated>2021-03-28T15:32:22.853Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Hongyi-Lee-Machine-Learning-Spring-Mandarin-â€”Notes"><a href="#Hongyi-Lee-Machine-Learning-Spring-Mandarin-â€”Notes" class="headerlink" title="Hongyi-Lee Machine Learning Spring Mandarin â€”Notes"></a>Hongyi-Lee Machine Learning Spring Mandarin â€”Notes</h1><h2 id="Lesson-1Basic-Conceptions-OF-ML"><a href="#Lesson-1Basic-Conceptions-OF-ML" class="headerlink" title="Lesson 1Basic Conceptions OF ML"></a>Lesson 1Basic Conceptions OF ML</h2><h3 id="Different-type-of-Functions"><a href="#Different-type-of-Functions" class="headerlink" title="Different type of Functions"></a>Different type of Functions</h3><p><strong>Regression: The function outputs a scalar</strong></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-16%20at%2023.45.08.png" alt="Screen Shot 2021-03-16 at 23.45.08"></p><p><strong>Classification: Given options(classes), the function outputs the correct one.</strong></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-16%20at%2023.46.21.png" alt="Screen Shot 2021-03-16 at 23.46.21"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-16%20at%2023.47.04.png" alt="Screen Shot 2021-03-16 at 23.47.04"></p><h3 id="How-to-find-the-Function"><a href="#How-to-find-the-Function" class="headerlink" title="How to find the Function"></a>How to find the Function</h3><h4 id="Three-steps"><a href="#Three-steps" class="headerlink" title="Three steps"></a>Three steps</h4><ul><li><p>Function with Unknown Parameters</p></li><li><p>Define Loss from Training Data</p><ul><li>Loss is a function of parameters: L( b,w )</li><li>Loss: how good a set of value is.</li></ul><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20210317214832354.png" alt="image-20210317214832354"></p><p>Loss:  $L = \frac{1}{N}\sum<em>{n}e</em>{n}$</p><p><strong>Types of Loss</strong></p><ul><li>MAE: L is mean absolute error(MAE)  $e = |y-\hat{y}|$</li><li>MSE: L is mean square error(MSE) $e = (y-\hat{y})^{2}$</li><li>if y and $\hat{y}$ both probability distributons â€”&gt; Cross-entropy</li></ul><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20210317220111124.png" alt="image-20210317220111124"></p></li><li><p>Optimization</p><p>the way to find a best w<em> and b</em>: gradient descent</p><ul><li><p>randomly pick a initial value of w0</p></li><li><p>compute $\frac{\partial{L}}{\partial{w}}|_{w=w^0}$</p><ul><li>Negative â€”&gt; increase w</li><li>Positiive â€”&gt; decrease w</li><li>learn rate : hyperparameters â€”&gt; can modify be human</li></ul><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-17%20at%2022.12.31.png" alt="Screen Shot 2021-03-17 at 22.12.31"></p></li><li><p>update w iteratively</p></li></ul></li></ul><p>disadvantage of gradient descent: may sometimes can not find the absolutely right best w* â€”&gt; local minima</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-17%20at%2022.21.45.png" alt="Screen Shot 2021-03-17 at 22.21.45"></p><p><strong>Same steps of the finding of b* </strong></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20210317222343212.png" alt="image-20210317222343212" style="zoom:50%;" /></p><p><strong>Above summary is called Train</strong></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20210317222734598.png" alt="image-20210317222734598"></p><h3 id="Gradually-considering-more-days-of-a-circle-to-compute-the-best-w-different-models"><a href="#Gradually-considering-more-days-of-a-circle-to-compute-the-best-w-different-models" class="headerlink" title="Gradually considering more days of a circle to compute the best w* (different models)"></a><strong>Gradually considering more days of a circle to compute the best w* (different models)</strong></h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20210317223404414.png" alt="image-20210317223404414"></p><h2 id="Less2-Basic-Conceptions-OF-ML-second"><a href="#Less2-Basic-Conceptions-OF-ML-second" class="headerlink" title="Less2 Basic Conceptions OF ML (second)"></a>Less2 Basic Conceptions OF ML (second)</h2><p><strong>Model Bias</strong></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-18%20at%2022.22.58.png" alt="Screen Shot 2021-03-18 at 22.22.58"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-19%20at%2023.51.31.png" alt="Screen Shot 2021-03-19 at 23.51.31"></p><p>Approximate cotinuous curve by a piecewise linear curve.</p><p>To have good approximation, we need sufficient pices.</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-20%20at%2000.05.44.png" alt="Screen Shot 2021-03-20 at 00.05.44"></p><p><strong>using multiple lines to fitting the red curve</strong></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210320213544357.png" alt="image-20210320213544357"></p><p><strong>New Model: more Features</strong></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210320214505891.png" alt="image-20210320214505891"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210320214758772.png" alt="image-20210320214758772"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210320214859012.png" alt="image-20210320214859012"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210320214918567.png" alt="image-20210320214918567"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210320215011501.png" alt="image-20210320215011501"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210320215055365.png" alt="image-20210320215055365"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210320215133654.png" alt="image-20210320215133654"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210320215154173.png" alt="image-20210320215154173"></p><h3 id="using-theta-to-represent-all-unknow-parameters"><a href="#using-theta-to-represent-all-unknow-parameters" class="headerlink" title="using /theta to represent all unknow parameters"></a>using /theta to represent all unknow parameters</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210320215325887.png" alt="image-20210320215325887"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210320215704989.png" alt="image-20210320215704989"></p><h3 id="Loss"><a href="#Loss" class="headerlink" title="Loss"></a>Loss</h3><p>Loss is a function of parameters  $L\theta$</p><p>Loss means how good a set of values is.</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210320221049011.png" alt="image-20210320221049011"></p><h3 id="Optimization-of-New-Model"><a href="#Optimization-of-New-Model" class="headerlink" title="Optimization of New Model"></a>Optimization of New Model</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210320221457139.png" alt="image-20210320221457139"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210320221533290.png" alt="image-20210320221533290"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210320221732179.png" alt="image-20210320221732179"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210320222205683.png" alt="image-20210320222205683"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210320222432506.png" alt="image-20210320222432506"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210320222441121.png" alt="image-20210320222441121"></p><h3 id="Activation-function"><a href="#Activation-function" class="headerlink" title="Activation function"></a>Activation function</h3><p>ReLU = 2 times Sigmoid</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210320222528754.png" alt="image-20210320222528754"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210320222836306.png" alt="image-20210320222836306"></p><h3 id="complexity-model"><a href="#complexity-model" class="headerlink" title="complexity model"></a>complexity model</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210320222718395.png" alt="image-20210320222718395"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210320222803883.png" alt="image-20210320222803883"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210320223632708.png" alt="image-20210320223632708"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210320223709586.png" alt="image-20210320223709586"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210320223736747.png" alt="image-20210320223736747"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210320223801600.png" alt="image-20210320223801600"></p><h3 id="Why-donâ€™t-we-go-deeper-â€”â€”-Overfitting"><a href="#Why-donâ€™t-we-go-deeper-â€”â€”-Overfitting" class="headerlink" title="Why donâ€™t we go deeper?  â€”â€” Overfitting"></a>Why donâ€™t we go deeper?  â€”â€” Overfitting</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210320224030451.png" alt="image-20210320224030451"></p><h2 id="Less3-Mission-Strategy-OF-ML"><a href="#Less3-Mission-Strategy-OF-ML" class="headerlink" title="Less3 Mission Strategy OF ML"></a>Less3 Mission Strategy OF ML</h2><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-18%20at%2022.17.31.png" alt="Screen Shot 2021-03-18 at 22.17.31"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-21%20at%2016.38.10.png" alt="Screen Shot 2021-03-21 at 16.38.10"></p><p><strong>how to improve the currection</strong></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-21%20at%2016.39.41.png" alt="Screen Shot 2021-03-21 at 16.39.41"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-21%20at%2016.44.55.png" alt="Screen Shot 2021-03-21 at 16.44.55"></p><p>56-layer can do the things 20-layer do</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-21%20at%2016.49.46.png" alt="Screen Shot 2021-03-21 at 16.49.46"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-21%20at%2016.51.26.png" alt="Screen Shot 2021-03-21 at 16.51.26"></p><p>The way to solve overfitting</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-21%20at%2016.53.15.png" alt="Screen Shot 2021-03-21 at 16.53.15"></p><p>constrained model to solve overfitting</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-21%20at%2016.54.48.png" alt="Screen Shot 2021-03-21 at 16.54.48"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-21%20at%2016.56.10.png" alt="Screen Shot 2021-03-21 at 16.56.10"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-21%20at%2016.58.42.png" alt="Screen Shot 2021-03-21 at 16.58.42"></p><h3 id="Bias-Complexity"><a href="#Bias-Complexity" class="headerlink" title="Bias-Complexity"></a>Bias-Complexity</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-21%20at%2017.13.34.png" alt="Screen Shot 2021-03-21 at 17.13.34"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-21%20at%2017.24.52.png" alt="Screen Shot 2021-03-21 at 17.24.52"></p><h3 id="good-way-to-improve-currection"><a href="#good-way-to-improve-currection" class="headerlink" title="good way to improve currection"></a>good way to improve currection</h3><p><strong>Split Training Set into Training Set and Validation Set</strong></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-21%20at%2018.01.28.png" alt="Screen Shot 2021-03-21 at 18.01.28"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-21%20at%2018.03.57.png" alt="Screen Shot 2021-03-21 at 18.03.57"></p><h3 id="Mismatch"><a href="#Mismatch" class="headerlink" title="Mismatch"></a>Mismatch</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-21%20at%2018.06.38.png" alt="Screen Shot 2021-03-21 at 18.06.38"></p><h2 id="Lesson4-local-minima-saddle-point"><a href="#Lesson4-local-minima-saddle-point" class="headerlink" title="Lesson4 local minima saddle point"></a>Lesson4 local minima saddle point</h2><p><strong>Critical point</strong></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210322124818350.png" alt="image-20210322124818350"></p><p><strong>using Tayler Series Approximation to approximately represent the Loss Function</strong></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210322125244588.png" alt="image-20210322125244588"></p><p>$(\theta-\theta^{â€˜})^T g $ will disappear when Loss is at critical point</p><p> <img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210322130418466.png" alt="image-20210322130418466"></p><h4 id="eigen-value"><a href="#eigen-value" class="headerlink" title="eigen value"></a><strong>eigen value</strong></h4><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210322130924505.png" alt="image-20210322130924505"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210322130913155.png" alt="image-20210322130913155"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210322131430124.png" alt="image-20210322131430124"></p><p><strong>Example</strong></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210322131550636.png" alt="image-20210322131550636"></p><h3 id="Higher-Dimension"><a href="#Higher-Dimension" class="headerlink" title="Higher Dimension"></a>Higher Dimension</h3><p>saddle point in higher dimension</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210322203114110.png" alt="image-20210322203114110"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210322203719848.png" alt="image-20210322203719848"></p><h2 id="Lesson5-Batch-amp-amp-momentum"><a href="#Lesson5-Batch-amp-amp-momentum" class="headerlink" title="Lesson5 Batch &amp;&amp; momentum"></a>Lesson5 Batch &amp;&amp; momentum</h2><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210322210323144.png" alt="image-20210322210323144"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210322211258840.png" alt="image-20210322211258840"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210322211559760.png" alt="image-20210322211559760"></p><p>Large Batch need smaller time for one epoch while Small Batch need more time for one epoch</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210322211838918.png" alt="image-20210322211838918"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210322212553416.png" alt="image-20210322212553416"></p><p><strong>Whatâ€™s wrong with large batch size? â€”&gt; Optimization Fails</strong></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210322212810837.png" alt="image-20210322212810837"></p><p><strong>Small batch:  when one batch cracked in a critical point, another somehow will over come it.</strong></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210322213134958.png" alt="image-20210322213134958"></p><p><strong>small batch is better on test data. </strong></p><p><strong>small batch is worse on test data. â€”&gt; overfitting</strong></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210322213445078.png" alt="image-20210322213445078"></p><p><strong>Many differences on Small Batch V.S. Large Batch</strong></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210322214258723.png" alt="image-20210322214258723"></p><h3 id="Momentum"><a href="#Momentum" class="headerlink" title="Momentum"></a>Momentum</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210322214716830.png" alt="image-20210322214716830"></p><p><strong>Obey the inverse orientation of Gradient Descent to update the Next New Gradient</strong></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210322214829989.png" alt="image-20210322214829989"></p><p> <img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210322215300968.png" alt="image-20210322215300968"></p><h2 id="Lesson6-Learn-rate-Error-surface-is-rugged"><a href="#Lesson6-Learn-rate-Error-surface-is-rugged" class="headerlink" title="Lesson6 Learn rate (Error surface is rugged)"></a>Lesson6 Learn rate (Error surface is rugged)</h2><p>Tips for training: Adaptive Learning Rate.</p><h3 id="Training-stuck-Small-Gradient"><a href="#Training-stuck-Small-Gradient" class="headerlink" title="Training stuck != Small Gradient"></a>Training stuck != Small Gradient</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20210325094650916.png" alt="image-20210325094650916"></p><p> Error surface is left side of above pic.</p><p>we can see the gradient vibrate between the two peak.</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20210325095419288.png" alt="image-20210325095419288"></p><p>Learning rate too big or too small.</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-25%20at%2010.32.12.png" alt="Screen Shot 2021-03-25 at 10.32.12"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-25%20at%2010.42.42.png" alt="Screen Shot 2021-03-25 at 10.42.42"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-25%20at%2010.43.55.png" alt="Screen Shot 2021-03-25 at 10.43.55"></p><h3 id="Learning-rate-adapts-dynamically"><a href="#Learning-rate-adapts-dynamically" class="headerlink" title="Learning rate adapts dynamically"></a>Learning rate adapts dynamically</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-25%20at%2010.45.01.png" alt="Screen Shot 2021-03-25 at 10.45.01"></p><p>RMSProp is unpublished optimization algorithm designed for neural networks, first proposed by Geoff Hinton in lecture 6 of online course.</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-25%20at%2010.50.49.png" alt="Screen Shot 2021-03-25 at 10.50.49"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-25%20at%2010.52.27.png" alt="Screen Shot 2021-03-25 at 10.52.27"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-25%20at%2010.52.56.png" alt="Screen Shot 2021-03-25 at 10.52.56"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-25%20at%2011.02.06.png" alt="Screen Shot 2021-03-25 at 11.02.06"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-25%20at%2011.04.22.png" alt="Screen Shot 2021-03-25 at 11.04.22"></p><h3 id="Learning-Rate-Scheduling"><a href="#Learning-Rate-Scheduling" class="headerlink" title="Learning Rate Scheduling"></a>Learning Rate Scheduling</h3><ul><li>Decay</li><li>Warm up</li></ul><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-25%20at%2011.05.33.png" alt="Screen Shot 2021-03-25 at 11.05.33"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-25%20at%2011.18.04.png" alt="Screen Shot 2021-03-25 at 11.18.04"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-25%20at%2011.19.27.png" alt="Screen Shot 2021-03-25 at 11.19.27"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-25%20at%2011.22.35.png" alt="Screen Shot 2021-03-25 at 11.22.35"></p><h2 id="Lesson-7-Loss-Function-Influence"><a href="#Lesson-7-Loss-Function-Influence" class="headerlink" title="Lesson 7  Loss Function Influence"></a>Lesson 7  Loss Function Influence</h2><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-25%20at%2013.01.23.png" alt="Screen Shot 2021-03-25 at 13.01.23"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-25%20at%2013.01.44.png" alt="Screen Shot 2021-03-25 at 13.01.44"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-25%20at%2013.05.14.png" alt="Screen Shot 2021-03-25 at 13.05.14"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-25%20at%2013.06.17.png" alt="Screen Shot 2021-03-25 at 13.06.17"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-25%20at%2013.07.45.png" alt="Screen Shot 2021-03-25 at 13.07.45"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-25%20at%2013.11.46.png" alt="Screen Shot 2021-03-25 at 13.11.46"></p><h3 id="Mean-Square-Error-MSE-VS-Cross-entropy"><a href="#Mean-Square-Error-MSE-VS-Cross-entropy" class="headerlink" title="Mean Square Error(MSE)  VS  Cross-entropy"></a>Mean Square Error(MSE)  VS  Cross-entropy</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-25%20at%2013.16.52.png" alt="Screen Shot 2021-03-25 at 13.16.52"></p><h2 id="Lesson8-CNN-Image-Classification"><a href="#Lesson8-CNN-Image-Classification" class="headerlink" title="Lesson8 CNN - Image Classification"></a>Lesson8 CNN - Image Classification</h2><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-26%20at%2021.12.20.png" alt="Screen Shot 2021-03-26 at 21.12.20"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-26%20at%2021.23.33.png" alt="Screen Shot 2021-03-26 at 21.23.33"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-26%20at%2021.29.28.png" alt="Screen Shot 2021-03-26 at 21.29.28"></p><p><strong>All weight == input x kernal x out</strong>.</p><p><strong>Identifying some critical patterns to ensure a certain object.</strong></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20210326213233416.png" alt="image-20210326213233416"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-26%20at%2021.37.56.png" alt="Screen Shot 2021-03-26 at 21.37.56"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-26%20at%2021.47.26.png" alt="Screen Shot 2021-03-26 at 21.47.26"></p><h3 id="Receptive-field-design"><a href="#Receptive-field-design" class="headerlink" title="Receptive field design"></a>Receptive field design</h3><ul><li>can different neurons have different sizes of receptive field.</li><li>cover only some channels.</li><li>not square receptive field.</li></ul><h3 id="Typical-Setting-of-Receptive-neural"><a href="#Typical-Setting-of-Receptive-neural" class="headerlink" title="Typical Setting of Receptive neural"></a>Typical Setting of Receptive neural</h3><ul><li>kernal size usually is 3x3</li><li><p>one receptive neural typically has 64 neurons</p></li><li><p>stride</p></li><li>overlap</li><li>padding: when over the whole image</li></ul><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-26%20at%2021.57.52.png" alt="Screen Shot 2021-03-26 at 21.57.52"></p><h3 id="The-same-patterns-appear-in-different-regions"><a href="#The-same-patterns-appear-in-different-regions" class="headerlink" title="The same patterns appear in different regions."></a>The same patterns appear in different regions.</h3><h3 id="does-every-region-need-a-pattern-detection"><a href="#does-every-region-need-a-pattern-detection" class="headerlink" title="does every region need a pattern detection?"></a>does every region need a pattern detection?</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-26%20at%2021.59.40.png" alt="Screen Shot 2021-03-26 at 21.59.40"></p><p><strong>Solution to above issue ==&gt; Parameter Sharing</strong></p><p><strong>same weight in different regions</strong></p><p><strong>different weight in two neurons with the same receptive field == two neurons with the same receptive field would not share parameters.</strong></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-26%20at%2022.03.48.png" alt="Screen Shot 2021-03-26 at 22.03.48"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-26%20at%2022.10.09.png" alt="Screen Shot 2021-03-26 at 22.10.09"></p><h3 id="Benefit-of-Convolutional-Layer"><a href="#Benefit-of-Convolutional-Layer" class="headerlink" title="Benefit of Convolutional Layer"></a>Benefit of Convolutional Layer</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-26%20at%2022.12.56.png" alt="Screen Shot 2021-03-26 at 22.12.56"></p><h3 id="Another-good-story-to-describe-Convolutional-Layer"><a href="#Another-good-story-to-describe-Convolutional-Layer" class="headerlink" title="Another good story to describe Convolutional Layer"></a>Another good story to describe Convolutional Layer</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20210326221441500.png" alt="image-20210326221441500"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-26%20at%2022.16.50.png" alt="Screen Shot 2021-03-26 at 22.16.50"></p><h3 id="Feature-Map"><a href="#Feature-Map" class="headerlink" title="Feature Map"></a><strong>Feature Map</strong></h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-26%20at%2022.17.49.png" alt="Screen Shot 2021-03-26 at 22.17.49"></p><p>1channel x 64 filter â€”&gt; â€œimageâ€ with 64 channels x  3x3x64 filter â€”&gt; â€œimageâ€ with 64x3x3x64 channels â€”&gt;â€¦</p><p>When with deeper Convolutional Layers.</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-26%20at%2022.24.21.png" alt="Screen Shot 2021-03-26 at 22.24.21"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-26%20at%2022.29.13.png" alt="Screen Shot 2021-03-26 at 22.29.13"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-26%20at%2022.29.48.png" alt="Screen Shot 2021-03-26 at 22.29.48"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-26%20at%2022.30.37.png" alt="Screen Shot 2021-03-26 at 22.30.37"></p><h3 id="Pooling"><a href="#Pooling" class="headerlink" title="Pooling"></a>Pooling</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-26%20at%2022.31.40.png" alt="Screen Shot 2021-03-26 at 22.31.40"></p><p>Max pooling: select the max num of a receptive filed.</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-26%20at%2022.33.07.png" alt="Screen Shot 2021-03-26 at 22.33.07"></p><p>pooling: do the things that makes the image smaller.</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-26%20at%2022.34.44.png" alt="Screen Shot 2021-03-26 at 22.34.44"></p><p>pooling: sometimes make some damages in the result of Image Identification.</p><h3 id="The-Whole-CNN"><a href="#The-Whole-CNN" class="headerlink" title="The Whole CNN"></a>The Whole CNN</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-26%20at%2022.36.52.png" alt="Screen Shot 2021-03-26 at 22.36.52"></p><p>Flatten: makes the latter matrix like vector.</p><p>Then do with a softmax.</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-26%20at%2022.41.46.png" alt="Screen Shot 2021-03-26 at 22.41.46"></p><p>Why CNN for Go Playing?</p><ul><li>some patterns are much smaller the the whole image</li><li>The same patterns apear in different regions.</li></ul><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-26%20at%2022.43.10.png" alt="Screen Shot 2021-03-26 at 22.43.10"></p><p>Alpha Go does not use Poolingâ€¦</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-26%20at%2022.46.49.png" alt="Screen Shot 2021-03-26 at 22.46.49"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-26%20at%2022.49.30.png" alt="Screen Shot 2021-03-26 at 22.49.30"></p><p>CNN need data augmentation in Image Identification work.</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-26%20at%2022.51.40.png" alt="Screen Shot 2021-03-26 at 22.51.40"></p><h2 id="Lesson9-Self-Attention-part1"><a href="#Lesson9-Self-Attention-part1" class="headerlink" title="Lesson9 Self-Attention (part1)"></a>Lesson9 Self-Attention (part1)</h2><p><strong>è´§æ‹‰æ‹‰æ‹‰ä¸æ‹‰æ‹‰å¸ƒæ‹‰å¤šçŠ¬å‘¢</strong></p><p>When the input is a set of vectors ( not one vector )</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2011.01.38.png" alt="Screen Shot 2021-03-28 at 11.01.38"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2011.04.11.png" alt="Screen Shot 2021-03-28 at 11.04.11"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2011.05.53.png" alt="Screen Shot 2021-03-28 at 11.05.53"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2011.06.52.png" alt="Screen Shot 2021-03-28 at 11.06.52"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2011.07.42.png" alt="Screen Shot 2021-03-28 at 11.07.42"></p><h3 id="What-is-the-output"><a href="#What-is-the-output" class="headerlink" title="What is the output?"></a>What is the output?</h3><p><strong>N to N</strong></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2011.09.58.png" alt="Screen Shot 2021-03-28 at 11.09.58"></p><p><strong>N to One</strong></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2011.11.38.png" alt="Screen Shot 2021-03-28 at 11.11.38"></p><p><strong>N to somewhat. seq2seq</strong></p><p><strong>seq2seq: </strong></p><ul><li>translate</li><li>speech recognization</li></ul><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2011.12.37.png" alt="Screen Shot 2021-03-28 at 11.12.37"></p><h3 id="Sequence-Labeling-N2N"><a href="#Sequence-Labeling-N2N" class="headerlink" title="Sequence Labeling: N2N"></a>Sequence Labeling: N2N</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2011.56.56.png" alt="Screen Shot 2021-03-28 at 11.56.56"></p><h3 id="Self-attention"><a href="#Self-attention" class="headerlink" title="Self-attention"></a>Self-attention</h3><p><strong>Attention is all you need. </strong></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20210328232756703.png" alt="image-20210328232756703"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2012.04.56.png" alt="Screen Shot 2021-03-28 at 12.04.56"></p><p>First of all, input into a self-attention layer; then it will output a series of different vectors; a series of different vectors input into Full Connection Layers.</p><p>FC and self-attention can be traded off to use. ( alternate use )</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2012.07.53.png" alt="Screen Shot 2021-03-28 at 12.07.53"></p><p>input of Self-attention can be either input or a hidden layer.</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2012.11.06.png" alt="Screen Shot 2021-03-28 at 12.11.06"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2012.14.22.png" alt="Screen Shot 2021-03-28 at 12.14.22"></p><p>how to calculate alpha</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2012.16.56.png" alt="Screen Shot 2021-03-28 at 12.16.56"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2012.32.30.png" alt="Screen Shot 2021-03-28 at 12.32.30"></p><p><img src="/Users/guoxinli/Library/Application Support/typora-user-images/Screen Shot 2021-03-28 at 12.33.46.png" alt="Screen Shot 2021-03-28 at 12.33.46"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2012.35.30.png" alt="Screen Shot 2021-03-28 at 12.35.30"></p><p>One of the input vector ( V ) will be more sammilar to the result ( b ), if its attention is the biggest one.</p><h2 id="Lesson10-Self-Attention-part2"><a href="#Lesson10-Self-Attention-part2" class="headerlink" title="Lesson10 Self-Attention ( part2 )"></a>Lesson10 Self-Attention ( part2 )</h2><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2012.38.21.png" alt="Screen Shot 2021-03-28 at 12.38.21"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2012.41.25.png" alt="Screen Shot 2021-03-28 at 12.41.25"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2012.43.08.png" alt="Screen Shot 2021-03-28 at 12.43.08"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2012.45.16.png" alt="Screen Shot 2021-03-28 at 12.45.16"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2012.48.52.png" alt="Screen Shot 2021-03-28 at 12.48.52"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2012.50.35.png" alt="Screen Shot 2021-03-28 at 12.50.35"></p><p><strong>Multi-head Self-attention</strong></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20210328125717534.png" alt="image-20210328125717534"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2012.53.36.png" alt="Screen Shot 2021-03-28 at 12.53.36"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2012.58.02.png" alt="Screen Shot 2021-03-28 at 12.58.02"></p><h3 id="Positional-Encoding"><a href="#Positional-Encoding" class="headerlink" title="Positional Encoding"></a>Positional Encoding</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2013.01.23.png" alt="Screen Shot 2021-03-28 at 13.01.23"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2013.02.37.png" alt="Screen Shot 2021-03-28 at 13.02.37"></p><h3 id="Self-attention-for-Speech"><a href="#Self-attention-for-Speech" class="headerlink" title="Self-attention for Speech"></a><strong>Self-attention for Speech</strong></h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2013.04.27.png" alt="Screen Shot 2021-03-28 at 13.04.27"></p><h3 id="Self-attention-for-image"><a href="#Self-attention-for-image" class="headerlink" title="Self-attention for image"></a>Self-attention for image</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2013.05.56.png" alt="Screen Shot 2021-03-28 at 13.05.56"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2013.06.40.png" alt="Screen Shot 2021-03-28 at 13.06.40"></p><h3 id="Self-attention-V-S-CNN"><a href="#Self-attention-V-S-CNN" class="headerlink" title="Self-attention V.S. CNN"></a>Self-attention V.S. CNN</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2013.08.32.png" alt="Screen Shot 2021-03-28 at 13.08.32"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2013.09.27.png" alt="Screen Shot 2021-03-28 at 13.09.27"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2013.12.16.png" alt="Screen Shot 2021-03-28 at 13.12.16"></p><h3 id="Self-attention-V-S-RNN"><a href="#Self-attention-V-S-RNN" class="headerlink" title="Self-attention V.S. RNN"></a><strong>Self-attention V.S. RNN</strong></h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20210328131639631.png" alt="image-20210328131639631"></p><h3 id="Self-attention-for-Graph"><a href="#Self-attention-for-Graph" class="headerlink" title="Self-attention for Graph"></a>Self-attention for Graph</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2013.18.35.png" alt="Screen Shot 2021-03-28 at 13.18.35"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2013.20.39.png" alt="Screen Shot 2021-03-28 at 13.20.39"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Hongyi-Lee-Machine-Learning-Spring-Mandarin-â€”Notes&quot;&gt;&lt;a href=&quot;#Hongyi-Lee-Machine-Learning-Spring-Mandarin-â€”Notes&quot; class=&quot;headerlink&quot;
      
    
    </summary>
    
    
    
      <category term="learning-note" scheme="https://github.com/liysky/liysky.github.io.git/tags/learning-note/"/>
    
  </entry>
  
  <entry>
    <title>CPP refresh</title>
    <link href="https://github.com/liysky/liysky.github.io.git/2021/02/22/CPP-refresh/"/>
    <id>https://github.com/liysky/liysky.github.io.git/2021/02/22/CPP-refresh/</id>
    <published>2021-02-22T14:32:46.000Z</published>
    <updated>2021-03-30T15:51:38.011Z</updated>
    
    <content type="html"><![CDATA[<h1 id="CPP-refresh"><a href="#CPP-refresh" class="headerlink" title="CPP refresh"></a>CPP refresh</h1><h2 id="å†…å­˜æ¨¡å‹"><a href="#å†…å­˜æ¨¡å‹" class="headerlink" title="å†…å­˜æ¨¡å‹"></a>å†…å­˜æ¨¡å‹</h2><h3 id="ä»£ç åŒº"><a href="#ä»£ç åŒº" class="headerlink" title="ä»£ç åŒº"></a>ä»£ç åŒº</h3><p>å­˜æ”¾å‡½æ•°ä½“çš„äºŒè¿›åˆ¶ä»£ç ï¼Œç”±æ“ä½œç³»ç»Ÿè¿›è¡Œç®¡ç†</p><h3 id="å…¨å±€åŒº"><a href="#å…¨å±€åŒº" class="headerlink" title="å…¨å±€åŒº"></a>å…¨å±€åŒº</h3><p>å­˜æ”¾å…¨å±€å˜é‡å’Œé™æ€å˜é‡ä»¥åŠå¸¸é‡.</p><h3 id="æ ˆåŒº"><a href="#æ ˆåŒº" class="headerlink" title="æ ˆåŒº"></a>æ ˆåŒº</h3><ul><li>ç”±ç¼–è¯‘å™¨è‡ªåŠ¨åˆ†é…é‡Šæ”¾</li><li>å­˜æ”¾å‡½æ•°çš„å‚æ•°å€¼</li><li>å­˜æ”¾å±€éƒ¨å˜é‡</li></ul><h3 id="å †åŒº"><a href="#å †åŒº" class="headerlink" title="å †åŒº"></a>å †åŒº</h3><p>ç”±ç¨‹åºå‘˜åˆ†é…å’Œé‡Šæ”¾ï¼Œè‹¥ä¸æ‰‹åŠ¨é‡Šæ”¾ï¼Œæœ€åå°†ç”±æ“ä½œç³»ç»Ÿå›æ”¶</p><h3 id="ç¨‹åºè¿è¡Œå‰"><a href="#ç¨‹åºè¿è¡Œå‰" class="headerlink" title="ç¨‹åºè¿è¡Œå‰"></a>ç¨‹åºè¿è¡Œå‰</h3><p><em>ç¨‹åºç¼–è¯‘åï¼Œç”Ÿæˆ exe å¯æ‰§è¡Œç¨‹åºï¼Œæœªæ‰§è¡Œè¯¥ç¨‹åºå‰åˆ†ä¸ºä¸¤ä¸ªåŒºåŸŸ</em></p><ul><li>ä»£ç åŒºï¼š<ul><li>å­˜æ”¾ CPU æ‰§è¡Œçš„æœºå™¨æŒ‡ä»¤</li><li>ä»£ç åŒºæ˜¯å…±äº«çš„ï¼Œå…±äº«çš„çš„ç›®çš„æ˜¯å¯¹äºé¢‘ç¹è¢«æ‰§è¡Œçš„ç¨‹åºï¼Œåªéœ€è¦åœ¨å†…å­˜ä¸­ç”±ä¸€ä»½ä»£ç å³å¯</li><li>ä»£ç åŒºä¸º <strong>åªè¯»</strong>ï¼Œé˜²æ­¢ç¨‹åºæ„å¤–åœ°ä¿®æ”¹äº†å®ƒçš„æŒ‡ä»¤</li></ul></li><li>å…¨å±€åŒº<ul><li>å…¨å±€å˜é‡å’Œé™æ€å˜é‡å­˜æ”¾åœ¨æ­¤</li><li>å¸¸é‡åŒº</li><li>å­—ç¬¦ä¸²</li><li>å…¶ä»–å¸¸é‡</li></ul></li></ul><p>==è¯¥åŒºåŸŸçš„æ•°æ®åœ¨ç¨‹åºç»“æŸåç”±æ“ä½œç³»ç»Ÿé‡Šæ”¾==</p><h3 id="ç¨‹åºè¿è¡Œå"><a href="#ç¨‹åºè¿è¡Œå" class="headerlink" title="ç¨‹åºè¿è¡Œå"></a>ç¨‹åºè¿è¡Œå</h3><p>æ ˆåŒºï¼šç”±ç¼–è¯‘å™¨è‡ªåŠ¨åˆ†é…é‡Šæ”¾ï¼Œå­˜æ”¾å‡½æ•°å‚æ•°å€¼ï¼Œå±€éƒ¨å˜é‡</p><p>æ³¨æ„äº‹é¡¹ï¼šä¸è¦è¿”å›å±€éƒ¨å˜é‡çš„åœ°å€ï¼Œæ ˆåŒºå¼€è¾Ÿçš„æ•°æ®ç”±ç¼–è¯‘å™¨è‡ªåŠ¨é‡Šæ”¾</p><h3 id="new-æ“ä½œç¬¦"><a href="#new-æ“ä½œç¬¦" class="headerlink" title="new æ“ä½œç¬¦"></a>new æ“ä½œç¬¦</h3><p>CPP åˆ©ç”¨ new æ“ä½œç¬¦åœ¨å †åŒºå¼€è¾Ÿæ•°æ®</p><p>è¯­æ³•ï¼š<code>new æ•°æ®ç±»å‹</code></p><p>==åˆ©ç”¨ new åˆ›å»ºçš„æ•°æ®ï¼Œä¼šè¿”å›è¯¥æ•°æ®å¯¹åº”çš„ç±»å‹çš„æŒ‡é’ˆ==</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span>* <span class="title">func</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span>* a = <span class="keyword">new</span> <span class="keyword">int</span>(<span class="number">10</span>);</span><br><span class="line"><span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span>** argv)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> *p = func();</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; *p &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; *p &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; *p &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">delete</span> p;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>å¼€è¾Ÿæ•°ç»„</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å †åŒºå¼€è¾Ÿæ•°ç»„</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span>* arr = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">10</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">arr[i] = i + <span class="number">100</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; arr[i] &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//é‡Šæ”¾æ•°ç»„ delete ååŠ  []</span></span><br><span class="line"><span class="keyword">delete</span>[] arr;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å¼•ç”¨"><a href="#å¼•ç”¨" class="headerlink" title="å¼•ç”¨"></a>å¼•ç”¨</h2><p>å¼•ç”¨æ˜¯å¯ä»¥ä½œä¸ºå‡½æ•°è¿”å›å€¼å­˜åœ¨çš„</p><p>æ³¨æ„ä¸è¦è¿”å›å±€éƒ¨å˜é‡å¼•ç”¨</p><p>å‡½æ•°å˜é‡å¯ä»¥ä½œä¸ºå·¦å€¼ï¼Œåˆ™å¿…é¡»ä¸ºè¿”å›å¼•ç”¨ç±»å‹ï¼ˆæŒ‡é’ˆï¼‰</p><h3 id="å¼•ç”¨å¯ä»¥ä½œä¸ºå‡½æ•°çš„è¿”å›å€¼å­˜åœ¨"><a href="#å¼•ç”¨å¯ä»¥ä½œä¸ºå‡½æ•°çš„è¿”å›å€¼å­˜åœ¨" class="headerlink" title="å¼•ç”¨å¯ä»¥ä½œä¸ºå‡½æ•°çš„è¿”å›å€¼å­˜åœ¨"></a>å¼•ç”¨å¯ä»¥ä½œä¸ºå‡½æ•°çš„è¿”å›å€¼å­˜åœ¨</h3><p>âš ï¸ï¼šä¸è¦åœ¨å‡½æ•°é‡Œè¿”å›å±€éƒ¨å˜é‡</p><p><strong>å¦‚æœå‡½æ•°ä½œä¸ºå·¦å€¼ï¼Œåˆ™æ­¤è¢«ä½œä¸ºå·¦å€¼çš„å‡½æ•°å¿…é¡»è¿”å›ä¸ºå¼•ç”¨ç±»å‹</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span>&amp; <span class="title">quoteTest</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">static</span> <span class="keyword">int</span> a = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">return</span> a;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å¦‚æœå‡½æ•°ä½œä¸ºå·¦å€¼ï¼Œåˆ™æ­¤è¢«ä½œä¸ºå·¦å€¼çš„å‡½æ•°å¿…é¡»è¿”å›ä¸ºå¼•ç”¨ç±»å‹</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span>** argv)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span>&amp; ret = quoteTest();</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">"a: "</span>&lt;&lt; ret&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">"a: "</span>&lt;&lt; ret&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">quoteTest() = <span class="number">1000</span>;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">"modified ret: "</span>&lt;&lt; ret&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">"modified ret: "</span>&lt;&lt; ret&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å¼•ç”¨çš„æœ¬è´¨"><a href="#å¼•ç”¨çš„æœ¬è´¨" class="headerlink" title="å¼•ç”¨çš„æœ¬è´¨"></a>å¼•ç”¨çš„æœ¬è´¨</h3><p><strong>æœ¬è´¨ï¼šå¼•ç”¨çš„æœ¬è´¨åœ¨ C++ å†…éƒ¨å®ç°æ˜¯ä¸€ä¸ªæŒ‡é’ˆå¸¸é‡</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å‘ç°æ˜¯å¼•ç”¨ï¼Œè½¬æ¢ä¸º int* const ref = &amp;a;</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">(<span class="keyword">int</span>&amp; ref)</span></span>&#123;</span><br><span class="line">ref = <span class="number">100</span>; <span class="comment">// refæ˜¯å¼•ç”¨ï¼Œè½¬æ¢ä¸º*ref = 100</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> a = <span class="number">10</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//è‡ªåŠ¨è½¬æ¢ä¸º int* const ref = &amp;a; æŒ‡é’ˆå¸¸é‡æ˜¯æŒ‡é’ˆæŒ‡å‘ä¸å¯æ”¹ï¼Œä¹Ÿè¯´æ˜ä¸ºä»€ä¹ˆå¼•ç”¨ä¸å¯æ›´æ”¹</span></span><br><span class="line"><span class="keyword">int</span>&amp; ref = a; </span><br><span class="line">ref = <span class="number">20</span>; <span class="comment">//å†…éƒ¨å‘ç°refæ˜¯å¼•ç”¨ï¼Œè‡ªåŠ¨å¸®æˆ‘ä»¬è½¬æ¢ä¸º: *ref = 20;</span></span><br><span class="line">    </span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"a:"</span> &lt;&lt; a &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"ref:"</span> &lt;&lt; ref &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    </span><br><span class="line">func(a);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å¸¸é‡å¼•ç”¨"><a href="#å¸¸é‡å¼•ç”¨" class="headerlink" title="å¸¸é‡å¼•ç”¨"></a>å¸¸é‡å¼•ç”¨</h3><p>==å¸¸é‡å¼•ç”¨ä¸»è¦ç”¨æ¥ä¿®é¥°å½¢å‚ï¼Œé˜²æ­¢è¯¯æ“ä½œ==</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">showValue</span><span class="params">(<span class="keyword">const</span> <span class="keyword">int</span> &amp; val)</span></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; val &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span>** argv)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> temp = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span>&amp; test = temp;</span><br><span class="line">showValue(temp);</span><br><span class="line">showValue(test);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å‡½æ•°æé«˜"><a href="#å‡½æ•°æé«˜" class="headerlink" title="å‡½æ•°æé«˜"></a>å‡½æ•°æé«˜</h2><h3 id="å‡½æ•°å ä½å‚æ•°ç¤ºä¾‹"><a href="#å‡½æ•°å ä½å‚æ•°ç¤ºä¾‹" class="headerlink" title="å‡½æ•°å ä½å‚æ•°ç¤ºä¾‹"></a>å‡½æ•°å ä½å‚æ•°ç¤ºä¾‹</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span>)</span> </span>&#123;</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt;<span class="string">"pass"</span>&lt;&lt;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span>**argv)</span></span>&#123;</span><br><span class="line">  func(<span class="number">10</span>, <span class="number">10</span>);<span class="comment">//å ä½ç¬¦å‚æ•°å¿…é¡»è¿›è¡Œå¡«è¡¥</span></span><br><span class="line">  </span><br><span class="line">  returen <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å‡½æ•°é‡è½½"><a href="#å‡½æ•°é‡è½½" class="headerlink" title="å‡½æ•°é‡è½½"></a>å‡½æ•°é‡è½½</h3><p>å‡½æ•°åå­—å¯ä»¥ç›¸åŒï¼Œæé«˜å¤ç”¨æ€§ã€‚</p><p>é‡è½½æ»¡è¶³æ¡ä»¶ï¼š</p><ul><li>åŒä¸€ä¸ªä½œç”¨åŸŸä¸‹</li><li>å‡½æ•°åç§°ç›¸åŒ</li><li>å‡½æ•°çš„å‚æ•°ç±»å‹ä¸åŒï¼Œæˆ–è€…ä¸ªæ•°ä¸åŒï¼Œæˆ–è€…é¡ºåºä¸åŒ</li></ul><p><strong>æ³¨æ„ï¼šå‡½æ•°çš„è¿”å›å€¼ä¸å¯ä»¥ä½œä¸ºå‡½æ•°é‡è½½çš„æ¡ä»¶</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å‡½æ•°é‡è½½éœ€è¦å‡½æ•°éƒ½åœ¨åŒä¸€ä¸ªä½œç”¨åŸŸä¸‹</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"func çš„è°ƒç”¨ï¼"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">(<span class="keyword">int</span> a)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"func (int a) çš„è°ƒç”¨ï¼"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">(<span class="keyword">double</span> a)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"func (double a)çš„è°ƒç”¨ï¼"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">(<span class="keyword">int</span> a ,<span class="keyword">double</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"func (int a ,double b) çš„è°ƒç”¨ï¼"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">(<span class="keyword">double</span> a ,<span class="keyword">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"func (double a ,int b)çš„è°ƒç”¨ï¼"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å‡½æ•°è¿”å›å€¼ä¸å¯ä»¥ä½œä¸ºå‡½æ•°é‡è½½æ¡ä»¶</span></span><br><span class="line"><span class="comment">//int func(double a, int b)</span></span><br><span class="line"><span class="comment">//&#123;</span></span><br><span class="line"><span class="comment">//cout &lt;&lt; "func (double a ,int b)çš„è°ƒç”¨ï¼" &lt;&lt; endl;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">func();</span><br><span class="line">func(<span class="number">10</span>);</span><br><span class="line">func(<span class="number">3.14</span>);</span><br><span class="line">func(<span class="number">10</span>,<span class="number">3.14</span>);</span><br><span class="line">func(<span class="number">3.14</span> , <span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å‡½æ•°é‡è½½æ³¨æ„äº‹é¡¹"><a href="#å‡½æ•°é‡è½½æ³¨æ„äº‹é¡¹" class="headerlink" title="å‡½æ•°é‡è½½æ³¨æ„äº‹é¡¹"></a>å‡½æ•°é‡è½½æ³¨æ„äº‹é¡¹</h3><ul><li>å¼•ç”¨ä½œä¸ºé‡è½½æ¡ä»¶</li><li>å‡½æ•°é‡è½½ç¢°åˆ°å‡½æ•°é»˜è®¤å‚æ•°</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// 1. å¼•ç”¨ä½œä¸ºé‡è½½æ¡ä»¶</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">(<span class="keyword">int</span> &amp;a)</span><span class="comment">// int &amp;a = 10 ä¸åˆæ³•</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">"func (int &amp;a)"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">(<span class="keyword">const</span> <span class="keyword">int</span> &amp;a)</span> <span class="comment">//const int &amp;a = 10 åˆæ³•</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">"func(const int &amp;a)"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. å‡½æ•°é‡è½½ç¢°åˆ°å‡½æ•°é»˜è®¤å‚æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">funcc</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b = <span class="number">10</span>)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">"..."</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">funcc</span><span class="params">(<span class="keyword">int</span> a )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">"..."</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">  <span class="keyword">int</span> a = <span class="number">10</span>;</span><br><span class="line">  <span class="comment">// 1. </span></span><br><span class="line">  func(a);<span class="comment">// è°ƒç”¨æ—  const</span></span><br><span class="line">  func(<span class="number">10</span>);<span class="comment">// è°ƒç”¨æœ‰ const </span></span><br><span class="line">  </span><br><span class="line">  <span class="comment">// 2. </span></span><br><span class="line">  <span class="comment">// funcc(100); //äº§ç”Ÿæ­§ä¹‰</span></span><br><span class="line">  </span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ç±»å’Œå¯¹è±¡"><a href="#ç±»å’Œå¯¹è±¡" class="headerlink" title="ç±»å’Œå¯¹è±¡"></a>ç±»å’Œå¯¹è±¡</h2><p>==å°è£…ã€ç»§æ‰¿ã€å¤šæ€==</p><p><strong>è®¾è®¡ä¸€ä¸ªåœ†ï¼Œæ±‚åœ†çš„å‘¨é•¿</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">double</span> PI = <span class="number">3.1415926535</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Circle</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">int</span> radius;</span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">calculatePT</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="number">2</span> * PI * radius;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  Circle cl;</span><br><span class="line">  cl.radius = <span class="number">10</span>;</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">"perimeter is: "</span> &lt;&lt; cl.calculatePT()&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>è®¾è®¡ä¸€ä¸ªå­¦ç”Ÿç±»ï¼Œæœ‰å§“åå’Œå­¦å·ï¼Œå¯ä»¥ç»™å§“åå’Œå­¦å·èµ‹å€¼ï¼Œæ˜¾ç¤ºå­¦ç”Ÿå§“åå’Œå­¦å·</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">setName</span><span class="params">(<span class="keyword">String</span> name)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>-&gt;name = name;</span><br><span class="line">    &#125;</span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">setId</span><span class="params">(<span class="keyword">int</span> id)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>-&gt;id = id;</span><br><span class="line">    &#125;</span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">showStudent</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">      <span class="built_in">cout</span> &lt;&lt; <span class="string">"name: "</span>&lt;&lt; name &lt;&lt; <span class="string">"id: "</span>&lt;&lt; id&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  <span class="keyword">String</span> name;</span><br><span class="line">  <span class="keyword">int</span> id;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  Student stu;</span><br><span class="line">  stu.setName(<span class="string">"nike"</span>);</span><br><span class="line">  stu.setId(<span class="number">123</span>);</span><br><span class="line">  stu.showStudent();</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å°è£…æƒé™ï¼š"><a href="#å°è£…æƒé™ï¼š" class="headerlink" title="å°è£…æƒé™ï¼š"></a>å°è£…æƒé™ï¼š</h3><p>public ï¼šå…¬å…±æƒé™ï¼Œç±»å†…å¯ä»¥è®¿é—®ï¼Œç±»å¤–ä¹Ÿå¯ä»¥è®¿é—®</p><p>protectedï¼šä¿æŠ¤æƒé™ï¼Œç±»å†…å¯ä»¥è®¿é—®ï¼Œç±»å¤–ä¸å¯ä»¥è®¿é—®</p><p>privateï¼šç§æœ‰æƒé™ï¼Œç±»å†…å¯ä»¥è®¿é—®ï¼Œç±»å¤–ä¸å¯ä»¥è®¿é—®</p><h3 id="struct-ä¸-class-åŒºåˆ«"><a href="#struct-ä¸-class-åŒºåˆ«" class="headerlink" title="struct ä¸ class  åŒºåˆ«"></a>struct ä¸ class  åŒºåˆ«</h3><p>äºŒè€…çš„å”¯ä¸€åŒºåˆ«åœ¨äºé»˜è®¤çš„è®¿é—®æƒé™çš„ä¸åŒ</p><ul><li>struct ä¸ºé»˜è®¤å…¬å…±</li><li>class ä¸ºé»˜è®¤ç§æœ‰</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C1</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">int</span>  m_A; <span class="comment">//é»˜è®¤æ˜¯ç§æœ‰æƒé™</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">C2</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">int</span> m_A;  <span class="comment">//é»˜è®¤æ˜¯å…¬å…±æƒé™</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">C1 c1;</span><br><span class="line">c1.m_A = <span class="number">10</span>; <span class="comment">//é”™è¯¯ï¼Œè®¿é—®æƒé™æ˜¯ç§æœ‰</span></span><br><span class="line"></span><br><span class="line">C2 c2;</span><br><span class="line">c2.m_A = <span class="number">10</span>; <span class="comment">//æ­£ç¡®ï¼Œè®¿é—®æƒé™æ˜¯å…¬å…±</span></span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å¯¹è±¡çš„åˆå§‹åŒ–å’Œæ¸…ç†"><a href="#å¯¹è±¡çš„åˆå§‹åŒ–å’Œæ¸…ç†" class="headerlink" title="å¯¹è±¡çš„åˆå§‹åŒ–å’Œæ¸…ç†"></a>å¯¹è±¡çš„åˆå§‹åŒ–å’Œæ¸…ç†</h3><p>C++ åˆ©ç”¨æ„é€ å‡½æ•°å’Œææ„å‡½æ•°è§£å†³å¯¹è±¡çš„åˆå§‹åŒ–å’Œæ¸…ç†ä¸¤ä¸ªé‡è¦é—®é¢˜ã€‚</p><p><strong>å¦‚æœä¸æ‰‹åŠ¨æä¾›æ„é€ å‡½æ•°å’Œææ„å‡½æ•°ï¼Œç¼–è¯‘å™¨ä¼šæä¾›</strong></p><p>æ„é€ å‡½æ•°è¯­æ³•ï¼š<code>ç±»å(){}</code></p><ul><li>æ„é€ å‡½æ•°ï¼Œæ²¡æœ‰è¿”å›å€¼ï¼Œä¸å†™void</li><li>å‡½æ•°åç§°ä¸ç±»åç§°ç›¸åŒ</li><li>æ„é€ å‡½æ•°å¯ä»¥æœ‰å‚æ•°ï¼Œå¯ä»¥å‘ç”Ÿé‡è½½</li><li>ç¨‹åºåœ¨è°ƒç”¨å¯¹è±¡æ—¶å€™ä¼šè‡ªåŠ¨è°ƒç”¨æ„é€ ï¼Œä¸”åªè°ƒç”¨ä¸€æ¬¡</li></ul><p>ææ„å‡½æ•°è¯­æ³•ï¼š<code>ï½ç±»å(){}</code></p><ul><li>ææ„å‡½æ•°æ²¡æœ‰è¿”å›å€¼ä¸å†™void</li><li>å‡½æ•°åä¸ç±»åç›¸åŒï¼Œå‰åŠ  ï½</li><li>ææ„å‡½æ•°ä¸å¯ä»¥æœ‰å‚æ•°ï¼Œä¸å‘ç”Ÿé‡è½½</li><li>ç¨‹åºåœ¨å¯¹è±¡é”€æ¯å‰è‡ªåŠ¨è°ƒç”¨ææ„ï¼Œæ— éœ€æ‰‹åŠ¨è°ƒç”¨ï¼Œä¸”åªè°ƒç”¨ä¸€æ¬¡</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="comment">//æ„é€ å‡½æ•°</span></span><br><span class="line">Person()</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"Personçš„æ„é€ å‡½æ•°è°ƒç”¨"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//ææ„å‡½æ•°</span></span><br><span class="line">~Person()</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"Personçš„ææ„å‡½æ•°è°ƒç”¨"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Person p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ„é€ å‡½æ•°ä¸­çš„æ‹·è´æ„é€ å‡½æ•°"><a href="#æ„é€ å‡½æ•°ä¸­çš„æ‹·è´æ„é€ å‡½æ•°" class="headerlink" title="æ„é€ å‡½æ•°ä¸­çš„æ‹·è´æ„é€ å‡½æ•°"></a>æ„é€ å‡½æ•°ä¸­çš„æ‹·è´æ„é€ å‡½æ•°</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>&#123;</span></span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  Person(<span class="keyword">const</span> Person&amp; p)</span><br><span class="line">    &#123;</span><br><span class="line">      age = p.age;</span><br><span class="line">      <span class="built_in">cout</span> &lt;&lt; <span class="string">"æ‹·è´æ„é€ å‡½æ•°"</span>&lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  <span class="keyword">int</span> age;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>//æ³¨æ„1ï¼šè°ƒç”¨æ— å‚æ„é€ å‡½æ•°ä¸èƒ½åŠ æ‹¬å·ï¼Œå¦‚æœåŠ äº†ç¼–è¯‘å™¨è®¤ä¸ºè¿™æ˜¯ä¸€ä¸ªå‡½æ•°å£°æ˜</p><p>//æ³¨æ„2ï¼šä¸èƒ½åˆ©ç”¨ æ‹·è´æ„é€ å‡½æ•° åˆå§‹åŒ–åŒ¿åå¯¹è±¡ ç¼–è¯‘å™¨è®¤ä¸ºæ˜¯å¯¹è±¡å£°æ˜</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1ã€æ„é€ å‡½æ•°åˆ†ç±»</span></span><br><span class="line"><span class="comment">// æŒ‰ç…§å‚æ•°åˆ†ç±»åˆ†ä¸º æœ‰å‚å’Œæ— å‚æ„é€    æ— å‚åˆç§°ä¸ºé»˜è®¤æ„é€ å‡½æ•°</span></span><br><span class="line"><span class="comment">// æŒ‰ç…§ç±»å‹åˆ†ç±»åˆ†ä¸º æ™®é€šæ„é€ å’Œæ‹·è´æ„é€ </span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="comment">//æ— å‚ï¼ˆé»˜è®¤ï¼‰æ„é€ å‡½æ•°</span></span><br><span class="line">Person() &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"æ— å‚æ„é€ å‡½æ•°!"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æœ‰å‚æ„é€ å‡½æ•°</span></span><br><span class="line">Person(<span class="keyword">int</span> a) &#123;</span><br><span class="line">age = a;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"æœ‰å‚æ„é€ å‡½æ•°!"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æ‹·è´æ„é€ å‡½æ•°</span></span><br><span class="line">Person(<span class="keyword">const</span> Person&amp; p) &#123;</span><br><span class="line">age = p.age;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"æ‹·è´æ„é€ å‡½æ•°!"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//ææ„å‡½æ•°</span></span><br><span class="line">~Person() &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"ææ„å‡½æ•°!"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="keyword">int</span> age;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//2ã€æ„é€ å‡½æ•°çš„è°ƒç”¨</span></span><br><span class="line"><span class="comment">//è°ƒç”¨æ— å‚æ„é€ å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span> </span>&#123;</span><br><span class="line">Person p; <span class="comment">//è°ƒç”¨æ— å‚æ„é€ å‡½æ•°</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è°ƒç”¨æœ‰å‚çš„æ„é€ å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test02</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//2.1  æ‹¬å·æ³•ï¼Œå¸¸ç”¨</span></span><br><span class="line"><span class="function">Person <span class="title">p1</span><span class="params">(<span class="number">10</span>)</span></span>;</span><br><span class="line"><span class="comment">//æ³¨æ„1ï¼šè°ƒç”¨æ— å‚æ„é€ å‡½æ•°ä¸èƒ½åŠ æ‹¬å·ï¼Œå¦‚æœåŠ äº†ç¼–è¯‘å™¨è®¤ä¸ºè¿™æ˜¯ä¸€ä¸ªå‡½æ•°å£°æ˜</span></span><br><span class="line"><span class="comment">//Person p2();</span></span><br><span class="line"><span class="comment">//Person p3(p2);</span></span><br><span class="line"><span class="comment">//2.2 æ˜¾å¼æ³•</span></span><br><span class="line">Person p2 = Person(<span class="number">10</span>); </span><br><span class="line">Person p3 = Person(p2);</span><br><span class="line">Person(<span class="number">10</span>)<span class="comment">//å•ç‹¬å†™å°±æ˜¯åŒ¿åå¯¹è±¡  å½“å‰è¡Œç»“æŸä¹‹åï¼Œé©¬ä¸Šææ„</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//2.3 éšå¼è½¬æ¢æ³•</span></span><br><span class="line">Person p4 = <span class="number">10</span>; <span class="comment">// Person p4 = Person(10); </span></span><br><span class="line">Person p5 = p4; <span class="comment">// Person p5 = Person(p4); </span></span><br><span class="line"></span><br><span class="line"><span class="comment">//æ³¨æ„2ï¼šä¸èƒ½åˆ©ç”¨ æ‹·è´æ„é€ å‡½æ•° åˆå§‹åŒ–åŒ¿åå¯¹è±¡ ç¼–è¯‘å™¨è®¤ä¸ºæ˜¯å¯¹è±¡å£°æ˜</span></span><br><span class="line"><span class="comment">//Person p5(p4);</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"><span class="comment">//test02();</span></span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ‹·è´æ„é€ å‡½æ•°è°ƒç”¨æ—¶æœº"><a href="#æ‹·è´æ„é€ å‡½æ•°è°ƒç”¨æ—¶æœº" class="headerlink" title="æ‹·è´æ„é€ å‡½æ•°è°ƒç”¨æ—¶æœº"></a>æ‹·è´æ„é€ å‡½æ•°è°ƒç”¨æ—¶æœº</h3><ul><li><p>ä½¿ç”¨ä¸€ä¸ªå·²ç»åˆ›å»ºå®Œæ¯•çš„å¯¹è±¡æ¥åˆå§‹åŒ–ä¸€ä¸ªæ–°å¯¹è±¡</p></li><li><p>å€¼ä¼ é€’çš„æ–¹å¼ç»™å‡½æ•°å‚æ•°ä¼ å€¼</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//2. å€¼ä¼ é€’çš„æ–¹å¼ç»™å‡½æ•°å‚æ•°ä¼ å€¼</span></span><br><span class="line"><span class="comment">//ç›¸å½“äºPerson p1 = p;</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">doWork</span><span class="params">(Person p1)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test02</span><span class="params">()</span> </span>&#123;</span><br><span class="line">Person p; <span class="comment">//æ— å‚æ„é€ å‡½æ•°</span></span><br><span class="line">doWork(p);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>ä»¥å€¼æ–¹å¼è¿”å›å±€éƒ¨å¯¹è±¡</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//3. ä»¥å€¼æ–¹å¼è¿”å›å±€éƒ¨å¯¹è±¡</span></span><br><span class="line"><span class="function">Person <span class="title">doWork2</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Person p1;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; (<span class="keyword">int</span> *)&amp;p1 &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">return</span> p1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test03</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Person p = doWork2();</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; (<span class="keyword">int</span> *)&amp;p &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-01%20at%2019.22.52.png" alt="Screen Shot 2021-03-01 at 19.22.52"></p><h3 id="æ„é€ å‡½æ•°è°ƒç”¨è§„åˆ™"><a href="#æ„é€ å‡½æ•°è°ƒç”¨è§„åˆ™" class="headerlink" title="æ„é€ å‡½æ•°è°ƒç”¨è§„åˆ™"></a>æ„é€ å‡½æ•°è°ƒç”¨è§„åˆ™</h3><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œc++ç¼–è¯‘å™¨è‡³å°‘ç»™ä¸€ä¸ªç±»æ·»åŠ 3ä¸ªå‡½æ•°</p><p>1ï¼é»˜è®¤æ„é€ å‡½æ•°(æ— å‚ï¼Œå‡½æ•°ä½“ä¸ºç©º)</p><p>2ï¼é»˜è®¤ææ„å‡½æ•°(æ— å‚ï¼Œå‡½æ•°ä½“ä¸ºç©º)</p><p>3ï¼é»˜è®¤æ‹·è´æ„é€ å‡½æ•°ï¼Œå¯¹å±æ€§è¿›è¡Œå€¼æ‹·è´</p><p>æ„é€ å‡½æ•°è°ƒç”¨è§„åˆ™å¦‚ä¸‹ï¼š</p><ul><li>å¦‚æœç”¨æˆ·å®šä¹‰æœ‰å‚æ„é€ å‡½æ•°ï¼Œc++ä¸åœ¨æä¾›é»˜è®¤æ— å‚æ„é€ ï¼Œä½†æ˜¯ä¼šæä¾›é»˜è®¤æ‹·è´æ„é€ </li></ul><ul><li>å¦‚æœç”¨æˆ·å®šä¹‰æ‹·è´æ„é€ å‡½æ•°ï¼Œc++ä¸ä¼šå†æä¾›å…¶ä»–æ„é€ å‡½æ•°</li></ul><h3 id="æ·±æ‹·è´ä¸æµ…æ‹·è´"><a href="#æ·±æ‹·è´ä¸æµ…æ‹·è´" class="headerlink" title="æ·±æ‹·è´ä¸æµ…æ‹·è´"></a>æ·±æ‹·è´ä¸æµ…æ‹·è´</h3><p>æµ…æ‹·è´ï¼šç®€å•çš„èµ‹å€¼æ‹·è´</p><p>æ·±æ‹·è´ï¼šåœ¨å †åŒºé‡æ–°ç”³è¯·ç©ºé—´ï¼Œè¿›è¡Œæ‹·è´æ“ä½œ</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="comment">//æ— å‚ï¼ˆé»˜è®¤ï¼‰æ„é€ å‡½æ•°</span></span><br><span class="line">Person() &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"æ— å‚æ„é€ å‡½æ•°!"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æœ‰å‚æ„é€ å‡½æ•°</span></span><br><span class="line">Person(<span class="keyword">int</span> age ,<span class="keyword">int</span> <span class="built_in">height</span>) &#123;</span><br><span class="line"></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"æœ‰å‚æ„é€ å‡½æ•°!"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">m_age = age;</span><br><span class="line">m_height = <span class="keyword">new</span> <span class="keyword">int</span>(<span class="built_in">height</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æ‹·è´æ„é€ å‡½æ•°  </span></span><br><span class="line">Person(<span class="keyword">const</span> Person&amp; p) &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"æ‹·è´æ„é€ å‡½æ•°!"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="comment">//å¦‚æœä¸åˆ©ç”¨æ·±æ‹·è´åœ¨å †åŒºåˆ›å»ºæ–°å†…å­˜ï¼Œä¼šå¯¼è‡´æµ…æ‹·è´å¸¦æ¥çš„é‡å¤é‡Šæ”¾å †åŒºé—®é¢˜</span></span><br><span class="line">m_age = p.m_age;</span><br><span class="line">    <span class="comment">//m_Height = p.m_Height ç¼–è¯‘å™¨é»˜è®¤åˆ›å»ºçš„æ‹·è´å‡½æ•°ä¸­çš„å¯¹äºæŒ‡é’ˆ m_height çš„å€¼æ‹·è´</span></span><br><span class="line">m_height = <span class="keyword">new</span> <span class="keyword">int</span>(*p.m_height);<span class="comment">//è‡ªå·±å®ç°çš„åœ¨å †åŒºé‡æ–°å¼€è¾Ÿç©ºé—´æ‹·è´</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ææ„å‡½æ•°</span></span><br><span class="line">~Person() &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"ææ„å‡½æ•°!"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">if</span> (m_height != <span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">delete</span> m_height;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="keyword">int</span> m_age;</span><br><span class="line"><span class="keyword">int</span>* m_height;<span class="comment">//ä½¿ç”¨æŒ‡é’ˆè¿›è¡Œå­˜å‚¨ï¼Œå°†èº«é«˜çš„æ•°æ®å¼€è¾Ÿåˆ°å †åŒº</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="function">Person <span class="title">p1</span><span class="params">(<span class="number">18</span>, <span class="number">180</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function">Person <span class="title">p2</span><span class="params">(p1)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"p1çš„å¹´é¾„ï¼š "</span> &lt;&lt; p1.m_age &lt;&lt; <span class="string">" èº«é«˜ï¼š "</span> &lt;&lt; *p1.m_height &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"p2çš„å¹´é¾„ï¼š "</span> &lt;&lt; p2.m_age &lt;&lt; <span class="string">" èº«é«˜ï¼š "</span> &lt;&lt; *p2.m_height &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20210301201817114.png" alt="image-20210301201817114"></p><p><strong>æ€»ç»“ï¼šå¦‚æœå±æ€§æœ‰åœ¨ å †åŒº å¼€è¾Ÿçš„ï¼Œä¸€å®šè¦è‡ªå·±æä¾›æ‹·è´å‡½æ•°ï¼Œé˜²æ­¢æµ…æ‹·è´å¸¦æ¥çš„é—®é¢˜</strong></p><h3 id="åˆå§‹åŒ–åˆ—è¡¨"><a href="#åˆå§‹åŒ–åˆ—è¡¨" class="headerlink" title="åˆå§‹åŒ–åˆ—è¡¨"></a>åˆå§‹åŒ–åˆ—è¡¨</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åˆå§‹åŒ–åˆ—è¡¨æ–¹å¼åˆå§‹åŒ–</span></span><br><span class="line">Person(<span class="keyword">int</span> a, <span class="keyword">int</span> b, <span class="keyword">int</span> c) :m_A(a), m_B(b), m_C(c) &#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">PrintPerson</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"mA:"</span> &lt;&lt; m_A &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"mB:"</span> &lt;&lt; m_B &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"mC:"</span> &lt;&lt; m_C &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="keyword">int</span> m_A;</span><br><span class="line"><span class="keyword">int</span> m_B;</span><br><span class="line"><span class="keyword">int</span> m_C;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-02%20at%2000.12.47.png" alt="Screen Shot 2021-03-02 at 00.12.47"></p><h3 id="ç±»å¯¹è±¡ä½œä¸ºç±»æˆå‘˜"><a href="#ç±»å¯¹è±¡ä½œä¸ºç±»æˆå‘˜" class="headerlink" title="ç±»å¯¹è±¡ä½œä¸ºç±»æˆå‘˜"></a>ç±»å¯¹è±¡ä½œä¸ºç±»æˆå‘˜</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Phone</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Phone(<span class="built_in">string</span> name)</span><br><span class="line">&#123;</span><br><span class="line">m_PhoneName = name;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"Phoneæ„é€ "</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">~Phone()</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"Phoneææ„"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">string</span> m_PhoneName;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆå§‹åŒ–åˆ—è¡¨å¯ä»¥å‘Šè¯‰ç¼–è¯‘å™¨è°ƒç”¨å“ªä¸€ä¸ªæ„é€ å‡½æ•°</span></span><br><span class="line">Person(<span class="built_in">string</span> name, <span class="built_in">string</span> pName) :m_Name(name), m_Phone(pName)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"Personæ„é€ "</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">~Person()</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"Personææ„"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">playGame</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; m_Name &lt;&lt; <span class="string">" ä½¿ç”¨"</span> &lt;&lt; m_Phone.m_PhoneName &lt;&lt; <span class="string">" ç‰Œæ‰‹æœº! "</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">string</span> m_Name;</span><br><span class="line">Phone m_Phone;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//å½“ç±»ä¸­æˆå‘˜æ˜¯å…¶ä»–ç±»å¯¹è±¡æ—¶ï¼Œæˆ‘ä»¬ç§°è¯¥æˆå‘˜ä¸º å¯¹è±¡æˆå‘˜</span></span><br><span class="line"><span class="comment">//æ„é€ çš„é¡ºåºæ˜¯ ï¼šå…ˆè°ƒç”¨å¯¹è±¡æˆå‘˜çš„æ„é€ ï¼Œå†è°ƒç”¨æœ¬ç±»æ„é€ </span></span><br><span class="line"><span class="comment">//ææ„é¡ºåºä¸æ„é€ ç›¸å</span></span><br><span class="line"><span class="function">Person <span class="title">p</span><span class="params">(<span class="string">"å¼ ä¸‰"</span> , <span class="string">"è‹¹æœX"</span>)</span></span>;</span><br><span class="line">p.playGame();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><pre><code>//åˆå§‹åŒ–åˆ—è¡¨å¯ä»¥å‘Šè¯‰ç¼–è¯‘å™¨è°ƒç”¨å“ªä¸€ä¸ªæ„é€ å‡½æ•°Person(string name, string pName) :m_Name(name), m_Phone(pName){    cout &lt;&lt; &quot;Personæ„é€ &quot; &lt;&lt; endl;}Phone m_Phone;</code></pre><p>ä»¥ä¸Šä¸¤å¤„ï¼Œæ„é€ å‡½æ•°ä¸­ pName ä¸º string ç±»å‹ï¼Œ m_Phone ä¸º Phone å¯¹è±¡ç±»å‹ï¼Œå…¶å®æ˜¯æ„é€ å‡½æ•°çš„éšå¼è°ƒç”¨</p><p>// Phone m_Phone = pName; </p><p>ç­‰ä»·äºä»¥ä¸‹ï¼š</p><p>// Phone m_Phone = Phone(pName);</p><h3 id="é™æ€æˆå‘˜"><a href="#é™æ€æˆå‘˜" class="headerlink" title="é™æ€æˆå‘˜"></a>é™æ€æˆå‘˜</h3><p>é™æ€æˆå‘˜å°±æ˜¯åœ¨æˆå‘˜å˜é‡å’Œæˆå‘˜å‡½æ•°å‰åŠ ä¸Šå…³é”®å­—staticï¼Œç§°ä¸ºé™æ€æˆå‘˜</p><p>é™æ€æˆå‘˜åˆ†ä¸ºï¼š</p><ul><li>é™æ€æˆå‘˜å˜é‡<ul><li>æ‰€æœ‰å¯¹è±¡å…±äº«åŒä¸€ä»½æ•°æ®</li><li>åœ¨ç¼–è¯‘é˜¶æ®µåˆ†é…å†…å­˜</li><li>ç±»å†…å£°æ˜ï¼Œç±»å¤–åˆå§‹åŒ–</li></ul></li><li>é™æ€æˆå‘˜å‡½æ•°<ul><li>æ‰€æœ‰å¯¹è±¡å…±äº«åŒä¸€ä¸ªå‡½æ•°</li><li>é™æ€æˆå‘˜å‡½æ•°åªèƒ½è®¿é—®é™æ€æˆå‘˜å˜é‡</li></ul></li></ul><p><strong>é™æ€æˆå‘˜å˜é‡ï¼š</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">int</span> m_A; <span class="comment">//é™æ€æˆå‘˜å˜é‡</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//é™æ€æˆå‘˜å˜é‡ç‰¹ç‚¹ï¼š</span></span><br><span class="line"><span class="comment">//1 åœ¨ç¼–è¯‘é˜¶æ®µåˆ†é…å†…å­˜</span></span><br><span class="line"><span class="comment">//2 ç±»å†…å£°æ˜ï¼Œç±»å¤–åˆå§‹åŒ–</span></span><br><span class="line"><span class="comment">//3 æ‰€æœ‰å¯¹è±¡å…±äº«åŒä¸€ä»½æ•°æ®</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="keyword">static</span> <span class="keyword">int</span> m_B; <span class="comment">//é™æ€æˆå‘˜å˜é‡ä¹Ÿæ˜¯æœ‰è®¿é—®æƒé™çš„</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">int</span> Person::m_A = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">int</span> Person::m_B = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//é™æ€æˆå‘˜å˜é‡ä¸¤ç§è®¿é—®æ–¹å¼</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//1ã€é€šè¿‡å¯¹è±¡</span></span><br><span class="line">Person p1;</span><br><span class="line">p1.m_A = <span class="number">100</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"p1.m_A = "</span> &lt;&lt; p1.m_A &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">Person p2;</span><br><span class="line">p2.m_A = <span class="number">200</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"p1.m_A = "</span> &lt;&lt; p1.m_A &lt;&lt; <span class="built_in">endl</span>; <span class="comment">//å…±äº«åŒä¸€ä»½æ•°æ®</span></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"p2.m_A = "</span> &lt;&lt; p2.m_A &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//2ã€é€šè¿‡ç±»å</span></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"m_A = "</span> &lt;&lt; Person::m_A &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//cout &lt;&lt; "m_B = " &lt;&lt; Person::m_B &lt;&lt; endl; //ç§æœ‰æƒé™è®¿é—®ä¸åˆ°</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>é™æ€æˆå‘˜å‡½æ•°ï¼š</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"></span><br><span class="line"><span class="comment">//é™æ€æˆå‘˜å‡½æ•°ç‰¹ç‚¹ï¼š</span></span><br><span class="line"><span class="comment">//1 ç¨‹åºå…±äº«ä¸€ä¸ªå‡½æ•°</span></span><br><span class="line"><span class="comment">//2 é™æ€æˆå‘˜å‡½æ•°åªèƒ½è®¿é—®é™æ€æˆå‘˜å˜é‡</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">func</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"funcè°ƒç”¨"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">m_A = <span class="number">100</span>;</span><br><span class="line"><span class="comment">//m_B = 100; //é”™è¯¯ï¼Œä¸å¯ä»¥è®¿é—®éé™æ€æˆå‘˜å˜é‡</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">int</span> m_A; <span class="comment">//é™æ€æˆå‘˜å˜é‡</span></span><br><span class="line"><span class="keyword">int</span> m_B; <span class="comment">// </span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"></span><br><span class="line"><span class="comment">//é™æ€æˆå‘˜å‡½æ•°ä¹Ÿæ˜¯æœ‰è®¿é—®æƒé™çš„</span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">func2</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"func2è°ƒç”¨"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">int</span> Person::m_A = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//é™æ€æˆå‘˜å˜é‡ä¸¤ç§è®¿é—®æ–¹å¼</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//1ã€é€šè¿‡å¯¹è±¡</span></span><br><span class="line">Person p1;</span><br><span class="line">p1.func();</span><br><span class="line"></span><br><span class="line"><span class="comment">//2ã€é€šè¿‡ç±»å</span></span><br><span class="line">Person::func();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//Person::func2(); //ç§æœ‰æƒé™è®¿é—®ä¸åˆ°</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="this-æŒ‡é’ˆæŒ‡å‘è¢«è°ƒç”¨çš„æˆå‘˜å‡½æ•°æ‰€å±çš„å¯¹è±¡"><a href="#this-æŒ‡é’ˆæŒ‡å‘è¢«è°ƒç”¨çš„æˆå‘˜å‡½æ•°æ‰€å±çš„å¯¹è±¡" class="headerlink" title="this æŒ‡é’ˆæŒ‡å‘è¢«è°ƒç”¨çš„æˆå‘˜å‡½æ•°æ‰€å±çš„å¯¹è±¡"></a>this æŒ‡é’ˆæŒ‡å‘è¢«è°ƒç”¨çš„æˆå‘˜å‡½æ•°æ‰€å±çš„å¯¹è±¡</h3><p><strong>this æŒ‡é’ˆçš„ç”¨é€”</strong></p><ul><li>==å½“å½¢å‚å’Œå˜é‡åç›¸åŒæ—¶ï¼Œå¯ç”¨ this æ¥è¿›è¡ŒåŒºåˆ†ï¼Œå…¶æŒ‡å‘ç±»æ‰€æœ‰çš„æˆå‘˜å˜é‡==</li><li>==åœ¨ç±»çš„éé™æ€æˆå‘˜å‡½æ•°ä¸­è¿”å›å¯¹è±¡æœ¬èº«ï¼Œå¯ä»¥ä½¿ç”¨ return *this==`</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Person(<span class="keyword">int</span> age) &#123;</span><br><span class="line"><span class="keyword">this</span>-&gt;age = age;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">Person&amp; <span class="title">PersonAddPerson</span><span class="params">(Person p)</span> </span>&#123;</span><br><span class="line"><span class="keyword">this</span>-&gt;age += p.age;</span><br><span class="line"><span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="keyword">int</span> age;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="function">Person <span class="title">p1</span><span class="params">(<span class="number">10</span>)</span></span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"p1.age= "</span> &lt;&lt; p1.age &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="function">Person <span class="title">p2</span><span class="params">(<span class="number">10</span>)</span></span>;</span><br><span class="line">p2.PersonAddPerson(p1).PersonAddPerson(p1).PersonAddPerson(p1);</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"after add, the value of p2= "</span> &lt;&lt; p2.age &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç©ºæŒ‡é’ˆè®¿é—®æˆå‘˜å‡½æ•°"><a href="#ç©ºæŒ‡é’ˆè®¿é—®æˆå‘˜å‡½æ•°" class="headerlink" title="ç©ºæŒ‡é’ˆè®¿é—®æˆå‘˜å‡½æ•°"></a>ç©ºæŒ‡é’ˆè®¿é—®æˆå‘˜å‡½æ•°</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç©ºæŒ‡é’ˆè®¿é—®æˆå‘˜å‡½æ•°</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">ShowClassName</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"æˆ‘æ˜¯Personç±»!"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">ShowPerson</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">this</span> == <span class="literal">NULL</span>) &#123;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; mAge &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="keyword">int</span> mAge;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Person * p = <span class="literal">NULL</span>;</span><br><span class="line">p-&gt;ShowClassName(); <span class="comment">//ç©ºæŒ‡é’ˆï¼Œå¯ä»¥è°ƒç”¨æˆå‘˜å‡½æ•°</span></span><br><span class="line">p-&gt;ShowPerson();  <span class="comment">//ä½†æ˜¯å¦‚æœæˆå‘˜å‡½æ•°ä¸­ç”¨åˆ°äº†thisæŒ‡é’ˆï¼Œå°±ä¸å¯ä»¥äº†</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="const-ä¿®é¥°æˆå‘˜å‡½æ•°"><a href="#const-ä¿®é¥°æˆå‘˜å‡½æ•°" class="headerlink" title="const ä¿®é¥°æˆå‘˜å‡½æ•°"></a>const ä¿®é¥°æˆå‘˜å‡½æ•°</h3><p><strong>å¸¸å‡½æ•°</strong></p><ul><li>æˆå‘˜å‡½æ•°ååŠ  const å³ä¸ºå¸¸å‡½æ•°</li><li>å¸¸å‡½æ•°å†…ä¸å¯ä»¥è¿›è¡Œä¿®æ”¹æˆå‘˜å±æ€§</li><li>æˆå‘˜å±æ€§å£°æ˜æ—¶åŠ å…³é”®å­— mutable åï¼Œå¸¸å‡½æ•°ä¸­ä¾ç„¶å¯ä»¥è¿›è¡Œä¿®æ”¹</li></ul><p><strong>å¸¸å¯¹è±¡</strong></p><ul><li>å£°æ˜å¯¹è±¡å‰åŠ  const ç§°è¯¥å¯¹è±¡ä¸ºå¸¸å¯¹è±¡</li><li>å¸¸å¯¹è±¡åªèƒ½è°ƒç”¨å¸¸å‡½æ•°</li></ul><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210302195757835.png" alt="image-20210302195757835"></p><h2 id="å‹å…ƒ"><a href="#å‹å…ƒ" class="headerlink" title="å‹å…ƒ"></a>å‹å…ƒ</h2><p>å‹å…ƒçš„å…³é”®å­—ä¸º ==friend==</p><p><strong>å‹å…ƒçš„ä¸‰ç§å®ç°</strong></p><ul><li><p>å…¨å±€å‡½æ•°ä½œå‹å…ƒ</p><p>é‡è¦çš„æ˜¯ï¼Œåœ¨ç±»æœ€ä¸Šæ–¹ä½¿ç”¨ friend å…³é”®å­—æ¥å£°æ˜å…¨å±€å‡½æ•°ï¼ˆå°±åƒ C ä¸­çš„å‡½æ•°éœ€è¦æå‰å£°æ˜ä¸€æ ·ï¼‰</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Building</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="comment">//å‘Šè¯‰ç¼–è¯‘å™¨ goodGayå…¨å±€å‡½æ•° æ˜¯ Buildingç±»çš„å¥½æœ‹å‹ï¼Œå¯ä»¥è®¿é—®ç±»ä¸­çš„ç§æœ‰å†…å®¹</span></span><br><span class="line"><span class="function"><span class="keyword">friend</span> <span class="keyword">void</span> <span class="title">goodGay</span><span class="params">(Building * building)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"></span><br><span class="line">Building()</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">this</span>-&gt;m_SittingRoom = <span class="string">"å®¢å…"</span>;</span><br><span class="line"><span class="keyword">this</span>-&gt;m_BedRoom = <span class="string">"å§å®¤"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">string</span> m_SittingRoom; <span class="comment">//å®¢å…</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="built_in">string</span> m_BedRoom; <span class="comment">//å§å®¤</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">goodGay</span><span class="params">(Building * building)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"å¥½åŸºå‹æ­£åœ¨è®¿é—®ï¼š "</span> &lt;&lt; building-&gt;m_SittingRoom &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"å¥½åŸºå‹æ­£åœ¨è®¿é—®ï¼š "</span> &lt;&lt; building-&gt;m_BedRoom &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Building b;</span><br><span class="line">goodGay(&amp;b);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><ul><li><p>ç±»åšå‹å…ƒ</p><p>å°†ä¸€ä¸ªç±»ä½œä¸ºå¦ä¸€ä¸ªç±»çš„å‹å…ƒï¼Œå³å¯ä»¥è®¿é—®ç±»ä¸­çš„ç§æœ‰æˆå‘˜ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Building</span>;</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">goodGay</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"></span><br><span class="line">goodGay();</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">visit</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">Building *building;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Building</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="comment">//å‘Šè¯‰ç¼–è¯‘å™¨ goodGayç±»æ˜¯Buildingç±»çš„å¥½æœ‹å‹ï¼Œå¯ä»¥è®¿é—®åˆ°Buildingç±»ä¸­ç§æœ‰å†…å®¹</span></span><br><span class="line"><span class="keyword">friend</span> <span class="class"><span class="keyword">class</span> <span class="title">goodGay</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Building();</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">string</span> m_SittingRoom; <span class="comment">//å®¢å…</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="built_in">string</span> m_BedRoom;<span class="comment">//å§å®¤</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åœ¨ç±»å¤–å†™æˆå‘˜å‡½æ•°</span></span><br><span class="line">Building::Building()</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">this</span>-&gt;m_SittingRoom = <span class="string">"å®¢å…"</span>;</span><br><span class="line"><span class="keyword">this</span>-&gt;m_BedRoom = <span class="string">"å§å®¤"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">goodGay::goodGay()</span><br><span class="line">&#123;</span><br><span class="line">building = <span class="keyword">new</span> Building;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">goodGay::visit</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"å¥½åŸºå‹æ­£åœ¨è®¿é—®"</span> &lt;&lt; building-&gt;m_SittingRoom &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"å¥½åŸºå‹æ­£åœ¨è®¿é—®"</span> &lt;&lt; building-&gt;m_BedRoom &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">goodGay gg;</span><br><span class="line">gg.visit();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><ul><li><p>æˆå‘˜å‡½æ•°ä½œå‹å…ƒ</p><p>é‡è¦ç‚¹å°±åœ¨äºï¼šfriend void goodGay::visit();</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Building</span>;</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">goodGay</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"></span><br><span class="line">goodGay();</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">visit</span><span class="params">()</span></span>; <span class="comment">//åªè®©visitå‡½æ•°ä½œä¸ºBuildingçš„å¥½æœ‹å‹ï¼Œå¯ä»¥å‘è®¿é—®Buildingä¸­ç§æœ‰å†…å®¹</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">visit2</span><span class="params">()</span></span>; </span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">Building *building;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Building</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="comment">//å‘Šè¯‰ç¼–è¯‘å™¨  goodGayç±»ä¸­çš„visitæˆå‘˜å‡½æ•° æ˜¯Buildingå¥½æœ‹å‹ï¼Œå¯ä»¥è®¿é—®ç§æœ‰å†…å®¹</span></span><br><span class="line"><span class="function"><span class="keyword">friend</span> <span class="keyword">void</span> <span class="title">goodGay::visit</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Building();</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">string</span> m_SittingRoom; <span class="comment">//å®¢å…</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="built_in">string</span> m_BedRoom;<span class="comment">//å§å®¤</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Building::Building()</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">this</span>-&gt;m_SittingRoom = <span class="string">"å®¢å…"</span>;</span><br><span class="line"><span class="keyword">this</span>-&gt;m_BedRoom = <span class="string">"å§å®¤"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">goodGay::goodGay()</span><br><span class="line">&#123;</span><br><span class="line">building = <span class="keyword">new</span> Building;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">goodGay::visit</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"å¥½åŸºå‹æ­£åœ¨è®¿é—®"</span> &lt;&lt; building-&gt;m_SittingRoom &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"å¥½åŸºå‹æ­£åœ¨è®¿é—®"</span> &lt;&lt; building-&gt;m_BedRoom &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">goodGay::visit2</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"å¥½åŸºå‹æ­£åœ¨è®¿é—®"</span> &lt;&lt; building-&gt;m_SittingRoom &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="comment">//cout &lt;&lt; "å¥½åŸºå‹æ­£åœ¨è®¿é—®" &lt;&lt; building-&gt;m_BedRoom &lt;&lt; endl;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">goodGay  gg;</span><br><span class="line">gg.visit();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p>å‹å…ƒæ€»ç»“ï¼šæˆä¸ºå…¶ä»–ç±»æˆ–å‡½æ•°çš„æœ‹å‹ï¼Œå°±å¯ä»¥è®¿é—®å…¶ç§æœ‰æˆå‘˜ã€‚</p><h3 id="åŠ å·è¿ç®—ç¬¦é‡è½½"><a href="#åŠ å·è¿ç®—ç¬¦é‡è½½" class="headerlink" title="åŠ å·è¿ç®—ç¬¦é‡è½½"></a>åŠ å·è¿ç®—ç¬¦é‡è½½</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Person() &#123;&#125;;</span><br><span class="line">Person(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">this</span>-&gt;m_A = a;</span><br><span class="line"><span class="keyword">this</span>-&gt;m_B = b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æˆå‘˜å‡½æ•°å®ç° + å·è¿ç®—ç¬¦é‡è½½</span></span><br><span class="line">Person <span class="keyword">operator</span>+(<span class="keyword">const</span> Person&amp; p) &#123;</span><br><span class="line">Person temp;</span><br><span class="line">temp.m_A = <span class="keyword">this</span>-&gt;m_A + p.m_A;</span><br><span class="line">temp.m_B = <span class="keyword">this</span>-&gt;m_B + p.m_B;</span><br><span class="line"><span class="keyword">return</span> temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="keyword">int</span> m_A;</span><br><span class="line"><span class="keyword">int</span> m_B;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å…¨å±€å‡½æ•°å®ç° + å·è¿ç®—ç¬¦é‡è½½</span></span><br><span class="line"><span class="comment">//Person operator+(const Person&amp; p1, const Person&amp; p2) &#123;</span></span><br><span class="line"><span class="comment">//Person temp(0, 0);</span></span><br><span class="line"><span class="comment">//temp.m_A = p1.m_A + p2.m_A;</span></span><br><span class="line"><span class="comment">//temp.m_B = p1.m_B + p2.m_B;</span></span><br><span class="line"><span class="comment">//return temp;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//è¿ç®—ç¬¦é‡è½½ å¯ä»¥å‘ç”Ÿå‡½æ•°é‡è½½ </span></span><br><span class="line">Person <span class="keyword">operator</span>+(<span class="keyword">const</span> Person&amp; p2, <span class="keyword">int</span> val)  </span><br><span class="line">&#123;</span><br><span class="line">Person temp;</span><br><span class="line">temp.m_A = p2.m_A + val;</span><br><span class="line">temp.m_B = p2.m_B + val;</span><br><span class="line"><span class="keyword">return</span> temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function">Person <span class="title">p1</span><span class="params">(<span class="number">10</span>, <span class="number">10</span>)</span></span>;</span><br><span class="line"><span class="function">Person <span class="title">p2</span><span class="params">(<span class="number">20</span>, <span class="number">20</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æˆå‘˜å‡½æ•°æ–¹å¼</span></span><br><span class="line">Person p3 = p2 + p1;  <span class="comment">//ç›¸å½“äº p2.operaor+(p1)</span></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"mA:"</span> &lt;&lt; p3.m_A &lt;&lt; <span class="string">" mB:"</span> &lt;&lt; p3.m_B &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Person p4 = p3 + <span class="number">10</span>; <span class="comment">//ç›¸å½“äº operator+(p3,10)</span></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"mA:"</span> &lt;&lt; p4.m_A &lt;&lt; <span class="string">" mB:"</span> &lt;&lt; p4.m_B &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>å¯¹äºå†…ç½®çš„æ•°æ®ç±»å‹çš„è¡¨è¾¾å¼çš„è¿ç®—ç¬¦ä¸èƒ½è¢«æ”¹å˜ï¼Œå¦‚ int, double, float ä½†æ˜¯è‡ªå®šä¹‰çš„æ˜¯å¯ä»¥è¿›è¡Œæ›´æ”¹çš„ã€‚</li></ul><h3 id="å·¦ç§»è¿ç®—ç¬¦-lt-lt-é‡è½½"><a href="#å·¦ç§»è¿ç®—ç¬¦-lt-lt-é‡è½½" class="headerlink" title="å·¦ç§»è¿ç®—ç¬¦ &lt;&lt;  é‡è½½"></a>å·¦ç§»è¿ç®—ç¬¦ &lt;&lt;  é‡è½½</h3><p><strong>é€šå¸¸ä¸ä¼šåˆ©ç”¨æˆå‘˜å‡½æ•°é‡è½½ &lt;&lt; è¿ç®—ç¬¦ï¼Œå› ä¸ºæ— æ³•å®ç° cout åœ¨å·¦ä¾§</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> &#123;</span></span><br><span class="line"><span class="keyword">friend</span> ostream&amp; <span class="keyword">operator</span>&lt;&lt;(ostream&amp; out, Person&amp; p);</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"></span><br><span class="line">Person(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">this</span>-&gt;m_A = a;</span><br><span class="line"><span class="keyword">this</span>-&gt;m_B = b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æˆå‘˜å‡½æ•° å®ç°ä¸äº†  p &lt;&lt; cout ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœ</span></span><br><span class="line"><span class="comment">//void operator&lt;&lt;(Person&amp; p)&#123;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="keyword">int</span> m_A;</span><br><span class="line"><span class="keyword">int</span> m_B;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å…¨å±€å‡½æ•°å®ç°å·¦ç§»é‡è½½</span></span><br><span class="line"><span class="comment">//ostreamå¯¹è±¡åªèƒ½æœ‰ä¸€ä¸ª</span></span><br><span class="line">ostream&amp; <span class="keyword">operator</span>&lt;&lt;(ostream&amp; <span class="built_in">cout</span>, Person&amp; p) &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"a:"</span> &lt;&lt; p.m_A &lt;&lt; <span class="string">" b:"</span> &lt;&lt; p.m_B;</span><br><span class="line"><span class="keyword">return</span> out;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function">Person <span class="title">p1</span><span class="params">(<span class="number">10</span>, <span class="number">20</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; p1 &lt;&lt; <span class="string">"hello world"</span> &lt;&lt; <span class="built_in">endl</span>; <span class="comment">//é“¾å¼ç¼–ç¨‹</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="é€’å¢è¿ç®—ç¬¦é‡è½½"><a href="#é€’å¢è¿ç®—ç¬¦é‡è½½" class="headerlink" title="é€’å¢è¿ç®—ç¬¦é‡è½½"></a>é€’å¢è¿ç®—ç¬¦é‡è½½</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyInteger</span> &#123;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">friend</span> ostream&amp; <span class="keyword">operator</span>&lt;&lt;(ostream&amp; out, MyInteger myint);</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">MyInteger() &#123;</span><br><span class="line">m_Num = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å‰ç½®++</span></span><br><span class="line">MyInteger&amp; <span class="keyword">operator</span>++() &#123;</span><br><span class="line"><span class="comment">//å…ˆ++</span></span><br><span class="line">m_Num++;</span><br><span class="line"><span class="comment">//å†è¿”å›</span></span><br><span class="line"><span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å‰ç½®--</span></span><br><span class="line">MyInteger&amp; <span class="keyword">operator</span>--() &#123;</span><br><span class="line"><span class="comment">//å…ˆ--</span></span><br><span class="line">m_Num--;</span><br><span class="line"><span class="comment">//å†è¿”å›</span></span><br><span class="line"><span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åç½®++</span></span><br><span class="line">MyInteger <span class="keyword">operator</span>++(<span class="keyword">int</span>) &#123;</span><br><span class="line"><span class="comment">//å…ˆè¿”å›</span></span><br><span class="line">MyInteger temp = *<span class="keyword">this</span>; <span class="comment">//è®°å½•å½“å‰æœ¬èº«çš„å€¼ï¼Œç„¶åè®©æœ¬èº«çš„å€¼åŠ 1ï¼Œä½†æ˜¯è¿”å›çš„æ˜¯ä»¥å‰çš„å€¼ï¼Œè¾¾åˆ°å…ˆè¿”å›å++ï¼›</span></span><br><span class="line">m_Num++;</span><br><span class="line"><span class="keyword">return</span> temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åç½®--</span></span><br><span class="line">MyInteger <span class="keyword">operator</span>--(<span class="keyword">int</span>) &#123;</span><br><span class="line"><span class="comment">//å…ˆè¿”å›</span></span><br><span class="line">MyInteger temp = *<span class="keyword">this</span>; <span class="comment">//è®°å½•å½“å‰æœ¬èº«çš„å€¼ï¼Œç„¶åè®©æœ¬èº«çš„å€¼-1ï¼Œä½†æ˜¯è¿”å›çš„æ˜¯ä»¥å‰çš„å€¼ï¼Œè¾¾åˆ°å…ˆè¿”å›å--ï¼›</span></span><br><span class="line">m_Num--;</span><br><span class="line"><span class="keyword">return</span> temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="keyword">int</span> m_Num;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ostream&amp; <span class="keyword">operator</span>&lt;&lt;(ostream&amp; out, MyInteger myint) &#123;</span><br><span class="line">out &lt;&lt; myint.m_Num;</span><br><span class="line"><span class="keyword">return</span> out;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//å‰ç½®++ å…ˆ++ å†è¿”å›</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span> </span>&#123;</span><br><span class="line">MyInteger myInt;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; ++myInt &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; myInt &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åç½®++ å…ˆè¿”å› å†++</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test02</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">MyInteger myInt;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; myInt++ &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; myInt &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test03</span><span class="params">()</span> </span>&#123;</span><br><span class="line">MyInteger myInt;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; myInt-- &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test04</span><span class="params">()</span> </span>&#123;</span><br><span class="line">MyInteger myInt;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; --myInt &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//test01();</span></span><br><span class="line"><span class="comment">//test02();</span></span><br><span class="line"><span class="comment">//test03();</span></span><br><span class="line">test04();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>å‰ç½®é€’å¢è¿”å›çš„æ˜¯å¼•ç”¨ï¼Œåç½®é€’å¢è¿”å›çš„æ˜¯å€¼ï¼ˆç”±äºæå‰ return ä¼šç»“æŸå½“å‰å‡½æ•°ï¼Œæ‰€ä»¥åç½®é€’å¢æ—¶ï¼Œå…ˆç”¨ temp æ¥å—å½“å‰å€¼ï¼Œç„¶åé€’å¢å®Œï¼Œè¿”å› temp çš„å€¼ï¼‰</strong></p><h3 id="èµ‹å€¼è¿ç®—ç¬¦ï¼ˆ-ï¼‰çš„é‡è½½"><a href="#èµ‹å€¼è¿ç®—ç¬¦ï¼ˆ-ï¼‰çš„é‡è½½" class="headerlink" title="èµ‹å€¼è¿ç®—ç¬¦ï¼ˆ=ï¼‰çš„é‡è½½"></a>èµ‹å€¼è¿ç®—ç¬¦ï¼ˆ=ï¼‰çš„é‡è½½</h3><p>C++ ç¼–è¯‘å™¨è‡³å°‘ç»™ä¸€ä¸ªç±»æ·»åŠ 4ä¸ªå‡½æ•°</p><ul><li>é»˜è®¤æ„é€ å‡½æ•°ï¼ˆæ— å‚æ•°ï¼Œå‡½æ•°ä½“ä¸ºç©ºï¼‰</li><li>é»˜è®¤ææ„å‡½æ•°ï¼ˆæ— å‚æ•°ï¼Œå‡½æ•°ä½“ä¸ºç©ºï¼‰</li><li>é»˜è®¤æ‹·è´æ„é€ å‡½æ•°ï¼Œå¯¹å±æ€§è¿›è¡Œå€¼æ‹·è´</li><li>èµ‹å€¼è¿ç®—ç¬¦ operator= ï¼Œå¯¹å±æ€§è¿›è¡Œå€¼æ‹·è´</li></ul><p>é—®é¢˜æ‰€åœ¨ï¼š</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210303223519840.png" alt="image-20210303223519840"></p><p>è§£å†³æ–¹æ¡ˆï¼š</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210303224140308.png" alt="image-20210303224140308"></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"></span><br><span class="line">Person(<span class="keyword">int</span> age)</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//å°†å¹´é¾„æ•°æ®å¼€è¾Ÿåˆ°å †åŒº</span></span><br><span class="line">m_Age = <span class="keyword">new</span> <span class="keyword">int</span>(age);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//é‡è½½èµ‹å€¼è¿ç®—ç¬¦ </span></span><br><span class="line">Person&amp; <span class="keyword">operator</span>=(Person &amp;p)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (m_Age != <span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">delete</span> m_Age;</span><br><span class="line">m_Age = <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//ç¼–è¯‘å™¨é»˜è®¤æä¾›çš„ä»£ç æ˜¯æµ…æ‹·è´</span></span><br><span class="line"><span class="comment">//m_Age = p.m_Age;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//æä¾›æ·±æ‹·è´ è§£å†³æµ…æ‹·è´çš„é—®é¢˜</span></span><br><span class="line">m_Age = <span class="keyword">new</span> <span class="keyword">int</span>(*p.m_Age);</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¿”å›è‡ªèº«</span></span><br><span class="line"><span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">~Person()</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (m_Age != <span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">delete</span> m_Age;</span><br><span class="line">m_Age = <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¹´é¾„çš„æŒ‡é’ˆ</span></span><br><span class="line"><span class="keyword">int</span> *m_Age;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="function">Person <span class="title">p1</span><span class="params">(<span class="number">18</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function">Person <span class="title">p2</span><span class="params">(<span class="number">20</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function">Person <span class="title">p3</span><span class="params">(<span class="number">30</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">p3 = p2 = p1; <span class="comment">//èµ‹å€¼æ“ä½œ</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"p1çš„å¹´é¾„ä¸ºï¼š"</span> &lt;&lt; *p1.m_Age &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"p2çš„å¹´é¾„ä¸ºï¼š"</span> &lt;&lt; *p2.m_Age &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"p3çš„å¹´é¾„ä¸ºï¼š"</span> &lt;&lt; *p3.m_Age &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line"><span class="comment">//int a = 10;</span></span><br><span class="line"><span class="comment">//int b = 20;</span></span><br><span class="line"><span class="comment">//int c = 30;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//c = b = a;</span></span><br><span class="line"><span class="comment">//cout &lt;&lt; "a = " &lt;&lt; a &lt;&lt; endl;</span></span><br><span class="line"><span class="comment">//cout &lt;&lt; "b = " &lt;&lt; b &lt;&lt; endl;</span></span><br><span class="line"><span class="comment">//cout &lt;&lt; "c = " &lt;&lt; c &lt;&lt; endl;</span></span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å…³ç³»è¿ç®—ç¬¦ï¼ˆ-ï¼‰é‡è½½"><a href="#å…³ç³»è¿ç®—ç¬¦ï¼ˆ-ï¼‰é‡è½½" class="headerlink" title="å…³ç³»è¿ç®—ç¬¦ï¼ˆ==ï¼‰é‡è½½"></a>å…³ç³»è¿ç®—ç¬¦ï¼ˆ==ï¼‰é‡è½½</h3><p><strong>ä½œç”¨ï¼šé‡è½½å…³ç³»è¿ç®—ç¬¦ï¼Œå¯ä»¥è®©ä¸¤ä¸ªè‡ªå®šä¹‰ç±»å‹å¯¹è±¡è¿›è¡Œå¯¹æ¯”æ“ä½œ</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Person(<span class="built_in">string</span> name, <span class="keyword">int</span> age)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">this</span>-&gt;m_Name = name;</span><br><span class="line"><span class="keyword">this</span>-&gt;m_Age = age;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">bool</span> <span class="keyword">operator</span>==(Person &amp; p)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">this</span>-&gt;m_Name == p.m_Name &amp;&amp; <span class="keyword">this</span>-&gt;m_Age == p.m_Age)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">bool</span> <span class="keyword">operator</span>!=(Person &amp; p)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">this</span>-&gt;m_Name == p.m_Name &amp;&amp; <span class="keyword">this</span>-&gt;m_Age == p.m_Age)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">string</span> m_Name;</span><br><span class="line"><span class="keyword">int</span> m_Age;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//int a = 0;</span></span><br><span class="line"><span class="comment">//int b = 0;</span></span><br><span class="line"></span><br><span class="line"><span class="function">Person <span class="title">a</span><span class="params">(<span class="string">"å­™æ‚Ÿç©º"</span>, <span class="number">18</span>)</span></span>;</span><br><span class="line"><span class="function">Person <span class="title">b</span><span class="params">(<span class="string">"å­™æ‚Ÿç©º"</span>, <span class="number">18</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (a == b)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"aå’Œbç›¸ç­‰"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"aå’Œbä¸ç›¸ç­‰"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (a != b)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"aå’Œbä¸ç›¸ç­‰"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"aå’Œbç›¸ç­‰"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å‡½æ•°è°ƒç”¨è¿ç®—ç¬¦-é‡è½½"><a href="#å‡½æ•°è°ƒç”¨è¿ç®—ç¬¦-é‡è½½" class="headerlink" title="å‡½æ•°è°ƒç”¨è¿ç®—ç¬¦ () é‡è½½"></a>å‡½æ•°è°ƒç”¨è¿ç®—ç¬¦ () é‡è½½</h3><ul><li>å‡½æ•°è°ƒç”¨è¿ç®—ç¬¦ï¼ˆï¼‰ä¹Ÿå¯ä»¥é‡è½½</li><li>ç”±äºé‡è½½åä½¿ç”¨çš„æ–¹å¼éå¸¸åƒå‡½æ•°è°ƒç”¨ï¼Œå› æ­¤ç§°ä¸ºä»¿å‡½æ•°</li><li>ä»¿å‡½æ•°æ²¡æœ‰å›ºå®šå†™æ³•ï¼Œéå¸¸çµæ´»</li></ul><p>å³ä¸ºå¯¹ä¸€ä¸ªç±»çš„å¯¹è±¡åä½¿ç”¨ï¼ˆï¼‰è¿›è¡Œç±»ä¼¼äºå‡½æ•°å¼çš„è°ƒç”¨</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyPrint</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="built_in">string</span> <span class="built_in">text</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="built_in">text</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//é‡è½½çš„ï¼ˆï¼‰æ“ä½œç¬¦ ä¹Ÿç§°ä¸ºä»¿å‡½æ•°</span></span><br><span class="line">MyPrint myFunc;</span><br><span class="line">myFunc(<span class="string">"hello world"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyAdd</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="keyword">int</span> v1, <span class="keyword">int</span> v2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> v1 + v2;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test02</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">MyAdd add;</span><br><span class="line"><span class="keyword">int</span> ret = add(<span class="number">10</span>, <span class="number">10</span>);</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"ret = "</span> &lt;&lt; ret &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åŒ¿åå¯¹è±¡è°ƒç”¨  </span></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"MyAdd()(100,100) = "</span> &lt;&lt; MyAdd()(<span class="number">100</span>, <span class="number">100</span>) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line">test02();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ç»§æ‰¿"><a href="#ç»§æ‰¿" class="headerlink" title="ç»§æ‰¿"></a>ç»§æ‰¿</h2><p>è¯­æ³•ï¼š <code>class</code>   <code>å­ç±»</code>  <code>:</code>  <code>ç»§æ‰¿æ–¹å¼</code>  <code>çˆ¶ç±»</code></p><p>å­ç±»ï¼šæ´¾ç”Ÿç±»</p><p>çˆ¶ç±»ï¼šåŸºç±»</p><p>æƒé™ï¼šå…¬å…±ã€ä¿æŠ¤ã€ç§æœ‰</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210304151734286.png" alt="image-20210304151734286"></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Base1</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>: </span><br><span class="line"><span class="keyword">int</span> m_A;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line"><span class="keyword">int</span> m_B;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="keyword">int</span> m_C;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å…¬å…±ç»§æ‰¿</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Son1</span> :</span><span class="keyword">public</span> Base1</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">m_A; <span class="comment">//å¯è®¿é—® publicæƒé™</span></span><br><span class="line">m_B; <span class="comment">//å¯è®¿é—® protectedæƒé™</span></span><br><span class="line"><span class="comment">//m_C; //ä¸å¯è®¿é—®</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">myClass</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Son1 s1;</span><br><span class="line">s1.m_A; <span class="comment">//å…¶ä»–ç±»åªèƒ½è®¿é—®åˆ°å…¬å…±æƒé™</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä¿æŠ¤ç»§æ‰¿</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Base2</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="keyword">int</span> m_A;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line"><span class="keyword">int</span> m_B;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="keyword">int</span> m_C;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Son2</span>:</span><span class="keyword">protected</span> Base2</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">m_A; <span class="comment">//å¯è®¿é—® protectedæƒé™</span></span><br><span class="line">m_B; <span class="comment">//å¯è®¿é—® protectedæƒé™</span></span><br><span class="line"><span class="comment">//m_C; //ä¸å¯è®¿é—®</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">myClass2</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Son2 s;</span><br><span class="line"><span class="comment">//s.m_A; //ä¸å¯è®¿é—®</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç§æœ‰ç»§æ‰¿</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Base3</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="keyword">int</span> m_A;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line"><span class="keyword">int</span> m_B;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="keyword">int</span> m_C;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Son3</span>:</span><span class="keyword">private</span> Base3</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">m_A; <span class="comment">//å¯è®¿é—® privateæƒé™</span></span><br><span class="line">m_B; <span class="comment">//å¯è®¿é—® privateæƒé™</span></span><br><span class="line"><span class="comment">//m_C; //ä¸å¯è®¿é—®</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">GrandSon3</span> :</span><span class="keyword">public</span> Son3</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//Son3æ˜¯ç§æœ‰ç»§æ‰¿ï¼Œæ‰€ä»¥ç»§æ‰¿Son3çš„å±æ€§åœ¨GrandSon3ä¸­éƒ½æ— æ³•è®¿é—®åˆ°</span></span><br><span class="line"><span class="comment">//m_A;</span></span><br><span class="line"><span class="comment">//m_B;</span></span><br><span class="line"><span class="comment">//m_C;</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="ç»§æ‰¿ä¸­çš„å¯¹è±¡æ¨¡å‹"><a href="#ç»§æ‰¿ä¸­çš„å¯¹è±¡æ¨¡å‹" class="headerlink" title="ç»§æ‰¿ä¸­çš„å¯¹è±¡æ¨¡å‹"></a>ç»§æ‰¿ä¸­çš„å¯¹è±¡æ¨¡å‹</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Base</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="keyword">int</span> m_A;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line"><span class="keyword">int</span> m_B;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="keyword">int</span> m_C; <span class="comment">//ç§æœ‰æˆå‘˜åªæ˜¯è¢«éšè—äº†ï¼Œä½†æ˜¯è¿˜æ˜¯ä¼šç»§æ‰¿ä¸‹å»</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å…¬å…±ç»§æ‰¿</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Son</span> :</span><span class="keyword">public</span> Base</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="keyword">int</span> m_D;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"sizeof Son = "</span> &lt;&lt; <span class="keyword">sizeof</span>(Son) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> <strong>çˆ¶ç±»ä¸­ç§æœ‰æˆå‘˜ä¹Ÿæ˜¯è¢«å­ç±»ç»§æ‰¿ä¸‹å»äº†ï¼Œåªæ˜¯ç”±ç¼–è¯‘å™¨ç»™éšè—åè®¿é—®ä¸åˆ°</strong></p><h3 id="ç»§æ‰¿ä¸­æ„é€ å’Œææ„é¡ºåº"><a href="#ç»§æ‰¿ä¸­æ„é€ å’Œææ„é¡ºåº" class="headerlink" title="ç»§æ‰¿ä¸­æ„é€ å’Œææ„é¡ºåº"></a>ç»§æ‰¿ä¸­æ„é€ å’Œææ„é¡ºåº</h3><ul><li>æ„é€ é¡ºåºæ˜¯å…ˆçˆ¶åå­</li><li>ææ„é¡ºåºæ˜¯å…ˆå­åçˆ¶</li></ul><h3 id="ç»§æ‰¿ä¸­åŒåæˆå‘˜çš„å¤„ç†æ–¹å¼"><a href="#ç»§æ‰¿ä¸­åŒåæˆå‘˜çš„å¤„ç†æ–¹å¼" class="headerlink" title="ç»§æ‰¿ä¸­åŒåæˆå‘˜çš„å¤„ç†æ–¹å¼"></a>ç»§æ‰¿ä¸­åŒåæˆå‘˜çš„å¤„ç†æ–¹å¼</h3><ul><li>è®¿é—®å­ç±»åŒåæˆå‘˜ï¼Œç›´æ¥è®¿é—®</li><li>è®¿é—®çˆ¶ç±»åŒåæˆå‘˜ï¼Œéœ€è¦åŠ ä½œç”¨åŸŸ</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Base</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Base()</span><br><span class="line">&#123;</span><br><span class="line">m_A = <span class="number">100</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"Base - func()è°ƒç”¨"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">(<span class="keyword">int</span> a)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"Base - func(int a)è°ƒç”¨"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="keyword">int</span> m_A;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Son</span> :</span> <span class="keyword">public</span> Base &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Son()</span><br><span class="line">&#123;</span><br><span class="line">m_A = <span class="number">200</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å½“å­ç±»ä¸çˆ¶ç±»æ‹¥æœ‰åŒåçš„æˆå‘˜å‡½æ•°ï¼Œå­ç±»ä¼šéšè—çˆ¶ç±»ä¸­æ‰€æœ‰ç‰ˆæœ¬çš„åŒåæˆå‘˜å‡½æ•°</span></span><br><span class="line"><span class="comment">//å¦‚æœæƒ³è®¿é—®çˆ¶ç±»ä¸­è¢«éšè—çš„åŒåæˆå‘˜å‡½æ•°ï¼Œéœ€è¦åŠ çˆ¶ç±»çš„ä½œç”¨åŸŸ</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"Son - func()è°ƒç”¨"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="keyword">int</span> m_A;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Son s;</span><br><span class="line"></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"Sonä¸‹çš„m_A = "</span> &lt;&lt; s.m_A &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"Baseä¸‹çš„m_A = "</span> &lt;&lt; s.Base::m_A &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">s.func();</span><br><span class="line">s.Base::func();</span><br><span class="line">s.Base::func(<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"><span class="keyword">return</span> EXIT_SUCCESS;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><pre><code>//å½“å­ç±»ä¸çˆ¶ç±»æ‹¥æœ‰åŒåçš„æˆå‘˜å‡½æ•°ï¼Œå­ç±»ä¼šéšè—çˆ¶ç±»ä¸­æ‰€æœ‰ç‰ˆæœ¬çš„åŒåæˆå‘˜å‡½æ•°//å¦‚æœæƒ³è®¿é—®çˆ¶ç±»ä¸­è¢«éšè—çš„åŒåæˆå‘˜å‡½æ•°ï¼Œéœ€è¦åŠ çˆ¶ç±»çš„ä½œç”¨åŸŸ</code></pre><p>æ€»ç»“ï¼šæƒ³è¦è®¿é—®çˆ¶ç±»ä¸­è¢«é‡å¤çš„å¯¹è±¡ï¼Œæ·»åŠ ä½œç”¨åŸŸæ‰å¯è®¿é—®åˆ°ã€‚</p><h3 id="ç»§æ‰¿åŒåé™æ€æˆå‘˜å¤„ç†æ–¹å¼"><a href="#ç»§æ‰¿åŒåé™æ€æˆå‘˜å¤„ç†æ–¹å¼" class="headerlink" title="ç»§æ‰¿åŒåé™æ€æˆå‘˜å¤„ç†æ–¹å¼"></a>ç»§æ‰¿åŒåé™æ€æˆå‘˜å¤„ç†æ–¹å¼</h3><ul><li>è®¿é—®å­ç±»åŒåæˆå‘˜ï¼Œç›´æ¥è®¿é—®å³å¯</li><li>è®¿é—®çˆ¶ç±»åŒåæˆå‘˜ï¼Œéœ€è¦å¤©æœºå•Šä½œç”¨åŸŸ</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Base</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">func</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"Base - static void func()"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">func</span><span class="params">(<span class="keyword">int</span> a)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"Base - static void func(int a)"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">int</span> m_A;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> Base::m_A = <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Son</span> :</span> <span class="keyword">public</span> Base &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">func</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"Son - static void func()"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">static</span> <span class="keyword">int</span> m_A;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> Son::m_A = <span class="number">200</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åŒåæˆå‘˜å±æ€§</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//é€šè¿‡å¯¹è±¡è®¿é—®</span></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"é€šè¿‡å¯¹è±¡è®¿é—®ï¼š "</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">Son s;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"Son  ä¸‹ m_A = "</span> &lt;&lt; s.m_A &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"Base ä¸‹ m_A = "</span> &lt;&lt; s.Base::m_A &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//é€šè¿‡ç±»åè®¿é—®</span></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"é€šè¿‡ç±»åè®¿é—®ï¼š "</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"Son  ä¸‹ m_A = "</span> &lt;&lt; Son::m_A &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"Base ä¸‹ m_A = "</span> &lt;&lt; Son::Base::m_A &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åŒåæˆå‘˜å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test02</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//é€šè¿‡å¯¹è±¡è®¿é—®</span></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"é€šè¿‡å¯¹è±¡è®¿é—®ï¼š "</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">Son s;</span><br><span class="line">s.func();</span><br><span class="line">s.Base::func();</span><br><span class="line"></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"é€šè¿‡ç±»åè®¿é—®ï¼š "</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">Son::func();</span><br><span class="line">Son::Base::func();</span><br><span class="line"><span class="comment">//å‡ºç°åŒåï¼Œå­ç±»ä¼šéšè—æ‰çˆ¶ç±»ä¸­æ‰€æœ‰åŒåæˆå‘˜å‡½æ•°ï¼Œéœ€è¦åŠ ä½œä½œç”¨åŸŸè®¿é—®</span></span><br><span class="line">Son::Base::func(<span class="number">100</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//test01();</span></span><br><span class="line">test02();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å¤šç»§æ‰¿è¯­æ³•"><a href="#å¤šç»§æ‰¿è¯­æ³•" class="headerlink" title="å¤šç»§æ‰¿è¯­æ³•"></a>å¤šç»§æ‰¿è¯­æ³•</h2><p>C++ å…è®¸ä¸€ä¸ªç±»ç»§æ‰¿å¤šä¸ªç±»</p><p><strong>è¯­æ³•ï¼š</strong> <code>class</code> <code>å­ç±»</code> ï¼š<code>ç»§æ‰¿æ–¹å¼</code> <code>çˆ¶ç±»1</code>ï¼Œ <code>ç»§æ‰¿æ–¹å¼</code> <code>çˆ¶ç±»2</code>  </p><p>å¤šç»§æ‰¿å¯èƒ½ä¼šå¼•å‘çˆ¶ç±»ä¸­æœ‰åŒåæˆå‘˜å‡ºç°ï¼Œ<strong>éœ€è¦åŠ ä½œç”¨åŸŸåŒºåˆ†</strong></p><p><strong>C++ å®é™…å¼€å‘ä¸­ä¸å»ºè®®ç”¨å¤šç»§æ‰¿</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Base1</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Base1()</span><br><span class="line">&#123;</span><br><span class="line">m_A = <span class="number">100</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="keyword">int</span> m_A;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Base2</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Base2()</span><br><span class="line">&#123;</span><br><span class="line">m_A = <span class="number">200</span>;  <span class="comment">//å¼€å§‹æ˜¯m_B ä¸ä¼šå‡ºé—®é¢˜ï¼Œä½†æ˜¯æ”¹ä¸ºmAå°±ä¼šå‡ºç°ä¸æ˜ç¡®</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="keyword">int</span> m_A;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¯­æ³•ï¼šclass å­ç±»ï¼šç»§æ‰¿æ–¹å¼ çˆ¶ç±»1 ï¼Œç»§æ‰¿æ–¹å¼ çˆ¶ç±»2 </span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Son</span> :</span> <span class="keyword">public</span> Base2, <span class="keyword">public</span> Base1 </span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Son()</span><br><span class="line">&#123;</span><br><span class="line">m_C = <span class="number">300</span>;</span><br><span class="line">m_D = <span class="number">400</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="keyword">int</span> m_C;</span><br><span class="line"><span class="keyword">int</span> m_D;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//å¤šç»§æ‰¿å®¹æ˜“äº§ç”Ÿæˆå‘˜åŒåçš„æƒ…å†µ</span></span><br><span class="line"><span class="comment">//é€šè¿‡ä½¿ç”¨ç±»åä½œç”¨åŸŸå¯ä»¥åŒºåˆ†è°ƒç”¨å“ªä¸€ä¸ªåŸºç±»çš„æˆå‘˜</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Son s;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"sizeof Son = "</span> &lt;&lt; <span class="keyword">sizeof</span>(s) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; s.Base1::m_A &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; s.Base2::m_A &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="è±å½¢ç»§æ‰¿é—®é¢˜çš„è§£å†³æ–¹å¼"><a href="#è±å½¢ç»§æ‰¿é—®é¢˜çš„è§£å†³æ–¹å¼" class="headerlink" title="è±å½¢ç»§æ‰¿é—®é¢˜çš„è§£å†³æ–¹å¼"></a>è±å½¢ç»§æ‰¿é—®é¢˜çš„è§£å†³æ–¹å¼</h3><p>è±å½¢ç»§æ‰¿å³ï¼Œå¤šç»§æ‰¿äº†çˆ¶ç±»çš„ç›¸åŒåŒåå±æ€§ï¼Œå¸¦æ¥çš„ä¸»è¦é—®é¢˜æ˜¯å­ç±»ç»§æ‰¿ä¸¤ä»½ç›¸åŒçš„æ•°æ®ï¼Œå¯¼è‡´èµ„æºæµªè´¹ä»¥åŠæ¯«æ— æ„ä¹‰</p><p>åœ¨ç»§æ‰¿ä¹‹å‰ï¼Œæ·»åŠ å…³é”®å­— <code>virtual</code> å˜ä¸ºè™šç»§æ‰¿</p><p><code>class Sheep : virtual public Animal{};</code></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210305004227323.png" alt="image-20210305004227323"></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="keyword">int</span> m_Age;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç»§æ‰¿å‰åŠ virtualå…³é”®å­—åï¼Œå˜ä¸ºè™šç»§æ‰¿</span></span><br><span class="line"><span class="comment">//æ­¤æ—¶å…¬å…±çš„çˆ¶ç±»Animalç§°ä¸ºè™šåŸºç±»</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Sheep</span> :</span> <span class="keyword">virtual</span> <span class="keyword">public</span> Animal &#123;&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Tuo</span>   :</span> <span class="keyword">virtual</span> <span class="keyword">public</span> Animal &#123;&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SheepTuo</span> :</span> <span class="keyword">public</span> Sheep, <span class="keyword">public</span> Tuo &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">SheepTuo st;</span><br><span class="line">st.Sheep::m_Age = <span class="number">100</span>;</span><br><span class="line">st.Tuo::m_Age = <span class="number">200</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"st.Sheep::m_Age = "</span> &lt;&lt; st.Sheep::m_Age &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"st.Tuo::m_Age = "</span> &lt;&lt;  st.Tuo::m_Age &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"st.m_Age = "</span> &lt;&lt; st.m_Age &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å¤šæ€"><a href="#å¤šæ€" class="headerlink" title="å¤šæ€"></a>å¤šæ€</h2><ul><li><p>é™æ€å¤šæ€: å‡½æ•°é‡è½½ å’Œ è¿ç®—ç¬¦é‡è½½å±äºé™æ€å¤šæ€ï¼Œå¤ç”¨å‡½æ•°å</p><p>  å‡½æ•°åœ°å€åœ¨ç¼–è¯‘é˜¶æ®µå°±èƒ½ç¡®å®šï¼Œé™æ€è”ç¼–</p></li></ul><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-05%20at%2015.07.53.png" alt="Screen Shot 2021-03-05 at 15.07.53"></p><ul><li><p>==åŠ¨æ€å¤šæ€: æ´¾ç”Ÿç±»å’Œè™šå‡½æ•°å®ç°è¿è¡Œæ—¶å¤šæ€==</p><p>  å‡½æ•°åœ°å€åœ¨è¿è¡Œé˜¶æ®µæ‰èƒ½ç¡®å®šï¼Œå°±æ˜¯åŠ¨æ€è”ç¼–</p></li></ul><p>é™æ€å¤šæ€å’ŒåŠ¨æ€å¤šæ€åŒºåˆ«ï¼š</p><ul><li><p>é™æ€å¤šæ€çš„å‡½æ•°åœ°å€æ—©ç»‘å®š  -  ç¼–è¯‘é˜¶æ®µç¡®å®šå‡½æ•°åœ°å€</p></li><li><p>åŠ¨æ€å¤šæ€çš„å‡½æ•°åœ°å€æ™šç»‘å®š  -  è¿è¡Œé˜¶æ®µç¡®å®šå‡½æ•°åœ°å€</p><p>(åŠ¨æ€åœ°å€é€šè¿‡åœ¨çˆ¶ç±»å‡½æ•°ä¸­ä½¿ç”¨ virtual æ¥è¿›è¡Œè™šå‡½æ•°)</p></li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="comment">//Speakå‡½æ•°å°±æ˜¯è™šå‡½æ•°</span></span><br><span class="line"><span class="comment">//å‡½æ•°å‰é¢åŠ ä¸Švirtualå…³é”®å­—ï¼Œå˜æˆè™šå‡½æ•°ï¼Œé‚£ä¹ˆç¼–è¯‘å™¨åœ¨ç¼–è¯‘çš„æ—¶å€™å°±ä¸èƒ½ç¡®å®šå‡½æ•°è°ƒç”¨äº†ã€‚</span></span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">speak</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"åŠ¨ç‰©åœ¨è¯´è¯"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span> :</span><span class="keyword">public</span> Animal</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">speak</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"å°çŒ«åœ¨è¯´è¯"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> :</span><span class="keyword">public</span> Animal</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">speak</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"å°ç‹—åœ¨è¯´è¯"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//æˆ‘ä»¬å¸Œæœ›ä¼ å…¥ä»€ä¹ˆå¯¹è±¡ï¼Œé‚£ä¹ˆå°±è°ƒç”¨ä»€ä¹ˆå¯¹è±¡çš„å‡½æ•°</span></span><br><span class="line"><span class="comment">//å¦‚æœå‡½æ•°åœ°å€åœ¨ç¼–è¯‘é˜¶æ®µå°±èƒ½ç¡®å®šï¼Œé‚£ä¹ˆé™æ€è”ç¼–</span></span><br><span class="line"><span class="comment">//å¦‚æœå‡½æ•°åœ°å€åœ¨è¿è¡Œé˜¶æ®µæ‰èƒ½ç¡®å®šï¼Œå°±æ˜¯åŠ¨æ€è”ç¼–</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DoSpeak</span><span class="params">(Animal &amp; animal)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">animal.speak();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//å¤šæ€æ»¡è¶³æ¡ä»¶ï¼š </span></span><br><span class="line"><span class="comment">//1ã€æœ‰ç»§æ‰¿å…³ç³»</span></span><br><span class="line"><span class="comment">//2ã€å­ç±»é‡å†™çˆ¶ç±»ä¸­çš„è™šå‡½æ•°</span></span><br><span class="line"><span class="comment">//å¤šæ€ä½¿ç”¨ï¼š</span></span><br><span class="line"><span class="comment">//çˆ¶ç±»æŒ‡é’ˆæˆ–å¼•ç”¨æŒ‡å‘å­ç±»å¯¹è±¡</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Cat cat;</span><br><span class="line">DoSpeak(cat);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Dog dog;</span><br><span class="line">DoSpeak(dog);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="çº¯è™šå‡½æ•°å’ŒæŠ½è±¡ç±»"><a href="#çº¯è™šå‡½æ•°å’ŒæŠ½è±¡ç±»" class="headerlink" title="çº¯è™šå‡½æ•°å’ŒæŠ½è±¡ç±»"></a>çº¯è™šå‡½æ•°å’ŒæŠ½è±¡ç±»</h3><p>çˆ¶ç±»ä¸­çš„è™šå‡½æ•°å®ç°å¤§å¤šæ•°æ—¶å€™æ˜¯æ¯«æ— æ„ä¹‰çš„ï¼Œé€šå¸¸éƒ½æ˜¯åˆ©ç”¨å­ç±»ä¸­è¿›è¡Œè°ƒç”¨å­ç±»çš„é‡å†™çš„å†…å®¹ã€‚</p><p>å­ç±»å¿…é¡»é‡å†™çˆ¶ç±»ä¸­çš„çº¯è™šå‡½æ•°ï¼ˆJavaæ¥å£åŒï¼‰</p><p>å½“ç±»ä¸­æœ‰äº†çº¯è™šå‡½æ•°ï¼Œé‚£ä¹ˆè¿™ä¸ªç±»å°±ç§°ä¸º==æŠ½è±¡ç±»==</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Base</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="comment">//çº¯è™šå‡½æ•°</span></span><br><span class="line"><span class="comment">//ç±»ä¸­åªè¦æœ‰ä¸€ä¸ªçº¯è™šå‡½æ•°å°±ç§°ä¸ºæŠ½è±¡ç±»</span></span><br><span class="line"><span class="comment">//æŠ½è±¡ç±»æ— æ³•å®ä¾‹åŒ–å¯¹è±¡</span></span><br><span class="line"><span class="comment">//å­ç±»å¿…é¡»é‡å†™çˆ¶ç±»ä¸­çš„çº¯è™šå‡½æ•°ï¼Œå¦åˆ™ä¹Ÿå±äºæŠ½è±¡ç±»</span></span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">func</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Son</span> :</span><span class="keyword">public</span> Base</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">func</span><span class="params">()</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"funcè°ƒç”¨"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Base * base = <span class="literal">NULL</span>;</span><br><span class="line"><span class="comment">//base = new Base; // é”™è¯¯ï¼ŒæŠ½è±¡ç±»æ— æ³•å®ä¾‹åŒ–å¯¹è±¡</span></span><br><span class="line">base = <span class="keyword">new</span> Son;</span><br><span class="line">base-&gt;func();</span><br><span class="line"><span class="keyword">delete</span> base;<span class="comment">//è®°å¾—é”€æ¯</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å¤šæ€æ¡ˆä¾‹ï¼Œåˆ¶ä½œé¥®å“"><a href="#å¤šæ€æ¡ˆä¾‹ï¼Œåˆ¶ä½œé¥®å“" class="headerlink" title="å¤šæ€æ¡ˆä¾‹ï¼Œåˆ¶ä½œé¥®å“"></a>å¤šæ€æ¡ˆä¾‹ï¼Œåˆ¶ä½œé¥®å“</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Abstractdrinking</span>&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">HeatWater</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Brew</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">PourIn</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">AddSup</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">MakeDrinking</span><span class="params">()</span></span>&#123;</span><br><span class="line">        HeatWater();</span><br><span class="line">        Brew();</span><br><span class="line">        PourIn();</span><br><span class="line">        AddSup();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Coffee</span>:</span> <span class="keyword">public</span> Abstractdrinking&#123;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">HeatWater</span><span class="params">()</span></span>&#123;</span><br><span class="line">       <span class="built_in">cout</span>&lt;&lt;<span class="string">"Heat NongF Water."</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Brew</span><span class="params">()</span></span>&#123;</span><br><span class="line">       <span class="built_in">cout</span>&lt;&lt;<span class="string">"brew coffee."</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">PourIn</span><span class="params">()</span></span>&#123;</span><br><span class="line">       <span class="built_in">cout</span>&lt;&lt;<span class="string">"Pour in NongF Water for Coffee."</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">AddSup</span><span class="params">()</span></span>&#123;</span><br><span class="line">       <span class="built_in">cout</span>&lt;&lt;<span class="string">"Add support milk &amp; sugar."</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Tea</span>:</span> <span class="keyword">public</span> Abstractdrinking&#123;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">HeatWater</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"Heat Quan Water."</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Brew</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"brew tea."</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">PourIn</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"Pour in Quan Water for tea."</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">AddSup</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"Add support lemon."</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">doWork</span><span class="params">(Abstractdrinking &amp;abstractdrinking)</span></span>&#123;</span><br><span class="line">    abstractdrinking.MakeDrinking();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">doWork</span><span class="params">(Abstractdrinking *abstractdrinking)</span></span>&#123;</span><br><span class="line">    abstractdrinking-&gt;MakeDrinking();</span><br><span class="line">    <span class="keyword">delete</span> abstractdrinking;</span><br><span class="line">    abstractdrinking = <span class="literal">nullptr</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span>&#123;</span><br><span class="line">    Abstractdrinking *coffee = <span class="keyword">new</span> Coffee();</span><br><span class="line">    doWork(*coffee);</span><br><span class="line">    <span class="keyword">delete</span> coffee;</span><br><span class="line">    coffee = <span class="literal">nullptr</span>;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"---------------------------------"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    Abstractdrinking *tea = <span class="keyword">new</span> Tea();</span><br><span class="line">    doWork(*tea);</span><br><span class="line">    <span class="keyword">delete</span> tea;</span><br><span class="line">    tea = <span class="literal">nullptr</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test02</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"doWork with test02 using point."</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    doWork(<span class="keyword">new</span> Coffee());</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"---------------------------------"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    doWork(<span class="keyword">new</span> Tea());</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    test01();</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"================================="</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    test02();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20210305181452990.png" alt="image-20210305181452990"></p><h3 id="è™šææ„å’Œçº¯è™šææ„"><a href="#è™šææ„å’Œçº¯è™šææ„" class="headerlink" title="è™šææ„å’Œçº¯è™šææ„"></a>è™šææ„å’Œçº¯è™šææ„</h3><p>çˆ¶ç±»æŒ‡é’ˆåœ¨ææ„çš„æ—¶å€™ï¼Œä¸ä¼šè°ƒç”¨å­ç±»ä¸­ææ„å‡½æ•°ï¼Œå¯¼è‡´å­ç±»å¦‚æœæœ‰å †åŒºå±æ€§ï¼Œä¼šå‡ºç°å†…å­˜æ³„æ¼çš„æƒ…å†µ</p><p>åˆ©ç”¨è™šææ„å¯ä»¥è§£å†³çˆ¶ç±»æŒ‡é’ˆé‡Šæ”¾å­ç±»å¯¹è±¡æ—¶ä¸å¹²å‡€çš„é—®é¢˜</p><p><code>virtual ~Animal(){cout&lt;&lt;&quot;destruct&quot;&lt;&lt;endl;}</code></p><p>==çº¯è™šææ„éœ€è¦å£°æ˜ä¹Ÿéœ€è¦å®ç°==</p><p>è™šææ„å’Œçº¯è™šææ„å…±æ€§ï¼š</p><ul><li>å¯ä»¥è§£å†³çˆ¶ç±»æŒ‡é’ˆé‡Šæ”¾å­ç±»å¯¹è±¡</li><li>éƒ½éœ€è¦æœ‰å…·ä½“çš„å‡½æ•°å®ç°</li></ul><p>è™šææ„å’Œçº¯è™šææ„åŒºåˆ«ï¼š</p><ul><li>å¦‚æœæ˜¯çº¯è™šææ„ï¼Œè¯¥ç±»å±äºæŠ½è±¡ç±»ï¼Œæ— æ³•å®ä¾‹åŒ–å¯¹è±¡</li></ul><p>è™šææ„è¯­æ³•ï¼š</p><p><code>virtual ~ç±»å(){}</code></p><p>çº¯è™šææ„è¯­æ³•ï¼š</p><p><code>virtual ~ç±»å()=0</code></p><p><code>ç±»å::~ç±»å(){}</code> (ç±»å†…å£°æ˜ï¼Œç±»å¤–å®ç°)</p><p>æ€»ç»“ï¼š</p><p>â€‹    1. è™šææ„æˆ–çº¯è™šææ„å°±æ˜¯ç”¨æ¥è§£å†³é€šè¿‡çˆ¶ç±»æŒ‡é’ˆé‡Šæ”¾å­ç±»å¯¹è±¡</p><p>â€‹    2. å¦‚æœå­ç±»ä¸­æ²¡æœ‰å †åŒºæ•°æ®ï¼Œå¯ä»¥ä¸å†™ä¸ºè™šææ„æˆ–çº¯è™šææ„</p><pre><code>3. æ‹¥æœ‰çº¯è™šææ„å‡½æ•°çš„ç±»ä¹Ÿå±äºæŠ½è±¡ç±»ï¼ˆæŠ½è±¡ç±»æ— æ³•å®ä¾‹åŒ–å¯¹è±¡ï¼‰</code></pre><h3 id="å¤šæ€æ¡ˆä¾‹ï¼šç”µè„‘ç»„è£…"><a href="#å¤šæ€æ¡ˆä¾‹ï¼šç”µè„‘ç»„è£…" class="headerlink" title="å¤šæ€æ¡ˆä¾‹ï¼šç”µè„‘ç»„è£…"></a>å¤šæ€æ¡ˆä¾‹ï¼šç”µè„‘ç»„è£…</h3><p><strong>æ¡ˆä¾‹æè¿°ï¼š</strong></p><p>ç”µè„‘ä¸»è¦ç»„æˆéƒ¨ä»¶ä¸º CPUï¼ˆç”¨äºè®¡ç®—ï¼‰ï¼Œæ˜¾å¡ï¼ˆç”¨äºæ˜¾ç¤ºï¼‰ï¼Œå†…å­˜æ¡ï¼ˆç”¨äºå­˜å‚¨ï¼‰</p><p>å°†æ¯ä¸ªé›¶ä»¶å°è£…å‡ºæŠ½è±¡åŸºç±»ï¼Œå¹¶ä¸”æä¾›ä¸åŒçš„å‚å•†ç”Ÿäº§ä¸åŒçš„é›¶ä»¶ï¼Œä¾‹å¦‚Intelå‚å•†å’ŒLenovoå‚å•†</p><p>åˆ›å»ºç”µè„‘ç±»æä¾›è®©ç”µè„‘å·¥ä½œçš„å‡½æ•°ï¼Œå¹¶ä¸”è°ƒç”¨æ¯ä¸ªé›¶ä»¶å·¥ä½œçš„æ¥å£</p><p>æµ‹è¯•æ—¶ç»„è£…ä¸‰å°ä¸åŒçš„ç”µè„‘è¿›è¡Œå·¥ä½œ</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æŠ½è±¡CPUç±»</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CPU</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="comment">//æŠ½è±¡çš„è®¡ç®—å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">calculate</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æŠ½è±¡æ˜¾å¡ç±»</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">VideoCard</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="comment">//æŠ½è±¡çš„æ˜¾ç¤ºå‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">display</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æŠ½è±¡å†…å­˜æ¡ç±»</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Memory</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="comment">//æŠ½è±¡çš„å­˜å‚¨å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">storage</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç”µè„‘ç±»</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Computer</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Computer(CPU * cpu, VideoCard * vc, Memory * mem)</span><br><span class="line">&#123;</span><br><span class="line">m_cpu = cpu;</span><br><span class="line">m_vc = vc;</span><br><span class="line">m_mem = mem;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æä¾›å·¥ä½œçš„å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">work</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//è®©é›¶ä»¶å·¥ä½œèµ·æ¥ï¼Œè°ƒç”¨æ¥å£</span></span><br><span class="line">m_cpu-&gt;calculate();</span><br><span class="line"></span><br><span class="line">m_vc-&gt;<span class="built_in">display</span>();</span><br><span class="line"></span><br><span class="line">m_mem-&gt;storage();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æä¾›ææ„å‡½æ•° é‡Šæ”¾3ä¸ªç”µè„‘é›¶ä»¶</span></span><br><span class="line">~Computer()</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//é‡Šæ”¾CPUé›¶ä»¶</span></span><br><span class="line"><span class="keyword">if</span> (m_cpu != <span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">delete</span> m_cpu;</span><br><span class="line">m_cpu = <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//é‡Šæ”¾æ˜¾å¡é›¶ä»¶</span></span><br><span class="line"><span class="keyword">if</span> (m_vc != <span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">delete</span> m_vc;</span><br><span class="line">m_vc = <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//é‡Šæ”¾å†…å­˜æ¡é›¶ä»¶</span></span><br><span class="line"><span class="keyword">if</span> (m_mem != <span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">delete</span> m_mem;</span><br><span class="line">m_mem = <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"></span><br><span class="line">CPU * m_cpu; <span class="comment">//CPUçš„é›¶ä»¶æŒ‡é’ˆ</span></span><br><span class="line">VideoCard * m_vc; <span class="comment">//æ˜¾å¡é›¶ä»¶æŒ‡é’ˆ</span></span><br><span class="line">Memory * m_mem; <span class="comment">//å†…å­˜æ¡é›¶ä»¶æŒ‡é’ˆ</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å…·ä½“å‚å•†</span></span><br><span class="line"><span class="comment">//Intelå‚å•†</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">IntelCPU</span> :</span><span class="keyword">public</span> CPU</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">calculate</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"Intelçš„CPUå¼€å§‹è®¡ç®—äº†ï¼"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">IntelVideoCard</span> :</span><span class="keyword">public</span> VideoCard</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">display</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"Intelçš„æ˜¾å¡å¼€å§‹æ˜¾ç¤ºäº†ï¼"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">IntelMemory</span> :</span><span class="keyword">public</span> Memory</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">storage</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"Intelçš„å†…å­˜æ¡å¼€å§‹å­˜å‚¨äº†ï¼"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Lenovoå‚å•†</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LenovoCPU</span> :</span><span class="keyword">public</span> CPU</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">calculate</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"Lenovoçš„CPUå¼€å§‹è®¡ç®—äº†ï¼"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LenovoVideoCard</span> :</span><span class="keyword">public</span> VideoCard</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">display</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"Lenovoçš„æ˜¾å¡å¼€å§‹æ˜¾ç¤ºäº†ï¼"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LenovoMemory</span> :</span><span class="keyword">public</span> Memory</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">storage</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"Lenovoçš„å†…å­˜æ¡å¼€å§‹å­˜å‚¨äº†ï¼"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//ç¬¬ä¸€å°ç”µè„‘é›¶ä»¶</span></span><br><span class="line">CPU * intelCpu = <span class="keyword">new</span> IntelCPU;</span><br><span class="line">VideoCard * intelCard = <span class="keyword">new</span> IntelVideoCard;</span><br><span class="line">Memory * intelMem = <span class="keyword">new</span> IntelMemory;</span><br><span class="line"></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"ç¬¬ä¸€å°ç”µè„‘å¼€å§‹å·¥ä½œï¼š"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="comment">//åˆ›å»ºç¬¬ä¸€å°ç”µè„‘</span></span><br><span class="line">Computer * computer1 = <span class="keyword">new</span> Computer(intelCpu, intelCard, intelMem);</span><br><span class="line">computer1-&gt;work();</span><br><span class="line"><span class="keyword">delete</span> computer1;</span><br><span class="line"></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"-----------------------"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"ç¬¬äºŒå°ç”µè„‘å¼€å§‹å·¥ä½œï¼š"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="comment">//ç¬¬äºŒå°ç”µè„‘ç»„è£…</span></span><br><span class="line">Computer * computer2 = <span class="keyword">new</span> Computer(<span class="keyword">new</span> LenovoCPU, <span class="keyword">new</span> LenovoVideoCard, <span class="keyword">new</span> LenovoMemory);;</span><br><span class="line">computer2-&gt;work();</span><br><span class="line"><span class="keyword">delete</span> computer2;</span><br><span class="line"></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"-----------------------"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"ç¬¬ä¸‰å°ç”µè„‘å¼€å§‹å·¥ä½œï¼š"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="comment">//ç¬¬ä¸‰å°ç”µè„‘ç»„è£…</span></span><br><span class="line">Computer * computer3 = <span class="keyword">new</span> Computer(<span class="keyword">new</span> LenovoCPU, <span class="keyword">new</span> IntelVideoCard, <span class="keyword">new</span> LenovoMemory);;</span><br><span class="line">computer3-&gt;work();</span><br><span class="line"><span class="keyword">delete</span> computer3;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ–‡ä»¶æ“ä½œ"><a href="#æ–‡ä»¶æ“ä½œ" class="headerlink" title="æ–‡ä»¶æ“ä½œ"></a>æ–‡ä»¶æ“ä½œ</h2><p>æ–‡ä»¶ç±»å‹ï¼š</p><ul><li>æ–‡æœ¬æ–‡ä»¶ - ä»¥æ–‡æœ¬çš„ ASCII ç å½¢å¼å­˜å‚¨åœ¨è®¡ç®—æœºä¸­</li><li>ä»¥äºŒè¿›åˆ¶å½¢å¼å­˜å‚¨åœ¨è®¡ç®—æœºä¸­ï¼Œä¸€èˆ¬ç”¨æˆ·ä¸èƒ½ç›´æ¥è¯»æ‡‚</li></ul><p>==åŒ…å«å¤´æ–‡ä»¶ #include\<fstream\>==</p><p>æ“ä½œæ–‡ä»¶çš„ä¸‰å¤§ç±»ï¼š</p><ul><li>ofstreamï¼šå†™æ“ä½œ</li><li>ifstreamï¼šè¯»æ“ä½œ</li><li>fstreamï¼šè¯»å†™æ“ä½œ</li></ul><div class="table-container"><table><thead><tr><th>æ‰“å¼€æ–¹å¼</th><th>è§£é‡Š</th></tr></thead><tbody><tr><td>ios::in</td><td>ä¸ºè¯»æ–‡ä»¶è€Œæ‰“å¼€æ–‡ä»¶</td></tr><tr><td>ios::out</td><td>ä¸ºå†™æ–‡ä»¶è€Œæ‰“å¼€æ–‡ä»¶</td></tr><tr><td>ios::ate</td><td>åˆå§‹ä½ç½®ï¼šæ–‡ä»¶å°¾</td></tr><tr><td>ios::app</td><td>è¿½åŠ æ–¹å¼å†™æ–‡ä»¶</td></tr><tr><td>ios::trunc</td><td>å¦‚æœæ–‡ä»¶å­˜åœ¨å…ˆåˆ é™¤ï¼Œå†åˆ›å»º</td></tr><tr><td>ios::binary</td><td>äºŒè¿›åˆ¶æ–¹å¼</td></tr></tbody></table></div><p>åˆ©ç”¨ ï½œ æ“ä½œç¬¦å¯ä»¥è®¾ç½®äºŒè¿›åˆ¶æ–¹å¼å†™æ–‡ä»¶ <code>ios::binary | ios::out</code></p><h3 id="å†™æ–‡ä»¶"><a href="#å†™æ–‡ä»¶" class="headerlink" title="å†™æ–‡ä»¶"></a>å†™æ–‡ä»¶</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;fstream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">ofstream ofs;</span><br><span class="line">ofs.<span class="built_in">open</span>(<span class="string">"test.txt"</span>, ios::out);</span><br><span class="line"></span><br><span class="line">ofs &lt;&lt; <span class="string">"å§“åï¼šå¼ ä¸‰"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">ofs &lt;&lt; <span class="string">"æ€§åˆ«ï¼šç”·"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">ofs &lt;&lt; <span class="string">"å¹´é¾„ï¼š18"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">ofs.<span class="built_in">close</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>æ–‡ä»¶æ“ä½œå¿…é¡»åŒ…å«å¤´æ–‡ä»¶ fstream</li><li>è¯»æ–‡ä»¶å¯ä»¥åˆ©ç”¨ ofstream  ï¼Œæˆ–è€…fstreamç±»</li><li>æ‰“å¼€æ–‡ä»¶æ—¶å€™éœ€è¦æŒ‡å®šæ“ä½œæ–‡ä»¶çš„è·¯å¾„ï¼Œä»¥åŠæ‰“å¼€æ–¹å¼</li><li>åˆ©ç”¨&lt;&lt;å¯ä»¥å‘æ–‡ä»¶ä¸­å†™æ•°æ®</li><li>æ“ä½œå®Œæ¯•ï¼Œè¦å…³é—­æ–‡ä»¶</li></ul><h3 id="è¯»æ–‡ä»¶"><a href="#è¯»æ–‡ä»¶" class="headerlink" title="è¯»æ–‡ä»¶"></a>è¯»æ–‡ä»¶</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">ifstream ifs;</span><br><span class="line">ifs.<span class="built_in">open</span>(<span class="string">"test.txt"</span>, ios::in);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (!ifs.is_open())</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"æ–‡ä»¶æ‰“å¼€å¤±è´¥"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç¬¬ä¸€ç§æ–¹å¼</span></span><br><span class="line"><span class="comment">//char buf[1024] = &#123; 0 &#125;;</span></span><br><span class="line"><span class="comment">//while (ifs &gt;&gt; buf)</span></span><br><span class="line"><span class="comment">//&#123;</span></span><br><span class="line"><span class="comment">//cout &lt;&lt; buf &lt;&lt; endl;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//ç¬¬äºŒç§</span></span><br><span class="line"><span class="comment">//char buf[1024] = &#123; 0 &#125;;</span></span><br><span class="line"><span class="comment">//while (ifs.getline(buf,sizeof(buf)))</span></span><br><span class="line"><span class="comment">//&#123;</span></span><br><span class="line"><span class="comment">//cout &lt;&lt; buf &lt;&lt; endl;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//ç¬¬ä¸‰ç§</span></span><br><span class="line"><span class="comment">//string buf;</span></span><br><span class="line"><span class="comment">//while (getline(ifs, buf))</span></span><br><span class="line"><span class="comment">//&#123;</span></span><br><span class="line"><span class="comment">//cout &lt;&lt; buf &lt;&lt; endl;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment">//ç¬¬å››ç§</span></span><br><span class="line">  <span class="comment">//char c;</span></span><br><span class="line">  <span class="comment">//while( (c = ifs.get()) != EOF )</span></span><br><span class="line">  <span class="comment">//&#123;</span></span><br><span class="line">  <span class="comment">//  cout &lt;&lt; c;</span></span><br><span class="line">  <span class="comment">//&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">char</span> c;</span><br><span class="line"><span class="keyword">while</span> ((c = ifs.<span class="built_in">get</span>()) != EOF)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; c;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ifs.<span class="built_in">close</span>();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>is_open å¯ä»¥åˆ¤æ–­æ–‡ä»¶æ˜¯å¦æ‰“å¼€æˆåŠŸ</code></p><h3 id="äºŒè¿›åˆ¶æ–‡ä»¶"><a href="#äºŒè¿›åˆ¶æ–‡ä»¶" class="headerlink" title="äºŒè¿›åˆ¶æ–‡ä»¶"></a>äºŒè¿›åˆ¶æ–‡ä»¶</h3><p><strong>å†™æ–‡ä»¶</strong></p><p>å‡½æ•°åŸå‹ï¼š</p><p><code>ostream&amp; write(const char * buffer, int len);</code></p><p>buffer æŒ‡å‘å†…å­˜ä¸­ä¸€æ®µå­˜å‚¨ç©ºé—´ï¼Œlen æ˜¯è¯»å†™çš„å­—èŠ‚æ•°</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="keyword">char</span> m_Name[<span class="number">64</span>];</span><br><span class="line"><span class="keyword">int</span> m_Age;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//äºŒè¿›åˆ¶æ–‡ä»¶  å†™æ–‡ä»¶</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//1ã€åŒ…å«å¤´æ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//2ã€åˆ›å»ºè¾“å‡ºæµå¯¹è±¡</span></span><br><span class="line"><span class="function">ofstream <span class="title">ofs</span><span class="params">(<span class="string">"person.txt"</span>, ios::out | ios::binary)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//3ã€æ‰“å¼€æ–‡ä»¶</span></span><br><span class="line"><span class="comment">//ofs.open("person.txt", ios::out | ios::binary);</span></span><br><span class="line"></span><br><span class="line">Person p = &#123;<span class="string">"å¼ ä¸‰"</span>  , <span class="number">18</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//4ã€å†™æ–‡ä»¶</span></span><br><span class="line">  <span class="comment">// (const char *)&amp;p çš„åŸå› æ˜¯ *&amp;p å–å‡ºæ¥çš„æ˜¯ *p ç±»å‹ï¼Œéœ€è¦è½¬æ¢ä¸º char * ç±»å‹</span></span><br><span class="line">ofs.<span class="built_in">write</span>((<span class="keyword">const</span> <span class="keyword">char</span> *)&amp;p, <span class="keyword">sizeof</span>(p));</span><br><span class="line"></span><br><span class="line"><span class="comment">//5ã€å…³é—­æ–‡ä»¶</span></span><br><span class="line">ofs.<span class="built_in">close</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>è¯»æ–‡ä»¶</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="keyword">char</span> m_Name[<span class="number">64</span>];</span><br><span class="line"><span class="keyword">int</span> m_Age;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="function">ifstream <span class="title">ifs</span><span class="params">(<span class="string">"person.txt"</span>, ios::in | ios::binary)</span></span>;</span><br><span class="line"><span class="keyword">if</span> (!ifs.is_open())</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"æ–‡ä»¶æ‰“å¼€å¤±è´¥"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Person p;</span><br><span class="line">ifs.<span class="built_in">read</span>((<span class="keyword">char</span> *)&amp;p, <span class="keyword">sizeof</span>(p));</span><br><span class="line"></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"å§“åï¼š "</span> &lt;&lt; p.m_Name &lt;&lt; <span class="string">" å¹´é¾„ï¼š "</span> &lt;&lt; p.m_Age &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>C++å¼•å…¥äº†ostringstreamã€istringstreamã€stringstreamè¿™ä¸‰ä¸ªç±»ï¼Œè¦ä½¿ç”¨ä»–ä»¬åˆ›å»ºå¯¹è±¡å°±å¿…é¡»åŒ…å«<sstream>è¿™ä¸ªå¤´æ–‡ä»¶ã€‚<br><strong>istringstream</strong>ç±»ç”¨äºæ‰§è¡ŒC++é£æ ¼çš„ä¸²æµçš„è¾“å…¥æ“ä½œã€‚<br><strong>ostringstream</strong>ç±»ç”¨äºæ‰§è¡ŒCé£æ ¼çš„ä¸²æµçš„è¾“å‡ºæ“ä½œã€‚<br><strong>strstream</strong>ç±»åŒæ—¶å¯ä»¥æ”¯æŒCé£æ ¼çš„ä¸²æµçš„è¾“å…¥è¾“å‡ºæ“ä½œã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#inlucde <span class="meta-string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sstream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; user_arr;</span><br><span class="line">  ifstream fp;</span><br><span class="line">  fp.<span class="built_in">open</span>(<span class="string">"data.csv"</span>, ios::in);</span><br><span class="line">  <span class="built_in">string</span> <span class="built_in">line</span>;</span><br><span class="line">  getline(fp, <span class="built_in">line</span>); <span class="comment">// skip the first line of the data. this is useful for skiping requirement.</span></span><br><span class="line">  <span class="keyword">while</span>(getline(fp, <span class="built_in">line</span>))&#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">float</span>&gt; data_line;</span><br><span class="line">    <span class="built_in">string</span> number;</span><br><span class="line">    <span class="function"><span class="built_in">istringstream</span> <span class="title">readstr</span><span class="params">(<span class="built_in">line</span>)</span></span>;<span class="comment">// string stream style</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">4</span>; j++)&#123;</span><br><span class="line">      getline(readstr, number, <span class="string">','</span>);</span><br><span class="line">      data_line.push_back(atof(number.c_str()));<span class="comment">// first convert to char *, then convert to float. float for atof, int for atoi, long for atol;</span></span><br><span class="line">    &#125;</span><br><span class="line">    user_arr.push_back(data_line);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="C-æ³›å‹æ¦‚å¿µï¼ˆæ¨¡æ¿ï¼‰"><a href="#C-æ³›å‹æ¦‚å¿µï¼ˆæ¨¡æ¿ï¼‰" class="headerlink" title="C++ æ³›å‹æ¦‚å¿µï¼ˆæ¨¡æ¿ï¼‰"></a>C++ æ³›å‹æ¦‚å¿µï¼ˆæ¨¡æ¿ï¼‰</h2><p>æ¨¡æ¿ç‰¹ç‚¹ï¼š</p><ul><li><p>æ¨¡æ¿ä¸å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œå®ƒä½œä¸ºä¸€ä¸ªæ¡†æ¶</p></li><li><p>æ¨¡æ¿ä¸æ˜¯ä¸‡èƒ½é€šç”¨çš„</p></li></ul><p><strong>å‡½æ•°æ¨¡æ¿å’Œç±»æ¨¡æ¿</strong></p><h3 id="å‡½æ•°æ¨¡æ¿è¯­æ³•"><a href="#å‡½æ•°æ¨¡æ¿è¯­æ³•" class="headerlink" title="å‡½æ•°æ¨¡æ¿è¯­æ³•"></a>å‡½æ•°æ¨¡æ¿è¯­æ³•</h3><p>å‡½æ•°æ¨¡æ¿ä½œç”¨ï¼š</p><p>å»ºç«‹ä¸€ä¸ªé€šç”¨å‡½æ•°ï¼Œå…¶å‡½æ•°è¿”å›å€¼ç±»å‹å’Œå½¢å‚ç±»å‹å¯ä»¥ä¸å…·ä½“åˆ¶å®šï¼Œç”¨ä¸€ä¸ª<strong>è™šæ‹Ÿçš„ç±»å‹</strong>æ¥ä»£è¡¨ã€‚</p><p><strong>è¯­æ³•ï¼š</strong> </p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line">å‡½æ•°å£°æ˜æˆ–å®šä¹‰</span><br></pre></td></tr></table></figure><p><strong>è§£é‡Šï¼š</strong></p><p>template  â€”-  å£°æ˜åˆ›å»ºæ¨¡æ¿</p><p>typename  â€”- è¡¨é¢å…¶åé¢çš„ç¬¦å·æ˜¯ä¸€ç§æ•°æ®ç±»å‹ï¼Œå¯ä»¥ç”¨classä»£æ›¿ï¼ˆå³ä¸ºç±»æ¨¡æ¿ï¼‰</p><p>T    â€”-   é€šç”¨çš„æ•°æ®ç±»å‹ï¼Œåç§°å¯ä»¥æ›¿æ¢ï¼Œé€šå¸¸ä¸ºå¤§å†™å­—æ¯</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//äº¤æ¢æ•´å‹å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">swapInt</span><span class="params">(<span class="keyword">int</span>&amp; a, <span class="keyword">int</span>&amp; b)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> temp = a;</span><br><span class="line">a = b;</span><br><span class="line">b = temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//äº¤æ¢æµ®ç‚¹å‹å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">swapDouble</span><span class="params">(<span class="keyword">double</span>&amp; a, <span class="keyword">double</span>&amp; b)</span> </span>&#123;</span><br><span class="line"><span class="keyword">double</span> temp = a;</span><br><span class="line">a = b;</span><br><span class="line">b = temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ©ç”¨æ¨¡æ¿æä¾›é€šç”¨çš„äº¤æ¢å‡½æ•°</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">mySwap</span><span class="params">(T&amp; a, T&amp; b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">T temp = a;</span><br><span class="line">a = b;</span><br><span class="line">b = temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> a = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">int</span> b = <span class="number">20</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//swapInt(a, b);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ©ç”¨æ¨¡æ¿å®ç°äº¤æ¢</span></span><br><span class="line"><span class="comment">//1ã€è‡ªåŠ¨ç±»å‹æ¨å¯¼</span></span><br><span class="line">mySwap(a, b);</span><br><span class="line"></span><br><span class="line"><span class="comment">//2ã€æ˜¾ç¤ºæŒ‡å®šç±»å‹</span></span><br><span class="line">mySwap&lt;<span class="keyword">int</span>&gt;(a, b);</span><br><span class="line"></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"a = "</span> &lt;&lt; a &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"b = "</span> &lt;&lt; b &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ€»ç»“ï¼š</p><ul><li><p>å‡½æ•°æ¨¡æ¿æœ‰ä¸¤ç§ä½¿ç”¨æ–¹å¼ï¼šè‡ªåŠ¨ç±»å‹æ¨å¯¼ã€æ˜¾ç¤ºæŒ‡å®šç±»å‹</p></li><li><p>æ¨¡æ¿çš„ç›®çš„æ˜¯ä¸ºäº†æé«˜å¤ç”¨æ€§ï¼Œå°†ç±»å‹å‚æ•°åŒ–</p></li></ul><h4 id="å‡½æ•°æ¨¡æ¿æ³¨æ„äº‹é¡¹"><a href="#å‡½æ•°æ¨¡æ¿æ³¨æ„äº‹é¡¹" class="headerlink" title="å‡½æ•°æ¨¡æ¿æ³¨æ„äº‹é¡¹"></a>å‡½æ•°æ¨¡æ¿æ³¨æ„äº‹é¡¹</h4><p>æ³¨æ„äº‹é¡¹ï¼š</p><ul><li>è‡ªåŠ¨ç±»å‹æ¨å¯¼ï¼Œå¿…é¡»æ¨å¯¼å‡ºä¸€è‡´çš„æ•°æ®ç±»å‹T,æ‰å¯ä»¥ä½¿ç”¨</li></ul><ul><li>æ¨¡æ¿å¿…é¡»è¦ç¡®å®šå‡ºTçš„æ•°æ®ç±»å‹ï¼Œæ‰å¯ä»¥ä½¿ç”¨</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åˆ©ç”¨æ¨¡æ¿æä¾›é€šç”¨çš„äº¤æ¢å‡½æ•°</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">void</span> <span class="title">mySwap</span>(<span class="title">T</span>&amp; <span class="title">a</span>, <span class="title">T</span>&amp; <span class="title">b</span>)</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">T temp = a;</span><br><span class="line">a = b;</span><br><span class="line">b = temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 1ã€è‡ªåŠ¨ç±»å‹æ¨å¯¼ï¼Œå¿…é¡»æ¨å¯¼å‡ºä¸€è‡´çš„æ•°æ®ç±»å‹T,æ‰å¯ä»¥ä½¿ç”¨</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> a = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">int</span> b = <span class="number">20</span>;</span><br><span class="line"><span class="keyword">char</span> c = <span class="string">'c'</span>;</span><br><span class="line"></span><br><span class="line">mySwap(a, b); <span class="comment">// æ­£ç¡®ï¼Œå¯ä»¥æ¨å¯¼å‡ºä¸€è‡´çš„T</span></span><br><span class="line"><span class="comment">//mySwap(a, c); // é”™è¯¯ï¼Œæ¨å¯¼ä¸å‡ºä¸€è‡´çš„Tç±»å‹</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 2ã€æ¨¡æ¿å¿…é¡»è¦ç¡®å®šå‡ºTçš„æ•°æ®ç±»å‹ï¼Œæ‰å¯ä»¥ä½¿ç”¨</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">void</span> <span class="title">func</span>()</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"func è°ƒç”¨"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test02</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//func(); //é”™è¯¯ï¼Œæ¨¡æ¿ä¸èƒ½ç‹¬ç«‹ä½¿ç”¨ï¼Œå¿…é¡»ç¡®å®šå‡ºTçš„ç±»å‹</span></span><br><span class="line">func&lt;<span class="keyword">int</span>&gt;(); <span class="comment">//åˆ©ç”¨æ˜¾ç¤ºæŒ‡å®šç±»å‹çš„æ–¹å¼ï¼Œç»™Tä¸€ä¸ªç±»å‹ï¼Œæ‰å¯ä»¥ä½¿ç”¨è¯¥æ¨¡æ¿</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line">test02();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ä½¿ç”¨æ¨¡æ¿æ—¶å¿…é¡»ç¡®å®šå‡ºé€šç”¨æ•°æ®ç±»å‹ T ï¼Œå¹¶ä¸”èƒ½å¤Ÿæ¨å¯¼å‡ºä¸€è‡´çš„ç±»å‹</strong></p><h4 id="å‡½æ•°æ¨¡æ¿æ¡ˆä¾‹ï¼šé€‰æ‹©æ’åº"><a href="#å‡½æ•°æ¨¡æ¿æ¡ˆä¾‹ï¼šé€‰æ‹©æ’åº" class="headerlink" title="å‡½æ•°æ¨¡æ¿æ¡ˆä¾‹ï¼šé€‰æ‹©æ’åº"></a>å‡½æ•°æ¨¡æ¿æ¡ˆä¾‹ï¼šé€‰æ‹©æ’åº</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">mySwap</span><span class="params">(T &amp;a, T &amp;b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    T temp = a;</span><br><span class="line">    a = b;</span><br><span class="line">    b = temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt; </span></span><br><span class="line"><span class="class"><span class="title">void</span> <span class="title">mySort</span>(<span class="title">T</span> <span class="title">arr</span>[], <span class="title">T</span> <span class="title">len</span>)</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> <span class="built_in">max</span> = i;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = i+<span class="number">1</span>; j &lt; len; j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(arr[j] &gt; <span class="built_in">max</span>)&#123;</span><br><span class="line">                <span class="built_in">max</span> = j;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">max</span> != i)&#123;</span><br><span class="line">            mySwap(arr[<span class="built_in">max</span>], arr[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printArray</span><span class="params">(T arr[], <span class="keyword">int</span> len)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; arr[i] &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//æµ‹è¯•charæ•°ç»„</span></span><br><span class="line"><span class="keyword">char</span> charArr[] = <span class="string">"bdcfeagh"</span>;</span><br><span class="line"><span class="comment">//int num = sizeof(charArr) / sizeof(char);</span></span><br><span class="line"><span class="comment">//mySort(charArr, num);</span></span><br><span class="line">mySort(charArr, <span class="keyword">sizeof</span>(charArr)/<span class="keyword">sizeof</span>(<span class="keyword">char</span>) );</span><br><span class="line"><span class="comment">//printArray(charArr, num);</span></span><br><span class="line">printArray(charArr, <span class="keyword">sizeof</span>(charArr)/<span class="keyword">sizeof</span>(<span class="keyword">char</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test02</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//æµ‹è¯•intæ•°ç»„</span></span><br><span class="line"><span class="keyword">int</span> intArr[] = &#123; <span class="number">7</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">9</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span> &#125;;</span><br><span class="line"><span class="keyword">int</span> num = <span class="keyword">sizeof</span>(intArr) / <span class="keyword">sizeof</span>(<span class="keyword">int</span>);</span><br><span class="line">mySort(intArr, num);</span><br><span class="line">printArray(intArr, num);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line">test02();</span><br><span class="line"></span><br><span class="line"><span class="comment">//system("pause");</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æ™®é€šå‡½æ•°ä¸å‡½æ•°æ¨¡æ¿çš„åŒºåˆ«"><a href="#æ™®é€šå‡½æ•°ä¸å‡½æ•°æ¨¡æ¿çš„åŒºåˆ«" class="headerlink" title="æ™®é€šå‡½æ•°ä¸å‡½æ•°æ¨¡æ¿çš„åŒºåˆ«"></a>æ™®é€šå‡½æ•°ä¸å‡½æ•°æ¨¡æ¿çš„åŒºåˆ«</h4><p><strong>æ™®é€šå‡½æ•°ä¸å‡½æ•°æ¨¡æ¿åŒºåˆ«ï¼š</strong></p><ul><li>æ™®é€šå‡½æ•°è°ƒç”¨æ—¶å¯ä»¥å‘ç”Ÿè‡ªåŠ¨ç±»å‹è½¬æ¢ï¼ˆéšå¼ç±»å‹è½¬æ¢ï¼‰</li><li>å‡½æ•°æ¨¡æ¿è°ƒç”¨æ—¶ï¼Œå¦‚æœåˆ©ç”¨è‡ªåŠ¨ç±»å‹æ¨å¯¼ï¼Œä¸ä¼šå‘ç”Ÿéšå¼ç±»å‹è½¬æ¢</li><li>å¦‚æœåˆ©ç”¨<strong>æ˜¾ç¤ºæŒ‡å®šç±»å‹çš„æ–¹å¼ï¼Œå¯ä»¥å‘ç”Ÿéšå¼ç±»å‹è½¬æ¢</strong></li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ™®é€šå‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">myAdd01</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å‡½æ•°æ¨¡æ¿</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">T</span> <span class="title">myAdd02</span>(<span class="title">T</span> <span class="title">a</span>, <span class="title">T</span> <span class="title">b</span>)  </span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä½¿ç”¨å‡½æ•°æ¨¡æ¿æ—¶ï¼Œå¦‚æœç”¨è‡ªåŠ¨ç±»å‹æ¨å¯¼ï¼Œä¸ä¼šå‘ç”Ÿè‡ªåŠ¨ç±»å‹è½¬æ¢,å³éšå¼ç±»å‹è½¬æ¢</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> a = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">int</span> b = <span class="number">20</span>;</span><br><span class="line"><span class="keyword">char</span> c = <span class="string">'c'</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; myAdd01(a, c) &lt;&lt; <span class="built_in">endl</span>; <span class="comment">//æ­£ç¡®ï¼Œå°†charç±»å‹çš„'c'éšå¼è½¬æ¢ä¸ºintç±»å‹  'c' å¯¹åº” ASCIIç  99</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//myAdd02(a, c); // æŠ¥é”™ï¼Œä½¿ç”¨è‡ªåŠ¨ç±»å‹æ¨å¯¼æ—¶ï¼Œä¸ä¼šå‘ç”Ÿéšå¼ç±»å‹è½¬æ¢</span></span><br><span class="line"></span><br><span class="line">myAdd02&lt;<span class="keyword">int</span>&gt;(a, c); <span class="comment">//æ­£ç¡®ï¼Œå¦‚æœç”¨æ˜¾ç¤ºæŒ‡å®šç±»å‹ï¼Œå¯ä»¥å‘ç”Ÿéšå¼ç±»å‹è½¬æ¢</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æ¨¡æ¿çš„å±€é™æ€§"><a href="#æ¨¡æ¿çš„å±€é™æ€§" class="headerlink" title="æ¨¡æ¿çš„å±€é™æ€§"></a>æ¨¡æ¿çš„å±€é™æ€§</h4><p>å±€é™æ€§åœ¨äºï¼šå¯¹äºæ¨¡æ¿ä¸­çš„ T è¿™ä¸ªæ•°æ®ç±»å‹æ¥è¯´ï¼Œæœ‰äº›æ—¶å€™å®ƒæ¨å¯¼ä¸å‡ºæ¥ T å±äºä»€ä¹ˆç±»å‹ ï¼Œè¿™æ˜¯æœ€å¤§çš„å±€é™æ€§</p><p><strong>ä¾‹å¦‚ï¼š</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">void</span> <span class="title">f</span>(<span class="title">T</span> <span class="title">a</span>, <span class="title">T</span> <span class="title">b</span>)</span></span><br><span class="line"><span class="class">&#123;</span> </span><br><span class="line">   a = b;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><p>åœ¨ä¸Šè¿°ä»£ç ä¸­æä¾›çš„èµ‹å€¼æ“ä½œï¼Œå¦‚æœä¼ å…¥çš„aå’Œbæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå°±æ— æ³•å®ç°äº†</p><p>å†ä¾‹å¦‚ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">void</span> <span class="title">f</span>(<span class="title">T</span> <span class="title">a</span>, <span class="title">T</span> <span class="title">b</span>)</span></span><br><span class="line"><span class="class">&#123;</span> </span><br><span class="line">   <span class="keyword">if</span>(a &gt; b) &#123; ... &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><p>åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œå¦‚æœTçš„æ•°æ®ç±»å‹ä¼ å…¥çš„æ˜¯åƒPersonè¿™æ ·çš„è‡ªå®šä¹‰æ•°æ®ç±»å‹ï¼Œä¹Ÿæ— æ³•æ­£å¸¸è¿è¡Œ</p><p>å› æ­¤C++ä¸ºäº†è§£å†³è¿™ç§é—®é¢˜ï¼Œæä¾›æ¨¡æ¿çš„é‡è½½ï¼Œå¯ä»¥ä¸ºè¿™äº›<strong>ç‰¹å®šçš„ç±»å‹</strong>æä¾›<strong>å…·ä½“åŒ–çš„æ¨¡æ¿</strong></p><p><strong>å…·ä½“åŒ–çš„æ¨¡æ¿</strong></p><p>è¯­æ³•ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å…·ä½“åŒ–ï¼Œæ˜¾ç¤ºå…·ä½“åŒ–çš„åŸå‹å’Œå®šæ„æ€ä»¥template&lt;&gt;å¼€å¤´ï¼Œå¹¶é€šè¿‡åç§°æ¥æŒ‡å‡ºç±»å‹</span></span><br><span class="line"><span class="comment">//å…·ä½“åŒ–ä¼˜å…ˆäºå¸¸è§„æ¨¡æ¿</span></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;&gt; <span class="keyword">bool</span> <span class="title">myCompare</span><span class="params">(Person &amp;p1, Person &amp;p2)</span></span></span><br></pre></td></tr></table></figure><p>å¯¹æ¯”äºï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">void</span> <span class="title">myTest</span>(<span class="title">int</span> <span class="title">a</span>, <span class="title">int</span> <span class="title">b</span>)&#123;</span></span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç±»æ¨¡æ¿"><a href="#ç±»æ¨¡æ¿" class="headerlink" title="ç±»æ¨¡æ¿"></a>ç±»æ¨¡æ¿</h3><p>æ³¨æ„ï¼š</p><ul><li>ç±»æ¨¡æ¿åªèƒ½ç”¨æ˜¾ç¤ºæŒ‡å®šç±»å‹æ–¹å¼</li><li>ç±»æ¨¡æ¿ä¸­æ¨¡æ¿å‚æ•°åˆ—è¡¨å¯ä»¥æœ‰é»˜è®¤å‚æ•°</li></ul><p>è¯­æ³•ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">className</span>&#123;</span>&#125;;</span><br></pre></td></tr></table></figure><p><strong>åœ¨ç±»æ¨¡æ¿ä¸­ï¼Œå£°æ˜æ¨¡æ¿ template åé¢åŠ ç±»</strong></p><h3 id="ç±»æ¨¡æ¿ä¸å‡½æ•°æ¨¡æ¿åŒºåˆ«"><a href="#ç±»æ¨¡æ¿ä¸å‡½æ•°æ¨¡æ¿åŒºåˆ«" class="headerlink" title="ç±»æ¨¡æ¿ä¸å‡½æ•°æ¨¡æ¿åŒºåˆ«"></a>ç±»æ¨¡æ¿ä¸å‡½æ•°æ¨¡æ¿åŒºåˆ«</h3><ul><li>ç±»æ¨¡æ¿æ²¡æœ‰è‡ªåŠ¨ç±»å‹æ¨å¯¼çš„ä½¿ç”¨æ–¹å¼</li><li>ç±»æ¨¡æ¿ä½¿ç”¨åªèƒ½ç”¨æ˜¾ç¤ºæŒ‡å®šç±»å‹æ–¹å¼</li><li>ç±»æ¨¡æ¿åœ¨æ¨¡æ¿å‚æ•°åˆ—è¡¨ä¸­æœ‰é»˜è®¤å‚æ•°</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="comment">//ç±»æ¨¡æ¿</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">NameType</span>, <span class="title">class</span> <span class="title">AgeType</span> = <span class="title">int</span>&gt; //è®¾ç½®çš„é»˜è®¤å‚æ•° <span class="title">int</span></span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">Person</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Person(NameType name, AgeType age)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">this</span>-&gt;mName = name;</span><br><span class="line"><span class="keyword">this</span>-&gt;mAge = age;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">showPerson</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"name: "</span> &lt;&lt; <span class="keyword">this</span>-&gt;mName &lt;&lt; <span class="string">" age: "</span> &lt;&lt; <span class="keyword">this</span>-&gt;mAge &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">NameType mName;</span><br><span class="line">AgeType mAge;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//1ã€ç±»æ¨¡æ¿æ²¡æœ‰è‡ªåŠ¨ç±»å‹æ¨å¯¼çš„ä½¿ç”¨æ–¹å¼</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">// Person p("å­™æ‚Ÿç©º", 1000); // é”™è¯¯ ç±»æ¨¡æ¿ä½¿ç”¨æ—¶å€™ï¼Œä¸å¯ä»¥ç”¨è‡ªåŠ¨ç±»å‹æ¨å¯¼</span></span><br><span class="line">Person &lt;<span class="built_in">string</span> ,<span class="keyword">int</span>&gt;p(<span class="string">"å­™æ‚Ÿç©º"</span>, <span class="number">1000</span>); <span class="comment">//å¿…é¡»ä½¿ç”¨æ˜¾ç¤ºæŒ‡å®šç±»å‹çš„æ–¹å¼ï¼Œä½¿ç”¨ç±»æ¨¡æ¿</span></span><br><span class="line">p.showPerson();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//2ã€ç±»æ¨¡æ¿åœ¨æ¨¡æ¿å‚æ•°åˆ—è¡¨ä¸­å¯ä»¥æœ‰é»˜è®¤å‚æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test02</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Person &lt;<span class="built_in">string</span>&gt; p(<span class="string">"çŒªå…«æˆ’"</span>, <span class="number">999</span>); <span class="comment">//ç±»æ¨¡æ¿ä¸­çš„æ¨¡æ¿å‚æ•°åˆ—è¡¨ å¯ä»¥æŒ‡å®šé»˜è®¤å‚æ•°</span></span><br><span class="line">p.showPerson();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">test02();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç±»æ¨¡æ¿ä¸­æˆå‘˜å‡½æ•°åˆ›å»ºæ—¶æœº"><a href="#ç±»æ¨¡æ¿ä¸­æˆå‘˜å‡½æ•°åˆ›å»ºæ—¶æœº" class="headerlink" title="ç±»æ¨¡æ¿ä¸­æˆå‘˜å‡½æ•°åˆ›å»ºæ—¶æœº"></a>ç±»æ¨¡æ¿ä¸­æˆå‘˜å‡½æ•°åˆ›å»ºæ—¶æœº</h3><ul><li>æ™®é€šç±»ä¸­çš„æˆå‘˜å‡½æ•°ä¸€å¼€å§‹å°±å¯ä»¥åˆ›å»º</li><li>ç±»æ¨¡æ¿ä¸­çš„æˆå‘˜å‡½æ•°åœ¨è°ƒç”¨æ—¶æ‰åˆ›å»º</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person1</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">showPerson1</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"Person1 show"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person2</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">showPerson2</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"Person2 show"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">MyClass</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">T obj;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç±»æ¨¡æ¿ä¸­çš„æˆå‘˜å‡½æ•°ï¼Œå¹¶ä¸æ˜¯ä¸€å¼€å§‹å°±åˆ›å»ºçš„ï¼Œè€Œæ˜¯åœ¨æ¨¡æ¿è°ƒç”¨æ—¶å†ç”Ÿæˆ</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">fun1</span><span class="params">()</span> </span>&#123; obj.showPerson1(); &#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">fun2</span><span class="params">()</span> </span>&#123; obj.showPerson2(); &#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">MyClass&lt;Person1&gt; m;</span><br><span class="line"></span><br><span class="line">m.fun1();</span><br><span class="line"></span><br><span class="line"><span class="comment">//m.fun2();//ç¼–è¯‘ä¼šå‡ºé”™ï¼Œè¯´æ˜å‡½æ•°è°ƒç”¨æ‰ä¼šå»åˆ›å»ºæˆå‘˜å‡½æ•°</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç±»æ¨¡æ¿å¯¹è±¡ä½œå‡½æ•°å‚æ•°"><a href="#ç±»æ¨¡æ¿å¯¹è±¡ä½œå‡½æ•°å‚æ•°" class="headerlink" title="ç±»æ¨¡æ¿å¯¹è±¡ä½œå‡½æ•°å‚æ•°"></a>ç±»æ¨¡æ¿å¯¹è±¡ä½œå‡½æ•°å‚æ•°</h3><ol><li><strong>æŒ‡å®šä¼ å…¥çš„ç±»å‹   â€”- ç›´æ¥æ˜¾ç¤ºå¯¹è±¡çš„æ•°æ®ç±»å‹</strong></li><li>å‚æ•°æ¨¡æ¿åŒ–           â€”- å°†å¯¹è±¡ä¸­çš„å‚æ•°å˜ä¸ºæ¨¡æ¿è¿›è¡Œä¼ é€’</li><li>æ•´ä¸ªç±»æ¨¡æ¿åŒ–       â€”- å°†è¿™ä¸ªå¯¹è±¡ç±»å‹ æ¨¡æ¿åŒ–è¿›è¡Œä¼ é€’</li></ol><p>å…¶ä¸­æŒ‡å®šæ•°æ®ç±»å‹æ˜¯ä½¿ç”¨æœ€å¹¿æ³›çš„</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="comment">//ç±»æ¨¡æ¿</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">NameType</span>, <span class="title">class</span> <span class="title">AgeType</span> = <span class="title">int</span>&gt; </span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">Person</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Person(NameType name, AgeType age)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">this</span>-&gt;mName = name;</span><br><span class="line"><span class="keyword">this</span>-&gt;mAge = age;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">showPerson</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"name: "</span> &lt;&lt; <span class="keyword">this</span>-&gt;mName &lt;&lt; <span class="string">" age: "</span> &lt;&lt; <span class="keyword">this</span>-&gt;mAge &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">NameType mName;</span><br><span class="line">AgeType mAge;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//1ã€æŒ‡å®šä¼ å…¥çš„ç±»å‹</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printPerson1</span><span class="params">(Person&lt;<span class="built_in">string</span>, <span class="keyword">int</span>&gt; &amp;p)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">p.showPerson();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Person &lt;<span class="built_in">string</span>, <span class="keyword">int</span> &gt;p(<span class="string">"å­™æ‚Ÿç©º"</span>, <span class="number">100</span>);</span><br><span class="line">printPerson1(p);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//2ã€å‚æ•°æ¨¡æ¿åŒ–</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="class"><span class="keyword">class</span> <span class="title">T1</span>, <span class="title">class</span> <span class="title">T2</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">void</span> <span class="title">printPerson2</span>(<span class="title">Person</span>&lt;T1, T2&gt;&amp;<span class="title">p</span>)</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">p.showPerson();</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"T1çš„ç±»å‹ä¸ºï¼š "</span> &lt;&lt; <span class="keyword">typeid</span>(T1).name() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"T2çš„ç±»å‹ä¸ºï¼š "</span> &lt;&lt; <span class="keyword">typeid</span>(T2).name() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test02</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Person &lt;<span class="built_in">string</span>, <span class="keyword">int</span> &gt;p(<span class="string">"çŒªå…«æˆ’"</span>, <span class="number">90</span>);</span><br><span class="line">printPerson2(p);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//3ã€æ•´ä¸ªç±»æ¨¡æ¿åŒ–</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">void</span> <span class="title">printPerson3</span>(<span class="title">T</span> &amp; <span class="title">p</span>)</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"Tçš„ç±»å‹ä¸ºï¼š "</span> &lt;&lt; <span class="keyword">typeid</span>(T).name() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">p.showPerson();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test03</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Person &lt;<span class="built_in">string</span>, <span class="keyword">int</span> &gt;p(<span class="string">"å”åƒ§"</span>, <span class="number">30</span>);</span><br><span class="line">printPerson3(p);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line">test02();</span><br><span class="line">test03();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç±»æ¨¡æ¿ä¸ç»§æ‰¿"><a href="#ç±»æ¨¡æ¿ä¸ç»§æ‰¿" class="headerlink" title="ç±»æ¨¡æ¿ä¸ç»§æ‰¿"></a>ç±»æ¨¡æ¿ä¸ç»§æ‰¿</h3><ul><li>å½“å­ç±»ç»§æ‰¿çš„çˆ¶ç±»æ˜¯ä¸€ä¸ªç±»æ¨¡æ¿æ—¶ï¼Œå­ç±»åœ¨å£°æ˜çš„æ—¶å€™ï¼Œè¦æŒ‡å®šå‡ºçˆ¶ç±»ä¸­ T çš„ç±»å‹</li><li>å¦‚æœä¸æŒ‡å®šï¼Œç¼–è¯‘å™¨æ— æ³•ç»™å­ç±»åˆ†é…å†…å­˜</li><li>å¦‚æœæƒ³çµæ´»æŒ‡å®šå‡ºçˆ¶ç±»ä¸­Tçš„ç±»å‹ï¼Œå­ç±»ä¹Ÿéœ€å˜ä¸ºç±»æ¨¡æ¿</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">Base</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">T m;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//class Son:public Base  //é”™è¯¯ï¼Œc++ç¼–è¯‘éœ€è¦ç»™å­ç±»åˆ†é…å†…å­˜ï¼Œå¿…é¡»çŸ¥é“çˆ¶ç±»ä¸­Tçš„ç±»å‹æ‰å¯ä»¥å‘ä¸‹ç»§æ‰¿</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Son</span> :</span><span class="keyword">public</span> Base&lt;<span class="keyword">int</span>&gt; <span class="comment">//å¿…é¡»æŒ‡å®šä¸€ä¸ªç±»å‹</span></span><br><span class="line">&#123;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Son c;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç±»æ¨¡æ¿ç»§æ‰¿ç±»æ¨¡æ¿ ,å¯ä»¥ç”¨T2æŒ‡å®šçˆ¶ç±»ä¸­çš„Tç±»å‹</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">T1</span>, <span class="title">class</span> <span class="title">T2</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">Son2</span> :</span><span class="keyword">public</span> Base&lt;T2&gt;</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Son2()</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="keyword">typeid</span>(T1).name() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="keyword">typeid</span>(T2).name() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test02</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Son2&lt;<span class="keyword">int</span>, <span class="keyword">char</span>&gt; child1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">test02();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç±»æ¨¡æ¿æˆå‘˜å‡½æ•°ä¸ç±»å¤–å®ç°"><a href="#ç±»æ¨¡æ¿æˆå‘˜å‡½æ•°ä¸ç±»å¤–å®ç°" class="headerlink" title="ç±»æ¨¡æ¿æˆå‘˜å‡½æ•°ä¸ç±»å¤–å®ç°"></a>ç±»æ¨¡æ¿æˆå‘˜å‡½æ•°ä¸ç±»å¤–å®ç°</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//ç±»æ¨¡æ¿ä¸­æˆå‘˜å‡½æ•°ç±»å¤–å®ç°</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">T1</span>, <span class="title">class</span> <span class="title">T2</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">Person</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="comment">//æˆå‘˜å‡½æ•°ç±»å†…å£°æ˜</span></span><br><span class="line">Person(T1 name, T2 age);</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">showPerson</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">T1 m_Name;</span><br><span class="line">T2 m_Age;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ„é€ å‡½æ•° ç±»å¤–å®ç°</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">T1</span>, <span class="title">class</span> <span class="title">T2</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">Person</span>&lt;T1, T2&gt;:</span>:Person(T1 name, T2 age) &#123;</span><br><span class="line"><span class="keyword">this</span>-&gt;m_Name = name;</span><br><span class="line"><span class="keyword">this</span>-&gt;m_Age = age;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æˆå‘˜å‡½æ•° ç±»å¤–å®ç°</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">T1</span>, <span class="title">class</span> <span class="title">T2</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">void</span> <span class="title">Person</span>&lt;T1, T2&gt;:</span>:showPerson() &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"å§“å: "</span> &lt;&lt; <span class="keyword">this</span>-&gt;m_Name &lt;&lt; <span class="string">" å¹´é¾„:"</span> &lt;&lt; <span class="keyword">this</span>-&gt;m_Age &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Person&lt;string, int&gt; p("Tom", 20);</span><br><span class="line">p.showPerson();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç±»å¤–å®ç°éœ€è¦æ·»åŠ æ¨¡æ¿å‚æ•°åˆ—è¡¨</p><h3 id="ç±»æ¨¡æ¿åˆ†æ–‡ä»¶ç¼–å†™"><a href="#ç±»æ¨¡æ¿åˆ†æ–‡ä»¶ç¼–å†™" class="headerlink" title="ç±»æ¨¡æ¿åˆ†æ–‡ä»¶ç¼–å†™"></a>ç±»æ¨¡æ¿åˆ†æ–‡ä»¶ç¼–å†™</h3><p><code>#pragma onceé˜²æ­¢å¤´æ–‡ä»¶é‡å¤ç¼–è¯‘ï¼Œä¸€èˆ¬å†™åœ¨.hå¤´æ–‡ä»¶ä¸­</code></p><p>é—®é¢˜ï¼š</p><ul><li>ç±»æ¨¡æ¿ä¸­æˆå‘˜å‡½æ•°åˆ›å»ºæ—¶æœºæ˜¯åœ¨è°ƒç”¨é˜¶æ®µï¼Œå¯¼è‡´åˆ†æ–‡ä»¶ç¼–å†™æ—¶é“¾æ¥ä¸åˆ°</li></ul><p>è§£å†³ï¼š</p><ul><li>è§£å†³æ–¹å¼1ï¼šç›´æ¥åŒ…å«åœ¨.cppæºæ–‡ä»¶</li><li>è§£å†³æ–¹å¼2ï¼šåªå°†ç±»æ¨¡æ¿çš„å£°æ˜å’Œå®ç°å†™åˆ°åŒä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œå¹¶æ›´æ”¹åç¼€åä¸º.hppï¼Œhppæ˜¯çº¦å®šçš„åç§°ï¼Œå¹¶ä¸æ˜¯å¼ºåˆ¶</li></ul><p><strong>person.hpp</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> once</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">T1</span>, <span class="title">class</span> <span class="title">T2</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">Person</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Person(T1 name, T2 age);</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">showPerson</span><span class="params">()</span></span>;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">T1 m_Name;</span><br><span class="line">T2 m_Age;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ„é€ å‡½æ•° ç±»å¤–å®ç°</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">T1</span>, <span class="title">class</span> <span class="title">T2</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">Person</span>&lt;T1, T2&gt;:</span>:Person(T1 name, T2 age) &#123;</span><br><span class="line"><span class="keyword">this</span>-&gt;m_Name = name;</span><br><span class="line"><span class="keyword">this</span>-&gt;m_Age = age;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æˆå‘˜å‡½æ•° ç±»å¤–å®ç°</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">T1</span>, <span class="title">class</span> <span class="title">T2</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">void</span> <span class="title">Person</span>&lt;T1, T2&gt;:</span>:showPerson() &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"å§“å: "</span> &lt;&lt; <span class="keyword">this</span>-&gt;m_Name &lt;&lt; <span class="string">" å¹´é¾„:"</span> &lt;&lt; <span class="keyword">this</span>-&gt;m_Age &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>main.cpp</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//#include "person.h"</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"person.cpp"</span> <span class="comment">//è§£å†³æ–¹å¼1ï¼ŒåŒ…å«cppæºæ–‡ä»¶</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//è§£å†³æ–¹å¼2ï¼Œå°†å£°æ˜å’Œå®ç°å†™åˆ°ä¸€èµ·ï¼Œæ–‡ä»¶åç¼€åæ”¹ä¸º.hpp</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"person.hpp"</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Person&lt;string, int&gt; p("Tom", 10);</span><br><span class="line">p.showPerson();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç±»æ¨¡æ¿æ¡ˆä¾‹"><a href="#ç±»æ¨¡æ¿æ¡ˆä¾‹" class="headerlink" title="ç±»æ¨¡æ¿æ¡ˆä¾‹"></a>ç±»æ¨¡æ¿æ¡ˆä¾‹</h3><ul><li>å¯ä»¥å¯¹å†…ç½®æ•°æ®ç±»å‹ä»¥åŠè‡ªå®šä¹‰æ•°æ®ç±»å‹çš„æ•°æ®è¿›è¡Œå­˜å‚¨</li><li>å°†æ•°ç»„ä¸­çš„æ•°æ®å­˜å‚¨åˆ°å †åŒº</li><li>æ„é€ å‡½æ•°ä¸­å¯ä»¥ä¼ å…¥æ•°ç»„çš„å®¹é‡</li><li>æä¾›å¯¹åº”çš„æ‹·è´æ„é€ å‡½æ•°ä»¥åŠoperator=é˜²æ­¢æµ…æ‹·è´é—®é¢˜</li><li>æä¾›å°¾æ’æ³•å’Œå°¾åˆ æ³•å¯¹æ•°ç»„ä¸­çš„æ•°æ®è¿›è¡Œå¢åŠ å’Œåˆ é™¤</li><li>å¯ä»¥é€šè¿‡ä¸‹æ ‡çš„æ–¹å¼è®¿é—®æ•°ç»„ä¸­çš„å…ƒç´ </li><li>å¯ä»¥è·å–æ•°ç»„ä¸­å½“å‰å…ƒç´ ä¸ªæ•°å’Œæ•°ç»„çš„å®¹é‡</li></ul><p><strong>myArr.hpp</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> once</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">MyArray</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    </span><br><span class="line"><span class="comment">//æ„é€ å‡½æ•°</span></span><br><span class="line">MyArray(<span class="keyword">int</span> capacity)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">this</span>-&gt;m_Capacity = capacity;</span><br><span class="line"><span class="keyword">this</span>-&gt;m_Size = <span class="number">0</span>;</span><br><span class="line">pAddress = <span class="keyword">new</span> T[<span class="keyword">this</span>-&gt;m_Capacity];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ‹·è´æ„é€ </span></span><br><span class="line">MyArray(<span class="keyword">const</span> MyArray &amp; arr)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">this</span>-&gt;m_Capacity = arr.m_Capacity;</span><br><span class="line"><span class="keyword">this</span>-&gt;m_Size = arr.m_Size;</span><br><span class="line"><span class="keyword">this</span>-&gt;pAddress = <span class="keyword">new</span> T[<span class="keyword">this</span>-&gt;m_Capacity];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>-&gt;m_Size; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//å¦‚æœTä¸ºå¯¹è±¡ï¼Œè€Œä¸”è¿˜åŒ…å«æŒ‡é’ˆï¼Œå¿…é¡»éœ€è¦é‡è½½ = æ“ä½œç¬¦ï¼Œå› ä¸ºè¿™ä¸ªç­‰å·ä¸æ˜¯ æ„é€  è€Œæ˜¯èµ‹å€¼ï¼Œ</span></span><br><span class="line"><span class="comment">// æ™®é€šç±»å‹å¯ä»¥ç›´æ¥= ä½†æ˜¯æŒ‡é’ˆç±»å‹éœ€è¦æ·±æ‹·è´</span></span><br><span class="line"><span class="keyword">this</span>-&gt;pAddress[i] = arr.pAddress[i];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//é‡è½½= æ“ä½œç¬¦  é˜²æ­¢æµ…æ‹·è´é—®é¢˜</span></span><br><span class="line">MyArray&amp; <span class="keyword">operator</span>=(<span class="keyword">const</span> MyArray&amp; myarray) &#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">this</span>-&gt;pAddress != <span class="literal">NULL</span>) &#123;</span><br><span class="line"><span class="keyword">delete</span>[] <span class="keyword">this</span>-&gt;pAddress;</span><br><span class="line"><span class="keyword">this</span>-&gt;m_Capacity = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">this</span>-&gt;m_Size = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">this</span>-&gt;m_Capacity = myarray.m_Capacity;</span><br><span class="line"><span class="keyword">this</span>-&gt;m_Size = myarray.m_Size;</span><br><span class="line"><span class="keyword">this</span>-&gt;pAddress = <span class="keyword">new</span> T[<span class="keyword">this</span>-&gt;m_Capacity];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>-&gt;m_Size; i++) &#123;</span><br><span class="line"><span class="keyword">this</span>-&gt;pAddress[i] = myarray[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//é‡è½½[] æ“ä½œç¬¦  arr[0]</span></span><br><span class="line">T&amp; <span class="keyword">operator</span> [](<span class="keyword">int</span> index)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">this</span>-&gt;pAddress[index]; <span class="comment">//ä¸è€ƒè™‘è¶Šç•Œï¼Œç”¨æˆ·è‡ªå·±å»å¤„ç†</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å°¾æ’æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Push_back</span><span class="params">(<span class="keyword">const</span> T &amp; val)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">this</span>-&gt;m_Capacity == <span class="keyword">this</span>-&gt;m_Size)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">this</span>-&gt;pAddress[<span class="keyword">this</span>-&gt;m_Size] = val;</span><br><span class="line"><span class="keyword">this</span>-&gt;m_Size++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å°¾åˆ æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Pop_back</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">this</span>-&gt;m_Size == <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">this</span>-&gt;m_Size--;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è·å–æ•°ç»„å®¹é‡</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getCapacity</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">this</span>-&gt;m_Capacity;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è·å–æ•°ç»„å¤§å°</span></span><br><span class="line"><span class="function"><span class="keyword">int</span><span class="title">getSize</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">this</span>-&gt;m_Size;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//ææ„</span></span><br><span class="line">~MyArray()</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">this</span>-&gt;pAddress != <span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">delete</span>[] <span class="keyword">this</span>-&gt;pAddress;</span><br><span class="line"><span class="keyword">this</span>-&gt;pAddress = <span class="literal">NULL</span>;</span><br><span class="line"><span class="keyword">this</span>-&gt;m_Capacity = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">this</span>-&gt;m_Size = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">T * pAddress;  <span class="comment">//æŒ‡å‘ä¸€ä¸ªå †ç©ºé—´ï¼Œè¿™ä¸ªç©ºé—´å­˜å‚¨çœŸæ­£çš„æ•°æ®</span></span><br><span class="line"><span class="keyword">int</span> m_Capacity; <span class="comment">//å®¹é‡</span></span><br><span class="line"><span class="keyword">int</span> m_Size;   <span class="comment">// å¤§å°</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><strong>main.cpp</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"myArr.hpp"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printIntArray</span><span class="params">(MyArray&lt;<span class="keyword">int</span>&gt;&amp; arr)</span> </span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; arr.getSize(); i++) &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; arr[i] &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æµ‹è¯•å†…ç½®æ•°æ®ç±»å‹</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="function">MyArray&lt;<span class="keyword">int</span>&gt; <span class="title">array1</span><span class="params">(<span class="number">10</span>)</span></span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">array1.Push_back(i);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"array1æ‰“å°è¾“å‡ºï¼š"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">printIntArray(array1);</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"array1çš„å¤§å°ï¼š"</span> &lt;&lt; array1.getSize() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"array1çš„å®¹é‡ï¼š"</span> &lt;&lt; array1.getCapacity() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"--------------------------"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="function">MyArray&lt;<span class="keyword">int</span>&gt; <span class="title">array2</span><span class="params">(array1)</span></span>;</span><br><span class="line">array2.Pop_back();</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"array2æ‰“å°è¾“å‡ºï¼š"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">printIntArray(array2);</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"array2çš„å¤§å°ï¼š"</span> &lt;&lt; array2.getSize() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"array2çš„å®¹é‡ï¼š"</span> &lt;&lt; array2.getCapacity() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æµ‹è¯•è‡ªå®šä¹‰æ•°æ®ç±»å‹</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Person() &#123;&#125; </span><br><span class="line">Person(<span class="built_in">string</span> name, <span class="keyword">int</span> age) &#123;</span><br><span class="line"><span class="keyword">this</span>-&gt;m_Name = name;</span><br><span class="line"><span class="keyword">this</span>-&gt;m_Age = age;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">string</span> m_Name;</span><br><span class="line"><span class="keyword">int</span> m_Age;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printPersonArray</span><span class="params">(MyArray&lt;Person&gt;&amp; personArr)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; personArr.getSize(); i++) &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"å§“åï¼š"</span> &lt;&lt; personArr[i].m_Name &lt;&lt; <span class="string">" å¹´é¾„ï¼š "</span> &lt;&lt; personArr[i].m_Age &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test02</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//åˆ›å»ºæ•°ç»„</span></span><br><span class="line"><span class="function">MyArray&lt;Person&gt; <span class="title">pArray</span><span class="params">(<span class="number">10</span>)</span></span>;</span><br><span class="line"><span class="function">Person <span class="title">p1</span><span class="params">(<span class="string">"å­™æ‚Ÿç©º"</span>, <span class="number">30</span>)</span></span>;</span><br><span class="line"><span class="function">Person <span class="title">p2</span><span class="params">(<span class="string">"éŸ©ä¿¡"</span>, <span class="number">20</span>)</span></span>;</span><br><span class="line"><span class="function">Person <span class="title">p3</span><span class="params">(<span class="string">"å¦²å·±"</span>, <span class="number">18</span>)</span></span>;</span><br><span class="line"><span class="function">Person <span class="title">p4</span><span class="params">(<span class="string">"ç‹æ˜­å›"</span>, <span class="number">15</span>)</span></span>;</span><br><span class="line"><span class="function">Person <span class="title">p5</span><span class="params">(<span class="string">"èµµäº‘"</span>, <span class="number">24</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ’å…¥æ•°æ®</span></span><br><span class="line">pArray.Push_back(p1);</span><br><span class="line">pArray.Push_back(p2);</span><br><span class="line">pArray.Push_back(p3);</span><br><span class="line">pArray.Push_back(p4);</span><br><span class="line">pArray.Push_back(p5);</span><br><span class="line"></span><br><span class="line">printPersonArray(pArray);</span><br><span class="line"></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"pArrayçš„å¤§å°ï¼š"</span> &lt;&lt; pArray.getSize() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"pArrayçš„å®¹é‡ï¼š"</span> &lt;&lt; pArray.getCapacity() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//test01();</span></span><br><span class="line"></span><br><span class="line">test02();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="STL"><a href="#STL" class="headerlink" title="STL"></a>STL</h2><ul><li>æ ‡å‡†æ¨¡æ¿åº“</li><li><p>å®¹å™¨containerã€ç®—æ³•algorithmã€è¿­ä»£å™¨iterator</p></li><li><p>å®¹å™¨å’Œç®—æ³•ä¹‹é—´é€šè¿‡è¿­ä»£å™¨è¿›è¡Œæ— ç¼è¿æ¥</p></li><li>STL å‡ ä¹æ‰€æœ‰ä»£ç éƒ½é‡‡ç”¨äº†æ¨¡æ¿ç±»æˆ–æ¨¡æ¿å‡½æ•°</li></ul><p>STLå¤§ä½“åˆ†ä¸ºå…­å¤§ç»„ä»¶ï¼Œåˆ†åˆ«æ˜¯:<strong>å®¹å™¨ã€ç®—æ³•ã€è¿­ä»£å™¨ã€ä»¿å‡½æ•°ã€é€‚é…å™¨ï¼ˆé…æ¥å™¨ï¼‰ã€ç©ºé—´é…ç½®å™¨</strong></p><ol><li>å®¹å™¨ï¼šå„ç§æ•°æ®ç»“æ„ï¼Œå¦‚vectorã€listã€dequeã€setã€mapç­‰,ç”¨æ¥å­˜æ”¾æ•°æ®ã€‚</li><li>ç®—æ³•ï¼šå„ç§å¸¸ç”¨çš„ç®—æ³•ï¼Œå¦‚sortã€findã€copyã€for_eachç­‰</li><li>è¿­ä»£å™¨ï¼šæ‰®æ¼”äº†å®¹å™¨ä¸ç®—æ³•ä¹‹é—´çš„èƒ¶åˆå‰‚ã€‚</li><li>ä»¿å‡½æ•°ï¼šè¡Œä¸ºç±»ä¼¼å‡½æ•°ï¼Œå¯ä½œä¸ºç®—æ³•çš„æŸç§ç­–ç•¥ã€‚</li><li>é€‚é…å™¨ï¼šä¸€ç§ç”¨æ¥ä¿®é¥°å®¹å™¨æˆ–è€…ä»¿å‡½æ•°æˆ–è¿­ä»£å™¨æ¥å£çš„ä¸œè¥¿ã€‚</li><li>ç©ºé—´é…ç½®å™¨ï¼šè´Ÿè´£ç©ºé—´çš„é…ç½®ä¸ç®¡ç†ã€‚</li></ol><ul><li><p>å®¹å™¨ï¼šç½®ç‰©ä¹‹æ‰€ä¹Ÿï¼Œå¸¸ç”¨æ•°æ®ç»“æ„ï¼šæ•°ç»„ï¼Œé“¾è¡¨ï¼Œæ ‘ï¼Œæ ˆï¼Œé˜Ÿåˆ—ï¼Œé›†åˆï¼Œæ˜ å°„è¡¨</p><p><strong>åºåˆ—å¼å®¹å™¨</strong>:å¼ºè°ƒå€¼çš„æ’åºï¼Œåºåˆ—å¼å®¹å™¨ä¸­çš„æ¯ä¸ªå…ƒç´ å‡æœ‰å›ºå®šçš„ä½ç½®ã€‚</p><pre><code>**å…³è”å¼å®¹å™¨**:äºŒå‰æ ‘ç»“æ„ï¼Œå„å…ƒç´ ä¹‹é—´æ²¡æœ‰ä¸¥æ ¼çš„ç‰©ç†ä¸Šçš„é¡ºåºå…³ç³»</code></pre></li><li><p>ç®—æ³•ï¼šè´¨å˜ç®—æ³•ï¼šæ˜¯æŒ‡è¿ç®—è¿‡ç¨‹ä¸­ä¼šæ›´æ”¹åŒºé—´å†…çš„å…ƒç´ çš„å†…å®¹ã€‚ä¾‹å¦‚æ‹·è´ï¼Œæ›¿æ¢ï¼Œåˆ é™¤ç­‰ç­‰</p><p>éè´¨å˜ç®—æ³•ï¼šæ˜¯æŒ‡è¿ç®—è¿‡ç¨‹ä¸­ä¸ä¼šæ›´æ”¹åŒºé—´å†…çš„å…ƒç´ å†…å®¹ï¼Œä¾‹å¦‚æŸ¥æ‰¾ã€è®¡æ•°ã€éå†ã€å¯»æ‰¾æå€¼ç­‰ç­‰</p></li><li><p>è¿­ä»£å™¨ï¼šæä¾›ä¸€ç§æ–¹æ³•ï¼Œä½¿ä¹‹èƒ½å¤Ÿä¾åºå¯»è®¿æŸä¸ªå®¹å™¨æ‰€å«çš„å„ä¸ªå…ƒç´ ï¼Œè€Œåˆæ— éœ€æš´éœ²è¯¥å®¹å™¨çš„å†…éƒ¨è¡¨ç¤ºæ–¹å¼ã€‚</p></li></ul><h2 id="vector"><a href="#vector" class="headerlink" title="vector"></a>vector</h2><p>é€šè¿‡è¿­ä»£å™¨è®¿é—®å®¹å™¨ vector ä¸­çš„æ•°æ®</p><p><code>vector&lt;int&gt;::iterator itBegin = v.begin();</code> èµ·å§‹è¿­ä»£å™¨ï¼ŒæŒ‡å‘å®¹å™¨ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ </p><p><code>vector&lt;int&gt;::iterator itBegin = v.end(); ç»“æŸè¿­ä»£å™¨ï¼ŒæŒ‡å‘å®¹å™¨ä¸­æœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ªä½ç½®</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v;</span><br><span class="line">v.push_back(<span class="number">10</span>);</span><br><span class="line">v.push_back(<span class="number">11</span>);</span><br><span class="line">v.push_back(<span class="number">12</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;::iterator itBegin = v.<span class="built_in">begin</span>();</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;::iterator itEnd = v.<span class="built_in">end</span>();</span><br><span class="line"><span class="keyword">while</span>(itBegin != itEnd)&#123;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; *itBegin++&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//for circle</span></span><br><span class="line"><span class="keyword">for</span>(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;::iterator it = v.<span class="built_in">begin</span>(); it != v.<span class="built_in">end</span>; it++)&#123;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;*it&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//for-each</span></span><br><span class="line"><span class="comment">// é¦–å…ˆéœ€è¦åŒ…å«å¤´æ–‡ä»¶ #include &lt;algorithm&gt;</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">myPrint</span><span class="params">(<span class="keyword">int</span> val)</span></span>&#123;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt; val &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line">for_each(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), myPrint);</span><br></pre></td></tr></table></figure><h3 id="vectorå®¹å™¨ä¸­å­˜æ”¾è‡ªå®šä¹‰æ•°æ®ç±»å‹"><a href="#vectorå®¹å™¨ä¸­å­˜æ”¾è‡ªå®šä¹‰æ•°æ®ç±»å‹" class="headerlink" title="vectorå®¹å™¨ä¸­å­˜æ”¾è‡ªå®šä¹‰æ•°æ®ç±»å‹"></a>vectorå®¹å™¨ä¸­å­˜æ”¾è‡ªå®šä¹‰æ•°æ®ç±»å‹</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//è‡ªå®šä¹‰æ•°æ®ç±»å‹</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Person(<span class="built_in">string</span> name, <span class="keyword">int</span> age) &#123;</span><br><span class="line">mName = name;</span><br><span class="line">mAge = age;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">string</span> mName;</span><br><span class="line"><span class="keyword">int</span> mAge;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//å­˜æ”¾å¯¹è±¡</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;Person&gt; v;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ›å»ºæ•°æ®</span></span><br><span class="line"><span class="function">Person <span class="title">p1</span><span class="params">(<span class="string">"aaa"</span>, <span class="number">10</span>)</span></span>;</span><br><span class="line"><span class="function">Person <span class="title">p2</span><span class="params">(<span class="string">"bbb"</span>, <span class="number">20</span>)</span></span>;</span><br><span class="line"><span class="function">Person <span class="title">p3</span><span class="params">(<span class="string">"ccc"</span>, <span class="number">30</span>)</span></span>;</span><br><span class="line"><span class="function">Person <span class="title">p4</span><span class="params">(<span class="string">"ddd"</span>, <span class="number">40</span>)</span></span>;</span><br><span class="line"><span class="function">Person <span class="title">p5</span><span class="params">(<span class="string">"eee"</span>, <span class="number">50</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">v.push_back(p1);</span><br><span class="line">v.push_back(p2);</span><br><span class="line">v.push_back(p3);</span><br><span class="line">v.push_back(p4);</span><br><span class="line">v.push_back(p5);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">vector</span>&lt;Person&gt;::iterator it = v.<span class="built_in">begin</span>(); it != v.<span class="built_in">end</span>(); it++) &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"Name:"</span> &lt;&lt; (*it).mName &lt;&lt; <span class="string">" Age:"</span> &lt;&lt; (*it).mAge &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//æ”¾å¯¹è±¡æŒ‡é’ˆ</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test02</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;Person*&gt; v;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ›å»ºæ•°æ®</span></span><br><span class="line"><span class="function">Person <span class="title">p1</span><span class="params">(<span class="string">"aaa"</span>, <span class="number">10</span>)</span></span>;</span><br><span class="line"><span class="function">Person <span class="title">p2</span><span class="params">(<span class="string">"bbb"</span>, <span class="number">20</span>)</span></span>;</span><br><span class="line"><span class="function">Person <span class="title">p3</span><span class="params">(<span class="string">"ccc"</span>, <span class="number">30</span>)</span></span>;</span><br><span class="line"><span class="function">Person <span class="title">p4</span><span class="params">(<span class="string">"ddd"</span>, <span class="number">40</span>)</span></span>;</span><br><span class="line"><span class="function">Person <span class="title">p5</span><span class="params">(<span class="string">"eee"</span>, <span class="number">50</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">v.push_back(&amp;p1);</span><br><span class="line">v.push_back(&amp;p2);</span><br><span class="line">v.push_back(&amp;p3);</span><br><span class="line">v.push_back(&amp;p4);</span><br><span class="line">v.push_back(&amp;p5);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">vector</span>&lt;Person*&gt;::iterator it = v.<span class="built_in">begin</span>(); it != v.<span class="built_in">end</span>(); it++) &#123;</span><br><span class="line">Person * p = (*it);</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"Name:"</span> &lt;&lt; p-&gt;mName &lt;&lt; <span class="string">" Age:"</span> &lt;&lt; (*it)-&gt;mAge &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line">    </span><br><span class="line">test02();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="vector-å®¹å™¨åµŒå¥—å®¹å™¨"><a href="#vector-å®¹å™¨åµŒå¥—å®¹å™¨" class="headerlink" title="vector å®¹å™¨åµŒå¥—å®¹å™¨"></a>vector å®¹å™¨åµŒå¥—å®¹å™¨</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; v;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v1;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v2;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v3;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v4;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>( <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;::iterator it = v.<span class="built_in">begin</span>(); it != v.<span class="built_in">end</span>(); it++ )&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;::iterator vit = (*it).<span class="built_in">begin</span>(); vit != (*it).<span class="built_in">end</span>(); (*it)++ )&#123;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt; *vit &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ’å…¥å’Œåˆ é™¤"><a href="#æ’å…¥å’Œåˆ é™¤" class="headerlink" title="æ’å…¥å’Œåˆ é™¤"></a>æ’å…¥å’Œåˆ é™¤</h3><p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p><ul><li>å¯¹vectorå®¹å™¨è¿›è¡Œæ’å…¥ã€åˆ é™¤æ“ä½œ</li></ul><p><strong>å‡½æ•°åŸå‹ï¼š</strong></p><ul><li><code>push_back(ele);</code>                                         //å°¾éƒ¨æ’å…¥å…ƒç´ ele</li><li><code>pop_back();</code>                                                //åˆ é™¤æœ€åä¸€ä¸ªå…ƒç´ </li><li><code>insert(const_iterator pos, ele);</code>        //è¿­ä»£å™¨æŒ‡å‘ä½ç½®posæ’å…¥å…ƒç´ ele</li><li><code>insert(const_iterator pos, int count,ele);</code>//è¿­ä»£å™¨æŒ‡å‘ä½ç½®posæ’å…¥countä¸ªå…ƒç´ ele</li><li><code>erase(const_iterator pos);</code>                     //åˆ é™¤è¿­ä»£å™¨æŒ‡å‘çš„å…ƒç´ </li><li><code>erase(const_iterator start, const_iterator end);</code>//åˆ é™¤è¿­ä»£å™¨ä»startåˆ°endä¹‹é—´çš„å…ƒç´ </li><li><code>clear();</code>                                                        //åˆ é™¤å®¹å™¨ä¸­æ‰€æœ‰å…ƒç´ </li></ul><h3 id="swap"><a href="#swap" class="headerlink" title="swap"></a>swap</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">myPrint</span><span class="params">(<span class="keyword">int</span> val)</span></span>&#123;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt; val &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v1 = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v2 = &#123;<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>&#125;;</span><br><span class="line">    for_each(v1.<span class="built_in">begin</span>(), v1.<span class="built_in">end</span>(), myPrint );</span><br><span class="line">    for_each(v2.<span class="built_in">begin</span>(), v2.<span class="built_in">end</span>(), myPrint );</span><br><span class="line">v1.swap(v2);</span><br><span class="line">    for_each(v1.<span class="built_in">begin</span>(), v1.<span class="built_in">end</span>(), myPrint );</span><br><span class="line">    for_each(v2.<span class="built_in">begin</span>(), v2.<span class="built_in">end</span>(), myPrint );</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>==swap å¯ä»¥ç”¨æ¥è¿›è¡Œä¸€ä¸ªæ”¶ç¼©å†…å­˜çš„æ•ˆæœï¼švector\<int\>(v).swap(v);==</p><h3 id="åˆ©ç”¨-reserve-é¢„ç•™ç©ºé—´"><a href="#åˆ©ç”¨-reserve-é¢„ç•™ç©ºé—´" class="headerlink" title="åˆ©ç”¨ reserve é¢„ç•™ç©ºé—´"></a>åˆ©ç”¨ reserve é¢„ç•™ç©ºé—´</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v;</span><br><span class="line"></span><br><span class="line"><span class="comment">//é¢„ç•™ç©ºé—´</span></span><br><span class="line">v.reserve(<span class="number">100000</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> num = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span>* p = <span class="literal">NULL</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100000</span>; i++) &#123;</span><br><span class="line">v.push_back(i);</span><br><span class="line"><span class="keyword">if</span> (p != &amp;v[<span class="number">0</span>]) &#123;</span><br><span class="line">p = &amp;v[<span class="number">0</span>];</span><br><span class="line">num++;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"num:"</span> &lt;&lt; num &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line">    </span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="String"><a href="#String" class="headerlink" title="String"></a>String</h2><p><strong>String çš„æœ¬è´¨æ˜¯ä¸€ä¸ªç±»</strong></p><p>string ä¸ char * çš„åŒºåˆ«ï¼š</p><ul><li>char *  æ˜¯ä¸€ä¸ªæŒ‡é’ˆ</li><li>string æ˜¯ä¸€ä¸ªç±»ï¼Œç±»å†…éƒ¨å°è£…äº† char * ï¼Œç®¡ç†æ•´ä¸ªå­—ç¬¦ä¸²ï¼Œæ˜¯ä¸€ä¸ª char * å‹çš„å®¹å™¨</li></ul><p>æ„é€ å‡½æ•°ï¼š</p><ul><li><code>string();</code>                          //åˆ›å»ºä¸€ä¸ªç©ºçš„å­—ç¬¦ä¸² ä¾‹å¦‚: string str;<br><code>string(const char* s);</code>            //ä½¿ç”¨å­—ç¬¦ä¸²såˆå§‹åŒ–</li><li><code>string(const string&amp; str);</code>    //ä½¿ç”¨ä¸€ä¸ªstringå¯¹è±¡åˆå§‹åŒ–å¦ä¸€ä¸ªstringå¯¹è±¡</li><li><code>string(int n, char c);</code>           //ä½¿ç”¨nä¸ªå­—ç¬¦cåˆå§‹åŒ– </li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="comment">//stringæ„é€ </span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">string</span> s1; <span class="comment">//åˆ›å»ºç©ºå­—ç¬¦ä¸²ï¼Œè°ƒç”¨æ— å‚æ„é€ å‡½æ•°</span></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"str1 = "</span> &lt;&lt; s1 &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">char</span>* str = <span class="string">"hello world"</span>;</span><br><span class="line"><span class="function"><span class="built_in">string</span> <span class="title">s2</span><span class="params">(str)</span></span>; <span class="comment">//æŠŠc_stringè½¬æ¢æˆäº†string</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"str2 = "</span> &lt;&lt; s2 &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="built_in">string</span> <span class="title">s3</span><span class="params">(s2)</span></span>; <span class="comment">//è°ƒç”¨æ‹·è´æ„é€ å‡½æ•°</span></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"str3 = "</span> &lt;&lt; s3 &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="built_in">string</span> <span class="title">s4</span><span class="params">(<span class="number">10</span>, <span class="string">'a'</span>)</span></span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"str3 = "</span> &lt;&lt; s3 &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="stringèµ‹å€¼æ“ä½œ"><a href="#stringèµ‹å€¼æ“ä½œ" class="headerlink" title="stringèµ‹å€¼æ“ä½œ"></a>stringèµ‹å€¼æ“ä½œ</h3><p>åŠŸèƒ½æè¿°ï¼š</p><ul><li>ç»™stringå­—ç¬¦ä¸²è¿›è¡Œèµ‹å€¼</li></ul><p>èµ‹å€¼çš„å‡½æ•°åŸå‹ï¼š</p><ul><li><code>string&amp; operator=(const char* s);</code>             //char*ç±»å‹å­—ç¬¦ä¸² èµ‹å€¼ç»™å½“å‰çš„å­—ç¬¦ä¸²</li><li><code>string&amp; operator=(const string &amp;s);</code>         //æŠŠå­—ç¬¦ä¸²sèµ‹ç»™å½“å‰çš„å­—ç¬¦ä¸²</li><li><code>string&amp; operator=(char c);</code>                          //å­—ç¬¦èµ‹å€¼ç»™å½“å‰çš„å­—ç¬¦ä¸²</li><li><code>string&amp; assign(const char *s);</code>                  //æŠŠå­—ç¬¦ä¸²sèµ‹ç»™å½“å‰çš„å­—ç¬¦ä¸²</li><li><code>string&amp; assign(const char *s, int n);</code>     //æŠŠå­—ç¬¦ä¸²sçš„å‰nä¸ªå­—ç¬¦èµ‹ç»™å½“å‰çš„å­—ç¬¦ä¸²</li><li><code>string&amp; assign(const string &amp;s);</code>              //æŠŠå­—ç¬¦ä¸²sèµ‹ç»™å½“å‰å­—ç¬¦ä¸²</li><li><code>string&amp; assign(int n, char c);</code>                  //ç”¨nä¸ªå­—ç¬¦cèµ‹ç»™å½“å‰å­—ç¬¦ä¸²</li></ul><h3 id="stringå­—ç¬¦ä¸²æ‹¼æ¥"><a href="#stringå­—ç¬¦ä¸²æ‹¼æ¥" class="headerlink" title="stringå­—ç¬¦ä¸²æ‹¼æ¥"></a>stringå­—ç¬¦ä¸²æ‹¼æ¥</h3><p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p><ul><li>å®ç°åœ¨å­—ç¬¦ä¸²æœ«å°¾æ‹¼æ¥å­—ç¬¦ä¸²</li></ul><p><strong>å‡½æ•°åŸå‹ï¼š</strong></p><ul><li><code>string&amp; operator+=(const char* str);</code>                   //é‡è½½+=æ“ä½œç¬¦</li><li><code>string&amp; operator+=(const char c);</code>                         //é‡è½½+=æ“ä½œç¬¦</li><li><code>string&amp; operator+=(const string&amp; str);</code>                //é‡è½½+=æ“ä½œç¬¦</li><li><code>string&amp; append(const char *s);</code>                               //æŠŠå­—ç¬¦ä¸²sè¿æ¥åˆ°å½“å‰å­—ç¬¦ä¸²ç»“å°¾</li><li><code>string&amp; append(const char *s, int n);</code>                 //æŠŠå­—ç¬¦ä¸²sçš„å‰nä¸ªå­—ç¬¦è¿æ¥åˆ°å½“å‰å­—ç¬¦ä¸²ç»“å°¾</li><li><code>string&amp; append(const string &amp;s);</code>                           //åŒoperator+=(const string&amp; str)</li><li><code>string&amp; append(const string &amp;s, int pos, int n);</code>//å­—ç¬¦ä¸²sä¸­ä»poså¼€å§‹çš„nä¸ªå­—ç¬¦è¿æ¥åˆ°å­—ç¬¦ä¸²ç»“å°¾</li></ul><h3 id="stringæŸ¥æ‰¾å’Œæ›¿æ¢"><a href="#stringæŸ¥æ‰¾å’Œæ›¿æ¢" class="headerlink" title="stringæŸ¥æ‰¾å’Œæ›¿æ¢"></a>stringæŸ¥æ‰¾å’Œæ›¿æ¢</h3><p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p><ul><li>æŸ¥æ‰¾ï¼šæŸ¥æ‰¾æŒ‡å®šå­—ç¬¦ä¸²æ˜¯å¦å­˜åœ¨</li><li>æ›¿æ¢ï¼šåœ¨æŒ‡å®šçš„ä½ç½®æ›¿æ¢å­—ç¬¦ä¸²</li></ul><p><strong>å‡½æ•°åŸå‹ï¼š</strong></p><ul><li><code>int find(const string&amp; str, int pos = 0) const;</code>              //æŸ¥æ‰¾strç¬¬ä¸€æ¬¡å‡ºç°ä½ç½®,ä»poså¼€å§‹æŸ¥æ‰¾</li><li><code>int find(const char* s, int pos = 0) const;</code>                     //æŸ¥æ‰¾sç¬¬ä¸€æ¬¡å‡ºç°ä½ç½®,ä»poså¼€å§‹æŸ¥æ‰¾</li><li><code>int find(const char* s, int pos, int n) const;</code>               //ä»posä½ç½®æŸ¥æ‰¾sçš„å‰nä¸ªå­—ç¬¦ç¬¬ä¸€æ¬¡ä½ç½®</li><li><code>int find(const char c, int pos = 0) const;</code>                       //æŸ¥æ‰¾å­—ç¬¦cç¬¬ä¸€æ¬¡å‡ºç°ä½ç½®</li><li><code>int rfind(const string&amp; str, int pos = npos) const;</code>      //æŸ¥æ‰¾stræœ€åä¸€æ¬¡ä½ç½®,ä»poså¼€å§‹æŸ¥æ‰¾</li><li><code>int rfind(const char* s, int pos = npos) const;</code>              //æŸ¥æ‰¾sæœ€åä¸€æ¬¡å‡ºç°ä½ç½®,ä»poså¼€å§‹æŸ¥æ‰¾</li><li><code>int rfind(const char* s, int pos, int n) const;</code>              //ä»posæŸ¥æ‰¾sçš„å‰nä¸ªå­—ç¬¦æœ€åä¸€æ¬¡ä½ç½®</li><li><code>int rfind(const char c, int pos = 0) const;</code>                      //æŸ¥æ‰¾å­—ç¬¦cæœ€åä¸€æ¬¡å‡ºç°ä½ç½®</li><li><code>string&amp; replace(int pos, int n, const string&amp; str);</code>       //æ›¿æ¢ä»poså¼€å§‹nä¸ªå­—ç¬¦ä¸ºå­—ç¬¦ä¸²str</li><li><code>string&amp; replace(int pos, int n,const char* s);</code>                 //æ›¿æ¢ä»poså¼€å§‹çš„nä¸ªå­—ç¬¦ä¸ºå­—ç¬¦ä¸²s</li></ul><h3 id="stringå­—ç¬¦ä¸²æ¯”è¾ƒ"><a href="#stringå­—ç¬¦ä¸²æ¯”è¾ƒ" class="headerlink" title="stringå­—ç¬¦ä¸²æ¯”è¾ƒ"></a>stringå­—ç¬¦ä¸²æ¯”è¾ƒ</h3><p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p><ul><li>å­—ç¬¦ä¸²ä¹‹é—´çš„æ¯”è¾ƒ</li></ul><p><strong>æ¯”è¾ƒæ–¹å¼ï¼š</strong></p><ul><li>å­—ç¬¦ä¸²æ¯”è¾ƒæ˜¯æŒ‰å­—ç¬¦çš„ASCIIç è¿›è¡Œå¯¹æ¯”</li></ul><p>= è¿”å›   0</p><p>> è¿”å›   1 </p><p>&lt; è¿”å›  -1</p><p><strong>å‡½æ•°åŸå‹ï¼š</strong></p><ul><li><code>int compare(const string &amp;s) const;</code>  //ä¸å­—ç¬¦ä¸²sæ¯”è¾ƒ</li><li><code>int compare(const char *s) const;</code>      //ä¸å­—ç¬¦ä¸²sæ¯”è¾ƒ</li></ul><h3 id="stringå­—ç¬¦å­˜å–"><a href="#stringå­—ç¬¦å­˜å–" class="headerlink" title="stringå­—ç¬¦å­˜å–"></a>stringå­—ç¬¦å­˜å–</h3><p>stringä¸­å•ä¸ªå­—ç¬¦å­˜å–æ–¹å¼æœ‰ä¸¤ç§</p><ul><li><code>char&amp; operator[](int n);</code>     //é€šè¿‡[]æ–¹å¼å–å­—ç¬¦</li><li><code>char&amp; at(int n);</code>                    //é€šè¿‡atæ–¹æ³•è·å–å­—ç¬¦</li></ul><h3 id="stringæ’å…¥å’Œåˆ é™¤"><a href="#stringæ’å…¥å’Œåˆ é™¤" class="headerlink" title="stringæ’å…¥å’Œåˆ é™¤"></a>stringæ’å…¥å’Œåˆ é™¤</h3><p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p><ul><li>å¯¹stringå­—ç¬¦ä¸²è¿›è¡Œæ’å…¥å’Œåˆ é™¤å­—ç¬¦æ“ä½œ</li></ul><p><strong>å‡½æ•°åŸå‹ï¼š</strong></p><ul><li><code>string&amp; insert(int pos, const char* s);</code>                //æ’å…¥å­—ç¬¦ä¸²</li><li><code>string&amp; insert(int pos, const string&amp; str);</code>        //æ’å…¥å­—ç¬¦ä¸²</li><li><code>string&amp; insert(int pos, int n, char c);</code>                //åœ¨æŒ‡å®šä½ç½®æ’å…¥nä¸ªå­—ç¬¦c</li><li><code>string&amp; erase(int pos, int n = npos);</code>                    //åˆ é™¤ä»Poså¼€å§‹çš„nä¸ªå­—ç¬¦ </li></ul><h3 id="stringå­ä¸²"><a href="#stringå­ä¸²" class="headerlink" title="stringå­ä¸²"></a>stringå­ä¸²</h3><p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p><ul><li>ä»å­—ç¬¦ä¸²ä¸­è·å–æƒ³è¦çš„å­ä¸²</li></ul><p><strong>å‡½æ•°åŸå‹ï¼š</strong></p><ul><li><code>string substr(int pos = 0, int n = npos) const;</code>   //è¿”å›ç”±poså¼€å§‹çš„nä¸ªå­—ç¬¦ç»„æˆçš„å­—ç¬¦ä¸²</li></ul><h2 id="Dequeå®¹å™¨"><a href="#Dequeå®¹å™¨" class="headerlink" title="Dequeå®¹å™¨"></a>Dequeå®¹å™¨</h2><p><strong>åŠŸèƒ½ï¼šåŒç«¯æ•°ç»„ï¼Œå¯ä»¥å¯¹å¤´ç«¯è¿›è¡Œæ’å…¥åˆ é™¤æ“ä½œ</strong></p><p><strong>deque ä¸ vector çš„åŒºåˆ«ï¼š</strong></p><ul><li>vector å¯¹äºå¤´éƒ¨çš„æ’å…¥åˆ é™¤æ•ˆç‡ä½ï¼Œæ•°æ®é‡è¶Šå¤§ï¼Œæ•ˆç‡è¶Šä½</li><li>å¯¹äºå¤´éƒ¨çš„æ’å…¥åˆ é™¤é€Ÿåº¦ä¼šæ¯” vector å¿«</li><li>vector è®¿é—®å…ƒç´ æ—¶çš„é€Ÿåº¦ä¼šæ¯” deque å¿«</li></ul><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-11%20at%2020.47.44.png" alt="Screen Shot 2021-03-11 at 20.47.44"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-11%20at%2020.48.04.png" alt="Screen Shot 2021-03-11 at 20.48.04"></p><p>deque å†…éƒ¨æœ‰ä¸ªä¸­æ§å™¨ï¼Œç»´æŠ¤æ¯æ®µç¼“å†²åŒºä¸­çš„å†…å®¹ï¼Œç¼“å†²åŒºä¸­å­˜æ”¾çœŸæ˜¯æ•°æ®ï¼Œä¸­æ§å™¨ç»´æŠ¤çš„æ˜¯æ¯ä¸ªç¼“å†²åŒºçš„åœ°å€ï¼Œä½¿å¾—ä½¿ç”¨ deque æ—¶åƒä¸€ç‰‡è¿ç»­çš„å†…å­˜ç©ºé—´</p><h3 id="deque-æ„é€ å‡½æ•°"><a href="#deque-æ„é€ å‡½æ•°" class="headerlink" title="deque æ„é€ å‡½æ•°"></a>deque æ„é€ å‡½æ•°</h3><p><strong>å‡½æ•°åŸå‹ï¼š</strong></p><ul><li><code>deque&lt;T&gt;</code> deqT;                      //é»˜è®¤æ„é€ å½¢å¼</li><li><code>deque(beg, end);</code>                  //æ„é€ å‡½æ•°å°†[beg, end)åŒºé—´ä¸­çš„å…ƒç´ æ‹·è´ç»™æœ¬èº«ã€‚</li><li><code>deque(n, elem);</code>                    //æ„é€ å‡½æ•°å°†nä¸ªelemæ‹·è´ç»™æœ¬èº«ã€‚</li><li><code>deque(const deque &amp;deq);</code>   //æ‹·è´æ„é€ å‡½æ•°</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;deque&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printDeque</span><span class="params">(<span class="keyword">const</span> <span class="built_in">deque</span>&lt;<span class="keyword">int</span>&gt;&amp; d)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">deque</span>&lt;<span class="keyword">int</span>&gt;::const_iterator it = d.<span class="built_in">begin</span>(); it != d.<span class="built_in">end</span>(); it++) &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; *it &lt;&lt; <span class="string">" "</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//dequeæ„é€ </span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="built_in">deque</span>&lt;<span class="keyword">int</span>&gt; d1; <span class="comment">//æ— å‚æ„é€ å‡½æ•°</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">d1.push_back(i);</span><br><span class="line">&#125;</span><br><span class="line">printDeque(d1);</span><br><span class="line"><span class="function"><span class="built_in">deque</span>&lt;<span class="keyword">int</span>&gt; <span class="title">d2</span><span class="params">(d1.<span class="built_in">begin</span>(),d1.<span class="built_in">end</span>())</span></span>;</span><br><span class="line">printDeque(d2);</span><br><span class="line"></span><br><span class="line"><span class="built_in">deque</span>&lt;<span class="keyword">int</span>&gt;d3(<span class="number">10</span>,<span class="number">100</span>);</span><br><span class="line">printDeque(d3);</span><br><span class="line"></span><br><span class="line"><span class="built_in">deque</span>&lt;<span class="keyword">int</span>&gt;d4 = d3;</span><br><span class="line">printDeque(d4);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="deque-å¤§å°æ“ä½œ"><a href="#deque-å¤§å°æ“ä½œ" class="headerlink" title="deque å¤§å°æ“ä½œ"></a>deque å¤§å°æ“ä½œ</h3><p>deque æ— å®¹é‡é™åˆ¶ï¼Œä¸åƒ vector æœ‰é™åˆ¶ï¼Œæ‰€ä»¥æ²¡æœ‰ .capacity æ¥å£</p><p><strong>å‡½æ•°åŸå‹ï¼š</strong></p><ul><li><p><code>deque.empty();</code>                       //åˆ¤æ–­å®¹å™¨æ˜¯å¦ä¸ºç©º</p></li><li><p><code>deque.size();</code>                         //è¿”å›å®¹å™¨ä¸­å…ƒç´ çš„ä¸ªæ•°</p></li><li><p><code>deque.resize(num);</code>                //é‡æ–°æŒ‡å®šå®¹å™¨çš„é•¿åº¦ä¸ºnum,è‹¥å®¹å™¨å˜é•¿ï¼Œåˆ™ä»¥é»˜è®¤å€¼å¡«å……æ–°ä½ç½®ã€‚</p><p>  â€‹                                         //å¦‚æœå®¹å™¨å˜çŸ­ï¼Œåˆ™æœ«å°¾è¶…å‡ºå®¹å™¨é•¿åº¦çš„å…ƒç´ è¢«åˆ é™¤ã€‚</p></li><li><p><code>deque.resize(num, elem);</code>     //é‡æ–°æŒ‡å®šå®¹å™¨çš„é•¿åº¦ä¸ºnum,è‹¥å®¹å™¨å˜é•¿ï¼Œåˆ™ä»¥elemå€¼å¡«å……æ–°ä½ç½®ã€‚</p><p>  â€‹                                                     //å¦‚æœå®¹å™¨å˜çŸ­ï¼Œåˆ™æœ«å°¾è¶…å‡ºå®¹å™¨é•¿åº¦çš„å…ƒç´ è¢«åˆ é™¤ã€‚</p></li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;deque&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printDeque</span><span class="params">(<span class="keyword">const</span> <span class="built_in">deque</span>&lt;<span class="keyword">int</span>&gt;&amp; d)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">deque</span>&lt;<span class="keyword">int</span>&gt;::const_iterator it = d.<span class="built_in">begin</span>(); it != d.<span class="built_in">end</span>(); it++) &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; *it &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¤§å°æ“ä½œ</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">deque</span>&lt;<span class="keyword">int</span>&gt; d1;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">d1.push_back(i);</span><br><span class="line">&#125;</span><br><span class="line">printDeque(d1);</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ¤æ–­å®¹å™¨æ˜¯å¦ä¸ºç©º</span></span><br><span class="line"><span class="keyword">if</span> (d1.empty()) &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"d1ä¸ºç©º!"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"d1ä¸ä¸ºç©º!"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="comment">//ç»Ÿè®¡å¤§å°</span></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"d1çš„å¤§å°ä¸ºï¼š"</span> &lt;&lt; d1.<span class="built_in">size</span>() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//é‡æ–°æŒ‡å®šå¤§å°</span></span><br><span class="line">d1.resize(<span class="number">15</span>, <span class="number">1</span>);</span><br><span class="line">printDeque(d1);</span><br><span class="line"></span><br><span class="line">d1.resize(<span class="number">5</span>);</span><br><span class="line">printDeque(d1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="deque-æ’å…¥å’Œåˆ é™¤"><a href="#deque-æ’å…¥å’Œåˆ é™¤" class="headerlink" title="deque æ’å…¥å’Œåˆ é™¤"></a>deque æ’å…¥å’Œåˆ é™¤</h3><p><strong>å‡½æ•°åŸå‹ï¼š</strong></p><p>ä¸¤ç«¯æ’å…¥æ“ä½œï¼š</p><ul><li><code>push_back(elem);</code>          //åœ¨å®¹å™¨å°¾éƒ¨æ·»åŠ ä¸€ä¸ªæ•°æ®</li><li><code>push_front(elem);</code>        //åœ¨å®¹å™¨å¤´éƒ¨æ’å…¥ä¸€ä¸ªæ•°æ®</li><li><code>pop_back();</code>                   //åˆ é™¤å®¹å™¨æœ€åä¸€ä¸ªæ•°æ®</li><li><code>pop_front();</code>                 //åˆ é™¤å®¹å™¨ç¬¬ä¸€ä¸ªæ•°æ®</li></ul><p>æŒ‡å®šä½ç½®æ“ä½œï¼š</p><ul><li><p><code>insert(pos,elem);</code>         //åœ¨posä½ç½®æ’å…¥ä¸€ä¸ªelemå…ƒç´ çš„æ‹·è´ï¼Œè¿”å›æ–°æ•°æ®çš„ä½ç½®ã€‚</p></li><li><p><code>insert(pos,n,elem);</code>     //åœ¨posä½ç½®æ’å…¥nä¸ªelemæ•°æ®ï¼Œæ— è¿”å›å€¼ã€‚</p></li><li><p><code>insert(pos,beg,end);</code>    //åœ¨posä½ç½®æ’å…¥[beg,end)åŒºé—´çš„æ•°æ®ï¼Œæ— è¿”å›å€¼ã€‚</p></li><li><p><code>clear();</code>                           //æ¸…ç©ºå®¹å™¨çš„æ‰€æœ‰æ•°æ®</p></li><li><p><code>erase(beg,end);</code>             //åˆ é™¤[beg,end)åŒºé—´çš„æ•°æ®ï¼Œè¿”å›ä¸‹ä¸€ä¸ªæ•°æ®çš„ä½ç½®ã€‚</p></li><li><p><code>erase(pos);</code>                    //åˆ é™¤posä½ç½®çš„æ•°æ®ï¼Œè¿”å›ä¸‹ä¸€ä¸ªæ•°æ®çš„ä½ç½®ã€‚</p></li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;deque&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printDeque</span><span class="params">(<span class="keyword">const</span> <span class="built_in">deque</span>&lt;<span class="keyword">int</span>&gt;&amp; d)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">deque</span>&lt;<span class="keyword">int</span>&gt;::const_iterator it = d.<span class="built_in">begin</span>(); it != d.<span class="built_in">end</span>(); it++) &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; *it &lt;&lt; <span class="string">" "</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//ä¸¤ç«¯æ“ä½œ</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">deque</span>&lt;<span class="keyword">int</span>&gt; d;</span><br><span class="line"><span class="comment">//å°¾æ’</span></span><br><span class="line">d.push_back(<span class="number">10</span>);</span><br><span class="line">d.push_back(<span class="number">20</span>);</span><br><span class="line"><span class="comment">//å¤´æ’</span></span><br><span class="line">d.push_front(<span class="number">100</span>);</span><br><span class="line">d.push_front(<span class="number">200</span>);</span><br><span class="line"></span><br><span class="line">printDeque(d);</span><br><span class="line"></span><br><span class="line"><span class="comment">//å°¾åˆ </span></span><br><span class="line">d.pop_back();</span><br><span class="line"><span class="comment">//å¤´åˆ </span></span><br><span class="line">d.pop_front();</span><br><span class="line">printDeque(d);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ’å…¥</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test02</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">deque</span>&lt;<span class="keyword">int</span>&gt; d;</span><br><span class="line">d.push_back(<span class="number">10</span>);</span><br><span class="line">d.push_back(<span class="number">20</span>);</span><br><span class="line">d.push_front(<span class="number">100</span>);</span><br><span class="line">d.push_front(<span class="number">200</span>);</span><br><span class="line">printDeque(d);</span><br><span class="line"></span><br><span class="line">d.insert(d.<span class="built_in">begin</span>(), <span class="number">1000</span>);</span><br><span class="line">printDeque(d);</span><br><span class="line"></span><br><span class="line">d.insert(d.<span class="built_in">begin</span>(), <span class="number">2</span>,<span class="number">10000</span>);</span><br><span class="line">printDeque(d);</span><br><span class="line"></span><br><span class="line"><span class="built_in">deque</span>&lt;<span class="keyword">int</span>&gt;d2;</span><br><span class="line">d2.push_back(<span class="number">1</span>);</span><br><span class="line">d2.push_back(<span class="number">2</span>);</span><br><span class="line">d2.push_back(<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">d.insert(d.<span class="built_in">begin</span>(), d2.<span class="built_in">begin</span>(), d2.<span class="built_in">end</span>());</span><br><span class="line">printDeque(d);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ é™¤</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test03</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">deque</span>&lt;<span class="keyword">int</span>&gt; d;</span><br><span class="line">d.push_back(<span class="number">10</span>);</span><br><span class="line">d.push_back(<span class="number">20</span>);</span><br><span class="line">d.push_front(<span class="number">100</span>);</span><br><span class="line">d.push_front(<span class="number">200</span>);</span><br><span class="line">printDeque(d);</span><br><span class="line"></span><br><span class="line">d.erase(d.<span class="built_in">begin</span>());</span><br><span class="line">printDeque(d);</span><br><span class="line"></span><br><span class="line">d.erase(d.<span class="built_in">begin</span>(), d.<span class="built_in">end</span>());</span><br><span class="line">d.<span class="built_in">clear</span>();</span><br><span class="line">printDeque(d);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//test01();</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//test02();</span></span><br><span class="line"></span><br><span class="line">    test03();</span><br><span class="line">    </span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> æ€»ç»“ï¼š</p><ul><li>å°¾æ’ push_back( )</li><li>å°¾åˆ  pop_back( )</li><li>å¤´æ’ push_front( )</li><li>å¤´åˆ  pop_front( )</li></ul><h3 id="deque-å®¹å™¨æ•°æ®å­˜å–"><a href="#deque-å®¹å™¨æ•°æ®å­˜å–" class="headerlink" title="deque å®¹å™¨æ•°æ®å­˜å–"></a>deque å®¹å™¨æ•°æ®å­˜å–</h3><p><strong>å‡½æ•°åŸå‹ï¼š</strong></p><ul><li><code>at(int idx);</code>     //è¿”å›ç´¢å¼•idxæ‰€æŒ‡çš„æ•°æ®</li><li><code>operator[];</code>      //è¿”å›ç´¢å¼•idxæ‰€æŒ‡çš„æ•°æ®</li><li><code>front();</code>            //è¿”å›å®¹å™¨ä¸­ç¬¬ä¸€ä¸ªæ•°æ®å…ƒç´ </li><li><code>back();</code>              //è¿”å›å®¹å™¨ä¸­æœ€åä¸€ä¸ªæ•°æ®å…ƒç´ </li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;deque&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printDeque</span><span class="params">(<span class="keyword">const</span> <span class="built_in">deque</span>&lt;<span class="keyword">int</span>&gt;&amp; d)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">deque</span>&lt;<span class="keyword">int</span>&gt;::const_iterator it = d.<span class="built_in">begin</span>(); it != d.<span class="built_in">end</span>(); it++) &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; *it &lt;&lt; <span class="string">" "</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ•°æ®å­˜å–</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="built_in">deque</span>&lt;<span class="keyword">int</span>&gt; d;</span><br><span class="line">d.push_back(<span class="number">10</span>);</span><br><span class="line">d.push_back(<span class="number">20</span>);</span><br><span class="line">d.push_front(<span class="number">100</span>);</span><br><span class="line">d.push_front(<span class="number">200</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; d.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; d[i] &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; d.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; d.at(i) &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"front:"</span> &lt;&lt; d.front() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"back:"</span> &lt;&lt; d.back() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="deque-æ’åº"><a href="#deque-æ’åº" class="headerlink" title="deque æ’åº"></a>deque æ’åº</h3><p><strong>ç®—æ³•</strong></p><p>åˆ©ç”¨ sort ç®—æ³•è¿›è¡Œå¯¹ deque çš„æ’åº</p><p>sort ç®—æ³•ä¹Ÿå¯ä»¥å¯¹ vector ç­‰è¿›è¡Œæ’åº</p><ul><li><code>sort(iterator begin, iterator end)</code></li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;deque&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printDeque</span><span class="params">(<span class="keyword">const</span> <span class="built_in">deque</span>&lt;<span class="keyword">int</span>&gt; &amp;d)</span></span>&#123;</span><br><span class="line">  <span class="keyword">for</span>(<span class="built_in">deque</span>&lt;<span class="keyword">int</span>&gt;::const_iterator it = d.<span class="built_in">begin</span>(); it != d.<span class="built_in">end</span>(); it++ )&#123;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt; *it &lt;&lt;<span class="string">" "</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span>&#123;</span><br><span class="line">  <span class="built_in">deque</span>&lt;<span class="keyword">int</span>&gt; d;</span><br><span class="line">  d.push_back(<span class="number">30</span>);</span><br><span class="line">  d.push_back(<span class="number">40</span>);</span><br><span class="line">  d.push_back(<span class="number">100</span>);</span><br><span class="line">  d.push_front(<span class="number">200</span>);</span><br><span class="line">  d.push_front(<span class="number">300</span>);</span><br><span class="line">  printDeque(d);</span><br><span class="line">  </span><br><span class="line">  sort(d.<span class="built_in">begin</span>(), d.<span class="built_in">end</span>());</span><br><span class="line">  <span class="built_in">cout</span>&lt;&lt;<span class="string">"after sort"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">  printDeque(d);</span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">  </span><br><span class="line">  test01();</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>rand éšæœºæ•°</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;ctime&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="comment">//srand( (unsigned int)time(NULL)); // ç”¨ä»¥ä»£æ›¿ä¸‹é¢ä¸‰è¡Œ</span></span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">int</span> seed;</span><br><span class="line">seed = time(<span class="number">0</span>);</span><br><span class="line">srand(seed);</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> first = rand() % <span class="number">41</span> + <span class="number">10</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; first &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">int</span> second = rand() % <span class="number">41</span> + <span class="number">10</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; second &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="stack"><a href="#stack" class="headerlink" title="stack"></a>stack</h3><p>æ„é€ å‡½æ•°ï¼š</p><ul><li><code>stack&lt;T&gt; stk;</code>                                 //stacké‡‡ç”¨æ¨¡æ¿ç±»å®ç°ï¼Œ stackå¯¹è±¡çš„é»˜è®¤æ„é€ å½¢å¼</li><li><code>stack(const stack &amp;stk);</code>            //æ‹·è´æ„é€ å‡½æ•°</li></ul><p>èµ‹å€¼æ“ä½œï¼š</p><ul><li><code>stack&amp; operator=(const stack &amp;stk);</code>           //é‡è½½ç­‰å·æ“ä½œç¬¦</li></ul><p>æ•°æ®å­˜å–ï¼š</p><ul><li><code>push(elem);</code>      //å‘æ ˆé¡¶æ·»åŠ å…ƒç´ </li><li><code>pop();</code>                //ä»æ ˆé¡¶ç§»é™¤ç¬¬ä¸€ä¸ªå…ƒç´ </li><li><code>top();</code>                //è¿”å›æ ˆé¡¶å…ƒç´ </li></ul><p>å¤§å°æ“ä½œï¼š</p><ul><li><code>empty();</code>            //åˆ¤æ–­å †æ ˆæ˜¯å¦ä¸ºç©º</li><li><code>size();</code>              //è¿”å›æ ˆçš„å¤§å°</li></ul><h3 id="queue"><a href="#queue" class="headerlink" title="queue"></a>queue</h3><p>æ„é€ å‡½æ•°ï¼š</p><ul><li><code>queue&lt;T&gt; que;</code>                                 //queueé‡‡ç”¨æ¨¡æ¿ç±»å®ç°ï¼Œqueueå¯¹è±¡çš„é»˜è®¤æ„é€ å½¢å¼</li><li><code>queue(const queue &amp;que);</code>            //æ‹·è´æ„é€ å‡½æ•°</li></ul><p>èµ‹å€¼æ“ä½œï¼š</p><ul><li><code>queue&amp; operator=(const queue &amp;que);</code>           //é‡è½½ç­‰å·æ“ä½œç¬¦</li></ul><p>æ•°æ®å­˜å–ï¼š</p><ul><li><code>push(elem);</code>                             //å¾€é˜Ÿå°¾æ·»åŠ å…ƒç´ </li><li><code>pop();</code>                                      //ä»é˜Ÿå¤´ç§»é™¤ç¬¬ä¸€ä¸ªå…ƒç´ </li><li><code>back();</code>                                    //è¿”å›æœ€åä¸€ä¸ªå…ƒç´ </li><li><code>front();</code>                                  //è¿”å›ç¬¬ä¸€ä¸ªå…ƒç´ </li></ul><p>å¤§å°æ“ä½œï¼š</p><ul><li><code>empty();</code>            //åˆ¤æ–­å †æ ˆæ˜¯å¦ä¸ºç©º</li><li><code>size();</code>              //è¿”å›æ ˆçš„å¤§å°</li></ul><h2 id="list"><a href="#list" class="headerlink" title="list"></a>list</h2><p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p><ul><li>åˆ›å»ºlistå®¹å™¨</li></ul><p><strong>å‡½æ•°åŸå‹ï¼š</strong></p><ul><li><code>list&lt;T&gt; lst;</code>                               //listé‡‡ç”¨é‡‡ç”¨æ¨¡æ¿ç±»å®ç°,å¯¹è±¡çš„é»˜è®¤æ„é€ å½¢å¼ï¼š</li><li><code>list(beg,end);</code>                           //æ„é€ å‡½æ•°å°†[beg, end)åŒºé—´ä¸­çš„å…ƒç´ æ‹·è´ç»™æœ¬èº«ã€‚</li><li><code>list(n,elem);</code>                             //æ„é€ å‡½æ•°å°†nä¸ªelemæ‹·è´ç»™æœ¬èº«ã€‚</li><li><code>list(const list &amp;lst);</code>            //æ‹·è´æ„é€ å‡½æ•°ã€‚</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printList</span><span class="params">(<span class="keyword">const</span> <span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt;&amp; L)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt;::const_iterator it = L.<span class="built_in">begin</span>(); it != L.<span class="built_in">end</span>(); it++) &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; *it &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt;L1;</span><br><span class="line">L1.push_back(<span class="number">10</span>);</span><br><span class="line">L1.push_back(<span class="number">20</span>);</span><br><span class="line">L1.push_back(<span class="number">30</span>);</span><br><span class="line">L1.push_back(<span class="number">40</span>);</span><br><span class="line"></span><br><span class="line">printList(L1);</span><br><span class="line"></span><br><span class="line"><span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt;L2(L1.<span class="built_in">begin</span>(),L1.<span class="built_in">end</span>());</span><br><span class="line">printList(L2);</span><br><span class="line"></span><br><span class="line"><span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt;L3(L2);</span><br><span class="line">printList(L3);</span><br><span class="line"></span><br><span class="line"><span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt;L4(<span class="number">10</span>, <span class="number">1000</span>);</span><br><span class="line">printList(L4);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>list æˆå‘˜å‡½æ•°</p><div class="table-container"><table><thead><tr><th><a href="https://www.nhooo.com/cpp/cpp-list-insert-function.html" target="_blank" rel="noopener">insert()</a></th><th>å®ƒå°†æ–°å…ƒç´ æ’å…¥åˆ°è¿­ä»£å™¨æŒ‡å‘çš„ä½ç½®ä¹‹å‰ã€‚</th></tr></thead><tbody><tr><td><a href="https://www.nhooo.com/cpp/cpp-list-push_back-function.html" target="_blank" rel="noopener">push_back()</a></td><td>å®ƒåœ¨å®¹å™¨çš„æœ«å°¾æ·»åŠ äº†ä¸€ä¸ªæ–°å…ƒç´ ã€‚</td></tr><tr><td><a href="https://www.nhooo.com/cpp/cpp-list-push_front-function.html" target="_blank" rel="noopener">push_front()</a></td><td>å®ƒåœ¨å‰é¢å¢åŠ äº†ä¸€ä¸ªæ–°å…ƒç´ ã€‚</td></tr><tr><td><a href="https://www.nhooo.com/cpp/cpp-list-pop_back-function.html" target="_blank" rel="noopener">pop_back()</a></td><td>åˆ é™¤æœ€åä¸€ä¸ªå…ƒç´ ã€‚</td></tr><tr><td><a href="https://www.nhooo.com/cpp/cpp-list-pop_front-function.html" target="_blank" rel="noopener">pop_front()</a></td><td>åˆ é™¤ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚</td></tr><tr><td><a href="https://www.nhooo.com/cpp/cpp-list-empty-function.html" target="_blank" rel="noopener">empty()</a></td><td>å®ƒæ£€æŸ¥åˆ—è¡¨æ˜¯å¦ä¸ºç©ºã€‚</td></tr><tr><td><a href="https://www.nhooo.com/cpp/cpp-list-size-function.html" target="_blank" rel="noopener">size()</a></td><td>å®ƒæŸ¥æ‰¾åˆ—è¡¨ä¸­å­˜åœ¨çš„å…ƒç´ æ•°ã€‚</td></tr><tr><td><a href="https://www.nhooo.com/cpp/cpp-list-max_size-function.html" target="_blank" rel="noopener">max_size()</a></td><td>å®ƒæ‰¾åˆ°åˆ—è¡¨çš„æœ€å¤§å¤§å°ã€‚</td></tr><tr><td><a href="https://www.nhooo.com/cpp/cpp-list-front-function.html" target="_blank" rel="noopener">front()</a></td><td>å®ƒè¿”å›åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚</td></tr><tr><td><a href="https://www.nhooo.com/cpp/cpp-list-back-function.html" target="_blank" rel="noopener">back()</a></td><td>å®ƒè¿”å›åˆ—è¡¨çš„æœ€åä¸€ä¸ªå…ƒç´ ã€‚</td></tr><tr><td><a href="https://www.nhooo.com/cpp/cpp-list-swap-function.html" target="_blank" rel="noopener">swap()</a></td><td>å½“ä¸¤ä¸ªåˆ—è¡¨çš„ç±»å‹ç›¸åŒæ—¶ï¼Œå®ƒå°†äº¤æ¢ä¸¤ä¸ªåˆ—è¡¨ã€‚</td></tr><tr><td><a href="https://www.nhooo.com/cpp/cpp-list-reverse-function.html" target="_blank" rel="noopener">reverse()</a></td><td>å®ƒåè½¬äº†åˆ—è¡¨çš„å…ƒç´ ã€‚</td></tr><tr><td><a href="https://www.nhooo.com/cpp/cpp-list-sort-function.html" target="_blank" rel="noopener">sort()</a></td><td>å®ƒä»¥é€’å¢çš„é¡ºåºå¯¹åˆ—è¡¨ä¸­çš„å…ƒç´ è¿›è¡Œæ’åºã€‚</td></tr><tr><td><a href="https://www.nhooo.com/cpp/cpp-list-merge-function.html" target="_blank" rel="noopener">merge()</a></td><td>å®ƒåˆå¹¶ä¸¤ä¸ªæ’åºçš„åˆ—è¡¨ã€‚</td></tr><tr><td><a href="https://www.nhooo.com/cpp/cpp-list-splice-function.html" target="_blank" rel="noopener">splice()</a></td><td>å®ƒå°†æ–°åˆ—è¡¨æ’å…¥åˆ°è°ƒç”¨åˆ—è¡¨ä¸­ã€‚</td></tr><tr><td><a href="https://www.nhooo.com/cpp/cpp-list-unique-function.html" target="_blank" rel="noopener">unique()</a></td><td>å®ƒä»åˆ—è¡¨ä¸­åˆ é™¤æ‰€æœ‰é‡å¤çš„å…ƒç´ ã€‚</td></tr><tr><td><a href="https://www.nhooo.com/cpp/cpp-list-resize-function.html" target="_blank" rel="noopener">resize()</a></td><td>å®ƒæ›´æ”¹åˆ—è¡¨å®¹å™¨çš„å¤§å°ã€‚</td></tr><tr><td><a href="https://www.nhooo.com/cpp/cpp-list-assign-function.html" target="_blank" rel="noopener">assign()</a></td><td>å®ƒå°†ä¸€ä¸ªæ–°å…ƒç´ åˆ†é…ç»™åˆ—è¡¨å®¹å™¨ã€‚</td></tr><tr><td><a href="https://www.nhooo.com/cpp/cpp-list-emplace-function.html" target="_blank" rel="noopener">emplace()</a></td><td>å®ƒå°†åœ¨æŒ‡å®šä½ç½®æ’å…¥ä¸€ä¸ªæ–°å…ƒç´ ã€‚</td></tr><tr><td><a href="https://www.nhooo.com/cpp/cpp-list-emplace_back-function.html" target="_blank" rel="noopener">emplace_back()</a></td><td>å®ƒå°†åœ¨å®¹å™¨çš„æœ«å°¾æ’å…¥ä¸€ä¸ªæ–°å…ƒç´ ã€‚</td></tr><tr><td><a href="https://www.nhooo.com/cpp/cpp-list-emplace_front-function.html" target="_blank" rel="noopener">emplace_front()</a></td><td>å®ƒå°†åœ¨åˆ—è¡¨çš„å¼€å¤´æ’å…¥ä¸€ä¸ªæ–°å…ƒç´ ã€‚</td></tr><tr><td>remove(element)</td><td>åˆ é™¤å®¹å™¨ä¸­æ‰€æœ‰ä¸ elem å€¼åŒ¹é…çš„å…ƒç´ </td></tr></tbody></table></div><h3 id="list-æ•°æ®å­˜å–"><a href="#list-æ•°æ®å­˜å–" class="headerlink" title="list æ•°æ®å­˜å–"></a>list æ•°æ®å­˜å–</h3><p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p><ul><li>å¯¹listå®¹å™¨ä¸­æ•°æ®è¿›è¡Œå­˜å–</li></ul><p><strong>å‡½æ•°åŸå‹ï¼š</strong></p><ul><li><code>front();</code>        //è¿”å›ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚</li><li><code>back();</code>         //è¿”å›æœ€åä¸€ä¸ªå…ƒç´ ã€‚</li></ul><h3 id="list-åè½¬å’Œæ’åº"><a href="#list-åè½¬å’Œæ’åº" class="headerlink" title="list åè½¬å’Œæ’åº"></a>list åè½¬å’Œæ’åº</h3><p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p><ul><li>å°†å®¹å™¨ä¸­çš„å…ƒç´ åè½¬ï¼Œä»¥åŠå°†å®¹å™¨ä¸­çš„æ•°æ®è¿›è¡Œæ’åº</li></ul><p><strong>å‡½æ•°åŸå‹ï¼š</strong></p><ul><li><code>reverse();</code>   //åè½¬é“¾è¡¨</li><li><code>sort();</code>        //é“¾è¡¨æ’åº</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printList</span><span class="params">(<span class="keyword">const</span> <span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt;&amp; L)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt;::const_iterator it = L.<span class="built_in">begin</span>(); it != L.<span class="built_in">end</span>(); it++) &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; *it &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">myCompare</span><span class="params">(<span class="keyword">int</span> val1 , <span class="keyword">int</span> val2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> val1 &gt; val2;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åè½¬å’Œæ’åº</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt; L;</span><br><span class="line">L.push_back(<span class="number">90</span>);</span><br><span class="line">L.push_back(<span class="number">30</span>);</span><br><span class="line">L.push_back(<span class="number">20</span>);</span><br><span class="line">L.push_back(<span class="number">70</span>);</span><br><span class="line">printList(L);</span><br><span class="line"></span><br><span class="line"><span class="comment">//åè½¬å®¹å™¨çš„å…ƒç´ </span></span><br><span class="line">L.reverse();</span><br><span class="line">printList(L);</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ’åº</span></span><br><span class="line">L.sort(); <span class="comment">//é»˜è®¤çš„æ’åºè§„åˆ™ ä»å°åˆ°å¤§</span></span><br><span class="line">printList(L);</span><br><span class="line"></span><br><span class="line">L.sort(myCompare); <span class="comment">//æŒ‡å®šè§„åˆ™ï¼Œä»å¤§åˆ°å°</span></span><br><span class="line">printList(L);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="list-æ’åºæ¡ˆä¾‹"><a href="#list-æ’åºæ¡ˆä¾‹" class="headerlink" title="list æ’åºæ¡ˆä¾‹"></a>list æ’åºæ¡ˆä¾‹</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Person(<span class="built_in">string</span> name, <span class="keyword">int</span> age , <span class="keyword">int</span> <span class="built_in">height</span>) &#123;</span><br><span class="line">m_Name = name;</span><br><span class="line">m_Age = age;</span><br><span class="line">m_Height = <span class="built_in">height</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">string</span> m_Name;  <span class="comment">//å§“å</span></span><br><span class="line"><span class="keyword">int</span> m_Age;      <span class="comment">//å¹´é¾„</span></span><br><span class="line"><span class="keyword">int</span> m_Height;   <span class="comment">//èº«é«˜</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">ComparePerson</span><span class="params">(Person&amp; p1, Person&amp; p2)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (p1.m_Age == p2.m_Age) &#123;</span><br><span class="line"><span class="keyword">return</span> p1.m_Height  &gt; p2.m_Height;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span>  p1.m_Age &lt; p2.m_Age;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="built_in">list</span>&lt;Person&gt; L;</span><br><span class="line"></span><br><span class="line"><span class="function">Person <span class="title">p1</span><span class="params">(<span class="string">"åˆ˜å¤‡"</span>, <span class="number">35</span> , <span class="number">175</span>)</span></span>;</span><br><span class="line"><span class="function">Person <span class="title">p2</span><span class="params">(<span class="string">"æ›¹æ“"</span>, <span class="number">45</span> , <span class="number">180</span>)</span></span>;</span><br><span class="line"><span class="function">Person <span class="title">p3</span><span class="params">(<span class="string">"å­™æƒ"</span>, <span class="number">40</span> , <span class="number">170</span>)</span></span>;</span><br><span class="line"><span class="function">Person <span class="title">p4</span><span class="params">(<span class="string">"èµµäº‘"</span>, <span class="number">25</span> , <span class="number">190</span>)</span></span>;</span><br><span class="line"><span class="function">Person <span class="title">p5</span><span class="params">(<span class="string">"å¼ é£"</span>, <span class="number">35</span> , <span class="number">160</span>)</span></span>;</span><br><span class="line"><span class="function">Person <span class="title">p6</span><span class="params">(<span class="string">"å…³ç¾½"</span>, <span class="number">35</span> , <span class="number">200</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">L.push_back(p1);</span><br><span class="line">L.push_back(p2);</span><br><span class="line">L.push_back(p3);</span><br><span class="line">L.push_back(p4);</span><br><span class="line">L.push_back(p5);</span><br><span class="line">L.push_back(p6);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">list</span>&lt;Person&gt;::iterator it = L.<span class="built_in">begin</span>(); it != L.<span class="built_in">end</span>(); it++) &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"å§“åï¼š "</span> &lt;&lt; it-&gt;m_Name &lt;&lt; <span class="string">" å¹´é¾„ï¼š "</span> &lt;&lt; it-&gt;m_Age </span><br><span class="line">              &lt;&lt; <span class="string">" èº«é«˜ï¼š "</span> &lt;&lt; it-&gt;m_Height &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"---------------------------------"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">L.sort(ComparePerson); <span class="comment">//æ’åº</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">list</span>&lt;Person&gt;::iterator it = L.<span class="built_in">begin</span>(); it != L.<span class="built_in">end</span>(); it++) &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"å§“åï¼š "</span> &lt;&lt; it-&gt;m_Name &lt;&lt; <span class="string">" å¹´é¾„ï¼š "</span> &lt;&lt; it-&gt;m_Age </span><br><span class="line">              &lt;&lt; <span class="string">" èº«é«˜ï¼š "</span> &lt;&lt; it-&gt;m_Height &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="set-multiset-å®¹å™¨"><a href="#set-multiset-å®¹å™¨" class="headerlink" title="set / multiset å®¹å™¨"></a>set / multiset å®¹å™¨</h2><p>æ‰€æœ‰å…ƒç´ éƒ½ä¼šåœ¨æ’å…¥æ—¶è‡ªåŠ¨è¢«æ’åºã€‚</p><p>set/multisetå±äº<strong>å…³è”å¼å®¹å™¨</strong>ï¼Œåº•å±‚ç»“æ„æ˜¯ç”¨<strong>äºŒå‰æ ‘</strong>å®ç°ã€‚</p><p><strong>setå’ŒmultisetåŒºåˆ«</strong>ï¼š</p><ul><li>setä¸å…è®¸å®¹å™¨ä¸­æœ‰é‡å¤çš„å…ƒç´ </li><li>multisetå…è®¸å®¹å™¨ä¸­æœ‰é‡å¤çš„å…ƒç´ </li></ul><h3 id="setæ„é€ å’Œèµ‹å€¼"><a href="#setæ„é€ å’Œèµ‹å€¼" class="headerlink" title="setæ„é€ å’Œèµ‹å€¼"></a>setæ„é€ å’Œèµ‹å€¼</h3><p>åŠŸèƒ½æè¿°ï¼šåˆ›å»ºsetå®¹å™¨ä»¥åŠèµ‹å€¼</p><p>æ„é€ ï¼š</p><ul><li><code>set&lt;T&gt; st;</code>                        //é»˜è®¤æ„é€ å‡½æ•°ï¼š</li><li><code>set(const set &amp;st);</code>       //æ‹·è´æ„é€ å‡½æ•°</li></ul><p>èµ‹å€¼ï¼š</p><ul><li><code>set&amp; operator=(const set &amp;st);</code>    //é‡è½½ç­‰å·æ“ä½œç¬¦</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printSet</span><span class="params">(<span class="built_in">set</span>&lt;<span class="keyword">int</span>&gt; &amp; s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">set</span>&lt;<span class="keyword">int</span>&gt;::iterator it = s.<span class="built_in">begin</span>(); it != s.<span class="built_in">end</span>(); it++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; *it &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ„é€ å’Œèµ‹å€¼</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">set</span>&lt;<span class="keyword">int</span>&gt; s1;</span><br><span class="line"></span><br><span class="line">s1.insert(<span class="number">10</span>);</span><br><span class="line">s1.insert(<span class="number">30</span>);</span><br><span class="line">s1.insert(<span class="number">20</span>);</span><br><span class="line">s1.insert(<span class="number">40</span>);</span><br><span class="line">printSet(s1);</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ‹·è´æ„é€ </span></span><br><span class="line"><span class="built_in">set</span>&lt;<span class="keyword">int</span>&gt;s2(s1);</span><br><span class="line">printSet(s2);</span><br><span class="line"></span><br><span class="line"><span class="comment">//èµ‹å€¼</span></span><br><span class="line"><span class="built_in">set</span>&lt;<span class="keyword">int</span>&gt;s3;</span><br><span class="line">s3 = s2;</span><br><span class="line">printSet(s3);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="setå¤§å°å’Œäº¤æ¢"><a href="#setå¤§å°å’Œäº¤æ¢" class="headerlink" title="setå¤§å°å’Œäº¤æ¢"></a>setå¤§å°å’Œäº¤æ¢</h3><p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p><ul><li>ç»Ÿè®¡setå®¹å™¨å¤§å°ä»¥åŠäº¤æ¢setå®¹å™¨</li></ul><p><strong>å‡½æ•°åŸå‹ï¼š</strong></p><ul><li><code>size();</code>          //è¿”å›å®¹å™¨ä¸­å…ƒç´ çš„æ•°ç›®</li><li><code>empty();</code>        //åˆ¤æ–­å®¹å™¨æ˜¯å¦ä¸ºç©º</li><li><code>swap(st);</code>      //äº¤æ¢ä¸¤ä¸ªé›†åˆå®¹å™¨</li></ul><h3 id="setæ’å…¥å’Œåˆ é™¤"><a href="#setæ’å…¥å’Œåˆ é™¤" class="headerlink" title="setæ’å…¥å’Œåˆ é™¤"></a>setæ’å…¥å’Œåˆ é™¤</h3><p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p><ul><li>setå®¹å™¨è¿›è¡Œæ’å…¥æ•°æ®å’Œåˆ é™¤æ•°æ®</li></ul><p><strong>å‡½æ•°åŸå‹ï¼š</strong></p><ul><li><code>insert(elem);</code>           //åœ¨å®¹å™¨ä¸­æ’å…¥å…ƒç´ ã€‚</li><li><code>clear();</code>                    //æ¸…é™¤æ‰€æœ‰å…ƒç´ </li><li><code>erase(pos);</code>              //åˆ é™¤posè¿­ä»£å™¨æ‰€æŒ‡çš„å…ƒç´ ï¼Œè¿”å›ä¸‹ä¸€ä¸ªå…ƒç´ çš„è¿­ä»£å™¨ã€‚</li><li><code>erase(beg, end);</code>    //åˆ é™¤åŒºé—´[beg,end)çš„æ‰€æœ‰å…ƒç´  ï¼Œè¿”å›ä¸‹ä¸€ä¸ªå…ƒç´ çš„è¿­ä»£å™¨ã€‚</li><li><code>erase(elem);</code>            //åˆ é™¤å®¹å™¨ä¸­å€¼ä¸ºelemçš„å…ƒç´ ã€‚</li></ul><h3 id="setæŸ¥æ‰¾å’Œç»Ÿè®¡"><a href="#setæŸ¥æ‰¾å’Œç»Ÿè®¡" class="headerlink" title="setæŸ¥æ‰¾å’Œç»Ÿè®¡"></a>setæŸ¥æ‰¾å’Œç»Ÿè®¡</h3><p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p><ul><li>å¯¹setå®¹å™¨è¿›è¡ŒæŸ¥æ‰¾æ•°æ®ä»¥åŠç»Ÿè®¡æ•°æ®</li></ul><p><strong>å‡½æ•°åŸå‹ï¼š</strong></p><ul><li><code>find(key);</code>                  //æŸ¥æ‰¾keyæ˜¯å¦å­˜åœ¨,è‹¥å­˜åœ¨ï¼Œè¿”å›è¯¥é”®çš„å…ƒç´ çš„è¿­ä»£å™¨ï¼›è‹¥ä¸å­˜åœ¨ï¼Œè¿”å›set.end();</li><li><code>count(key);</code>                //ç»Ÿè®¡keyçš„å…ƒç´ ä¸ªæ•°</li></ul><h3 id="setå’ŒmultisetåŒºåˆ«"><a href="#setå’ŒmultisetåŒºåˆ«" class="headerlink" title="setå’ŒmultisetåŒºåˆ«"></a>setå’ŒmultisetåŒºåˆ«</h3><p><strong>å­¦ä¹ ç›®æ ‡ï¼š</strong></p><ul><li>æŒæ¡setå’Œmultisetçš„åŒºåˆ«</li></ul><p><strong>åŒºåˆ«ï¼š</strong></p><ul><li>setä¸å¯ä»¥æ’å…¥é‡å¤æ•°æ®ï¼Œè€Œmultisetå¯ä»¥</li><li>setæ’å…¥æ•°æ®çš„åŒæ—¶ä¼šè¿”å›æ’å…¥ç»“æœï¼Œè¡¨ç¤ºæ’å…¥æ˜¯å¦æˆåŠŸ</li><li>multisetä¸ä¼šæ£€æµ‹æ•°æ®ï¼Œå› æ­¤å¯ä»¥æ’å…¥é‡å¤æ•°æ®</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//setå’ŒmultisetåŒºåˆ«</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">set</span>&lt;<span class="keyword">int</span>&gt; s;</span><br><span class="line">pair&lt;<span class="built_in">set</span>&lt;<span class="keyword">int</span>&gt;::iterator, <span class="keyword">bool</span>&gt;  ret = s.insert(<span class="number">10</span>);</span><br><span class="line"><span class="keyword">if</span> (ret.second) &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"ç¬¬ä¸€æ¬¡æ’å…¥æˆåŠŸ!"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"ç¬¬ä¸€æ¬¡æ’å…¥å¤±è´¥!"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ret = s.insert(<span class="number">10</span>);</span><br><span class="line"><span class="keyword">if</span> (ret.second) &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"ç¬¬äºŒæ¬¡æ’å…¥æˆåŠŸ!"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"ç¬¬äºŒæ¬¡æ’å…¥å¤±è´¥!"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//multiset</span></span><br><span class="line"><span class="built_in">multiset</span>&lt;<span class="keyword">int</span>&gt; ms;</span><br><span class="line">ms.insert(<span class="number">10</span>);</span><br><span class="line">ms.insert(<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">multiset</span>&lt;<span class="keyword">int</span>&gt;::iterator it = ms.<span class="built_in">begin</span>(); it != ms.<span class="built_in">end</span>(); it++) &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; *it &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="pairå¯¹ç»„åˆ›å»º"><a href="#pairå¯¹ç»„åˆ›å»º" class="headerlink" title="pairå¯¹ç»„åˆ›å»º"></a>pairå¯¹ç»„åˆ›å»º</h3><p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p><ul><li>æˆå¯¹å‡ºç°çš„æ•°æ®ï¼Œåˆ©ç”¨å¯¹ç»„å¯ä»¥è¿”å›ä¸¤ä¸ªæ•°æ®</li></ul><p><strong>ä¸¤ç§åˆ›å»ºæ–¹å¼ï¼š</strong></p><ul><li><code>pair&lt;type, type&gt; p ( value1, value2 );</code></li><li><code>pair&lt;type, type&gt; p = make_pair( value1, value2 );</code> </li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//å¯¹ç»„åˆ›å»º</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">pair&lt;string, int&gt; p(string("Tom"), 20);</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"å§“åï¼š "</span> &lt;&lt;  p.first &lt;&lt; <span class="string">" å¹´é¾„ï¼š "</span> &lt;&lt; p.second &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">pair&lt;<span class="built_in">string</span>, <span class="keyword">int</span>&gt; p2 = make_pair(<span class="string">"Jerry"</span>, <span class="number">10</span>);</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"å§“åï¼š "</span> &lt;&lt; p2.first &lt;&lt; <span class="string">" å¹´é¾„ï¼š "</span> &lt;&lt; p2.second &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="set-å®¹å™¨çš„æ’åº"><a href="#set-å®¹å™¨çš„æ’åº" class="headerlink" title="set å®¹å™¨çš„æ’åº"></a>set å®¹å™¨çš„æ’åº</h3><ul><li>é»˜è®¤æ’åºè§„åˆ™ä¸ºä»å°åˆ°å¤§</li><li>åˆ©ç”¨ä»¿å‡½æ•°ï¼Œå¯ä»¥æ”¹å˜æ’åºçš„è§„åˆ™</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyCompare</span> </span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="keyword">int</span> v1, <span class="keyword">int</span> v2)</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> v1 &gt; v2;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span> </span></span><br><span class="line"><span class="function"></span>&#123;    </span><br><span class="line"><span class="built_in">set</span>&lt;<span class="keyword">int</span>&gt; s1;</span><br><span class="line">s1.insert(<span class="number">10</span>);</span><br><span class="line">s1.insert(<span class="number">40</span>);</span><br><span class="line">s1.insert(<span class="number">20</span>);</span><br><span class="line">s1.insert(<span class="number">30</span>);</span><br><span class="line">s1.insert(<span class="number">50</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//é»˜è®¤ä»å°åˆ°å¤§</span></span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">set</span>&lt;<span class="keyword">int</span>&gt;::iterator it = s1.<span class="built_in">begin</span>(); it != s1.<span class="built_in">end</span>(); it++) &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; *it &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æŒ‡å®šæ’åºè§„åˆ™</span></span><br><span class="line"><span class="built_in">set</span>&lt;<span class="keyword">int</span>,MyCompare&gt; s2;</span><br><span class="line">s2.insert(<span class="number">10</span>);</span><br><span class="line">s2.insert(<span class="number">40</span>);</span><br><span class="line">s2.insert(<span class="number">20</span>);</span><br><span class="line">s2.insert(<span class="number">30</span>);</span><br><span class="line">s2.insert(<span class="number">50</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">set</span>&lt;<span class="keyword">int</span>, MyCompare&gt;::iterator it = s2.<span class="built_in">begin</span>(); it != s2.<span class="built_in">end</span>(); it++) &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; *it &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="set-å­˜æ”¾è‡ªå®šä¹‰æ•°æ®ç±»å‹æ—¶æ’åº"><a href="#set-å­˜æ”¾è‡ªå®šä¹‰æ•°æ®ç±»å‹æ—¶æ’åº" class="headerlink" title="set å­˜æ”¾è‡ªå®šä¹‰æ•°æ®ç±»å‹æ—¶æ’åº"></a>set å­˜æ”¾è‡ªå®šä¹‰æ•°æ®ç±»å‹æ—¶æ’åº</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Person(<span class="built_in">string</span> name, <span class="keyword">int</span> age)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">this</span>-&gt;m_Name = name;</span><br><span class="line"><span class="keyword">this</span>-&gt;m_Age = age;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">string</span> m_Name;</span><br><span class="line"><span class="keyword">int</span> m_Age;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">comparePerson</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="keyword">const</span> Person&amp; p1, <span class="keyword">const</span> Person &amp;p2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//æŒ‰ç…§å¹´é¾„è¿›è¡Œæ’åº  é™åº</span></span><br><span class="line"><span class="keyword">return</span> p1.m_Age &gt; p2.m_Age;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">set</span>&lt;Person, comparePerson&gt; s;</span><br><span class="line"></span><br><span class="line"><span class="function">Person <span class="title">p1</span><span class="params">(<span class="string">"åˆ˜å¤‡"</span>, <span class="number">23</span>)</span></span>;</span><br><span class="line"><span class="function">Person <span class="title">p2</span><span class="params">(<span class="string">"å…³ç¾½"</span>, <span class="number">27</span>)</span></span>;</span><br><span class="line"><span class="function">Person <span class="title">p3</span><span class="params">(<span class="string">"å¼ é£"</span>, <span class="number">25</span>)</span></span>;</span><br><span class="line"><span class="function">Person <span class="title">p4</span><span class="params">(<span class="string">"èµµäº‘"</span>, <span class="number">21</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">s.insert(p1);</span><br><span class="line">s.insert(p2);</span><br><span class="line">s.insert(p3);</span><br><span class="line">s.insert(p4);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">set</span>&lt;Person, comparePerson&gt;::iterator it = s.<span class="built_in">begin</span>(); it != s.<span class="built_in">end</span>(); it++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"å§“åï¼š "</span> &lt;&lt; it-&gt;m_Name &lt;&lt; <span class="string">" å¹´é¾„ï¼š "</span> &lt;&lt; it-&gt;m_Age &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="map-multimapå®¹å™¨"><a href="#map-multimapå®¹å™¨" class="headerlink" title="map/ multimapå®¹å™¨"></a>map/ multimapå®¹å™¨</h2><h3 id="mapåŸºæœ¬æ¦‚å¿µ"><a href="#mapåŸºæœ¬æ¦‚å¿µ" class="headerlink" title="mapåŸºæœ¬æ¦‚å¿µ"></a>mapåŸºæœ¬æ¦‚å¿µ</h3><p><strong>ç®€ä»‹ï¼š</strong></p><ul><li>mapä¸­æ‰€æœ‰å…ƒç´ éƒ½æ˜¯pair</li><li>pairä¸­ç¬¬ä¸€ä¸ªå…ƒç´ ä¸ºkeyï¼ˆé”®å€¼ï¼‰ï¼Œèµ·åˆ°ç´¢å¼•ä½œç”¨ï¼Œç¬¬äºŒä¸ªå…ƒç´ ä¸ºvalueï¼ˆå®å€¼ï¼‰</li><li>æ‰€æœ‰å…ƒç´ éƒ½ä¼šæ ¹æ®å…ƒç´ çš„é”®å€¼è‡ªåŠ¨æ’åº</li></ul><p><strong>æœ¬è´¨ï¼š</strong></p><ul><li>map/multimapå±äº<strong>å…³è”å¼å®¹å™¨</strong>ï¼Œåº•å±‚ç»“æ„æ˜¯ç”¨äºŒå‰æ ‘å®ç°ã€‚</li></ul><p><strong>ä¼˜ç‚¹ï¼š</strong></p><ul><li>å¯ä»¥æ ¹æ®keyå€¼å¿«é€Ÿæ‰¾åˆ°valueå€¼</li></ul><p>mapå’Œmultimap<strong>åŒºåˆ«</strong>ï¼š</p><ul><li>mapä¸å…è®¸å®¹å™¨ä¸­æœ‰é‡å¤keyå€¼å…ƒç´ </li><li>multimapå…è®¸å®¹å™¨ä¸­æœ‰é‡å¤keyå€¼å…ƒç´ </li></ul><h3 id="mapæ„é€ å’Œèµ‹å€¼"><a href="#mapæ„é€ å’Œèµ‹å€¼" class="headerlink" title="mapæ„é€ å’Œèµ‹å€¼"></a>mapæ„é€ å’Œèµ‹å€¼</h3><p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p><ul><li>å¯¹mapå®¹å™¨è¿›è¡Œæ„é€ å’Œèµ‹å€¼æ“ä½œ</li></ul><p><strong>å‡½æ•°åŸå‹ï¼š</strong></p><p><strong>æ„é€ ï¼š</strong></p><ul><li><code>map&lt;T1, T2&gt; mp;</code>                     //mapé»˜è®¤æ„é€ å‡½æ•°: </li><li><code>map(const map &amp;mp);</code>             //æ‹·è´æ„é€ å‡½æ•°</li></ul><p><strong>èµ‹å€¼ï¼š</strong></p><ul><li><code>map&amp; operator=(const map &amp;mp);</code>    //é‡è½½ç­‰å·æ“ä½œç¬¦</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printMap</span><span class="params">(<span class="built_in">map</span>&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt;&amp;m)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">map</span>&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;::iterator it = m.<span class="built_in">begin</span>(); it != m.<span class="built_in">end</span>(); it++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"key = "</span> &lt;&lt; it-&gt;first &lt;&lt; <span class="string">" value = "</span> &lt;&lt; it-&gt;second &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">map</span>&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt;m; <span class="comment">//é»˜è®¤æ„é€ </span></span><br><span class="line">m.insert(pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;(<span class="number">1</span>, <span class="number">10</span>));</span><br><span class="line">m.insert(pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;(<span class="number">2</span>, <span class="number">20</span>));</span><br><span class="line">m.insert(pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;(<span class="number">3</span>, <span class="number">30</span>));</span><br><span class="line">printMap(m);</span><br><span class="line"></span><br><span class="line"><span class="built_in">map</span>&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;m2(m); <span class="comment">//æ‹·è´æ„é€ </span></span><br><span class="line">printMap(m2);</span><br><span class="line"></span><br><span class="line"><span class="built_in">map</span>&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;m3;</span><br><span class="line">m3 = m2; <span class="comment">//èµ‹å€¼</span></span><br><span class="line">printMap(m3);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="map-å¤§å°å’Œäº¤æ¢"><a href="#map-å¤§å°å’Œäº¤æ¢" class="headerlink" title="map å¤§å°å’Œäº¤æ¢"></a>map å¤§å°å’Œäº¤æ¢</h3><p>å‡½æ•°åŸå‹ï¼š</p><ul><li><code>size();</code>          //è¿”å›å®¹å™¨ä¸­å…ƒç´ çš„æ•°ç›®</li><li><code>empty();</code>        //åˆ¤æ–­å®¹å™¨æ˜¯å¦ä¸ºç©º</li><li><code>swap(st);</code>      //äº¤æ¢ä¸¤ä¸ªé›†åˆå®¹å™¨</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printMap</span><span class="params">(<span class="built_in">map</span>&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt;&amp;m)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">map</span>&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;::iterator it = m.<span class="built_in">begin</span>(); it != m.<span class="built_in">end</span>(); it++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"key = "</span> &lt;&lt; it-&gt;first &lt;&lt; <span class="string">" value = "</span> &lt;&lt; it-&gt;second &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">map</span>&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;m;</span><br><span class="line">m.insert(pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;(<span class="number">1</span>, <span class="number">10</span>));</span><br><span class="line">m.insert(pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;(<span class="number">2</span>, <span class="number">20</span>));</span><br><span class="line">m.insert(pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;(<span class="number">3</span>, <span class="number">30</span>));</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (m.empty())</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"mä¸ºç©º"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"mä¸ä¸ºç©º"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"mçš„å¤§å°ä¸ºï¼š "</span> &lt;&lt; m.<span class="built_in">size</span>() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//äº¤æ¢</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test02</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">map</span>&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;m;</span><br><span class="line">m.insert(pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;(<span class="number">1</span>, <span class="number">10</span>));</span><br><span class="line">m.insert(pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;(<span class="number">2</span>, <span class="number">20</span>));</span><br><span class="line">m.insert(pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;(<span class="number">3</span>, <span class="number">30</span>));</span><br><span class="line"></span><br><span class="line"><span class="built_in">map</span>&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;m2;</span><br><span class="line">m2.insert(pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;(<span class="number">4</span>, <span class="number">100</span>));</span><br><span class="line">m2.insert(pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;(<span class="number">5</span>, <span class="number">200</span>));</span><br><span class="line">m2.insert(pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;(<span class="number">6</span>, <span class="number">300</span>));</span><br><span class="line"></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"äº¤æ¢å‰"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">printMap(m);</span><br><span class="line">printMap(m2);</span><br><span class="line"></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"äº¤æ¢å"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">m.swap(m2);</span><br><span class="line">printMap(m);</span><br><span class="line">printMap(m2);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">test02();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="map-æ’å…¥å’Œåˆ é™¤"><a href="#map-æ’å…¥å’Œåˆ é™¤" class="headerlink" title="map æ’å…¥å’Œåˆ é™¤"></a>map æ’å…¥å’Œåˆ é™¤</h3><p><strong>å‡½æ•°åŸå‹ï¼š</strong></p><ul><li><code>insert(elem);</code>           //åœ¨å®¹å™¨ä¸­æ’å…¥å…ƒç´ ã€‚</li><li><code>clear();</code>                    //æ¸…é™¤æ‰€æœ‰å…ƒç´ </li><li><code>erase(pos);</code>              //åˆ é™¤posè¿­ä»£å™¨æ‰€æŒ‡çš„å…ƒç´ ï¼Œè¿”å›ä¸‹ä¸€ä¸ªå…ƒç´ çš„è¿­ä»£å™¨ã€‚</li><li><code>erase(beg, end);</code>    //åˆ é™¤åŒºé—´[beg,end)çš„æ‰€æœ‰å…ƒç´  ï¼Œè¿”å›ä¸‹ä¸€ä¸ªå…ƒç´ çš„è¿­ä»£å™¨ã€‚</li><li><code>erase(key);</code>            //åˆ é™¤å®¹å™¨ä¸­å€¼ä¸ºkeyçš„å…ƒç´ ã€‚</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printMap</span><span class="params">(<span class="built_in">map</span>&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt;&amp;m)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">map</span>&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;::iterator it = m.<span class="built_in">begin</span>(); it != m.<span class="built_in">end</span>(); it++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"key = "</span> &lt;&lt; it-&gt;first &lt;&lt; <span class="string">" value = "</span> &lt;&lt; it-&gt;second &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//æ’å…¥</span></span><br><span class="line"><span class="built_in">map</span>&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; m;</span><br><span class="line"><span class="comment">//ç¬¬ä¸€ç§æ’å…¥æ–¹å¼</span></span><br><span class="line">m.insert(pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;(<span class="number">1</span>, <span class="number">10</span>));</span><br><span class="line"><span class="comment">//ç¬¬äºŒç§æ’å…¥æ–¹å¼</span></span><br><span class="line">m.insert(make_pair(<span class="number">2</span>, <span class="number">20</span>));</span><br><span class="line"><span class="comment">//ç¬¬ä¸‰ç§æ’å…¥æ–¹å¼</span></span><br><span class="line">m.insert(<span class="built_in">map</span>&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;::value_type(<span class="number">3</span>, <span class="number">30</span>));</span><br><span class="line"><span class="comment">//ç¬¬å››ç§æ’å…¥æ–¹å¼</span></span><br><span class="line">m[<span class="number">4</span>] = <span class="number">40</span>; </span><br><span class="line">printMap(m);</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ é™¤</span></span><br><span class="line">m.erase(m.<span class="built_in">begin</span>());</span><br><span class="line">printMap(m);</span><br><span class="line"></span><br><span class="line">m.erase(<span class="number">3</span>);</span><br><span class="line">printMap(m);</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ¸…ç©º</span></span><br><span class="line">m.erase(m.<span class="built_in">begin</span>(),m.<span class="built_in">end</span>());</span><br><span class="line">m.<span class="built_in">clear</span>();</span><br><span class="line">printMap(m);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="mapæŸ¥æ‰¾å’Œç»Ÿè®¡"><a href="#mapæŸ¥æ‰¾å’Œç»Ÿè®¡" class="headerlink" title="mapæŸ¥æ‰¾å’Œç»Ÿè®¡"></a>mapæŸ¥æ‰¾å’Œç»Ÿè®¡</h3><p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p><ul><li>å¯¹mapå®¹å™¨è¿›è¡ŒæŸ¥æ‰¾æ•°æ®ä»¥åŠç»Ÿè®¡æ•°æ®</li></ul><p><strong>å‡½æ•°åŸå‹ï¼š</strong></p><ul><li><code>find(key);</code>                  //æŸ¥æ‰¾keyæ˜¯å¦å­˜åœ¨,è‹¥å­˜åœ¨ï¼Œè¿”å›è¯¥é”®çš„å…ƒç´ çš„è¿­ä»£å™¨ï¼›è‹¥ä¸å­˜åœ¨ï¼Œè¿”å›set.end();</li><li><code>count(key);</code>                //ç»Ÿè®¡keyçš„å…ƒç´ ä¸ªæ•°</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//æŸ¥æ‰¾å’Œç»Ÿè®¡</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">map</span>&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;m; </span><br><span class="line">m.insert(pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;(<span class="number">1</span>, <span class="number">10</span>));</span><br><span class="line">m.insert(pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;(<span class="number">2</span>, <span class="number">20</span>));</span><br><span class="line">m.insert(pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;(<span class="number">3</span>, <span class="number">30</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">//æŸ¥æ‰¾</span></span><br><span class="line"><span class="built_in">map</span>&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;::iterator pos = m.<span class="built_in">find</span>(<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (pos != m.<span class="built_in">end</span>())</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"æ‰¾åˆ°äº†å…ƒç´  key = "</span> &lt;&lt; (*pos).first &lt;&lt; <span class="string">" value = "</span> &lt;&lt; (*pos).second &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"æœªæ‰¾åˆ°å…ƒç´ "</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç»Ÿè®¡</span></span><br><span class="line"><span class="keyword">int</span> num = m.count(<span class="number">3</span>);</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"num = "</span> &lt;&lt; num &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="mapå®¹å™¨æ’åº"><a href="#mapå®¹å™¨æ’åº" class="headerlink" title="mapå®¹å™¨æ’åº"></a>mapå®¹å™¨æ’åº</h3><p><strong>å­¦ä¹ ç›®æ ‡ï¼š</strong></p><ul><li>mapå®¹å™¨é»˜è®¤æ’åºè§„åˆ™ä¸º æŒ‰ç…§keyå€¼è¿›è¡Œ ä»å°åˆ°å¤§æ’åºï¼ŒæŒæ¡å¦‚ä½•æ”¹å˜æ’åºè§„åˆ™</li></ul><p><strong>ä¸»è¦æŠ€æœ¯ç‚¹:</strong></p><ul><li>åˆ©ç”¨ä»¿å‡½æ•°ï¼Œå¯ä»¥æ”¹å˜æ’åºè§„åˆ™</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyCompare</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="keyword">int</span> v1, <span class="keyword">int</span> v2)</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> v1 &gt; v2;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//é»˜è®¤ä»å°åˆ°å¤§æ’åº</span></span><br><span class="line"><span class="comment">//åˆ©ç”¨ä»¿å‡½æ•°å®ç°ä»å¤§åˆ°å°æ’åº</span></span><br><span class="line"><span class="built_in">map</span>&lt;<span class="keyword">int</span>, <span class="keyword">int</span>, MyCompare&gt; m;</span><br><span class="line"></span><br><span class="line">m.insert(make_pair(<span class="number">1</span>, <span class="number">10</span>));</span><br><span class="line">m.insert(make_pair(<span class="number">2</span>, <span class="number">20</span>));</span><br><span class="line">m.insert(make_pair(<span class="number">3</span>, <span class="number">30</span>));</span><br><span class="line">m.insert(make_pair(<span class="number">4</span>, <span class="number">40</span>));</span><br><span class="line">m.insert(make_pair(<span class="number">5</span>, <span class="number">50</span>));</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">map</span>&lt;<span class="keyword">int</span>, <span class="keyword">int</span>, MyCompare&gt;::iterator it = m.<span class="built_in">begin</span>(); it != m.<span class="built_in">end</span>(); it++) &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"key:"</span> &lt;&lt; it-&gt;first &lt;&lt; <span class="string">" value:"</span> &lt;&lt; it-&gt;second &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ¡ˆä¾‹-å‘˜å·¥åˆ†ç»„"><a href="#æ¡ˆä¾‹-å‘˜å·¥åˆ†ç»„" class="headerlink" title="æ¡ˆä¾‹-å‘˜å·¥åˆ†ç»„"></a>æ¡ˆä¾‹-å‘˜å·¥åˆ†ç»„</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;ctime&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> SCHEME 0</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ART 1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> DEV 2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">- å…¬å¸ä»Šå¤©æ‹›è˜äº†10ä¸ªå‘˜å·¥ï¼ˆABCDEFGHIJï¼‰ï¼Œ10åå‘˜å·¥è¿›å…¥å…¬å¸ä¹‹åï¼Œéœ€è¦æŒ‡æ´¾å‘˜å·¥åœ¨é‚£ä¸ªéƒ¨é—¨å·¥ä½œ</span></span><br><span class="line"><span class="comment">- å‘˜å·¥ä¿¡æ¯æœ‰: å§“å  å·¥èµ„ç»„æˆï¼›éƒ¨é—¨åˆ†ä¸ºï¼šç­–åˆ’ã€ç¾æœ¯ã€ç ”å‘</span></span><br><span class="line"><span class="comment">- éšæœºç»™10åå‘˜å·¥åˆ†é…éƒ¨é—¨å’Œå·¥èµ„</span></span><br><span class="line"><span class="comment">- é€šè¿‡multimapè¿›è¡Œä¿¡æ¯çš„æ’å…¥  key(éƒ¨é—¨ç¼–å·) value(å‘˜å·¥)</span></span><br><span class="line"><span class="comment">- åˆ†éƒ¨é—¨æ˜¾ç¤ºå‘˜å·¥ä¿¡æ¯</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Workers</span>&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">string</span> wName;</span><br><span class="line">    <span class="keyword">int</span> wSalary;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">creatWorkers</span> <span class="params">(<span class="built_in">vector</span>&lt;Workers&gt; &amp;v)</span></span>&#123;</span><br><span class="line">    <span class="built_in">string</span> name = <span class="string">"ABCDEFGHIJ"</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)&#123;</span><br><span class="line">        Workers worker;</span><br><span class="line">        worker.wName = <span class="string">"å‘˜å·¥"</span>;</span><br><span class="line">        worker.wName += name[i];</span><br><span class="line">        worker.wSalary = rand() % <span class="number">10000</span>+<span class="number">10000</span>;</span><br><span class="line">        v.push_back(worker);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">divideGroup</span><span class="params">(<span class="built_in">vector</span>&lt;Workers&gt; &amp;v, <span class="built_in">multimap</span>&lt;<span class="keyword">int</span>, Workers&gt; &amp;m)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">vector</span>&lt;Workers&gt;::iterator it = v.<span class="built_in">begin</span>(); it != v.<span class="built_in">end</span>(); it++)&#123;</span><br><span class="line">        <span class="keyword">int</span> deptID = rand() % <span class="number">3</span>;</span><br><span class="line">        m.insert(pair&lt;<span class="keyword">int</span>, Workers&gt;(deptID, *it));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">showDeptandWorkers</span><span class="params">(<span class="built_in">multimap</span>&lt;<span class="keyword">int</span>, Workers&gt; &amp;m)</span></span>&#123;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"-----------------------------------"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"SCHEME DEPT"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">multimap</span>&lt;<span class="keyword">int</span>, Workers&gt;::iterator pos = m.<span class="built_in">find</span>(SCHEME);</span><br><span class="line">    <span class="keyword">int</span> count = m.count(SCHEME);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> index = <span class="number">0</span>; pos != m.<span class="built_in">end</span>() &amp;&amp; index&lt; count; pos++, index++)&#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"å‘˜å·¥ï¼š"</span>&lt;&lt; pos-&gt;second.wName&lt;&lt; <span class="string">" è–ªèµ„ï¼š"</span>&lt;&lt;pos-&gt;second.wSalary&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"-----------------------------------"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"ART DEPT"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    pos = m.<span class="built_in">find</span>(ART);</span><br><span class="line">    count = m.count(ART);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> index = <span class="number">0</span>; pos != m.<span class="built_in">end</span>() &amp;&amp; index&lt; count; pos++, index++)&#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"å‘˜å·¥ï¼š"</span>&lt;&lt; pos-&gt;second.wName&lt;&lt; <span class="string">" è–ªèµ„ï¼š"</span>&lt;&lt;pos-&gt;second.wSalary&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"-----------------------------------"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"DEV DEPT"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    pos = m.<span class="built_in">find</span>(DEV);</span><br><span class="line">    count = m.count(DEV);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> index = <span class="number">0</span>; pos != m.<span class="built_in">end</span>() &amp;&amp; index&lt; count; pos++, index++)&#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"å‘˜å·¥ï¼š"</span>&lt;&lt; pos-&gt;second.wName&lt;&lt; <span class="string">" è–ªèµ„ï¼š"</span>&lt;&lt;pos-&gt;second.wSalary&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// creat a source random</span></span><br><span class="line">    srand((<span class="keyword">unsigned</span> <span class="keyword">int</span>) time(<span class="literal">NULL</span>));</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 1. creat staffs</span></span><br><span class="line">    <span class="built_in">vector</span>&lt;Workers&gt; v;</span><br><span class="line">    creatWorkers(v);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2. divide staff into group</span></span><br><span class="line">    <span class="built_in">multimap</span>&lt;<span class="keyword">int</span>, Workers&gt; m;</span><br><span class="line">    divideGroup(v, m);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3. show dept and workers</span></span><br><span class="line">    showDeptandWorkers(m);</span><br><span class="line"></span><br><span class="line"><span class="comment">//    Test</span></span><br><span class="line"><span class="comment">//    for(vector&lt;Workers&gt;::iterator  it = v.begin(); it != v.end(); it++)&#123;</span></span><br><span class="line"><span class="comment">//        cout&lt;&lt; "å‘˜å·¥ï¼š" &lt;&lt; it-&gt;wName &lt;&lt; "è–ªèµ„ï¼š"&lt;&lt; it-&gt;wSalary&lt;&lt;endl;</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="STL-å‡½æ•°å¯¹è±¡"><a href="#STL-å‡½æ•°å¯¹è±¡" class="headerlink" title="STL-å‡½æ•°å¯¹è±¡"></a>STL-å‡½æ•°å¯¹è±¡</h2><h3 id="æ¦‚å¿µï¼š"><a href="#æ¦‚å¿µï¼š" class="headerlink" title="æ¦‚å¿µï¼š"></a>æ¦‚å¿µï¼š</h3><ul><li>é‡è½½å‡½æ•°è°ƒç”¨æ“ä½œç¬¦çš„ç±»ï¼Œå…¶å¯¹è±¡å¸¸ç§°ä¸º <strong>å‡½æ•°å¯¹è±¡</strong></li><li><strong>å‡½æ•°å¯¹è±¡</strong> ä½¿ç”¨é‡è½½çš„ ( ) æ—¶ï¼Œè¡Œä¸ºç±»ä¼¼å‡½æ•°è°ƒç”¨ï¼Œä¹Ÿå«åšä»¿å‡½æ•°</li></ul><p><strong>æœ¬è´¨ï¼šå‡½æ•°å¯¹è±¡æ˜¯ä¸€ä¸ªç±»ï¼Œä¸æ˜¯ä¸€ä¸ªå‡½æ•°</strong></p><h3 id="å‡½æ•°å¯¹è±¡ä½¿ç”¨ç‰¹ç‚¹"><a href="#å‡½æ•°å¯¹è±¡ä½¿ç”¨ç‰¹ç‚¹" class="headerlink" title="å‡½æ•°å¯¹è±¡ä½¿ç”¨ç‰¹ç‚¹"></a>å‡½æ•°å¯¹è±¡ä½¿ç”¨ç‰¹ç‚¹</h3><ul><li>å‡½æ•°å¯¹è±¡åœ¨ä½¿ç”¨æ—¶ï¼Œå¯ä»¥åƒæ™®é€šå‡½æ•°ä¸€æ ·è°ƒç”¨ï¼Œå¯ä»¥æœ‰å‚æ•°å’Œè¿”å›å€¼</li><li>å‡½æ•°å¯¹è±¡è¶…å‡ºæ™®é€šå‡½æ•°çš„æ¦‚å¿µï¼Œå‡½æ•°å¯¹è±¡å¯ä»¥æœ‰è‡ªå·±çš„çŠ¶æ€</li><li>å‡½æ•°å¯¹è±¡å¯ä»¥ä½œä¸ºå‚æ•°ä¼ é€’</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//1ã€å‡½æ•°å¯¹è±¡åœ¨ä½¿ç”¨æ—¶ï¼Œå¯ä»¥åƒæ™®é€šå‡½æ•°é‚£æ ·è°ƒç”¨, å¯ä»¥æœ‰å‚æ•°ï¼Œå¯ä»¥æœ‰è¿”å›å€¼</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyAdd</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span> :</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="keyword">int</span> v1,<span class="keyword">int</span> v2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> v1 + v2;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">MyAdd myAdd;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; myAdd(<span class="number">10</span>, <span class="number">10</span>) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//2ã€å‡½æ•°å¯¹è±¡å¯ä»¥æœ‰è‡ªå·±çš„çŠ¶æ€</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyPrint</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">MyPrint()</span><br><span class="line">&#123;</span><br><span class="line">count = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="built_in">string</span> test)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; test &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">count++; <span class="comment">//ç»Ÿè®¡ä½¿ç”¨æ¬¡æ•°</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> count; <span class="comment">//å†…éƒ¨è‡ªå·±çš„çŠ¶æ€</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test02</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">MyPrint myPrint;</span><br><span class="line">myPrint(<span class="string">"hello world"</span>);</span><br><span class="line">myPrint(<span class="string">"hello world"</span>);</span><br><span class="line">myPrint(<span class="string">"hello world"</span>);</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"myPrintè°ƒç”¨æ¬¡æ•°ä¸ºï¼š "</span> &lt;&lt; myPrint.count &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//3ã€å‡½æ•°å¯¹è±¡å¯ä»¥ä½œä¸ºå‚æ•°ä¼ é€’</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">doPrint</span><span class="params">(MyPrint &amp;mp , <span class="built_in">string</span> test)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">mp(test);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test03</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">MyPrint myPrint;</span><br><span class="line">doPrint(myPrint, <span class="string">"Hello C++"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//test01();</span></span><br><span class="line"><span class="comment">//test02();</span></span><br><span class="line">test03();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="è°“è¯"><a href="#è°“è¯" class="headerlink" title="è°“è¯"></a>è°“è¯</h3><p><strong>æ¦‚å¿µï¼š</strong></p><ul><li>è¿”å› bool ç±»å‹çš„ä»¿å‡½æ•°ç§°ä¸º <strong>è°“è¯</strong></li><li>å¦‚æœ operator() æ¥å—ä¸€ä¸ªå‚æ•°ï¼Œå«åšä¸€å…ƒè°“è¯</li><li>å¦‚æœâ€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦ä¸¤ä¸ªå‚æ•°ï¼Œâ€¦â€¦äºŒå…ƒè°“è¯</li></ul><p><strong>ä¸€å…ƒè°“è¯</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//1.ä¸€å…ƒè°“è¯</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">GreaterFive</span>&#123;</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> val &gt; <span class="number">5</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">v.push_back(i);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;::iterator it = find_if(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), GreaterFive());</span><br><span class="line"><span class="keyword">if</span> (it == v.<span class="built_in">end</span>()) &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"æ²¡æ‰¾åˆ°!"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"æ‰¾åˆ°:"</span> &lt;&lt; *it &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>äºŒå…ƒè°“è¯</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="comment">//äºŒå…ƒè°“è¯</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyCompare</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="keyword">int</span> num1, <span class="keyword">int</span> num2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> num1 &gt; num2;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v;</span><br><span class="line">v.push_back(<span class="number">10</span>);</span><br><span class="line">v.push_back(<span class="number">40</span>);</span><br><span class="line">v.push_back(<span class="number">20</span>);</span><br><span class="line">v.push_back(<span class="number">30</span>);</span><br><span class="line">v.push_back(<span class="number">50</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//é»˜è®¤ä»å°åˆ°å¤§</span></span><br><span class="line">sort(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>());</span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;::iterator it = v.<span class="built_in">begin</span>(); it != v.<span class="built_in">end</span>(); it++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; *it &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"----------------------------"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä½¿ç”¨å‡½æ•°å¯¹è±¡æ”¹å˜ç®—æ³•ç­–ç•¥ï¼Œæ’åºä»å¤§åˆ°å°</span></span><br><span class="line">sort(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), MyCompare());</span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;::iterator it = v.<span class="built_in">begin</span>(); it != v.<span class="built_in">end</span>(); it++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; *it &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å†…å»ºå‡½æ•°"><a href="#å†…å»ºå‡½æ•°" class="headerlink" title="å†…å»ºå‡½æ•°"></a>å†…å»ºå‡½æ•°</h3><p><strong>æ¦‚å¿µï¼šSTLå†…å»ºäº†ä¸€äº›å‡½æ•°å¯¹è±¡</strong></p><p><strong>åˆ†ç±»ï¼š</strong></p><ul><li>ç®—æœ¯ä»¿å‡½æ•°</li><li>å…³ç³»ä»¿å‡½æ•°</li><li>é€»è¾‘ä»¿å‡½æ•°</li></ul><p><strong>ä½¿ç”¨ï¼šéœ€è¦å¼•å…¥å¤´æ–‡ä»¶ #include \<functional\></strong></p><h4 id="ç®—æœ¯ä»¿å‡½æ•°"><a href="#ç®—æœ¯ä»¿å‡½æ•°" class="headerlink" title="ç®—æœ¯ä»¿å‡½æ•°"></a>ç®—æœ¯ä»¿å‡½æ•°</h4><p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p><ul><li>å®ç°å››åˆ™è¿ç®—</li><li>å…¶ä¸­negateæ˜¯ä¸€å…ƒè¿ç®—ï¼Œå…¶ä»–éƒ½æ˜¯äºŒå…ƒè¿ç®—</li></ul><p><strong>ä»¿å‡½æ•°åŸå‹ï¼š</strong></p><ul><li><code>template&lt;class T&gt; T plus&lt;T&gt;</code>                //åŠ æ³•ä»¿å‡½æ•°</li><li><code>template&lt;class T&gt; T minus&lt;T&gt;</code>              //å‡æ³•ä»¿å‡½æ•°</li><li><code>template&lt;class T&gt; T multiplies&lt;T&gt;</code>    //ä¹˜æ³•ä»¿å‡½æ•°</li><li><code>template&lt;class T&gt; T divides&lt;T&gt;</code>         //é™¤æ³•ä»¿å‡½æ•°</li><li><code>template&lt;class T&gt; T modulus&lt;T&gt;</code>         //å–æ¨¡ä»¿å‡½æ•°</li><li><code>template&lt;class T&gt; T negate&lt;T&gt;</code>           //å–åä»¿å‡½æ•°</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;functional&gt;</span></span></span><br><span class="line"><span class="comment">//negate</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">negate&lt;<span class="keyword">int</span>&gt; n;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; n(<span class="number">50</span>) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//plus</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test02</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">plus&lt;<span class="keyword">int</span>&gt; p;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; p(<span class="number">10</span>, <span class="number">20</span>) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line">test02();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å…³ç³»ä»¿å‡½æ•°"><a href="#å…³ç³»ä»¿å‡½æ•°" class="headerlink" title="å…³ç³»ä»¿å‡½æ•°"></a>å…³ç³»ä»¿å‡½æ•°</h4><p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p><ul><li>å®ç°å…³ç³»å¯¹æ¯”</li></ul><p><strong>ä»¿å‡½æ•°åŸå‹ï¼š</strong></p><ul><li><code>template&lt;class T&gt; bool equal_to&lt;T&gt;</code>                    //ç­‰äº</li><li><code>template&lt;class T&gt; bool not_equal_to&lt;T&gt;</code>            //ä¸ç­‰äº</li><li><code>template&lt;class T&gt; bool greater&lt;T&gt;</code>                      //å¤§äº</li><li><code>template&lt;class T&gt; bool greater_equal&lt;T&gt;</code>          //å¤§äºç­‰äº</li><li><code>template&lt;class T&gt; bool less&lt;T&gt;</code>                           //å°äº</li><li><code>template&lt;class T&gt; bool less_equal&lt;T&gt;</code>               //å°äºç­‰äº</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;functional&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyCompare</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="keyword">int</span> v1,<span class="keyword">int</span> v2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> v1 &gt; v2;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v;</span><br><span class="line"></span><br><span class="line">v.push_back(<span class="number">10</span>);</span><br><span class="line">v.push_back(<span class="number">30</span>);</span><br><span class="line">v.push_back(<span class="number">50</span>);</span><br><span class="line">v.push_back(<span class="number">40</span>);</span><br><span class="line">v.push_back(<span class="number">20</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;::iterator it = v.<span class="built_in">begin</span>(); it != v.<span class="built_in">end</span>(); it++) &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; *it &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è‡ªå·±å®ç°ä»¿å‡½æ•°</span></span><br><span class="line"><span class="comment">//sort(v.begin(), v.end(), MyCompare());</span></span><br><span class="line"><span class="comment">//STLå†…å»ºä»¿å‡½æ•°  å¤§äºä»¿å‡½æ•°</span></span><br><span class="line">sort(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), greater&lt;<span class="keyword">int</span>&gt;());</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;::iterator it = v.<span class="built_in">begin</span>(); it != v.<span class="built_in">end</span>(); it++) &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; *it &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="é€»è¾‘ä»¿å‡½æ•°"><a href="#é€»è¾‘ä»¿å‡½æ•°" class="headerlink" title="é€»è¾‘ä»¿å‡½æ•°"></a>é€»è¾‘ä»¿å‡½æ•°</h4><p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p><ul><li>å®ç°é€»è¾‘è¿ç®—</li></ul><p><strong>å‡½æ•°åŸå‹ï¼š</strong></p><ul><li><code>template&lt;class T&gt; bool logical_and&lt;T&gt;</code>              //é€»è¾‘ä¸</li><li><code>template&lt;class T&gt; bool logical_or&lt;T&gt;</code>                //é€»è¾‘æˆ–</li><li><code>template&lt;class T&gt; bool logical_not&lt;T&gt;</code>              //é€»è¾‘é</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;functional&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt; v;</span><br><span class="line">v.push_back(<span class="literal">true</span>);</span><br><span class="line">v.push_back(<span class="literal">false</span>);</span><br><span class="line">v.push_back(<span class="literal">true</span>);</span><br><span class="line">v.push_back(<span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt;::iterator it = v.<span class="built_in">begin</span>();it!= v.<span class="built_in">end</span>();it++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; *it &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//é€»è¾‘é  å°†vå®¹å™¨æ¬è¿åˆ°v2ä¸­ï¼Œå¹¶æ‰§è¡Œé€»è¾‘éè¿ç®—</span></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt; v2;</span><br><span class="line">v2.resize(v.<span class="built_in">size</span>());</span><br><span class="line">transform(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(),  v2.<span class="built_in">begin</span>(), logical_not&lt;<span class="keyword">bool</span>&gt;());</span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt;::iterator it = v2.<span class="built_in">begin</span>(); it != v2.<span class="built_in">end</span>(); it++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; *it &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;CPP-refresh&quot;&gt;&lt;a href=&quot;#CPP-refresh&quot; class=&quot;headerlink&quot; title=&quot;CPP refresh&quot;&gt;&lt;/a&gt;CPP refresh&lt;/h1&gt;&lt;h2 id=&quot;å†…å­˜æ¨¡å‹&quot;&gt;&lt;a href=&quot;#å†…å­˜æ¨¡å‹&quot; class=&quot;
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>752. Open the Lock</title>
    <link href="https://github.com/liysky/liysky.github.io.git/2021/02/03/752-Open-the-Lock/"/>
    <id>https://github.com/liysky/liysky.github.io.git/2021/02/03/752-Open-the-Lock/</id>
    <published>2021-02-03T14:49:30.000Z</published>
    <updated>2021-02-03T14:49:53.791Z</updated>
    
    <content type="html"><![CDATA[<h3 id="752-Open-the-Lock"><a href="#752-Open-the-Lock" class="headerlink" title="752. Open the Lock"></a><a href="https://leetcode-cn.com/problems/open-the-lock/" target="_blank" rel="noopener">752. Open the Lock</a></h3><p>You have a lock in front of you with 4 circular wheels. Each wheel has 10 slots: â€˜0â€™, â€˜1â€™, â€˜2â€™, â€˜3â€™, â€˜4â€™, â€˜5â€™, â€˜6â€™, â€˜7â€™, â€˜8â€™, â€˜9â€™. The wheels can rotate freely and wrap around: for example we can turn â€˜9â€™ to be â€˜0â€™, or â€˜0â€™ to be â€˜9â€™. Each move consists of turning one wheel one slot.</p><p>The lock initially starts at â€˜0000â€™, a string representing the state of the 4 wheels.</p><p>You are given a list of deadends dead ends, meaning if the lock displays any of these codes, the wheels of the lock will stop turning and you will be unable to open it.</p><p>Given a target representing the value of the wheels that will unlock the lock, return the minimum total number of turns required to open the lock, or -1 if it is impossible.</p><p>Example 1:</p><p>Input: deadends = [â€œ0201â€,â€0101â€,â€0102â€,â€1212â€,â€2002â€], target = â€œ0202â€<br>Output: 6<br>Explanation:<br>A sequence of valid moves would be â€œ0000â€ -&gt; â€œ1000â€ -&gt; â€œ1100â€ -&gt; â€œ1200â€ -&gt; â€œ1201â€ -&gt; â€œ1202â€ -&gt; â€œ0202â€.<br>Note that a sequence like â€œ0000â€ -&gt; â€œ0001â€ -&gt; â€œ0002â€ -&gt; â€œ0102â€ -&gt; â€œ0202â€ would be invalid,<br>because the wheels of the lock become stuck after the display becomes the dead end â€œ0102â€.<br>Example 2:</p><p>Input: deadends = [â€œ8888â€], target = â€œ0009â€<br>Output: 1<br>Explanation:<br>We can turn the last wheel in reverse to move from â€œ0000â€ -&gt; â€œ0009â€.<br>Example 3:</p><p>Input: deadends = [â€œ8887â€,â€8889â€,â€8878â€,â€8898â€,â€8788â€,â€8988â€,â€7888â€,â€9888â€], target = â€œ8888â€<br>Output: -1<br>Explanation:<br>We canâ€™t reach the target without getting stuck.<br>Example 4:</p><p>Input: deadends = [â€œ0000â€], target = â€œ8888â€<br>Output: -1</p><p>Constraints:</p><p>1 &lt;= deadends.length &lt;= 500<br>deadends[i].length == 4<br>target.length == 4<br>target will not be in the list deadends.<br>target and deadends[i] consist of digits only.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function">String <span class="title">plusOne</span><span class="params">(String s, <span class="keyword">int</span> i)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">char</span>[] ch = s.toCharArray();</span><br><span class="line">        <span class="keyword">if</span>(ch[i] == <span class="string">'9'</span>)</span><br><span class="line">            ch[i] = <span class="string">'0'</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            ch[i] += <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> String(ch);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">String <span class="title">minusOne</span><span class="params">(String s, <span class="keyword">int</span> i)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">char</span>[] ch = s.toCharArray();</span><br><span class="line">        <span class="keyword">if</span>(ch[i] == <span class="string">'0'</span>)</span><br><span class="line">            ch[i] = <span class="string">'9'</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            ch[i] -= <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> String(ch);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">openLock</span><span class="params">(String[] deadends, String target)</span> </span>&#123;</span><br><span class="line">        Set&lt;String&gt; deads = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(String dead : deadends)</span><br><span class="line">            deads.add(dead);</span><br><span class="line">        Set&lt;String&gt; visited = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        Queue&lt;String&gt; q = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        <span class="keyword">int</span> depth = <span class="number">0</span>;</span><br><span class="line">        visited.add(<span class="string">"0000"</span>);</span><br><span class="line">        q.offer(<span class="string">"0000"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span>(!q.isEmpty())&#123;</span><br><span class="line">            <span class="keyword">int</span> q_size = q.size();</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; q_size; i++)&#123;</span><br><span class="line">                String cur = q.poll();</span><br><span class="line">                <span class="keyword">if</span>(deads.contains(cur))</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                <span class="keyword">if</span>(cur.equals(target))</span><br><span class="line">                    <span class="keyword">return</span> depth;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">4</span>; j++)&#123;</span><br><span class="line">                    String plusone = plusOne(cur, j);</span><br><span class="line">                    <span class="keyword">if</span>(!visited.contains(plusone))&#123;</span><br><span class="line">                        q.offer(plusone);</span><br><span class="line">                        visited.add(plusone);</span><br><span class="line">                    &#125;</span><br><span class="line">                    String minusone = minusOne(cur, j);</span><br><span class="line">                    <span class="keyword">if</span>(!visited.contains(minusone))&#123;</span><br><span class="line">                        q.offer(minusone);</span><br><span class="line">                        visited.add(minusone);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            depth++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;752-Open-the-Lock&quot;&gt;&lt;a href=&quot;#752-Open-the-Lock&quot; class=&quot;headerlink&quot; title=&quot;752. Open the Lock&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://leetcode-cn.com/p
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>Iteratively. 144.Binary Tree Preorder&amp;Inorder Traversal</title>
    <link href="https://github.com/liysky/liysky.github.io.git/2021/02/01/Iteratively-144-Binary-Tree-Preorder-Inorder-Traversal/"/>
    <id>https://github.com/liysky/liysky.github.io.git/2021/02/01/Iteratively-144-Binary-Tree-Preorder-Inorder-Traversal/</id>
    <published>2021-02-01T15:53:55.000Z</published>
    <updated>2021-02-01T15:54:18.699Z</updated>
    
    <content type="html"><![CDATA[<h4 id="144-Binary-Tree-Preorder-Traversal"><a href="#144-Binary-Tree-Preorder-Traversal" class="headerlink" title="144. Binary Tree Preorder Traversal"></a><a href="https://leetcode-cn.com/problems/binary-tree-preorder-traversal/" target="_blank" rel="noopener">144. Binary Tree Preorder Traversal</a></h4><p>Given the root of a binary tree, return the preorder traversal of its nodesâ€™ values.</p><p>Example 1:</p><p>Input: root = [1,null,2,3]<br>Output: [1,2,3]<br>Example 2:</p><p>Input: root = []<br>Output: []<br>Example 3:</p><p>Input: root = [1]<br>Output: [1]<br>Example 4:</p><p>Input: root = [1,2]<br>Output: [1,2]<br>Example 5:</p><p>Input: root = [1,null,2]<br>Output: [1,2]</p><p>Constraints:</p><p>The number of nodes in the tree is in the range [0, 100].<br>-100 &lt;= Node.val &lt;= 100</p><p>Follow up: Recursive solution is trivial, could you do it iteratively?</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * struct TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode *left;</span></span><br><span class="line"><span class="comment"> *     TreeNode *right;</span></span><br><span class="line"><span class="comment"> *     TreeNode() : val(0), left(nullptr), right(nullptr) &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; <span class="title">preorderTraversal</span><span class="params">(TreeNode* root)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; res;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> res;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">stack</span>&lt;TreeNode*&gt; stk;</span><br><span class="line">        TreeNode* node = root;</span><br><span class="line">        <span class="keyword">while</span> (!stk.empty() || node != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            <span class="keyword">while</span> (node != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">                res.emplace_back(node-&gt;val);</span><br><span class="line">                stk.emplace(node);</span><br><span class="line">                node = node-&gt;left;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(!stk.empty())&#123;</span><br><span class="line">                node = stk.top();</span><br><span class="line">                stk.pop();</span><br><span class="line">                node = node-&gt;right;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><strong>Iterative Method</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">PreOrderTraversal</span><span class="params">(BinTree BT)</span></span>&#123;</span><br><span class="line">    BinTree T = BT;</span><br><span class="line">    Stack S = CreatStack(Maxsize);<span class="comment">//å»ºç«‹ä¸€ä¸ªå †æ ˆ S</span></span><br><span class="line">    While(T || !IsEmpty(S))&#123;<span class="comment">//å½“ T å­˜åœ¨æˆ–è€… S éç©ºæ—¶ï¼ŒS ä¸ºç©ºæ—¶è¯´æ˜é€€å®Œäº†</span></span><br><span class="line">        <span class="keyword">while</span>(T)&#123;<span class="comment">//å½“ T å­˜åœ¨æ—¶</span></span><br><span class="line">            Push(S,T);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%5d"</span>, T-&gt;Data);</span><br><span class="line">            T = T-&gt;Left;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(!IsEmpty(S))&#123;<span class="comment">//å¦‚æœ S éç©º </span></span><br><span class="line">          T = S.top();</span><br><span class="line">            S.pop();</span><br><span class="line">            T = T-&gt;Right;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>difference with Inorder traversal</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">PreOrderTraversal</span><span class="params">(BinTree BT)</span></span>&#123;</span><br><span class="line">    BinTree T = BT;</span><br><span class="line">    Stack S = CreatStack(Maxsize);<span class="comment">//å»ºç«‹ä¸€ä¸ªå †æ ˆ S</span></span><br><span class="line">    While(T || !IsEmpty(S))&#123;<span class="comment">//å½“ T å­˜åœ¨æˆ–è€… S éç©ºæ—¶ï¼ŒS ä¸ºç©ºæ—¶è¯´æ˜é€€å®Œäº†</span></span><br><span class="line">        <span class="keyword">while</span>(T)&#123;<span class="comment">//å½“ T å­˜åœ¨æ—¶</span></span><br><span class="line">            Push(S,T);</span><br><span class="line">            T = T-&gt;Left;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(!IsEmpty(S))&#123;<span class="comment">//å¦‚æœ S éç©º </span></span><br><span class="line">          T = S.top();</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%5d"</span>, T-&gt;Data);</span><br><span class="line">            S.pop();</span><br><span class="line">            T = T-&gt;Right;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h4 id=&quot;144-Binary-Tree-Preorder-Traversal&quot;&gt;&lt;a href=&quot;#144-Binary-Tree-Preorder-Traversal&quot; class=&quot;headerlink&quot; title=&quot;144. Binary Tree Preorde
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>LeetCode 111. Minimum Depth of Binary Tree</title>
    <link href="https://github.com/liysky/liysky.github.io.git/2021/01/29/LeetCode-111-Minimum-Depth-of-Binary-Tree/"/>
    <id>https://github.com/liysky/liysky.github.io.git/2021/01/29/LeetCode-111-Minimum-Depth-of-Binary-Tree/</id>
    <published>2021-01-29T15:37:16.000Z</published>
    <updated>2021-02-03T14:13:36.954Z</updated>
    
    <content type="html"><![CDATA[<h1 id="111-Minimum-Depth-of-Binary-Tree"><a href="#111-Minimum-Depth-of-Binary-Tree" class="headerlink" title="111. Minimum Depth of Binary Tree"></a><a href="https://leetcode-cn.com/problems/minimum-depth-of-binary-tree/" target="_blank" rel="noopener">111. Minimum Depth of Binary Tree</a></h1><p>Given a binary tree, find its minimum depth.</p><p>The minimum depth is the number of nodes along the shortest path from the root node down to the nearest leaf node.</p><p>Note: A leaf is a node with no children.</p><p>Example 1:</p><p>Input: root = [3,9,20,null,null,15,7]<br>Output: 2<br>Example 2:</p><p>Input: root = [2,null,3,null,4,null,5,null,6]<br>Output: 5</p><p>Constraints:</p><p>The number of nodes in the tree is in the range [0, 105].<br>-1000 &lt;= Node.val &lt;= 1000</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * struct TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode *left;</span></span><br><span class="line"><span class="comment"> *     TreeNode *right;</span></span><br><span class="line"><span class="comment"> *     TreeNode() : val(0), left(nullptr), right(nullptr) &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">minDepth</span><span class="params">(TreeNode* root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(root == <span class="literal">nullptr</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span>(root-&gt;left==<span class="literal">nullptr</span> &amp;&amp; root-&gt;right == <span class="literal">nullptr</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> min_Set = INT_MAX;</span><br><span class="line">        <span class="keyword">if</span>(root-&gt;left != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            min_Set = <span class="built_in">min</span>( minDepth(root-&gt;left), min_Set );</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(root-&gt;right != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            min_Set = <span class="built_in">min</span>( minDepth(root-&gt;right), min_Set );</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> min_Set + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><strong>BFS</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">BFS</span><span class="params">(Node start)</span></span>&#123;</span><br><span class="line">  <span class="comment">// set queue and visited Set</span></span><br><span class="line">  Queue&lt;Node&gt; q;</span><br><span class="line">  Set&lt;Node&gt; visited;</span><br><span class="line">  q.offer(start); <span class="comment">// put first node into q</span></span><br><span class="line">  visited.add(start); <span class="comment">// add q into set, mark</span></span><br><span class="line">  <span class="keyword">int</span> depth = <span class="number">1</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">while</span>(q <span class="keyword">not</span> empty)&#123;</span><br><span class="line">    <span class="keyword">int</span> q_size = q.<span class="built_in">size</span>();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; q_size; i++)&#123;</span><br><span class="line">      Node cur = q.poll();</span><br><span class="line">      </span><br><span class="line">      <span class="comment">//judge if it is the bottum of q</span></span><br><span class="line">      <span class="keyword">if</span>(cur.left == null &amp;&amp; cur.right == null)&#123;</span><br><span class="line">        <span class="keyword">return</span> depth;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// all of cur.adjacent node need to be offered into q</span></span><br><span class="line">      <span class="keyword">for</span>(Node x : cur.adj() ) &#123;</span><br><span class="line">        <span class="keyword">if</span>(x <span class="keyword">not</span> in visited)&#123;</span><br><span class="line">          q.offer(x);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// after add all of cur.adjacent node, depth++</span></span><br><span class="line">    depth++;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//java</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * public class TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode left;</span></span><br><span class="line"><span class="comment"> *     TreeNode right;</span></span><br><span class="line"><span class="comment"> *     TreeNode() &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int val) &#123; this.val = val; &#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int val, TreeNode left, TreeNode right) &#123;</span></span><br><span class="line"><span class="comment"> *         this.val = val;</span></span><br><span class="line"><span class="comment"> *         this.left = left;</span></span><br><span class="line"><span class="comment"> *         this.right = right;</span></span><br><span class="line"><span class="comment"> *     &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minDepth</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(root == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        Queue&lt;TreeNode&gt; q = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        q.offer(root);</span><br><span class="line">        <span class="keyword">int</span> depth = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(!q.isEmpty())&#123;</span><br><span class="line">            <span class="keyword">int</span> q_size = q.size();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; q_size; i++)&#123;</span><br><span class="line">                TreeNode cur = q.poll();</span><br><span class="line">                <span class="keyword">if</span>(cur.left == <span class="keyword">null</span> &amp;&amp; cur.right == <span class="keyword">null</span>) <span class="keyword">return</span> depth;</span><br><span class="line">                <span class="keyword">if</span>(cur.left != <span class="keyword">null</span>)&#123;</span><br><span class="line">                    q.offer(cur.left);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(cur.right != <span class="keyword">null</span>)&#123;</span><br><span class="line">                    q.offer(cur.right);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            depth++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> depth;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Java added visited function (However Binary tree does not need add that)</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * public class TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode left;</span></span><br><span class="line"><span class="comment"> *     TreeNode right;</span></span><br><span class="line"><span class="comment"> *     TreeNode() &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int val) &#123; this.val = val; &#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int val, TreeNode left, TreeNode right) &#123;</span></span><br><span class="line"><span class="comment"> *         this.val = val;</span></span><br><span class="line"><span class="comment"> *         this.left = left;</span></span><br><span class="line"><span class="comment"> *         this.right = right;</span></span><br><span class="line"><span class="comment"> *     &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minDepth</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(root == <span class="keyword">null</span> ) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        Queue&lt;TreeNode&gt; q = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">      <span class="comment">//Set HashSet</span></span><br><span class="line">        Set&lt;TreeNode&gt; visited = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        q.offer(root);</span><br><span class="line">        visited.add(root);</span><br><span class="line">        <span class="keyword">int</span> depth = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(!q.isEmpty())&#123;</span><br><span class="line">            <span class="keyword">int</span> q_size = q.size();</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;  q_size; i++)&#123;</span><br><span class="line">                TreeNode cur = q.poll();</span><br><span class="line">                <span class="keyword">if</span>(cur.left == <span class="keyword">null</span> &amp;&amp; cur.right == <span class="keyword">null</span>) <span class="keyword">return</span> depth;</span><br><span class="line">                <span class="keyword">if</span>(cur.left != <span class="keyword">null</span>)&#123;</span><br><span class="line">                    <span class="keyword">if</span>( !visited.contains(cur.left) ) &#123;</span><br><span class="line">                        q.offer(cur.left);</span><br><span class="line">                        visited.add(cur.left);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(cur.right != <span class="keyword">null</span>)&#123;</span><br><span class="line">                    <span class="keyword">if</span>( !visited.contains(cur.right) ) &#123;</span><br><span class="line">                        q.offer(cur.right);</span><br><span class="line">                        visited.add(cur.right);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            depth++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> depth;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;111-Minimum-Depth-of-Binary-Tree&quot;&gt;&lt;a href=&quot;#111-Minimum-Depth-of-Binary-Tree&quot; class=&quot;headerlink&quot; title=&quot;111. Minimum Depth of Binary
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>full permutation with backtracking</title>
    <link href="https://github.com/liysky/liysky.github.io.git/2021/01/14/full-permutation-with-backtracking/"/>
    <id>https://github.com/liysky/liysky.github.io.git/2021/01/14/full-permutation-with-backtracking/</id>
    <published>2021-01-14T11:55:32.000Z</published>
    <updated>2021-03-31T13:25:31.011Z</updated>
    
    <content type="html"><![CDATA[<p>1, 2, 3 full permutation example in conventional â€œfor circleâ€ full permutation. </p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20210114195633990.png" alt="image-20210114195633990"></p><p>with vector path.</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20210114195922265.png" alt="image-20210114195922265"></p><p>then backtracking method.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">fun</span><span class="params">(<span class="keyword">int</span> level, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp;path )</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(level == path.<span class="built_in">size</span>())&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> num:path)&#123;</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;num&lt;&lt;<span class="string">" "</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(path[level] = <span class="number">1</span>; path[level] &lt;= path.<span class="built_in">size</span>(); path[level]++)&#123;</span><br><span class="line">        <span class="comment">// before enter into next layer decision tree,</span></span><br><span class="line">        <span class="comment">// checking whether path contains item contained or not.</span></span><br><span class="line">        <span class="comment">// std::count: Returns the number of elements in the range [first,last) that compare equal to val.</span></span><br><span class="line">        <span class="keyword">if</span>( count(path.<span class="built_in">begin</span>(), <span class="built_in">begin</span>(path) + level, path[level] ) != <span class="number">0</span> ) <span class="keyword">continue</span>;</span><br><span class="line">        fun(level+<span class="number">1</span>, path);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; <span class="title">path</span><span class="params">(<span class="number">4</span>)</span></span>;</span><br><span class="line">    fun(<span class="number">0</span>, path);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>reference: <a href="https://www.youtube.com/watch?v=nrHTtjkYEyQ" target="_blank" rel="noopener">https://www.youtube.com/watch?v=nrHTtjkYEyQ</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;1, 2, 3 full permutation example in conventional â€œfor circleâ€ full permutation. &lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://jaximage-1253102271.cos.ap-beij
      
    
    </summary>
    
    
    
      <category term="learning-note" scheme="https://github.com/liysky/liysky.github.io.git/tags/learning-note/"/>
    
  </entry>
  
  <entry>
    <title>é«˜å…‰è°±åˆ†ç±»-Hyperspectral Classification</title>
    <link href="https://github.com/liysky/liysky.github.io.git/2021/01/04/Hyperspectral-Classification/"/>
    <id>https://github.com/liysky/liysky.github.io.git/2021/01/04/Hyperspectral-Classification/</id>
    <published>2021-01-03T16:47:43.000Z</published>
    <updated>2021-01-05T08:04:43.782Z</updated>
    
    <content type="html"><![CDATA[<h1 id="HybridSN"><a href="#HybridSN" class="headerlink" title="HybridSN"></a>HybridSN</h1><p><strong>é˜…è¯»è®ºæ–‡ï¼š</strong></p><p><a href="https://arxiv.org/abs/1902.06701" target="_blank" rel="noopener"><strong>HybridSN: Exploring 3D-2D CNN Feature Hierarchy for Hyperspectral Image Classification</strong></a></p><h2 id="èƒŒæ™¯çŸ¥è¯†"><a href="#èƒŒæ™¯çŸ¥è¯†" class="headerlink" title="èƒŒæ™¯çŸ¥è¯†"></a>èƒŒæ™¯çŸ¥è¯†</h2><p><strong>é«˜å…‰è°±å›¾åƒ hyperspectral imageï¼š</strong></p><p>é«˜å…‰è°±é¥æ„ŸæŒ‡å…·æœ‰é«˜å…‰è°±åˆ†è¾¨ç‡çš„é¥æ„Ÿæ•°æ®è·å–ã€å¤„ç†ã€åˆ†æå’Œåº”ç”¨çš„ç§‘å­¦ä¸æŠ€æœ¯ï¼Œé€šå¸¸é‡‡ç”¨è¦†ç›–ä¸€å®šæ³¢è°±èŒƒå›´çš„æˆåƒå…‰è°±ä»ªå’Œéæˆåƒå…‰è°±ä»ªä¸¤ç§ä¼ æ„Ÿå™¨è·å–æ•°æ®ï¼Œåˆ©ç”¨å¤§é‡çª„æ³¢æ®µç”µç£æ³¢è·å–æ„Ÿå…´è¶£ç›®æ ‡çš„ç†åŒ–ä¿¡æ¯ï¼Œå…¶åŸºç¡€æ˜¯å…‰è°±å­¦(Spectroscopy)</p><p><strong>é«˜å…‰è°±å›¾åƒåˆ†ç±»:</strong></p><p>åˆ†ç±»æ˜¯é«˜å…‰è°±é¥æ„Ÿå½±åƒå¤„ç†å’Œåº”ç”¨çš„ä¸€é¡¹é‡è¦å†…å®¹ï¼Œå…¶æœ€ç»ˆç›®æ ‡æ˜¯ç»™å½±åƒä¸­çš„æ¯ä¸ªåƒå…ƒèµ‹ä»¥å”¯ä¸€çš„ç±»åˆ«æ ‡è¯†ã€‚ç„¶è€Œï¼Œé«˜å…‰è°±é¥æ„Ÿå½±åƒçš„é«˜ç»´ç‰¹æ€§ã€æ³¢æ®µé—´é«˜åº¦ç›¸å…³æ€§ã€å…‰è°±æ··åˆç­‰ä½¿å¾—é«˜å…‰è°±é¥æ„Ÿå½±åƒåˆ†ç±»é¢ä¸´å·¨å¤§æŒ‘æˆ˜.</p><p><strong>ä½œè€…æå‡º Hybrid-CNNæ¨¡å‹çš„åŸå› </strong></p><ul><li>å•çº¯çš„2D-CNNå¹¶ä¸èƒ½ä»å…‰è°±ç»´åº¦ä¸­æå–å‡ºè‰¯å¥½çš„åˆ¤åˆ«ç‰¹å¾å›¾ã€‚</li><li>åŒæ ·ï¼Œæ·±å±‚çš„3D-CNNåœ¨è®¡ç®—ä¸Šæ›´åŠ å¤æ‚ï¼Œå•ç‹¬çš„3D-CNNå¯¹äºåœ¨è®¸å¤šå…‰è°±æ³¢æ®µä¸Šå…·æœ‰ç›¸ä¼¼çº¹ç†çš„ç±»ä¼¼ä¹è¡¨ç°æ›´å·®ã€‚</li><li>åˆ©ç”¨3Då’Œ2Dæ··åˆèƒ½å¤Ÿå……åˆ†åœ°åˆ©ç”¨å…‰è°±ç‰¹å¾å’Œç©ºé—´ç‰¹å¾æ¥æé«˜åˆ†ç±»ç²¾åº¦ã€‚</li></ul><h2 id="è·å–æ•°æ®ï¼Œå¹¶å¼•å…¥åŸºæœ¬å‡½æ•°åº“"><a href="#è·å–æ•°æ®ï¼Œå¹¶å¼•å…¥åŸºæœ¬å‡½æ•°åº“" class="headerlink" title="è·å–æ•°æ®ï¼Œå¹¶å¼•å…¥åŸºæœ¬å‡½æ•°åº“"></a>è·å–æ•°æ®ï¼Œå¹¶å¼•å…¥åŸºæœ¬å‡½æ•°åº“</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">! wget http://www.ehu.eus/ccwintco/uploads/<span class="number">6</span>/<span class="number">67</span>/Indian_pines_corrected.mat</span><br><span class="line">! wget http://www.ehu.eus/ccwintco/uploads/c/c4/Indian_pines_gt.mat</span><br><span class="line">! pip install spectral</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> scipy.io <span class="keyword">as</span> sio</span><br><span class="line"><span class="keyword">from</span> sklearn.decomposition <span class="keyword">import</span> PCA</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> confusion_matrix, accuracy_score, classification_report, cohen_kappa_score</span><br><span class="line"><span class="keyword">import</span> spectral</span><br><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torchvision</span><br><span class="line"><span class="keyword">import</span> torch.nn <span class="keyword">as</span> nn</span><br><span class="line"><span class="keyword">import</span> torch.nn.functional <span class="keyword">as</span> F</span><br><span class="line"><span class="keyword">import</span> torch.optim <span class="keyword">as</span> optim</span><br></pre></td></tr></table></figure><h2 id="å®šä¹‰-hybridSNç±»"><a href="#å®šä¹‰-hybridSNç±»" class="headerlink" title="å®šä¹‰ hybridSNç±»"></a>å®šä¹‰ hybridSNç±»</h2><p>æ¨¡å‹çš„ç½‘ç»œç»“æ„å¦‚ä¸‹ï¼š</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202020-12-31%20at%2016.53.52.png" alt="Screen Shot 2020-12-31 at 16.53.52"></p><p><strong>ä¸‰ç»´å·ç§¯éƒ¨åˆ†</strong></p><ul><li>conv1ï¼šï¼ˆ1, 30, 25, 25ï¼‰ï¼Œ 8ä¸ª 7x3x3 çš„å·ç§¯æ ¸ ==&gt;ï¼ˆ8, 24, 23, 23ï¼‰</li><li>conv2ï¼šï¼ˆ8, 24, 23, 23ï¼‰ï¼Œ 16ä¸ª 5x3x3 çš„å·ç§¯æ ¸ ==&gt;ï¼ˆ16, 20, 21, 21ï¼‰</li><li>conv3ï¼šï¼ˆ16, 20, 21, 21ï¼‰ï¼Œ32ä¸ª 3x3x3 çš„å·ç§¯æ ¸ ==&gt;ï¼ˆ32, 18, 19, 19ï¼‰</li></ul><p><strong>äºŒç»´å·ç§¯</strong></p><p>å°†å‰é¢çš„ 32*18 reshape å¾—åˆ° ï¼ˆ576ï¼Œ19ï¼Œ19ï¼‰</p><ul><li><p>ï¼ˆ576, 19, 19ï¼‰ 64ä¸ª 3x3 çš„å·ç§¯æ ¸ï¼Œ==&gt; ï¼ˆ64, 17, 17ï¼‰</p></li><li><p>flatten æ“ä½œï¼Œå˜ä¸º 18496 ç»´çš„å‘é‡</p></li><li>ä½¿ç”¨ 256ï¼Œ128 çš„å…¨è¿æ¥å±‚ï¼Œéƒ½æ˜¯ç”¨0.4çš„ Dropout</li><li>æœ€åè¾“å‡ºä¸º 16 ä¸ªèŠ‚ç‚¹ï¼Œæ˜¯æœ€ç»ˆçš„åˆ†ç±»ç±»åˆ«æ•°</li></ul><p><strong>HybridSN ç±»</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">class_num = <span class="number">16</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HybridSN</span><span class="params">(nn.Module)</span>:</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">    super(HybridSN,self).__init__()</span><br><span class="line"><span class="comment"># 3D</span></span><br><span class="line">    self.conv3d_1=nn.Sequential(</span><br><span class="line">        nn.Conv3d(<span class="number">1</span>,<span class="number">8</span>,kernel_size=(<span class="number">7</span>, <span class="number">3</span>, <span class="number">3</span>),stride=<span class="number">1</span>, padding=<span class="number">0</span>),</span><br><span class="line">        nn.BatchNorm3d(<span class="number">8</span>),</span><br><span class="line">        nn.ReLU(inplace=<span class="literal">True</span>),</span><br><span class="line">    )</span><br><span class="line">    self.conv3d_2 = nn.Sequential(</span><br><span class="line">        nn.Conv3d(<span class="number">8</span>, <span class="number">16</span>, kernel_size=(<span class="number">5</span>, <span class="number">3</span>, <span class="number">3</span>), stride=<span class="number">1</span>, padding=<span class="number">0</span>),</span><br><span class="line">        nn.BatchNorm3d(<span class="number">16</span>),</span><br><span class="line">        nn.ReLU(inplace = <span class="literal">True</span>),</span><br><span class="line">    ) </span><br><span class="line">    self.conv3d_3 = nn.Sequential(</span><br><span class="line">        nn.Conv3d(<span class="number">16</span>, <span class="number">32</span>, kernel_size=(<span class="number">3</span>, <span class="number">3</span>, <span class="number">3</span>), stride=<span class="number">1</span>, padding=<span class="number">0</span>),</span><br><span class="line">        nn.BatchNorm3d(<span class="number">32</span>),</span><br><span class="line">        nn.ReLU(inplace = <span class="literal">True</span>)</span><br><span class="line">    )</span><br><span class="line"><span class="comment"># 2D </span></span><br><span class="line">    self.conv2d = nn.Sequential(</span><br><span class="line">        nn.Conv2d(<span class="number">576</span>, <span class="number">64</span>, kernel_size=(<span class="number">3</span>, <span class="number">3</span>), stride=<span class="number">1</span>, padding=<span class="number">0</span>),</span><br><span class="line">        nn.BatchNorm2d(<span class="number">64</span>),</span><br><span class="line">        nn.ReLU(inplace = <span class="literal">True</span>),</span><br><span class="line">    )</span><br><span class="line">    self.fc1 = nn.Linear(<span class="number">18496</span>,<span class="number">256</span>)</span><br><span class="line">    self.fc2 = nn.Linear(<span class="number">256</span>,<span class="number">128</span>)</span><br><span class="line">    self.fc3 = nn.Linear(<span class="number">128</span>,<span class="number">16</span>)</span><br><span class="line">    self.dropout = nn.Dropout(p = <span class="number">0.4</span>)</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">forward</span><span class="params">(self,x)</span>:</span></span><br><span class="line">    out = self.conv3d_1(x)</span><br><span class="line">    out = self.conv3d_2(out)</span><br><span class="line">    out = self.conv3d_3(out)</span><br><span class="line">    out = self.conv2d(out.reshape(out.shape[<span class="number">0</span>],<span class="number">-1</span>,<span class="number">19</span>,<span class="number">19</span>))</span><br><span class="line">    out = out.reshape(out.shape[<span class="number">0</span>],<span class="number">-1</span>)</span><br><span class="line">    out = F.relu(self.dropout(self.fc1(out)))</span><br><span class="line">    out = F.relu(self.dropout(self.fc2(out)))</span><br><span class="line">    out = self.fc3(out)</span><br><span class="line">    <span class="keyword">return</span> out</span><br><span class="line">  </span><br><span class="line"><span class="comment"># éšæœºè¾“å…¥ï¼Œæµ‹è¯•ç½‘ç»œç»“æ„æ˜¯å¦é€š</span></span><br><span class="line"><span class="comment"># x = torch.randn(1, 1, 30, 25, 25)</span></span><br><span class="line"><span class="comment"># net = HybridSN()</span></span><br><span class="line"><span class="comment"># y = net(x)</span></span><br><span class="line"><span class="comment"># print(y.shape)</span></span><br></pre></td></tr></table></figure><h2 id="åˆ›å»ºæ•°æ®é›†"><a href="#åˆ›å»ºæ•°æ®é›†" class="headerlink" title="åˆ›å»ºæ•°æ®é›†"></a>åˆ›å»ºæ•°æ®é›†</h2><p>é¦–å…ˆå¯¹é«˜å…‰è°±æ•°æ®å®æ–½PCAé™ç»´ï¼›ç„¶ååˆ›å»º keras æ–¹ä¾¿å¤„ç†çš„æ•°æ®æ ¼å¼ï¼›ç„¶åéšæœºæŠ½å– 10% æ•°æ®åšä¸ºè®­ç»ƒé›†ï¼Œå‰©ä½™çš„åšä¸ºæµ‹è¯•é›†ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># å¯¹é«˜å…‰è°±æ•°æ® X åº”ç”¨ PCA å˜æ¢</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">applyPCA</span><span class="params">(X, numComponents)</span>:</span></span><br><span class="line">    newX = np.reshape(X, (<span class="number">-1</span>, X.shape[<span class="number">2</span>]))</span><br><span class="line">    pca = PCA(n_components=numComponents, whiten=<span class="literal">True</span>)</span><br><span class="line">    newX = pca.fit_transform(newX)</span><br><span class="line">    newX = np.reshape(newX, (X.shape[<span class="number">0</span>], X.shape[<span class="number">1</span>], numComponents))</span><br><span class="line">    <span class="keyword">return</span> newX</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯¹å•ä¸ªåƒç´ å‘¨å›´æå– patch æ—¶ï¼Œè¾¹ç¼˜åƒç´ å°±æ— æ³•å–äº†ï¼Œå› æ­¤ï¼Œç»™è¿™éƒ¨åˆ†åƒç´ è¿›è¡Œ padding æ“ä½œ</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">padWithZeros</span><span class="params">(X, margin=<span class="number">2</span>)</span>:</span></span><br><span class="line">    newX = np.zeros((X.shape[<span class="number">0</span>] + <span class="number">2</span> * margin, X.shape[<span class="number">1</span>] + <span class="number">2</span>* margin, X.shape[<span class="number">2</span>]))</span><br><span class="line">    x_offset = margin</span><br><span class="line">    y_offset = margin</span><br><span class="line">    newX[x_offset:X.shape[<span class="number">0</span>] + x_offset, y_offset:X.shape[<span class="number">1</span>] + y_offset, :] = X</span><br><span class="line">    <span class="keyword">return</span> newX</span><br><span class="line"></span><br><span class="line"><span class="comment"># åœ¨æ¯ä¸ªåƒç´ å‘¨å›´æå– patch ï¼Œç„¶ååˆ›å»ºæˆç¬¦åˆ keras å¤„ç†çš„æ ¼å¼</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">createImageCubes</span><span class="params">(X, y, windowSize=<span class="number">5</span>, removeZeroLabels = True)</span>:</span></span><br><span class="line">    <span class="comment"># ç»™ X åš padding</span></span><br><span class="line">    margin = int((windowSize - <span class="number">1</span>) / <span class="number">2</span>)</span><br><span class="line">    zeroPaddedX = padWithZeros(X, margin=margin)</span><br><span class="line">    <span class="comment"># split patches</span></span><br><span class="line">    patchesData = np.zeros((X.shape[<span class="number">0</span>] * X.shape[<span class="number">1</span>], windowSize, windowSize, X.shape[<span class="number">2</span>]))</span><br><span class="line">    patchesLabels = np.zeros((X.shape[<span class="number">0</span>] * X.shape[<span class="number">1</span>]))</span><br><span class="line">    patchIndex = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> r <span class="keyword">in</span> range(margin, zeroPaddedX.shape[<span class="number">0</span>] - margin):</span><br><span class="line">        <span class="keyword">for</span> c <span class="keyword">in</span> range(margin, zeroPaddedX.shape[<span class="number">1</span>] - margin):</span><br><span class="line">            patch = zeroPaddedX[r - margin:r + margin + <span class="number">1</span>, c - margin:c + margin + <span class="number">1</span>]   </span><br><span class="line">            patchesData[patchIndex, :, :, :] = patch</span><br><span class="line">            patchesLabels[patchIndex] = y[r-margin, c-margin]</span><br><span class="line">            patchIndex = patchIndex + <span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> removeZeroLabels:</span><br><span class="line">        patchesData = patchesData[patchesLabels&gt;<span class="number">0</span>,:,:,:]</span><br><span class="line">        patchesLabels = patchesLabels[patchesLabels&gt;<span class="number">0</span>]</span><br><span class="line">        patchesLabels -= <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> patchesData, patchesLabels</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">splitTrainTestSet</span><span class="params">(X, y, testRatio, randomState=<span class="number">345</span>)</span>:</span></span><br><span class="line">    X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=testRatio, random_state=randomState, stratify=y)</span><br><span class="line">    <span class="keyword">return</span> X_train, X_test, y_train, y_test</span><br></pre></td></tr></table></figure><p>è¯»å–å¹¶åˆ›å»ºæ•°æ®é›†</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åœ°ç‰©ç±»åˆ«</span></span><br><span class="line">class_num = <span class="number">16</span></span><br><span class="line">X = sio.loadmat(<span class="string">'Indian_pines_corrected.mat'</span>)[<span class="string">'indian_pines_corrected'</span>]</span><br><span class="line">y = sio.loadmat(<span class="string">'Indian_pines_gt.mat'</span>)[<span class="string">'indian_pines_gt'</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”¨äºæµ‹è¯•æ ·æœ¬çš„æ¯”ä¾‹</span></span><br><span class="line">test_ratio = <span class="number">0.90</span></span><br><span class="line"><span class="comment"># æ¯ä¸ªåƒç´ å‘¨å›´æå– patch çš„å°ºå¯¸</span></span><br><span class="line">patch_size = <span class="number">25</span></span><br><span class="line"><span class="comment"># ä½¿ç”¨ PCA é™ç»´ï¼Œå¾—åˆ°ä¸»æˆåˆ†çš„æ•°é‡</span></span><br><span class="line">pca_components = <span class="number">30</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">'Hyperspectral data shape: '</span>, X.shape)</span><br><span class="line">print(<span class="string">'Label shape: '</span>, y.shape)</span><br><span class="line"></span><br><span class="line">print(<span class="string">'\n... ... PCA tranformation ... ...'</span>)</span><br><span class="line">X_pca = applyPCA(X, numComponents=pca_components)</span><br><span class="line">print(<span class="string">'Data shape after PCA: '</span>, X_pca.shape)</span><br><span class="line"></span><br><span class="line">print(<span class="string">'\n... ... create data cubes ... ...'</span>)</span><br><span class="line">X_pca, y = createImageCubes(X_pca, y, windowSize=patch_size)</span><br><span class="line">print(<span class="string">'Data cube X shape: '</span>, X_pca.shape)</span><br><span class="line">print(<span class="string">'Data cube y shape: '</span>, y.shape)</span><br><span class="line"></span><br><span class="line">print(<span class="string">'\n... ... create train &amp; test data ... ...'</span>)</span><br><span class="line">Xtrain, Xtest, ytrain, ytest = splitTrainTestSet(X_pca, y, test_ratio)</span><br><span class="line">print(<span class="string">'Xtrain shape: '</span>, Xtrain.shape)</span><br><span class="line">print(<span class="string">'Xtest  shape: '</span>, Xtest.shape)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ”¹å˜ Xtrain, Ytrain çš„å½¢çŠ¶ï¼Œä»¥ç¬¦åˆ keras çš„è¦æ±‚</span></span><br><span class="line">Xtrain = Xtrain.reshape(<span class="number">-1</span>, patch_size, patch_size, pca_components, <span class="number">1</span>)</span><br><span class="line">Xtest  = Xtest.reshape(<span class="number">-1</span>, patch_size, patch_size, pca_components, <span class="number">1</span>)</span><br><span class="line">print(<span class="string">'before transpose: Xtrain shape: '</span>, Xtrain.shape) </span><br><span class="line">print(<span class="string">'before transpose: Xtest  shape: '</span>, Xtest.shape) </span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸ºäº†é€‚åº” pytorch ç»“æ„ï¼Œæ•°æ®è¦åš transpose</span></span><br><span class="line">Xtrain = Xtrain.transpose(<span class="number">0</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line">Xtest  = Xtest.transpose(<span class="number">0</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line">print(<span class="string">'after transpose: Xtrain shape: '</span>, Xtrain.shape) </span><br><span class="line">print(<span class="string">'after transpose: Xtest  shape: '</span>, Xtest.shape) </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">""" Training dataset"""</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TrainDS</span><span class="params">(torch.utils.data.Dataset)</span>:</span> </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.len = Xtrain.shape[<span class="number">0</span>]</span><br><span class="line">        self.x_data = torch.FloatTensor(Xtrain)</span><br><span class="line">        self.y_data = torch.LongTensor(ytrain)        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__getitem__</span><span class="params">(self, index)</span>:</span></span><br><span class="line">        <span class="comment"># æ ¹æ®ç´¢å¼•è¿”å›æ•°æ®å’Œå¯¹åº”çš„æ ‡ç­¾</span></span><br><span class="line">        <span class="keyword">return</span> self.x_data[index], self.y_data[index]</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__len__</span><span class="params">(self)</span>:</span> </span><br><span class="line">        <span class="comment"># è¿”å›æ–‡ä»¶æ•°æ®çš„æ•°ç›®</span></span><br><span class="line">        <span class="keyword">return</span> self.len</span><br><span class="line"></span><br><span class="line"><span class="string">""" Testing dataset"""</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TestDS</span><span class="params">(torch.utils.data.Dataset)</span>:</span> </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.len = Xtest.shape[<span class="number">0</span>]</span><br><span class="line">        self.x_data = torch.FloatTensor(Xtest)</span><br><span class="line">        self.y_data = torch.LongTensor(ytest)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__getitem__</span><span class="params">(self, index)</span>:</span></span><br><span class="line">        <span class="comment"># æ ¹æ®ç´¢å¼•è¿”å›æ•°æ®å’Œå¯¹åº”çš„æ ‡ç­¾</span></span><br><span class="line">        <span class="keyword">return</span> self.x_data[index], self.y_data[index]</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__len__</span><span class="params">(self)</span>:</span> </span><br><span class="line">        <span class="comment"># è¿”å›æ–‡ä»¶æ•°æ®çš„æ•°ç›®</span></span><br><span class="line">        <span class="keyword">return</span> self.len</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»º trainloader å’Œ testloader</span></span><br><span class="line">trainset = TrainDS()</span><br><span class="line">testset  = TestDS()</span><br><span class="line">train_loader = torch.utils.data.DataLoader(dataset=trainset, batch_size=<span class="number">128</span>, shuffle=<span class="literal">True</span>, num_workers=<span class="number">2</span>)</span><br><span class="line">test_loader  = torch.utils.data.DataLoader(dataset=testset,  batch_size=<span class="number">128</span>, shuffle=<span class="literal">False</span>, num_workers=<span class="number">2</span>)</span><br></pre></td></tr></table></figure><p>outï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Hyperspectral data shape:  (145, 145, 200)</span><br><span class="line">Label shape:  (145, 145)</span><br><span class="line"></span><br><span class="line">... ... PCA tranformation ... ...</span><br><span class="line">Data shape after PCA:  (145, 145, 30)</span><br><span class="line"></span><br><span class="line">... ... create data cubes ... ...</span><br><span class="line">Data cube X shape:  (10249, 25, 25, 30)</span><br><span class="line">Data cube y shape:  (10249,)</span><br><span class="line"></span><br><span class="line">... ... create train &amp; test data ... ...</span><br><span class="line">Xtrain shape:  (1024, 25, 25, 30)</span><br><span class="line">Xtest  shape:  (9225, 25, 25, 30)</span><br><span class="line">before transpose: Xtrain shape:  (1024, 25, 25, 30, 1)</span><br><span class="line">before transpose: Xtest  shape:  (9225, 25, 25, 30, 1)</span><br><span class="line">after transpose: Xtrain shape:  (1024, 1, 30, 25, 25)</span><br><span class="line">after transpose: Xtest  shape:  (9225, 1, 30, 25, 25)</span><br></pre></td></tr></table></figure><h2 id="å¼€å§‹è®­ç»ƒ"><a href="#å¼€å§‹è®­ç»ƒ" class="headerlink" title="å¼€å§‹è®­ç»ƒ"></a>å¼€å§‹è®­ç»ƒ</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä½¿ç”¨GPUè®­ç»ƒï¼Œå¯ä»¥åœ¨èœå• "ä»£ç æ‰§è¡Œå·¥å…·" -&gt; "æ›´æ”¹è¿è¡Œæ—¶ç±»å‹" é‡Œè¿›è¡Œè®¾ç½®</span></span><br><span class="line">device = torch.device(<span class="string">"cuda:0"</span> <span class="keyword">if</span> torch.cuda.is_available() <span class="keyword">else</span> <span class="string">"cpu"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç½‘ç»œæ”¾åˆ°GPUä¸Š</span></span><br><span class="line">net = HybridSN().to(device)</span><br><span class="line">criterion = nn.CrossEntropyLoss()</span><br><span class="line">optimizer = optim.Adam(net.parameters(), lr=<span class="number">0.001</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¼€å§‹è®­ç»ƒ</span></span><br><span class="line">total_loss = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> epoch <span class="keyword">in</span> range(<span class="number">100</span>):</span><br><span class="line">    <span class="keyword">for</span> i, (inputs, labels) <span class="keyword">in</span> enumerate(train_loader):</span><br><span class="line">        inputs = inputs.to(device)</span><br><span class="line">        labels = labels.to(device)</span><br><span class="line">        <span class="comment"># ä¼˜åŒ–å™¨æ¢¯åº¦å½’é›¶</span></span><br><span class="line">        optimizer.zero_grad()</span><br><span class="line">        <span class="comment"># æ­£å‘ä¼ æ’­ +ã€€åå‘ä¼ æ’­ + ä¼˜åŒ– </span></span><br><span class="line">        outputs = net(inputs)</span><br><span class="line">        loss = criterion(outputs, labels)</span><br><span class="line">        loss.backward()</span><br><span class="line">        optimizer.step()</span><br><span class="line">        total_loss += loss.item()</span><br><span class="line">    print(<span class="string">'[Epoch: %d]   [loss avg: %.4f]   [current loss: %.4f]'</span> %(epoch + <span class="number">1</span>, total_loss/(epoch+<span class="number">1</span>), loss.item()))</span><br><span class="line"></span><br><span class="line">print(<span class="string">'Finished Training'</span>)</span><br></pre></td></tr></table></figure><p>out:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">[Epoch: 1]   [loss avg: 20.8664]   [current loss: 2.5130]</span><br><span class="line">[Epoch: 2]   [loss avg: 20.1485]   [current loss: 2.3768]</span><br><span class="line">[Epoch: 3]   [loss avg: 19.5493]   [current loss: 2.2176]</span><br><span class="line">[Epoch: 4]   [loss avg: 18.9607]   [current loss: 2.0665]</span><br><span class="line">[Epoch: 5]   [loss avg: 18.4340]   [current loss: 1.9149]</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">[Epoch: 70]   [loss avg: 2.4159]   [current loss: 0.0473]</span><br><span class="line">[Epoch: 71]   [loss avg: 2.3844]   [current loss: 0.0155]</span><br><span class="line">[Epoch: 72]   [loss avg: 2.3523]   [current loss: 0.0012]</span><br><span class="line">[Epoch: 73]   [loss avg: 2.3204]   [current loss: 0.0043]</span><br><span class="line">[Epoch: 74]   [loss avg: 2.2897]   [current loss: 0.0007]</span><br><span class="line">[Epoch: 75]   [loss avg: 2.2593]   [current loss: 0.0004]</span><br><span class="line">...</span><br><span class="line">[Epoch: 95]   [loss avg: 1.8108]   [current loss: 0.0410]</span><br><span class="line">[Epoch: 96]   [loss avg: 1.7933]   [current loss: 0.0426]</span><br><span class="line">[Epoch: 97]   [loss avg: 1.7755]   [current loss: 0.0059]</span><br><span class="line">[Epoch: 98]   [loss avg: 1.7581]   [current loss: 0.0113]</span><br><span class="line">[Epoch: 99]   [loss avg: 1.7415]   [current loss: 0.0016]</span><br><span class="line">[Epoch: 100]   [loss avg: 1.7261]   [current loss: 0.0187]</span><br><span class="line">Finished Training</span><br></pre></td></tr></table></figure><h2 id="æ¨¡å‹æµ‹è¯•"><a href="#æ¨¡å‹æµ‹è¯•" class="headerlink" title="æ¨¡å‹æµ‹è¯•"></a>æ¨¡å‹æµ‹è¯•</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">count = <span class="number">0</span></span><br><span class="line"><span class="comment"># æ¨¡å‹æµ‹è¯•</span></span><br><span class="line"><span class="keyword">for</span> inputs, _ <span class="keyword">in</span> test_loader:</span><br><span class="line">    inputs = inputs.to(device)</span><br><span class="line">    outputs = net(inputs)</span><br><span class="line">    outputs = np.argmax(outputs.detach().cpu().numpy(), axis=<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">if</span> count == <span class="number">0</span>:</span><br><span class="line">        y_pred_test =  outputs</span><br><span class="line">        count = <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        y_pred_test = np.concatenate( (y_pred_test, outputs) )</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”Ÿæˆåˆ†ç±»æŠ¥å‘Š</span></span><br><span class="line">classification = classification_report(ytest, y_pred_test, digits=<span class="number">4</span>)</span><br><span class="line">print(classification)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">              precision    recall  f1-score   support</span><br><span class="line"></span><br><span class="line">         0.0     0.9487    0.9024    0.9250        41</span><br><span class="line">         1.0     0.9540    0.9518    0.9529      1285</span><br><span class="line">         2.0     0.9495    0.9572    0.9533       747</span><br><span class="line">         3.0     1.0000    0.8028    0.8906       213</span><br><span class="line">         4.0     0.8747    0.9954    0.9312       435</span><br><span class="line">         5.0     0.9847    0.9787    0.9817       657</span><br><span class="line">         6.0     1.0000    0.9200    0.9583        25</span><br><span class="line">         7.0     0.9534    1.0000    0.9762       430</span><br><span class="line">         8.0     0.8571    0.6667    0.7500        18</span><br><span class="line">         9.0     0.9939    0.9371    0.9647       875</span><br><span class="line">        10.0     0.9695    0.9941    0.9817      2210</span><br><span class="line">        11.0     0.9393    0.9270    0.9331       534</span><br><span class="line">        12.0     0.9432    0.8973    0.9197       185</span><br><span class="line">        13.0     0.9806    0.9781    0.9793      1139</span><br><span class="line">        14.0     0.9647    0.9452    0.9549       347</span><br><span class="line">        15.0     0.9459    0.8333    0.8861        84</span><br><span class="line"></span><br><span class="line">    accuracy                         0.9623      9225</span><br><span class="line">   macro avg     0.9537    0.9179    0.9337      9225</span><br><span class="line">weighted avg     0.9631    0.9623    0.9620      9225</span><br></pre></td></tr></table></figure><h2 id="æ˜¾ç¤ºåˆ†ç±»ç»“æœ"><a href="#æ˜¾ç¤ºåˆ†ç±»ç»“æœ" class="headerlink" title="æ˜¾ç¤ºåˆ†ç±»ç»“æœ"></a>æ˜¾ç¤ºåˆ†ç±»ç»“æœ</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#æ˜¾ç¤ºåˆ†ç±»ç»“æœ</span></span><br><span class="line"><span class="comment"># load the original image</span></span><br><span class="line">X = sio.loadmat(<span class="string">'Indian_pines_corrected.mat'</span>)[<span class="string">'indian_pines_corrected'</span>]</span><br><span class="line">y = sio.loadmat(<span class="string">'Indian_pines_gt.mat'</span>)[<span class="string">'indian_pines_gt'</span>]</span><br><span class="line"></span><br><span class="line">height = y.shape[<span class="number">0</span>]</span><br><span class="line">width = y.shape[<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">X = applyPCA(X, numComponents= pca_components)</span><br><span class="line">X = padWithZeros(X, patch_size//<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># é€åƒç´ é¢„æµ‹ç±»åˆ«</span></span><br><span class="line">outputs = np.zeros((height,width))</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(height):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(width):</span><br><span class="line">        <span class="keyword">if</span> int(y[i,j]) == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        <span class="keyword">else</span> :</span><br><span class="line">            image_patch = X[i:i+patch_size, j:j+patch_size, :]</span><br><span class="line">            image_patch = image_patch.reshape(<span class="number">1</span>,image_patch.shape[<span class="number">0</span>],image_patch.shape[<span class="number">1</span>], image_patch.shape[<span class="number">2</span>], <span class="number">1</span>)</span><br><span class="line">            X_test_image = torch.FloatTensor(image_patch.transpose(<span class="number">0</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">2</span>)).to(device)                                   </span><br><span class="line">            prediction = net(X_test_image)</span><br><span class="line">            prediction = np.argmax(prediction.detach().cpu().numpy(), axis=<span class="number">1</span>)</span><br><span class="line">            outputs[i][j] = prediction+<span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> i % <span class="number">20</span> == <span class="number">0</span>:</span><br><span class="line">        print(<span class="string">'... ... row '</span>, i, <span class="string">' handling ... ...'</span>)</span><br><span class="line"></span><br><span class="line">predict_image = spectral.imshow(classes = outputs.astype(int),figsize =(<span class="number">5</span>,<span class="number">5</span>))</span><br></pre></td></tr></table></figure><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20210104131557618.png" alt="image-20210104131557618"></p><h2 id="åŠ å…¥æ³¨æ„åŠ›æœºåˆ¶"><a href="#åŠ å…¥æ³¨æ„åŠ›æœºåˆ¶" class="headerlink" title="åŠ å…¥æ³¨æ„åŠ›æœºåˆ¶"></a><strong>åŠ å…¥æ³¨æ„åŠ›æœºåˆ¶</strong></h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é€šé“æ³¨æ„åŠ›æœºåˆ¶</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ChannelAttention</span><span class="params">(nn.Module)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, in_planes, ratio=<span class="number">16</span>)</span>:</span></span><br><span class="line">        super(ChannelAttention, self).__init__()</span><br><span class="line">        self.avg_pool = nn.AdaptiveAvgPool2d(<span class="number">1</span>)</span><br><span class="line">        self.max_pool = nn.AdaptiveMaxPool2d(<span class="number">1</span>)</span><br><span class="line"> </span><br><span class="line">        self.fc1   = nn.Conv2d(in_planes, in_planes // <span class="number">16</span>, <span class="number">1</span>, bias=<span class="literal">False</span>)</span><br><span class="line">        self.relu1 = nn.ReLU()</span><br><span class="line">        self.fc2   = nn.Conv2d(in_planes // <span class="number">16</span>, in_planes, <span class="number">1</span>, bias=<span class="literal">False</span>)</span><br><span class="line"> </span><br><span class="line">        self.sigmoid = nn.Sigmoid()</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">forward</span><span class="params">(self, x)</span>:</span></span><br><span class="line">        avg_out = self.fc2(self.relu1(self.fc1(self.avg_pool(x))))</span><br><span class="line">        max_out = self.fc2(self.relu1(self.fc1(self.max_pool(x))))</span><br><span class="line">        out = avg_out + max_out</span><br><span class="line">        <span class="keyword">return</span> self.sigmoid(out)</span><br><span class="line"><span class="comment"># ç©ºé—´æ³¨æ„åŠ›æœºåˆ¶</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SpatialAttention</span><span class="params">(nn.Module)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, kernel_size=<span class="number">7</span>)</span>:</span></span><br><span class="line">        super(SpatialAttention, self).__init__()</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">assert</span> kernel_size <span class="keyword">in</span> (<span class="number">3</span>, <span class="number">7</span>), <span class="string">'kernel size must be 3 or 7'</span></span><br><span class="line">        padding = <span class="number">3</span> <span class="keyword">if</span> kernel_size == <span class="number">7</span> <span class="keyword">else</span> <span class="number">1</span></span><br><span class="line"> </span><br><span class="line">        self.conv1 = nn.Conv2d(<span class="number">2</span>, <span class="number">1</span>, kernel_size, padding=padding, bias=<span class="literal">False</span>)</span><br><span class="line">        self.sigmoid = nn.Sigmoid()</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">forward</span><span class="params">(self, x)</span>:</span></span><br><span class="line">        avg_out = torch.mean(x, dim=<span class="number">1</span>, keepdim=<span class="literal">True</span>)</span><br><span class="line">        max_out, _ = torch.max(x, dim=<span class="number">1</span>, keepdim=<span class="literal">True</span>)</span><br><span class="line">        x = torch.cat([avg_out, max_out], dim=<span class="number">1</span>)</span><br><span class="line">        x = self.conv1(x)</span><br><span class="line">        <span class="keyword">return</span> self.sigmoid(x)</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HybridSN</span><span class="params">(nn.Module)</span>:</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, num_classes=<span class="number">16</span>, self_attention=True)</span>:</span></span><br><span class="line">  super(HybridSN, self).__init__()</span><br><span class="line">  self.self_attention = self_attention</span><br><span class="line"></span><br><span class="line">  <span class="comment"># 3D</span></span><br><span class="line">  self.block_1_3D = nn.Sequential(</span><br><span class="line">    nn.Conv3d(</span><br><span class="line">      in_channels=<span class="number">1</span>,</span><br><span class="line">      out_channels=<span class="number">8</span>,</span><br><span class="line">      kernel_size=(<span class="number">7</span>, <span class="number">3</span>, <span class="number">3</span>),</span><br><span class="line">      stride=<span class="number">1</span>,</span><br><span class="line">      padding=<span class="number">0</span></span><br><span class="line">    ),</span><br><span class="line">    nn.ReLU(inplace=<span class="literal">True</span>),</span><br><span class="line">    nn.Conv3d(</span><br><span class="line">      in_channels=<span class="number">8</span>,</span><br><span class="line">      out_channels=<span class="number">16</span>,</span><br><span class="line">      kernel_size=(<span class="number">5</span>, <span class="number">3</span>, <span class="number">3</span>),</span><br><span class="line">      stride=<span class="number">1</span>,</span><br><span class="line">      padding=<span class="number">0</span></span><br><span class="line">    ),</span><br><span class="line">    nn.ReLU(inplace=<span class="literal">True</span>),</span><br><span class="line">    nn.Conv3d(</span><br><span class="line">      in_channels=<span class="number">16</span>,</span><br><span class="line">      out_channels=<span class="number">32</span>,</span><br><span class="line">      kernel_size=(<span class="number">3</span>, <span class="number">3</span>, <span class="number">3</span>),</span><br><span class="line">      stride=<span class="number">1</span>,</span><br><span class="line">      padding=<span class="number">0</span></span><br><span class="line">    ),</span><br><span class="line">    nn.ReLU(inplace=<span class="literal">True</span>)</span><br><span class="line">  )</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> self_attention:</span><br><span class="line">    self.channel_attention_1 = ChannelAttention(<span class="number">576</span>)</span><br><span class="line">    self.spatial_attention_1 = SpatialAttention(kernel_size=<span class="number">7</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 2D</span></span><br><span class="line">    self.block_2_2D = nn.Sequential(</span><br><span class="line">      nn.Conv2d(</span><br><span class="line">        in_channels=<span class="number">576</span>,</span><br><span class="line">        out_channels=<span class="number">64</span>,</span><br><span class="line">        kernel_size=(<span class="number">3</span>, <span class="number">3</span>)</span><br><span class="line">      ),</span><br><span class="line">      nn.ReLU(inplace=<span class="literal">True</span>)</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> self_attention:</span><br><span class="line">      self.channel_attention_2 = ChannelAttention(<span class="number">64</span>)</span><br><span class="line">      self.spatial_attention_2 = SpatialAttention(kernel_size=<span class="number">7</span>)</span><br><span class="line"></span><br><span class="line">      <span class="comment"># full connect</span></span><br><span class="line">      self.classifier = nn.Sequential(</span><br><span class="line">        nn.Linear(</span><br><span class="line">          in_features=<span class="number">18496</span>,</span><br><span class="line">          out_features=<span class="number">256</span></span><br><span class="line">        ),</span><br><span class="line">        nn.Dropout(p=<span class="number">0.4</span>),</span><br><span class="line">        nn.Linear(</span><br><span class="line">          in_features=<span class="number">256</span>,</span><br><span class="line">          out_features=<span class="number">128</span></span><br><span class="line">        ),</span><br><span class="line">        nn.Dropout(p=<span class="number">0.4</span>),</span><br><span class="line">        nn.Linear(</span><br><span class="line">          in_features=<span class="number">128</span>,</span><br><span class="line">          out_features=num_classes</span><br><span class="line">        )</span><br><span class="line">      )</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">forward</span><span class="params">(self, x)</span>:</span></span><br><span class="line">  y = self.block_1_3D(x)</span><br><span class="line">  y = y.view(<span class="number">-1</span>, y.shape[<span class="number">1</span>] * y.shape[<span class="number">2</span>], y.shape[<span class="number">3</span>], y.shape[<span class="number">4</span>])</span><br><span class="line">  <span class="keyword">if</span> self.self_attention:</span><br><span class="line">    y = self.channel_attention_1(y) * y</span><br><span class="line">    y = self.spatial_attention_1(y) * y</span><br><span class="line">    y = self.block_2_2D(y)</span><br><span class="line">    <span class="keyword">if</span> self.self_attention:</span><br><span class="line">      y = self.channel_attention_2(y) * y</span><br><span class="line">      y = self.spatial_attention_2(y) * y</span><br><span class="line"></span><br><span class="line">      y = y.view(y.size(<span class="number">0</span>), <span class="number">-1</span>)</span><br><span class="line"></span><br><span class="line">      y = self.classifier(y)</span><br><span class="line">      <span class="keyword">return</span> y</span><br></pre></td></tr></table></figure><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-01-01%20at%2000.29.32.png" alt="Screen Shot at 00.29.32"></p><p><strong>æ¨¡å‹æ£€æµ‹</strong></p><div class="table-container"><table><thead><tr><th>æµ‹è¯•æ¬¡æ•°</th><th>æµ‹è¯•ç»“æœ</th></tr></thead><tbody><tr><td>æµ‹è¯•1</td><td><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-01-03%20at%2017.12.28-20210103171503072.png" alt="Screen Shot 2021-01-03 at 17.12.28"></td></tr><tr><td>æµ‹è¯•2</td><td><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20210103171324381-20210103171458133.png" alt="image-20210103171324381"></td></tr><tr><td>æµ‹è¯•3</td><td><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-01-03%20at%2017.13.46.png" alt="Screen Shot 2021-01-03 at 17.13.46"></td></tr></tbody></table></div><h2 id="æ€è€ƒé¢˜ğŸ¤”"><a href="#æ€è€ƒé¢˜ğŸ¤”" class="headerlink" title="æ€è€ƒé¢˜ğŸ¤”"></a>æ€è€ƒé¢˜ğŸ¤”</h2><p><strong>ä¸€ï¼š3Då·æœºä¸2Då·ç§¯çš„åŒºåˆ«</strong></p><ul><li>å·ç§¯çš„æ–¹å‘å’Œè¾“å‡ºçš„å½¢çŠ¶å¾ˆé‡è¦</li></ul><div class="table-container"><table><thead><tr><th>ä¸€ç»´å·ç§¯</th><th>äºŒç»´å·ç§¯</th><th>ä¸‰ç»´å·ç§¯</th></tr></thead><tbody><tr><td><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-01-03%20at%2015.29.45.png" alt="Screen Shot 2021-01-03 at 15.29.45"></td><td><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20210103153053452.png" alt="image-20210103153053452"></td><td><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20210103153105101.png" alt="image-20210103153105101"></td></tr></tbody></table></div><ul><li>å·ç§¯æ ¸çš„åŒºåˆ«ï¼š2D 3D</li></ul><div class="table-container"><table><thead><tr><th>äºŒç»´å·ç§¯</th><th>ä¸‰ç»´å·ç§¯</th></tr></thead><tbody><tr><td><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/v2-8a6695c2e086525ac5a61610348739b2_b.webp.gif" alt="v2-8a6695c2e086525ac5a61610348739b2_b.webp"></td><td><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/v2-86e2bd970d07f9d6e1d921b248e45a3a_b.webp.gif" alt="v2-86e2bd970d07f9d6e1d921b248e45a3a_b.webp"></td></tr></tbody></table></div><ul><li>3D å·ç§¯å¤šäº†ä¸€ä¸ªæ·±åº¦çš„é€šé“ï¼Œä½†æ˜¯è¿™è·Ÿå•çº¯çš„2Då·ç§¯çš„å¤šé€šé“å·ç§¯åŒºåˆ«åœ¨äºï¼Œ3Då·ç§¯ç”±äºå·ç§¯æ ¸æœ¬èº«å°±æ˜¯3Dçš„ï¼Œæ‰€ä»¥æƒé‡å…±äº«ã€‚</li><li>3Då·ç§¯å¤šäº†ä¸€ä¸ªæ·±åº¦é€šé“ï¼Œæ‰¾ä¸ªæ·±åº¦å¯èƒ½æ˜¯è§†é¢‘ä¸Šçš„è¿ç»­å¸§ï¼Œä¹Ÿå¯èƒ½æ˜¯ç«‹ä½“å›¾åƒä¸­çš„ä¸åŒåˆ‡ç‰‡ã€‚</li></ul><p><strong>äºŒï¼šè®­ç»ƒç½‘ç»œï¼Œç„¶åå¤šæµ‹è¯•å‡ æ¬¡ï¼Œä¼šå‘ç°æ¯æ¬¡åˆ†ç±»çš„ç»“æœéƒ½ä¸ä¸€æ ·ï¼Œè¯·æ€è€ƒä¸ºä»€ä¹ˆï¼Ÿ</strong></p><p>è¿™æ˜¯å› ä¸ºåœ¨è®­ç»ƒmodelä¹‹åå†è¿›è¡Œæµ‹è¯•æ ·æœ¬æ—¶ï¼Œéœ€è¦åœ¨ model ä¹‹å‰åŠ ä¸Š model.eval() è¿™ä¸ªå‡½æ•°è°ƒç”¨ã€‚å¦åˆ™å³ä½¿ä¸è®­ç»ƒï¼Œä¹Ÿä¼šå»æ”¹å˜æƒå€¼ï¼Œè¿™æ˜¯ model ä¸­å«æœ‰çš„ batch normalization å³ BN æ‰€å¯¼è‡´çš„ã€‚</p><p>åœ¨æ¨¡å‹æ£€æµ‹ model.eval() åï¼ŒPytorch ä¼šè‡ªåŠ¨æŠŠ BN å’Œ Dropout å›ºå®šä½ï¼Œä¸ä¼šå–å¹³å‡ï¼Œè€Œæ˜¯ç”¨è®­ç»ƒå¥½çš„å€¼ï¼Œä¸€æ—¦æµ‹è¯•çš„çš„batch_sizeè¿‡å°ï¼Œå¾ˆå®¹æ˜“å°±ä¼šè¢«BNå±‚å½±å“ç»“æœã€‚</p><p>æ‰€ä»¥éœ€è¦å¯¹æºä»£ç çš„è®­ç»ƒå’Œæµ‹è¯•åˆ†åˆ«åŠ ä¸Š model.train() å’Œ model.eval()æ¥åŒºåˆ†å¼€æ¥ï¼Œè¿™æ ·å¤šæ¬¡æµ‹è¯•çš„ç»“æœå°±ä¸€è‡´äº†ã€‚</p><p><strong>ä¸‰ï¼šå¦‚æœæƒ³è¦è¿›ä¸€æ­¥æå‡é«˜å…‰è°±å›¾åƒçš„åˆ†ç±»æ€§èƒ½ï¼Œå¯ä»¥å¦‚ä½•ä½¿ç”¨æ³¨æ„åŠ›æœºåˆ¶ï¼Ÿ</strong></p><p>æˆ‘ä»¬å¯ä»¥ç²—ç•¥åœ°æŠŠç¥ç»æ³¨æ„æœºåˆ¶ç±»æ¯”æˆä¸€ä¸ªå¯ä»¥ä¸“æ³¨äºè¾“å…¥å†…å®¹çš„æŸä¸€å­é›†ï¼ˆæˆ–ç‰¹å¾ï¼‰çš„ç¥ç»ç½‘ç»œ. æ³¨æ„åŠ›æœºåˆ¶æœ€æ—©æ˜¯ç”± DeepMind ä¸ºå›¾åƒåˆ†ç±»æå‡ºçš„ï¼Œè¿™è®©ã€Œç¥ç»ç½‘ç»œåœ¨æ‰§è¡Œé¢„æµ‹ä»»åŠ¡æ—¶å¯ä»¥æ›´å¤šå…³æ³¨è¾“å…¥ä¸­çš„ç›¸å…³éƒ¨åˆ†ï¼Œæ›´å°‘å…³æ³¨ä¸ç›¸å…³çš„éƒ¨åˆ†ã€ã€‚</p><p>æ³¨æ„åŠ›æœºåˆ¶åƒäººçœ¼è§‚å¯Ÿäº‹ç‰©çš„æ¨¡å¼ï¼Œä½¿ç½‘ç»œæ›´åŠ æœ‰ä¾§é‡çš„å­¦ä¹ ï¼Œä»¥æ­¤æé«˜ç½‘ç»œçš„å­¦ä¹ èƒ½åŠ›ã€‚</p><p>å¯ä»¥é€šè¿‡æ„å»ºä¸åŒçš„æ³¨æ„åŠ›æ¨¡å—ï¼ˆé€šé“æ³¨æ„åŠ›æ¨¡å—ã€å…‰è°±æ³¨æ„åŠ›æ¨¡å—ã€ç©ºé—´æ³¨æ„åŠ›æ¨¡å—ï¼‰ç„¶åå°†å…¶å¹¶å…¥åˆ°åŸæœ‰çš„å·ç§¯ç½‘ç»œä¸­ï¼Œæ‰€æ„å»ºçš„æ³¨æ„åŠ›å­ç½‘ç»œæ¨¡å—èƒ½å¤Ÿåˆ†åˆ«å…³æ³¨åˆ°é€šé“ã€å…‰è°±åŸŸå’Œç©ºé—´åŸŸä¸­æ›´å¤šçš„ä¿¡æ¯ã€‚</p><ul><li>é€šé“æ³¨æ„åŠ›æœºåˆ¶(Channel Attentionï¼ŒCA)æ˜¯å¯¹åŒä¸€ä¸ªç‰¹å¾å›¾çš„ä¸åŒé€šé“è¿›è¡Œé€‰æ‹© ä¼˜åŒ–ï¼Œè·å–é‡æ ¡è®¢çš„é€šé“ä¿¡æ¯;</li><li>ç©ºé—´æ³¨æ„åŠ›æœºåˆ¶(Spatial Attentionï¼ŒSA)åˆ™æ˜¯å¯¹åŒä¸€ä¸ªç‰¹å¾å›¾çš„æ‰€æœ‰ç©ºé—´ä½ç½®é‡æ–°åˆ†é…æƒé‡ï¼Œç„¶åé€šè¿‡ Sigmoid å‡½æ•°æ¥æ¿€æ´»å¾—åˆ°éçº¿æ€§çš„é‡æ ¡è®¢ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚</li></ul><p>å‚è€ƒï¼š</p><ul><li>ç¨‹æ–‡å¨Ÿï¼Œé™ˆæ–‡å¼º . åŸºäº MCFFN-Attention çš„é«˜å…‰è°±å›¾åƒåˆ†ç±» . è®¡ç®—æœºå·¥ç¨‹ä¸åº”ç”¨ï¼Œ2020ï¼Œ56(24):201-206. CHENG Wenjuan, CHEN Wenqiang. Hyperspectral image classification based on MCFFN-Attention. Computer Engineering and Applications, 2020, 56(24):201-206.</li><li><a href="https://www.jiqizhixin.com/graph/technologies/60bee267-89dc-4606-ba24-6b3f7d1f6189" target="_blank" rel="noopener">æœºå™¨ä¹‹å¿ƒæ³¨æ„åŠ›æœºåˆ¶</a></li><li><a href="https://stackoverflow.com/questions/42883547/intuitive-understanding-of-1d-2d-and-3d-convolutions-in-convolutional-neural-n" target="_blank" rel="noopener">https://stackoverflow.com/questions/42883547/intuitive-understanding-of-1d-2d-and-3d-convolutions-in-convolutional-neural-n</a></li><li><a href="https://zhuanlan.zhihu.com/p/53036028" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/53036028</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;HybridSN&quot;&gt;&lt;a href=&quot;#HybridSN&quot; class=&quot;headerlink&quot; title=&quot;HybridSN&quot;&gt;&lt;/a&gt;HybridSN&lt;/h1&gt;&lt;p&gt;&lt;strong&gt;é˜…è¯»è®ºæ–‡ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https:/
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>LeetCode 322. Coin Change</title>
    <link href="https://github.com/liysky/liysky.github.io.git/2020/12/06/LeetCode-322-Coin-Change/"/>
    <id>https://github.com/liysky/liysky.github.io.git/2020/12/06/LeetCode-322-Coin-Change/</id>
    <published>2020-12-05T16:07:17.000Z</published>
    <updated>2020-12-05T16:10:19.938Z</updated>
    
    <content type="html"><![CDATA[<h1 id="322-Coin-Change"><a href="#322-Coin-Change" class="headerlink" title="322. Coin Change"></a><a href="https://leetcode-cn.com/problems/coin-change/" target="_blank" rel="noopener">322. Coin Change</a></h1><p>You are given coins of different denominations and a total amount of money amount. Write a function to compute the fewest number of coins that you need to make up that amount. If that amount of money cannot be made up by any combination of the coins, return -1.</p><p>You may assume that you have an infinite number of each kind of coin.</p><p>Example 1:</p><p>Input: coins = [1,2,5], amount = 11<br>Output: 3<br>Explanation: 11 = 5 + 5 + 1<br>Example 2:</p><p>Input: coins = [2], amount = 3<br>Output: -1<br>Example 3:</p><p>Input: coins = [1], amount = 0<br>Output: 0<br>Example 4:</p><p>Input: coins = [1], amount = 1<br>Output: 1<br>Example 5:</p><p>Input: coins = [1], amount = 2<br>Output: 2</p><p>Constraints:</p><p>1 &lt;= coins.length &lt;= 12<br>1 &lt;= coins[i] &lt;= 231 - 1<br>0 &lt;= amount &lt;= 104</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;count;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">dp</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; coins, <span class="keyword">int</span> rem)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (rem &lt; <span class="number">0</span>) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">if</span> (rem == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (count[rem - <span class="number">1</span>] != <span class="number">0</span>) <span class="keyword">return</span> count[rem - <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">int</span> Min = INT_MAX;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> coin:coins) &#123;</span><br><span class="line">            <span class="keyword">int</span> res = dp(coins, rem - coin);</span><br><span class="line">            <span class="keyword">if</span> (res &gt;= <span class="number">0</span> &amp;&amp; res &lt; Min) &#123;</span><br><span class="line">                Min = res + <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        count[rem - <span class="number">1</span>] = Min == INT_MAX ? <span class="number">-1</span> : Min;</span><br><span class="line">        <span class="keyword">return</span> count[rem - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">coinChange</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; coins, <span class="keyword">int</span> amount)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (amount &lt; <span class="number">1</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        count.resize(amount);</span><br><span class="line">        <span class="keyword">return</span> dp(coins, amount);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>time complexity: $O(sn)$  s: amount, n: number of the coin.</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;322-Coin-Change&quot;&gt;&lt;a href=&quot;#322-Coin-Change&quot; class=&quot;headerlink&quot; title=&quot;322. Coin Change&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://leetcode-cn.com/problem
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>LeetCode509. Fibonacci Number</title>
    <link href="https://github.com/liysky/liysky.github.io.git/2020/12/05/LeetCode509-Fibonacci-Number/"/>
    <id>https://github.com/liysky/liysky.github.io.git/2020/12/05/LeetCode509-Fibonacci-Number/</id>
    <published>2020-12-05T13:57:25.000Z</published>
    <updated>2020-12-05T13:58:07.287Z</updated>
    
    <content type="html"><![CDATA[<h1 id="LeetCode-509-Fibonacci-Number"><a href="#LeetCode-509-Fibonacci-Number" class="headerlink" title="LeetCode 509. Fibonacci Number"></a><a href="https://leetcode-cn.com/problems/fibonacci-number/" target="_blank" rel="noopener">LeetCode 509. Fibonacci Number</a></h1><p>The Fibonacci numbers, commonly denoted F(n) form a sequence, called the Fibonacci sequence, such that each number is the sum of the two preceding ones, starting from 0 and 1. That is,</p><p>F(0) = 0,   F(1) = 1<br>F(N) = F(N - 1) + F(N - 2), for N &gt; 1.<br>Given N, calculate F(N).</p><h3 id="Example-1"><a href="#Example-1" class="headerlink" title="Example 1:"></a>Example 1:</h3><p>Input: 2<br>Output: 1<br>Explanation: F(2) = F(1) + F(0) = 1 + 0 = 1.</p><h3 id="Example-2"><a href="#Example-2" class="headerlink" title="Example 2:"></a>Example 2:</h3><p>Input: 3<br>Output: 2<br>Explanation: F(3) = F(2) + F(1) = 1 + 1 = 2.</p><h3 id="Example-3"><a href="#Example-3" class="headerlink" title="Example 3:"></a>Example 3:</h3><p>Input: 4<br>Output: 3<br>Explanation: F(4) = F(3) + F(2) = 2 + 1 = 3.</p><p><strong>Note: 0 â‰¤ N â‰¤ 30.</strong></p><p>According to the description of example, it easy to code the straight code following:</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">fib</span><span class="params">(<span class="keyword">int</span> N)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(N == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">      <span class="keyword">if</span>(N == <span class="number">1</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">      <span class="keyword">return</span> (fib(N - <span class="number">1</span>) + fib(N - <span class="number">2</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>time complexity: $O(2^n)$  the number of subproblem is $2^n$, and the time subproblem spent is 1</p><p>space complexity: $O(1)$</p><hr><p>Having a note to memory the value of the node.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">fib</span><span class="params">(<span class="keyword">int</span> N)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(N &lt; <span class="number">1</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="function"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; <span class="title">mem</span> <span class="params">(N+<span class="number">1</span>, <span class="number">0</span>)</span></span>;</span><br><span class="line">        <span class="keyword">return</span> notes(mem, N);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">notes</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;mem, <span class="keyword">int</span> N)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(N == <span class="number">1</span> || N == <span class="number">2</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(mem[N] != <span class="number">0</span>) <span class="keyword">return</span> mem[N];</span><br><span class="line">        mem[N] = notes(mem, N<span class="number">-1</span>) + notes(mem, N<span class="number">-2</span>);</span><br><span class="line">        <span class="keyword">return</span> mem[N];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>time complexity: $O(n)$</p><p>space complexity: $O(n)$</p><hr><p>If we have a DP table to record the value of different node.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">fib</span><span class="params">(<span class="keyword">int</span> N)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(N &lt; <span class="number">1</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">      <span class="keyword">if</span>(N == <span class="number">1</span> || N == <span class="number">2</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">      <span class="function"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; <span class="title">table</span><span class="params">(N+<span class="number">1</span>, <span class="number">0</span>)</span></span>;</span><br><span class="line">      table[<span class="number">1</span>] = table[<span class="number">2</span>] = <span class="number">1</span>;</span><br><span class="line">      <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">3</span>; i &lt; N+<span class="number">1</span>; i++)&#123;</span><br><span class="line">          table[N] = table[N<span class="number">-1</span>] + table[N<span class="number">-2</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> table[N];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>time complexity: $O(n)$</p><p>space complexity: $O(n)$</p><p>if we use point to record the previous and current value of the table, just like control a table using point in data structure. Then we can deprecate the table.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">fib</span><span class="params">(<span class="keyword">int</span> N)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(N &lt; <span class="number">1</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">      <span class="keyword">if</span>(N == <span class="number">1</span> || N == <span class="number">2</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">      pre = cur = <span class="number">1</span>;</span><br><span class="line">      <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">3</span>; i &lt; N+<span class="number">1</span>; i++)&#123;</span><br><span class="line">          <span class="keyword">int</span> sum = pre + cur;</span><br><span class="line">          pre = cur;</span><br><span class="line">          cur = sum;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sum;      </span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>then space complexity is $O(1)$</p><hr><p>reference: <a href="https://labuladong.gitbook.io/algo/di-ling-zhang-bi-du-xi-lie/dong-tai-gui-hua-xiang-jie-jin-jie" target="_blank" rel="noopener">https://labuladong.gitbook.io/algo/di-ling-zhang-bi-du-xi-lie/dong-tai-gui-hua-xiang-jie-jin-jie</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;LeetCode-509-Fibonacci-Number&quot;&gt;&lt;a href=&quot;#LeetCode-509-Fibonacci-Number&quot; class=&quot;headerlink&quot; title=&quot;LeetCode 509. Fibonacci Number&quot;&gt;&lt;/
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>Learn AndrewNg-MachineLearning notes</title>
    <link href="https://github.com/liysky/liysky.github.io.git/2020/11/28/Learn-AndrewNg-Ai-notes/"/>
    <id>https://github.com/liysky/liysky.github.io.git/2020/11/28/Learn-AndrewNg-Ai-notes/</id>
    <published>2020-11-28T14:28:31.000Z</published>
    <updated>2020-12-05T06:03:38.722Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Supervised-Leaning"><a href="#Supervised-Leaning" class="headerlink" title="Supervised Leaning:"></a>Supervised Leaning:</h3><p>e.g.</p><ul><li><p>Housing price prediction. (Regression) æˆ¿å±‹ç§Ÿä»·é¢„æµ‹</p></li><li><p>Breast cancer(maligant, benign). (Classification) ä¹³è…ºç™Œçš„æ¶æ€§è‰¯æ€§é¢„æµ‹</p></li></ul><h3 id="Unsupervised-Leaning"><a href="#Unsupervised-Leaning" class="headerlink" title="Unsupervised Leaning:"></a>Unsupervised Leaning:</h3><p>e.g.</p><ul><li><p>Google news. è°·æ­Œæ–°é—»çš„åˆ†ç±»ï¼ˆé‡‡ç”¨èšç±»çš„æ–¹æ³•ï¼‰</p></li><li><p>DNA Classification. DNAçš„åˆ†ç±»ï¼Œèšç±»ç®—æ³•</p></li><li><p>ç»„ç»‡è®¡ç®—æœºé›†ç¾¤ï¼ˆä»€ä¹ˆæ ·çš„æœºå™¨æ˜“äºååŒå·¥ä½œï¼Œè¿›è€Œé«˜æ•ˆï¼‰</p></li><li><p>Facebookã€Google+ çš„åœˆå­åˆ†ç±»</p></li><li><p>å¤§å…¬å¸å¤§å‹æ•°æ®ï¼Œå­˜å‚¨æ¶ˆè´¹è€…ä¿¡æ¯è¿›è¡Œï¼Œå¸‚åœºåˆ†ç±»ï¼Œç»†åˆ†å¸‚åœº</p></li><li><p>cocktail party é¸¡å°¾é…’ğŸ¸çš„é…’å®´ä¸­éº¦å…‹é£è®°å½•ä¸åŒçš„å£°éŸ³ï¼Œé€šè¿‡æœºå™¨å­¦ä¹ è¿›è¡Œåˆ†è¾¨å‡ºä¸åŒçš„å£°éŸ³ï¼ˆäººå£°ï¼Œæ­Œå£°ï¼Œå™ªå£°ï¼‰</p></li></ul><h3 id="ä»£ä»·å‡½æ•°"><a href="#ä»£ä»·å‡½æ•°" class="headerlink" title="ä»£ä»·å‡½æ•°"></a>ä»£ä»·å‡½æ•°</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201128001043034.png" alt="image-20201128001043034" style="zoom:80%;" /></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201128001208038.png" alt="image-20201128001208038" style="zoom:80%;" /></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201128001331719.png" alt="image-20201128001331719"  /></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201128002225309.png" alt="image-20201128002225309"></p><p>ä»£ä»·å‡½æ•° theta</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201128001331719.png" alt="image-20201128001331719"  /></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201128002225309.png" alt="image-20201128002225309"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201128002355980.png" alt="image-20201128002355980"  /></p><p><strong>ä»£ä»·å‡½æ•°çš„ä½œç”¨</strong></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201128002539163.png" alt="image-20201128002539163" style="zoom:80%;" /></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201128002714684.png" alt="image-20201128002714684"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201128002714684.png" alt="image-20201128002714684"></p><p><strong>ä½¿ç”¨ç­‰é«˜çº¿æ¥ä»£è¡¨ä»£ä»·å‡½æ•°</strong></p><p>contour plot ç­‰é«˜çº¿å›¾</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201128002952837.png" alt="image-20201128002952837" style="zoom:80%;" /></p><p>æƒ³è±¡ä¸€ä¸‹ï¼Œè¿™ä¸ªç­‰é«˜çº¿ä¸Šé•¿å‡ºä¸€ä¸ªç¢—æ¥</p><p><strong>ä¸åŒçš„ä»£ä»·å‡½æ•°å¯¹åº”ä¸åŒçš„å‡è®¾å‡½æ•°</strong></p><h3 id="æ¢¯åº¦ä¸‹é™-Gradient-Decent"><a href="#æ¢¯åº¦ä¸‹é™-Gradient-Decent" class="headerlink" title="æ¢¯åº¦ä¸‹é™ Gradient Decent"></a>æ¢¯åº¦ä¸‹é™ Gradient Decent</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201128003530397.png" alt="image-20201128003530397" style="zoom:80%;" /></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201128003554240.png" alt="image-20201128003554240" style="zoom:80%;" /></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201128003757283.png" alt="image-20201128003757283" style="zoom:80%;" /></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201128004027942.png" alt="image-20201128004027942" style="zoom:80%;" /></p><p>é˜¿å°”æ³•æ˜¯ä¸€ä¸ªå­¦ä¹ ç‡ï¼Œæ¥æ§åˆ¶æ¢¯åº¦ä¸‹é™çš„é€Ÿåº¦</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201128004409451.png" alt="image-20201128004409451" style="zoom:80%;" /></p><p>å·¦è¾¹çš„æ˜¯æ­£ç¡®çš„ simultaneous åŒæ­¥æ›´æ–°</p><p>å³è¾¹æ›´æ–°åœ¨æ›´æ–°æ—¶ä½¿ç”¨äº†æ›´æ–°çš„å€¼ï¼Œæ— åŒæ­¥</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201128005531564.png" alt="image-20201128005531564" style="zoom:80%;" /></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201128005730763.png" alt="image-20201128005730763" style="zoom:80%;" /></p><p>å¦‚æœæ­¥ä¼è¿‡å¤§ï¼Œå°†ä¼šè¶Šè¿‡æœ€å°å€¼ç‚¹</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201128005854145.png" alt="image-20201128005854145"></p><p>å¦‚æœå·²ç»åœ¨æœ€ä½ç‚¹äº†ï¼Œé‚£ä¹ˆæ¢¯åº¦ä¸‹é™ç®—æ³•å°†ä¸ä¼šåšä»»ä½•äº‹æƒ…</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201128010156987.png" alt="image-20201128010156987" style="zoom:80%;" /></p><h3 id="çº¿æ€§å›å½’çš„æ¢¯åº¦ä¸‹é™ç®—æ³•"><a href="#çº¿æ€§å›å½’çš„æ¢¯åº¦ä¸‹é™ç®—æ³•" class="headerlink" title="çº¿æ€§å›å½’çš„æ¢¯åº¦ä¸‹é™ç®—æ³•"></a>çº¿æ€§å›å½’çš„æ¢¯åº¦ä¸‹é™ç®—æ³•</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201128010407579.png" alt="image-20201128010407579" style="zoom:80%;" /></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201128010902400.png" alt="image-20201128010902400" style="zoom:80%;" /></p><p>å°†æ¢¯åº¦ä¸‹é™ç®—æ³•åº”ç”¨åˆ°çº¿æ€§å›å½’å‡½æ•°ä¸­åï¼š</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201128011023572.png" alt="image-20201128011023572" style="zoom:80%;" /></p><p>å½“ä»£ä»·å€¼è¶Šæ¥è¶Šå°æ—¶ï¼Œå°†ä¼šæœ€ç»ˆåˆ°è¾¾æœ€ç¬¦åˆçš„æ‹Ÿåˆæ›²çº¿</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201128011404831.png" alt="image-20201128011404831" style="zoom: 67%;" /></p><p>å› ä¸ºåœ¨æ¯æ¬¡è®¡ç®—ä»£ä»·å‡½æ•°çš„æ—¶å€™ï¼Œéƒ½è¿›è¡Œäº†å¯¹äºmä¸ªæ•°æ®é›†çš„è®¡ç®—ï¼Œæ‰€ä»¥ç§°ä¹‹ä¸ºbatchï¼Œæ‰¹å¤„ç†</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201128011618967.png" alt="image-20201128011618967" style="zoom:80%;" /></p><p>é™¤äº†æ¢¯åº¦ä¸‹é™ç®—æ³•æ¥æ±‚è§£ä»£ä»·å‡½æ•°çš„æœ€å°å€¼ï¼Œè¿˜æœ‰ä¸€ä¸ªäº¤åšæ­£è§„æ–¹ç¨‹ç»„æ–¹æ³•å¯ä»¥ä½¿ç”¨ã€‚</p><p>æ¢¯åº¦ä¸‹é™ç®—æ³•æ›´é€‚åˆäºæ•°æ®é‡å¤§çš„è®¡ç®—ã€‚</p><h3 id="çŸ©é˜µä¹˜æ³•çš„å¦™ç”¨"><a href="#çŸ©é˜µä¹˜æ³•çš„å¦™ç”¨" class="headerlink" title="çŸ©é˜µä¹˜æ³•çš„å¦™ç”¨"></a>çŸ©é˜µä¹˜æ³•çš„å¦™ç”¨</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201128233000407.png" alt="image-20201128233000407" style="zoom:80%;" /></p><p>python ä¸­æœ‰å…³çŸ©é˜µçš„ä¹˜æ³•å’Œè½¬ç½®</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201128233000407.png" alt="image-20201128233000407" style="zoom:80%;" /></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201129005158320.png" alt="image-20201129005158320" style="zoom: 67%;" /></p><p>æ±‚é€†æ—¶ï¼Œå¦‚æœä¸ºå¥‡å¼‚çŸ©é˜µ-singular matrix ï¼Œå°†ä¼šæœ‰æç¤ºï¼š</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201129010025788.png" alt="image-20201129010025788" style="zoom: 67%;" /></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201129010226792.png" alt="image-20201129010226792" style="zoom: 67%;" /></p><p><strong>pythonä¸­å¯ä»¥ä½¿ç”¨ pinv çš„æ¥è®¡ç®—å¥‡å¼‚çŸ©é˜µçš„ä¼ªé€†çŸ©é˜µ</strong></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201204103320335.png" alt="image-20201204103320335" style="zoom:80%;" /></p><h3 id="Multivariate-linear-regression-å¤šå…ƒçº¿æ€§å›å½’"><a href="#Multivariate-linear-regression-å¤šå…ƒçº¿æ€§å›å½’" class="headerlink" title="Multivariate linear regression å¤šå…ƒçº¿æ€§å›å½’"></a>Multivariate linear regression å¤šå…ƒçº¿æ€§å›å½’</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201129110527040.png" alt="image-20201129110527040" style="zoom:80%;" /></p><p>New Hypothesisï¼š</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201129110633901.png" alt="image-20201129110633901" style="zoom:80%;" /></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201129111023093.png" alt="image-20201129111023093" style="zoom:80%;" /></p><h3 id="Gradient-descentå¤šå…ƒæ¢¯åº¦ä¸‹é™æ–¹æ³•"><a href="#Gradient-descentå¤šå…ƒæ¢¯åº¦ä¸‹é™æ–¹æ³•" class="headerlink" title="Gradient descentå¤šå…ƒæ¢¯åº¦ä¸‹é™æ–¹æ³•"></a>Gradient descentå¤šå…ƒæ¢¯åº¦ä¸‹é™æ–¹æ³•</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201129111307808.png" alt="image-20201129111307808" style="zoom:80%;" /></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201129111744934.png" alt="image-20201129111744934"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201129111744934.png" alt="image-20201129111744934"></p><h3 id="å¤šå…ƒæ¢¯åº¦ä¸‹é™-feature-scaling"><a href="#å¤šå…ƒæ¢¯åº¦ä¸‹é™-feature-scaling" class="headerlink" title="å¤šå…ƒæ¢¯åº¦ä¸‹é™  feature scaling"></a>å¤šå…ƒæ¢¯åº¦ä¸‹é™  feature scaling</h3><p>divide max  é™¤ä»¥æœ€å¤§å€¼æ–¹æ³•</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201201170055672.png" alt="image-20201201170055672" style="zoom:80%;" /></p><p>feature scaling ä¹‹åæ›´å®¹æ˜“æ¢¯åº¦ä¸‹é™è‡³æ‰¾åˆ°ä¸€ä¸ªå±€éƒ¨æœ€å°å€¼</p><p>feature scaling æ¡ä»¶</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201201170317073.png" alt="image-20201201170317073"></p><p>é™¤ä»¥å¹³å‡å€¼æ–¹æ³•</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201201171035772.png" alt="image-20201201171035772" style="zoom:80%;" /></p><h3 id="å¤šå…ƒæ¢¯åº¦ä¸‹é™ä¸­çš„å­¦ä¹ ç‡-â€”â€”é˜¿å°”æ³•"><a href="#å¤šå…ƒæ¢¯åº¦ä¸‹é™ä¸­çš„å­¦ä¹ ç‡-â€”â€”é˜¿å°”æ³•" class="headerlink" title="å¤šå…ƒæ¢¯åº¦ä¸‹é™ä¸­çš„å­¦ä¹ ç‡ â€”â€”é˜¿å°”æ³•"></a>å¤šå…ƒæ¢¯åº¦ä¸‹é™ä¸­çš„å­¦ä¹ ç‡ â€”â€”é˜¿å°”æ³•</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201201171819775.png" alt="image-20201201171819775" style="zoom:80%;" /></p><p>ä»£ä»·å‡½æ•°é€æ¸æ”¶æ•›</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201201172029595.png" alt="image-20201201172029595" style="zoom:80%;" /></p><p>å­¦ä¹ ç‡ é˜¿å°”æ³• çš„é€‰æ‹©ï¼š</p><p>é€šå¸¸æƒ…å†µä¸‹æ˜¯é€‰æ‹©ä¸€ä¸ªè¾ƒå°çš„å­¦ä¹ ç‡ï¼Œä½†å¤ªå°ä¹Ÿä¼šå¯¼è‡´æ”¶æ•›é€Ÿåº¦å˜æ…¢ã€‚</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201201172322418.png" alt="image-20201201172322418" style="zoom:80%;" /></p><p>é€‰å–å­¦ä¹ ç‡çš„æ–¹æ³•</p><h3 id="ç‰¹å¾å’Œå¤šé¡¹å¼å›å½’"><a href="#ç‰¹å¾å’Œå¤šé¡¹å¼å›å½’" class="headerlink" title="ç‰¹å¾å’Œå¤šé¡¹å¼å›å½’"></a>ç‰¹å¾å’Œå¤šé¡¹å¼å›å½’</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201203100047476.png" alt="image-20201203100047476" style="zoom:80%;" /></p><p>å°† frontage  å’Œ depth é‡æ–°å®šä¹‰ä¸º area </p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201203100412974.png" alt="image-20201203100412974" style="zoom:80%;" /></p><p>æ›´å¥½äºŒç‰¹å¾æ¨¡å‹ï¼š</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201203100603941.png" alt="image-20201203100603941" style="zoom:80%;" /></p><h3 id="æ­£è§„æ–¹ç¨‹"><a href="#æ­£è§„æ–¹ç¨‹" class="headerlink" title="æ­£è§„æ–¹ç¨‹"></a>æ­£è§„æ–¹ç¨‹</h3><p>é€šå¸¸ä½¿ç”¨æ¢¯åº¦ä¸‹é™çš„æ–¹æ³•æ¥æ±‚ä»£ä»·å‡½æ•°çš„æœ€å°å€¼</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201203101955873.png" alt="image-20201203101955873" style="zoom:80%;" /></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201203102336345.png" alt="image-20201203102336345" style="zoom:80%;" /></p><p>ä¾‹å¦‚ï¼š</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201204111655518.png" alt="image-20201204111655518" style="zoom: 67%;" /></p><p>æ­£è§„æ–¹ç¨‹æ±‚ä»£ä»·å‡½æ•°æœ€å°å€¼ç‚¹</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201203102908070.png" alt="image-20201203102908070" style="zoom:80%;" /></p><p>å¦‚æœä½¿ç”¨æ­£è§„æ–¹ç¨‹å‘å°±ä¸éœ€è¦è¿›è¡Œç¼©æ”¾æ“ä½œã€‚</p><p>æ­£è§„æ–¹ç¨‹è§£ä¸æ¢¯åº¦ä¸‹é™æ–¹æ³•çš„å¯¹æ¯”ï¼š</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201203103213877.png" alt="image-20201203103213877" style="zoom:80%;" /></p><p>ç‰¹å¾næ•°é‡å¤šæ—¶ï¼Œé€šå¸¸ä¼šé€‰æ‹©æ¢¯åº¦ä¸‹é™ç®—æ³•ã€‚</p><h3 id="When-matrix-is-non-invertible"><a href="#When-matrix-is-non-invertible" class="headerlink" title="When matrix is non-invertible"></a>When matrix is non-invertible</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201203124741104.png" alt="image-20201203124741104" style="zoom:80%;" /></p><p>çœ‹ç‰¹å¾é‡Œæ˜¯å¦æœ‰ç›¸å…³ç‰¹å¾ï¼Œå¯¹åº”åˆ°çº¿æ€§ä»£æ•°å³ä¸ºæ˜¯å¦ä¸ºçº¿æ€§ç›¸å…³çš„</p><h3 id="Logistic-Regression-Classification-é€»è¾‘å›å½’åˆ†ç±»"><a href="#Logistic-Regression-Classification-é€»è¾‘å›å½’åˆ†ç±»" class="headerlink" title="Logistic Regression Classification  é€»è¾‘å›å½’åˆ†ç±»"></a>Logistic Regression Classification  é€»è¾‘å›å½’åˆ†ç±»</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201205111311855.png" alt="image-20201205111311855"  /></p><p>çº¿æ€§å›å½’åº”ç”¨äºåˆ†ç±»é—®é¢˜ï¼Œé€šå¸¸ä¸èƒ½æ°¸è¿œçš„åˆ°ä¸€ä¸ªå¥½çš„ç»“æœã€‚æ‰€ä»¥æ‰æœ‰äº†åé¢çš„é€»è¾‘å›å½’ï¼Œå¾—å‡ºä¸€ä¸ªæ°¸è¿œçš„ h(theta) å‡½æ•°çš„å€¼åœ¨ 0 ~ 1 ä¹‹é—´ã€‚</p><h3 id="Logistic-Regression-Hypothesis-Representation-å‡è®¾é€»è¾‘å›å½’"><a href="#Logistic-Regression-Hypothesis-Representation-å‡è®¾é€»è¾‘å›å½’" class="headerlink" title="Logistic Regression Hypothesis Representation  å‡è®¾é€»è¾‘å›å½’"></a>Logistic Regression Hypothesis Representation  å‡è®¾é€»è¾‘å›å½’</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201205111805487.png" alt="image-20201205111805487" style="zoom:80%;" /></p><p>sigmod function == logistic function</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201205112012525.png" alt="image-20201205112012525" style="zoom:80%;" /></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201205112347863.png" alt="image-20201205112347863" style="zoom:80%;" /></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;Supervised-Leaning&quot;&gt;&lt;a href=&quot;#Supervised-Leaning&quot; class=&quot;headerlink&quot; title=&quot;Supervised Leaning:&quot;&gt;&lt;/a&gt;Supervised Leaning:&lt;/h3&gt;&lt;p&gt;e.g.
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>LeetCode-Hanota LCCI</title>
    <link href="https://github.com/liysky/liysky.github.io.git/2020/11/20/LeetCode-Hanota-LCCI/"/>
    <id>https://github.com/liysky/liysky.github.io.git/2020/11/20/LeetCode-Hanota-LCCI/</id>
    <published>2020-11-19T16:01:32.000Z</published>
    <updated>2020-11-29T16:11:33.511Z</updated>
    
    <content type="html"><![CDATA[<h3 id="08-06-Hanota-LCCI"><a href="#08-06-Hanota-LCCI" class="headerlink" title="08.06. Hanota LCCI"></a><a href="https://leetcode-cn.com/problems/hanota-lcci/" target="_blank" rel="noopener">08.06. Hanota LCCI</a></h3><p>In the classic problem of the Towers of Hanoi, you have 3 towers and N disks of different sizes which can slide onto any tower. The puzzle starts with disks sorted in ascending order of size from top to bottom (i.e., each disk sits on top of an even larger one). You have the following constraints:</p><p>(1) Only one disk can be moved at a time.<br>(2) A disk is slid off the top of one tower onto another tower.<br>(3) A disk cannot be placed on top of a smaller disk.</p><p>Write a program to move the disks from the first tower to the last using stacks.</p><h4 id="Example1"><a href="#Example1" class="headerlink" title="Example1:"></a>Example1:</h4><p> Input: A = [2, 1, 0], B = [], C = []<br> Output: C = [2, 1, 0]</p><h4 id="Example2"><a href="#Example2" class="headerlink" title="Example2:"></a>Example2:</h4><p> Input: A = [1, 0], B = [], C = []<br> Output: C = [1, 0]<br>Note:</p><p><strong>A.length &lt;= 14</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">hanota</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; A, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; B, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; C)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = A.<span class="built_in">size</span>();</span><br><span class="line">        <span class="built_in">move</span>(n, A, B, C);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">move</span><span class="params">(<span class="keyword">int</span> n, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; A, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; B, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; C)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(n == <span class="number">1</span>)&#123;</span><br><span class="line">            C.push_back(A.back());</span><br><span class="line">            A.pop_back();</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">move</span>(n<span class="number">-1</span>, A, C, B);</span><br><span class="line">        C.push_back(A.back());</span><br><span class="line">        A.pop_back();</span><br><span class="line">        <span class="built_in">move</span>(n<span class="number">-1</span>, B, A, C);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><strong>time complexity: $O(2^n-1)$</strong> . Itâ€™s the moving times.</p><p><strong>space complexity:</strong> $O(1)$</p><p><strong>Key Solution:</strong></p><ul><li>wanna resolve n number, first to resolve n-1</li><li>put <strong>n-1</strong> number of A into B using C</li><li>push_back A.back into C. (Itâ€™s a half answer that A.back must be at the bottum of C)</li><li>pop A.back(). (=delete A.back)</li><li>put <strong>n-1</strong> number of B into C using A</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;08-06-Hanota-LCCI&quot;&gt;&lt;a href=&quot;#08-06-Hanota-LCCI&quot; class=&quot;headerlink&quot; title=&quot;08.06. Hanota LCCI&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://leetcode-cn.com/p
      
    
    </summary>
    
    
    
      <category term="LeetCode" scheme="https://github.com/liysky/liysky.github.io.git/tags/LeetCode/"/>
    
  </entry>
  
  <entry>
    <title>DogsVSCats</title>
    <link href="https://github.com/liysky/liysky.github.io.git/2020/11/18/DogsVSCats/"/>
    <id>https://github.com/liysky/liysky.github.io.git/2020/11/18/DogsVSCats/</id>
    <published>2020-11-18T07:25:45.000Z</published>
    <updated>2020-11-25T09:54:40.519Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Dog-VS-Cat"><a href="#Dog-VS-Cat" class="headerlink" title="Dog VS Cat"></a>Dog VS Cat</h1><h2 id="VGGç½‘ç»œ"><a href="#VGGç½‘ç»œ" class="headerlink" title="VGGç½‘ç»œ"></a>VGGç½‘ç»œ</h2><p>VGG æ˜¯ä¸€ä¸ªå·ç§¯ç¥ç»ç½‘ç»œæ¨¡å‹ï¼Œæ˜¯å“ˆå¼— Robotics Institute Visual Geometry Group ç»„çš„ Karen Simonyan å’Œ Andrew Zisserman  åœ¨2014å¹´æå‡ºçš„ã€‚2014å¹´åœ¨æœ€å¤§çš„å›¾åƒè¯†åˆ«ç«èµ› ILSVRC ä¸­ï¼Œè¿™ä¸ªæ¨¡å‹è·å¾—ç¬¬äºŒåï¼Œç¬¬ä¸€åæ˜¯ GoogleNetï¼ŒVGG æ¨¡å‹åœ¨å¤šä¸ªè¿ç§»å­¦ä¹ ä»»åŠ¡ä¸­å¥½äº GoogleNetã€‚</p><p>VGG æ˜¯å·ç§¯ç¥ç»ç½‘ç»œçš„é‡å¤§çªç ´ï¼Œåœ¨è¿™äº›ä¹‹åï¼š</p><ul><li>LeNet-5 ï¼ˆ1998ï¼‰</li><li>AlexNet ï¼ˆ2012ï¼‰</li><li>ZFNet ï¼ˆ2013ï¼‰</li><li>GoogleNet/Inception ï¼ˆ2014)</li></ul><p>æ³¨ï¼šAlexNet çš„æå‡ºï¼Œä½¿å¾—å¤§å‹å·ç§¯ç½‘ç»œå˜å¾—æµè¡Œäº†èµ·æ¥ã€‚ZFNet æ˜¯åŸºäº AlexNet çš„ä¸€ç§æ¨¡å‹æ”¹è¿›ã€‚</p><p><strong>VGGçš„ç‰¹ç‚¹</strong></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/main-qimg-4eb892d2fa56e21288ae723397f5f329.png" alt="img"></p><p>ä¸Šå›¾ä¸­ï¼Œä¸Šé¢æ˜¯AlexNetå’Œä¸‹é¢VGG-16ä¸¤ç§æ¨¡å‹ç»“æ„æ¯”è¾ƒ</p><p>AlexNet åŒ…å«æœ‰5ä¸ªå·ç§¯å±‚å’Œ3ä¸ªå…¨è¿æ¥å±‚ï¼Œåœ¨ç¬¬1ã€2å’Œ5å·ç§¯å±‚ä½¿ç”¨äº†3ä¸ªæœ€å¤§æ± åŒ–å±‚</p><p>VGG-16 åŒ…å«æœ‰13ä¸ªå·ç§¯å±‚ï¼Œå·ç§¯æ ¸ä¸º3X3ï¼Œ3ä¸ªå…¨è¿æ¥å±‚</p><p>VGG-19åŒ…å«äº†16ä¸ªå·ç§¯å±‚å’Œ3ä¸ªå…¨è¿æ¥å±‚</p><p>VGG ç½‘ç»œç»“æ„éå¸¸ä¸€è‡´ï¼Œä»å¤´åˆ°å°¾å…¨éƒ¨ä½¿ç”¨äº†  3X3 çš„å·ç§¯æ ¸å’Œ2X2çš„ max-pooling</p><p>VGG-16ç½‘ç»œç»“æ„ä¸€é•œåˆ°åº•ï¼š<a href="https://dgschwend.github.io/netscope/#/preset/vgg-16" target="_blank" rel="noopener">https://dgschwend.github.io/netscope/#/preset/vgg-16</a></p><h2 id="VGG-Dogs-VS-Cats"><a href="#VGG-Dogs-VS-Cats" class="headerlink" title="VGG Dogs VS Cats"></a>VGG Dogs VS Cats</h2><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201118152910384.png" alt="image-20201118152910384"></p><p><em>Description</em></p><ul><li><p><a href="https://god.yanxishe.com/41" target="_blank" rel="noopener">https://god.yanxishe.com/41</a></p></li><li><p><a href="https://www.kaggle.com/tongpython/cat-and-dog" target="_blank" rel="noopener">https://www.kaggle.com/tongpython/cat-and-dog</a></p></li></ul><p>æœ¬æ¬¡ä½œä¸šå®ç°ä½¿ç”¨é¢„è®­ç»ƒå¥½çš„ VGG æ¨¡å‹ï¼Œä¸‹è½½Imagenet 1000 ä¸ªç±»çš„ JSON æ–‡ä»¶ã€‚</p><p>VGG æ¨¡å‹ç½‘ç»œç»„æˆå…ƒç´ ï¼š</p><ul><li>å·ç§¯å±‚ï¼ˆCONVï¼‰æ˜¯å‘ç°å›¾åƒä¸­å±€éƒ¨çš„ pattern</li><li>å…¨è¿æ¥å±‚ï¼ˆFCï¼‰æ˜¯åœ¨å…¨å±€ä¸Šå»ºç«‹ç‰¹å¾çš„å…³è”</li><li>æ± åŒ–ï¼ˆPoolï¼‰æ˜¯ç»™å›¾åƒå°†ç»´ä»¥æé«˜ç‰¹å¾çš„invariance</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torch.nn <span class="keyword">as</span> nn</span><br><span class="line"><span class="keyword">import</span> torchvision</span><br><span class="line"><span class="keyword">from</span> torchvision <span class="keyword">import</span> models,transforms,datasets</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ¤æ–­æ˜¯å¦å­˜åœ¨GPUè®¾å¤‡</span></span><br><span class="line">device = torch.device(<span class="string">"cuda:0"</span> <span class="keyword">if</span> torch.cuda.is_available() <span class="keyword">else</span> <span class="string">"cpu"</span>)</span><br><span class="line">print(<span class="string">'Using gpu:&#123;&#125;'</span>.format(torch.cuda.is_available()) )</span><br></pre></td></tr></table></figure><hr><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Using: gpu:True</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä¸‹è½½æ•°æ®å¹¶è§£å‹</span></span><br><span class="line">! wget http://fenggao-image.stor.sinaapp.com/dogscats.zip</span><br><span class="line">! unzip dogscats.zip</span><br></pre></td></tr></table></figure><hr><p><strong>æ•°æ®å¤„ç†</strong></p><ul><li><p>å›¾ç‰‡è£å‰ª</p></li><li><p>è½¬æ¢ä¸º tensor æ ¼å¼</p><p>å› ä¸ºå›¾ç‰‡è¯»å…¥åä¸º numpy æ ¼å¼ï¼Œéœ€è¦åœ¨ pytorchä¸­è¿›è¡Œå¤„ç†ï¼Œå°±éœ€è¦è½¬åŒ–ä¸º tensor çš„æ ¼å¼ã€‚</p><p>è‡³äº tensor çš„å«ä¹‰ï¼š</p><p><strong>tensorï¼šå¼ é‡</strong></p><blockquote><p>æ˜¯ä¸€ä¸ªå¯ç”¨æ¥è¡¨ç¤ºåœ¨ä¸€äº›<a href="https://zh.wikipedia.org/wiki/å‘é‡" target="_blank" rel="noopener">çŸ¢é‡</a>ã€<a href="https://zh.wikipedia.org/wiki/ç´”é‡" target="_blank" rel="noopener">æ ‡é‡</a>å’Œå…¶ä»–å¼ é‡ä¹‹é—´çš„çº¿æ€§å…³ç³»çš„<a href="https://zh.wikipedia.org/wiki/çº¿æ€§å½¢å¼" target="_blank" rel="noopener">å¤šçº¿æ€§å‡½æ•°</a>ï¼Œè¿™äº›çº¿æ€§å…³ç³»çš„åŸºæœ¬ä¾‹å­æœ‰<a href="https://zh.wikipedia.org/wiki/å…§ç©" target="_blank" rel="noopener">å†…ç§¯</a>ã€<a href="https://zh.wikipedia.org/wiki/å¤–ç©" target="_blank" rel="noopener">å¤–ç§¯</a>ã€çº¿æ€§æ˜ å°„ä»¥åŠ<a href="https://zh.wikipedia.org/wiki/ç¬›å¡å„¿ç§¯" target="_blank" rel="noopener">ç¬›å¡å„¿ç§¯</a>ã€‚</p><p>â€”wikipedia</p></blockquote><p>æ¦‚å¿µï¼šèƒ½å¤Ÿç”¨æŒ‡æ ‡è¡¨ç¤ºæ³•è¡¨ç¤ºçš„ç‰©ç†é‡ï¼Œå¹¶ä¸”è¯¥ç‰©ç†é‡æ»¡è¶³åæ ‡å˜æ¢å…³ç³»ã€‚</p><ul><li>0é˜¶å¼ é‡ï¼šæ— è‡ªç”±æŒ‡æ ‡çš„é‡ï¼Œä¸åæ ‡ç³»é€‰å–æ— å…³ï¼Œå¦‚æ¸©åº¦ã€è´¨é‡ã€èƒ½é‡ç­‰æ ‡é‡</li><li>1é˜¶å¼ é‡ï¼ˆå‘é‡ï¼‰ï¼šæœ‰ä¸€ä¸ªè‡ªç”±æŒ‡æ ‡çš„é‡ï¼Œå¦‚åæ ‡ <script type="math/tex">{x_i}</script>ï¼Œä½ç§»ç­‰çŸ¢é‡</li><li>2é˜¶å¼ é‡ï¼šæœ‰2ä¸ªè‡ªç”±æŒ‡æ ‡çš„é‡ï¼Œå¦‚åº”åŠ›ï¼Œåº”å˜ç­‰</li><li>3é˜¶å¼ é‡ï¼šå¦‚æ•°æ®ç«‹æ–¹</li></ul><p>åœ¨æ·±åº¦å­¦ä¹ é‡Œï¼Œå¼ é‡å³ä¸ºä¸€ä¸ªå¤šç»´æ•°ç»„ï¼Œå…¶å¯ä»¥åˆ›å»ºæ›´é«˜ç»´åº¦çš„çŸ©é˜µ</p><p>Tensorå¯¹è±¡çš„3ä¸ªå±æ€§ï¼š</p><ul><li>Rankï¼š number of dimensions</li><li>Shape: number of rows and columns</li><li>Type: data type of tensorâ€™s elements</li></ul></li><li><p>å½’ä¸€åŒ–</p><ul><li>ä¸åŒçš„å›¾ç‰‡æ˜ å°„åˆ°åŒä¸€åæ ‡ç³»ï¼Œæ‹¥æœ‰ç›¸åŒçš„å°ºåº¦</li><li>åƒç´ å€¼å¤§å°ä¸åŒçš„é—®é¢˜è½¬åŒ–ä¸ºå…·æœ‰ç›¸ä¼¼ç‰¹å¾åˆ†å¸ƒçš„é—®é¢˜</li><li>ä¸€å®šç¨‹åº¦ä¸Šæ¶ˆé™¤äº†å› ä¸ºè¿‡åº¦æ›å…‰ï¼Œè´¨é‡ä¸ä½³æˆ–è€…å™ªå£°ç­‰å„ç§åŸå› å¯¹æ¨¡å‹æƒå€¼æ›´æ–°çš„å½±å“</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">normalize = transforms.Normalize(mean=[<span class="number">0.485</span>, <span class="number">0.456</span>, <span class="number">0.406</span>], std=[<span class="number">0.229</span>, <span class="number">0.224</span>, <span class="number">0.225</span>]) <span class="comment">#å½’ä¸€åŒ–æ¯ä¸ªé€šé“çš„å¹³å‡å€¼å’Œæ ‡å‡†å·®</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ ¼å¼æ•´åˆ</span></span><br><span class="line">vgg_format = transforms.Compose([</span><br><span class="line">    <span class="comment"># å°†æ¯ä¸ªå›¾ç‰‡è¿›è¡Œè£å‰ªï¼ŒCenterCropå‚æ•°æœ‰ä¸¤ä¸ªï¼Œåªæœ‰ä¸€ä¸ªæ—¶ä¸ºæ­£æ–¹å½¢</span></span><br><span class="line">                transforms.CenterCrop(<span class="number">224</span>), </span><br><span class="line">    <span class="comment"># å°†numpyæ•°æ®æ ¼å¼è½¬æ¢ä¸ºtensoræ ¼å¼</span></span><br><span class="line">                transforms.ToTensor(),   </span><br><span class="line">                <span class="comment">#å½’ä¸€åŒ–</span></span><br><span class="line">    normalize,          </span><br><span class="line">            ])                  </span><br><span class="line"></span><br><span class="line">data_dir = <span class="string">'./dogscats'</span></span><br><span class="line"></span><br><span class="line">dsets = &#123;x: datasets.ImageFolder(os.path.join(data_dir, x), vgg_format)</span><br><span class="line">         <span class="keyword">for</span> x <span class="keyword">in</span> [<span class="string">'train'</span>, <span class="string">'valid'</span>]&#125;</span><br><span class="line"></span><br><span class="line">dset_sizes = &#123;x: len(dsets[x]) <span class="keyword">for</span> x <span class="keyword">in</span> [<span class="string">'train'</span>, <span class="string">'valid'</span>]&#125;</span><br><span class="line">dset_classes = dsets[<span class="string">'train'</span>].classes</span><br></pre></td></tr></table></figure><h2 id=""><a href="#" class="headerlink" title=""></a><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è®­ç»ƒæ—¶ shuffleæ˜¯trueï¼Œå½“æ£€éªŒæ—¶åˆ™ä¸ºFalse</span></span><br><span class="line">loader_train = torch.utils.data.DataLoader(dsets[<span class="string">'train'</span>], batch_size=<span class="number">64</span>, shuffle=<span class="literal">True</span>, num_workers=<span class="number">6</span>)</span><br><span class="line">loader_valid = torch.utils.data.DataLoader(dsets[<span class="string">'valid'</span>], batch_size=<span class="number">5</span>, shuffle=<span class="literal">False</span>, num_workers=<span class="number">6</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">valid æ•°æ®ä¸€å…±æœ‰2000å¼ å›¾ï¼Œæ¯ä¸ªbatchæ˜¯5å¼ ï¼Œå› æ­¤ï¼Œä¸‹é¢è¿›è¡Œéå†ä¸€å…±ä¼šè¾“å‡ºåˆ° 400</span></span><br><span class="line"><span class="string">åŒæ—¶ï¼ŒæŠŠç¬¬ä¸€ä¸ª batch ä¿å­˜åˆ° inputs_try, labels_tryï¼Œåˆ†åˆ«æŸ¥çœ‹</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">count = <span class="number">1</span></span><br><span class="line"><span class="keyword">for</span> data <span class="keyword">in</span> loader_valid:</span><br><span class="line">    print(count, end=<span class="string">'\n'</span>)</span><br><span class="line">    <span class="keyword">if</span> count == <span class="number">1</span>:</span><br><span class="line">        inputs_try,labels_try = data</span><br><span class="line">    count +=<span class="number">1</span></span><br><span class="line"></span><br><span class="line">print(labels_try)</span><br><span class="line">print(inputs_try.shape)</span><br></pre></td></tr></table></figure></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">...</span><br><span class="line">...</span><br><span class="line">...</span><br><span class="line">400</span><br><span class="line">tensor([0, 0, 0, 0, 0])</span><br><span class="line">torch.Size([5, 3, 224, 224])</span><br></pre></td></tr></table></figure><h3 id="æ¨¡å‹ä¸‹è½½-ï¼Œåˆ›å»º-VGG-Model"><a href="#æ¨¡å‹ä¸‹è½½-ï¼Œåˆ›å»º-VGG-Model" class="headerlink" title="æ¨¡å‹ä¸‹è½½ ï¼Œåˆ›å»º VGG Model"></a>æ¨¡å‹ä¸‹è½½ ï¼Œåˆ›å»º VGG Model</h3><h2 id="-1"><a href="#-1" class="headerlink" title=""></a><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">!wget https://s3.amazonaws.com/deep-learning-models/image-models/imagenet_class_index.json</span><br></pre></td></tr></table></figure></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">--2020-11-17 06:42:58--  https:&#x2F;&#x2F;s3.amazonaws.com&#x2F;deep-learning-models&#x2F;image-models&#x2F;imagenet_class_index.json</span><br><span class="line">Resolving s3.amazonaws.com (s3.amazonaws.com)... 52.216.169.189</span><br><span class="line">Connecting to s3.amazonaws.com (s3.amazonaws.com)|52.216.169.189|:443... connected.</span><br><span class="line">HTTP request sent, awaiting response... 200 OK</span><br><span class="line">Length: 35363 (35K) [application&#x2F;octet-stream]</span><br><span class="line">Saving to: â€˜imagenet_class_index.jsonâ€™</span><br><span class="line"></span><br><span class="line">imagenet_class_inde 100%[&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&gt;]  34.53K  --.-KB&#x2F;s    in 0.09s   </span><br><span class="line"></span><br><span class="line">2020-11-17 06:42:58 (405 KB&#x2F;s) - â€˜imagenet_class_index.jsonâ€™ saved [35363&#x2F;35363]</span><br></pre></td></tr></table></figure><p>åˆ›å»ºçš„æ˜¯ VGG16 æ¨¡å‹</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">model_vgg = models.vgg16(pretrained=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> open(<span class="string">'./imagenet_class_index.json'</span>) <span class="keyword">as</span> f:</span><br><span class="line">    class_dict = json.load(f)</span><br><span class="line">dic_imagenet = [class_dict[str(i)][<span class="number">1</span>] <span class="keyword">for</span> i <span class="keyword">in</span> range(len(class_dict))]</span><br><span class="line"></span><br><span class="line">inputs_try , labels_try = inputs_try.to(device), labels_try.to(device)</span><br><span class="line">model_vgg = model_vgg.to(device)</span><br><span class="line"></span><br><span class="line">outputs_try = model_vgg(inputs_try)</span><br><span class="line"></span><br><span class="line">print(outputs_try)</span><br><span class="line">print(outputs_try.shape)</span><br><span class="line"></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">å¯ä»¥çœ‹åˆ°ç»“æœä¸º5è¡Œï¼Œ1000åˆ—çš„æ•°æ®ï¼Œæ¯ä¸€åˆ—ä»£è¡¨å¯¹æ¯ä¸€ç§ç›®æ ‡è¯†åˆ«çš„ç»“æœã€‚</span></span><br><span class="line"><span class="string">ä½†æ˜¯æˆ‘ä¹Ÿå¯ä»¥è§‚å¯Ÿåˆ°ï¼Œç»“æœéå¸¸å¥‡è‘©ï¼Œæœ‰è´Ÿæ•°ï¼Œæœ‰æ­£æ•°ï¼Œ</span></span><br><span class="line"><span class="string">ä¸ºäº†å°†VGGç½‘ç»œè¾“å‡ºçš„ç»“æœè½¬åŒ–ä¸ºå¯¹æ¯ä¸€ç±»çš„é¢„æµ‹æ¦‚ç‡ï¼Œæˆ‘ä»¬æŠŠç»“æœè¾“å…¥åˆ° Softmax å‡½æ•°</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">m_softm = nn.Softmax(dim=<span class="number">1</span>)</span><br><span class="line">probs = m_softm(outputs_try)</span><br><span class="line">vals_try,pred_try = torch.max(probs,dim=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">print( <span class="string">'prob sum: '</span>, torch.sum(probs,<span class="number">1</span>))</span><br><span class="line">print( <span class="string">'vals_try: '</span>, vals_try)</span><br><span class="line">print( <span class="string">'pred_try: '</span>, pred_try)</span><br><span class="line"></span><br><span class="line">print([dic_imagenet[i] <span class="keyword">for</span> i <span class="keyword">in</span> pred_try.data])</span><br><span class="line">imshow(torchvision.utils.make_grid(inputs_try.data.cpu()), </span><br><span class="line">       title=[dset_classes[x] <span class="keyword">for</span> x <span class="keyword">in</span> labels_try.data.cpu()])</span><br></pre></td></tr></table></figure><hr><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Downloading: &quot;https:&#x2F;&#x2F;download.pytorch.org&#x2F;models&#x2F;vgg16-397923af.pth&quot; to &#x2F;root&#x2F;.cache&#x2F;torch&#x2F;hub&#x2F;checkpoints&#x2F;vgg16-397923af.pth</span><br><span class="line">100%</span><br><span class="line">528M&#x2F;528M [00:38&lt;00:00, 14.3MB&#x2F;s]</span><br><span class="line"></span><br><span class="line">tensor([[ 0.7979,  1.5667,  0.8546,  ...,  3.1719,  3.3310,  1.1075],</span><br><span class="line">        [-1.1246,  2.7357, -1.9035,  ..., -5.2773,  5.4166,  6.0531],</span><br><span class="line">        [-2.8606, -2.5214, -1.5476,  ..., -3.1250,  0.7820,  3.6555],</span><br><span class="line">        [-0.8027, -1.4977,  2.9460,  ..., -3.7837, -0.4200,  5.5966],</span><br><span class="line">        [-2.6016, -4.2326, -2.6736,  ..., -4.2833,  0.4802,  2.5251]],</span><br><span class="line">       device&#x3D;&#39;cuda:0&#39;, grad_fn&#x3D;&lt;AddmmBackward&gt;)</span><br><span class="line">torch.Size([5, 1000])</span><br><span class="line">prob sum:  tensor([1.0000, 1.0000, 1.0000, 1.0000, 1.0000], device&#x3D;&#39;cuda:0&#39;,</span><br><span class="line">       grad_fn&#x3D;&lt;SumBackward1&gt;)</span><br><span class="line">vals_try:  tensor([0.2639, 0.9191, 0.5210, 0.8608, 0.3465], device&#x3D;&#39;cuda:0&#39;,</span><br><span class="line">       grad_fn&#x3D;&lt;MaxBackward0&gt;)</span><br><span class="line">pred_try:  tensor([333, 281, 281, 281, 359], device&#x3D;&#39;cuda:0&#39;)</span><br><span class="line">[&#39;hamster&#39;, &#39;tabby&#39;, &#39;tabby&#39;, &#39;tabby&#39;, &#39;black-footed_ferret&#39;]</span><br></pre></td></tr></table></figure><h3 id="ä¿®æ”¹æ¨¡å‹"><a href="#ä¿®æ”¹æ¨¡å‹" class="headerlink" title="ä¿®æ”¹æ¨¡å‹"></a>ä¿®æ”¹æ¨¡å‹</h3><p>ä¿®æ”¹æœ€åä¸€å±‚ç½‘ç»œï¼Œå†»ç»“å‰é¢å±‚çš„å‚æ•°ï¼Œä½¿ç”¨é¢„è®­ç»ƒå¥½çš„æ¨¡å‹ï¼Œéœ€è¦æŠŠæœ€åçš„ nn.Linear å±‚ç”± 1000ç±»æ›¿æ¢ä¸º 2ç±»ã€‚</p><p>ä¸ºäº†åœ¨è®­ç»ƒä¸­å†»ç»“å‰é¢å±‚çš„å‚æ•°ï¼Œéœ€è¦è®¾ç½® required_grad=Falseã€‚è¿™æ ·ï¼Œåå‘ä¼ æ’­è®­ç»ƒæ¢¯åº¦æ—¶ï¼Œå‰é¢å±‚çš„æƒé‡å°±ä¸ä¼šè‡ªåŠ¨æ›´æ–°äº†ï¼Œè®­ç»ƒä¸­ï¼Œåªä¼šæ›´æ–°æœ€åä¸€å±‚çš„å‚æ•°ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">print(model_vgg)</span><br><span class="line"></span><br><span class="line">model_vgg_new = model_vgg;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> param <span class="keyword">in</span> model_vgg_new.parameters():</span><br><span class="line">    param.requires_grad = <span class="literal">False</span></span><br><span class="line">model_vgg_new.classifier._modules[<span class="string">'6'</span>] = nn.Linear(<span class="number">4096</span>, <span class="number">2</span>)</span><br><span class="line">model_vgg_new.classifier._modules[<span class="string">'7'</span>] = torch.nn.LogSoftmax(dim = <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">model_vgg_new = model_vgg_new.to(device)</span><br><span class="line"></span><br><span class="line">print(model_vgg_new.classifier)</span><br></pre></td></tr></table></figure><hr><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">VGG(</span><br><span class="line">  (features): Sequential(</span><br><span class="line">    (0): Conv2d(3, 64, kernel_size&#x3D;(3, 3), stride&#x3D;(1, 1), padding&#x3D;(1, 1))</span><br><span class="line">    (1): ReLU(inplace&#x3D;True)</span><br><span class="line">    (2): Conv2d(64, 64, kernel_size&#x3D;(3, 3), stride&#x3D;(1, 1), padding&#x3D;(1, 1))</span><br><span class="line">    (3): ReLU(inplace&#x3D;True)</span><br><span class="line">    (4): MaxPool2d(kernel_size&#x3D;2, stride&#x3D;2, padding&#x3D;0, dilation&#x3D;1, ceil_mode&#x3D;False)</span><br><span class="line">    (5): Conv2d(64, 128, kernel_size&#x3D;(3, 3), stride&#x3D;(1, 1), padding&#x3D;(1, 1))</span><br><span class="line">    (6): ReLU(inplace&#x3D;True)</span><br><span class="line">    (7): Conv2d(128, 128, kernel_size&#x3D;(3, 3), stride&#x3D;(1, 1), padding&#x3D;(1, 1))</span><br><span class="line">    (8): ReLU(inplace&#x3D;True)</span><br><span class="line">    (9): MaxPool2d(kernel_size&#x3D;2, stride&#x3D;2, padding&#x3D;0, dilation&#x3D;1, ceil_mode&#x3D;False)</span><br><span class="line">    (10): Conv2d(128, 256, kernel_size&#x3D;(3, 3), stride&#x3D;(1, 1), padding&#x3D;(1, 1))</span><br><span class="line">    (11): ReLU(inplace&#x3D;True)</span><br><span class="line">    (12): Conv2d(256, 256, kernel_size&#x3D;(3, 3), stride&#x3D;(1, 1), padding&#x3D;(1, 1))</span><br><span class="line">    (13): ReLU(inplace&#x3D;True)</span><br><span class="line">    (14): Conv2d(256, 256, kernel_size&#x3D;(3, 3), stride&#x3D;(1, 1), padding&#x3D;(1, 1))</span><br><span class="line">    (15): ReLU(inplace&#x3D;True)</span><br><span class="line">    (16): MaxPool2d(kernel_size&#x3D;2, stride&#x3D;2, padding&#x3D;0, dilation&#x3D;1, ceil_mode&#x3D;False)</span><br><span class="line">    (17): Conv2d(256, 512, kernel_size&#x3D;(3, 3), stride&#x3D;(1, 1), padding&#x3D;(1, 1))</span><br><span class="line">    (18): ReLU(inplace&#x3D;True)</span><br><span class="line">    (19): Conv2d(512, 512, kernel_size&#x3D;(3, 3), stride&#x3D;(1, 1), padding&#x3D;(1, 1))</span><br><span class="line">    (20): ReLU(inplace&#x3D;True)</span><br><span class="line">    (21): Conv2d(512, 512, kernel_size&#x3D;(3, 3), stride&#x3D;(1, 1), padding&#x3D;(1, 1))</span><br><span class="line">    (22): ReLU(inplace&#x3D;True)</span><br><span class="line">    (23): MaxPool2d(kernel_size&#x3D;2, stride&#x3D;2, padding&#x3D;0, dilation&#x3D;1, ceil_mode&#x3D;False)</span><br><span class="line">    (24): Conv2d(512, 512, kernel_size&#x3D;(3, 3), stride&#x3D;(1, 1), padding&#x3D;(1, 1))</span><br><span class="line">    (25): ReLU(inplace&#x3D;True)</span><br><span class="line">    (26): Conv2d(512, 512, kernel_size&#x3D;(3, 3), stride&#x3D;(1, 1), padding&#x3D;(1, 1))</span><br><span class="line">    (27): ReLU(inplace&#x3D;True)</span><br><span class="line">    (28): Conv2d(512, 512, kernel_size&#x3D;(3, 3), stride&#x3D;(1, 1), padding&#x3D;(1, 1))</span><br><span class="line">    (29): ReLU(inplace&#x3D;True)</span><br><span class="line">    (30): MaxPool2d(kernel_size&#x3D;2, stride&#x3D;2, padding&#x3D;0, dilation&#x3D;1, ceil_mode&#x3D;False)</span><br><span class="line">  )</span><br><span class="line">  (avgpool): AdaptiveAvgPool2d(output_size&#x3D;(7, 7))</span><br><span class="line">  (classifier): Sequential(</span><br><span class="line">    (0): Linear(in_features&#x3D;25088, out_features&#x3D;4096, bias&#x3D;True)</span><br><span class="line">    (1): ReLU(inplace&#x3D;True)</span><br><span class="line">    (2): Dropout(p&#x3D;0.5, inplace&#x3D;False)</span><br><span class="line">    (3): Linear(in_features&#x3D;4096, out_features&#x3D;4096, bias&#x3D;True)</span><br><span class="line">    (4): ReLU(inplace&#x3D;True)</span><br><span class="line">    (5): Dropout(p&#x3D;0.5, inplace&#x3D;False)</span><br><span class="line">    (6): Linear(in_features&#x3D;4096, out_features&#x3D;1000, bias&#x3D;True)</span><br><span class="line">  )</span><br><span class="line">)</span><br><span class="line">Sequential(</span><br><span class="line">  (0): Linear(in_features&#x3D;25088, out_features&#x3D;4096, bias&#x3D;True)</span><br><span class="line">  (1): ReLU(inplace&#x3D;True)</span><br><span class="line">  (2): Dropout(p&#x3D;0.5, inplace&#x3D;False)</span><br><span class="line">  (3): Linear(in_features&#x3D;4096, out_features&#x3D;4096, bias&#x3D;True)</span><br><span class="line">  (4): ReLU(inplace&#x3D;True)</span><br><span class="line">  (5): Dropout(p&#x3D;0.5, inplace&#x3D;False)</span><br><span class="line">  (6): Linear(in_features&#x3D;4096, out_features&#x3D;2, bias&#x3D;True)</span><br><span class="line">  (7): LogSoftmax(dim&#x3D;1)</span><br><span class="line">)</span><br></pre></td></tr></table></figure><h3 id="è®­ç»ƒå¹¶æµ‹è¯•å…¨è¿æ¥å±‚"><a href="#è®­ç»ƒå¹¶æµ‹è¯•å…¨è¿æ¥å±‚" class="headerlink" title="è®­ç»ƒå¹¶æµ‹è¯•å…¨è¿æ¥å±‚"></a>è®­ç»ƒå¹¶æµ‹è¯•å…¨è¿æ¥å±‚</h3><p><strong>ä¸‰ä¸ªæ­¥éª¤</strong></p><ul><li>åˆ›å»ºæŸå¤±å‡½æ•°å’Œä¼˜åŒ–å™¨</li><li>è®­ç»ƒæ¨¡å‹</li><li>æµ‹è¯•æ¨¡å‹</li></ul><p>åœ¨è¿™é‡Œï¼Œæ”¹ç”¨ Adam æ›¿æ¢ SGD ä¼˜åŒ–å™¨</p><ul><li><p>SGD ï¼ˆStochastic Gradient Descentï¼‰æœ´ç´ æ¢¯åº¦ä¸‹é™ï¼Œæœ€ä¸ºç®€å•ï¼Œæ²¡æœ‰åŠ¨é‡çš„æ¦‚å¿µã€‚</p><p>ç¼ºç‚¹åœ¨äºï¼šæ”¶æ•›é€Ÿåº¦æ…¢ï¼Œå¯èƒ½åœ¨éç‚¹ï¼ˆæ²¿ç€æŸä¸€ä¸ªæ–¹å‘æ˜¯ç¨³å®šçš„å¦ä¸€ä¸ªæ–¹å‘æ˜¯ä¸ç¨³å®šçš„ï¼Œç‰©ç†å«ä¹‰å³ä¸€ä¸ªæ–¹å‘ä¸Šæ˜¯æå¤§å€¼ï¼Œå¦ä¸€ä¸ªæ–¹å‘ä¸Šæ˜¯æå°å€¼ï¼‰å¤„éœ‡è¡ã€‚</p><p>ä¸ºäº†è·³å‡ºéç‚¹å¤„ï¼Œæå‡ºäº†åŠ¨é‡çš„æ¦‚å¿µå› æ­¤æœ‰äº†å‡ ç§æ”¹è¿›çš„ä¼˜åŒ–å™¨</p></li><li><p>Adam ç®€å•è¯´æ˜¯ä¸€ç§æ·»åŠ äº†åŠ¨é‡çš„æ¢¯åº¦ä¸‹é™ä¼˜åŒ–å™¨ï¼Œå¤§å¤§æé«˜äº†æ”¶æ•›çš„é€Ÿåº¦ã€‚</p><p>ç¼ºç‚¹åœ¨äºï¼šå¯èƒ½è¶Šè¿‡å…¨å±€æœ€ä¼˜è§£ï¼›æŸäº›æƒ…å†µå¯èƒ½ä¸æ”¶æ•›</p></li></ul><p>åœ¨è¿™é‡Œè®¾ç½®ä¸€ä¸ªæœ€å¤§ç²¾åº¦å€¼max_accï¼Œæ¯ä¸€ä¸ª epoch éƒ½ä¸ä¹‹è¿›è¡Œæ¯”è¾ƒï¼Œå½“æ–°çš„ epoch ç²¾åº¦æ›´å¥½æ—¶æ›¿æ¢ä¹‹ï¼Œä¿å­˜è®­ç»ƒå‡ºçš„æœ€å¥½çš„æ¨¡å‹å’Œæœ€åä¸€ä¸ªè®­ç»ƒçš„æ¨¡å‹ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºæŸå¤±å‡½æ•°å’Œä¼˜åŒ–å™¨</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">æŸå¤±å‡½æ•° NLLLoss() çš„ è¾“å…¥ æ˜¯ä¸€ä¸ªå¯¹æ•°æ¦‚ç‡å‘é‡å’Œä¸€ä¸ªç›®æ ‡æ ‡ç­¾. </span></span><br><span class="line"><span class="string">å®ƒä¸ä¼šä¸ºæˆ‘ä»¬è®¡ç®—å¯¹æ•°æ¦‚ç‡ï¼Œé€‚åˆæœ€åä¸€å±‚æ˜¯log_softmax()çš„ç½‘ç»œ. </span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="keyword">from</span> tqdm <span class="keyword">import</span> trange,tqdm</span><br><span class="line">criterion = nn.NLLLoss()</span><br><span class="line"></span><br><span class="line"><span class="comment"># å­¦ä¹ ç‡</span></span><br><span class="line">lr = (<span class="number">1e-3</span>)/<span class="number">2</span>/<span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># éšæœºæ¢¯åº¦ä¸‹é™</span></span><br><span class="line">optimizer_vgg = torch.optim.Adam(model_vgg_new.classifier[<span class="number">6</span>].parameters(),lr = lr)</span><br><span class="line"></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">ç¬¬äºŒæ­¥ï¼šè®­ç»ƒæ¨¡å‹</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">train_model</span><span class="params">(model,dataloader,size,epochs=<span class="number">1</span>,optimizer=None)</span>:</span></span><br><span class="line">    model.train()</span><br><span class="line">    </span><br><span class="line">    max_acc = <span class="number">-1</span></span><br><span class="line">    <span class="keyword">for</span> epoch <span class="keyword">in</span> range(epochs):</span><br><span class="line">        running_loss = <span class="number">0.0</span></span><br><span class="line">        running_corrects = <span class="number">0</span></span><br><span class="line">        count = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> inputs,classes <span class="keyword">in</span> dataloader:</span><br><span class="line">            inputs = inputs.to(device)</span><br><span class="line">            classes = classes.to(device)</span><br><span class="line">            outputs = model(inputs)</span><br><span class="line">            loss = criterion(outputs,classes)           </span><br><span class="line">            optimizer = optimizer</span><br><span class="line">            optimizer.zero_grad()</span><br><span class="line">            loss.backward()</span><br><span class="line">            optimizer.step()</span><br><span class="line">            _,preds = torch.max(outputs.data,<span class="number">1</span>)</span><br><span class="line">            <span class="comment"># statistics</span></span><br><span class="line">            running_loss += loss.data.item()</span><br><span class="line">            running_corrects += torch.sum(preds == classes.data)</span><br><span class="line">            count += len(inputs)</span><br><span class="line">            print(<span class="string">'Training: No. '</span>, count, <span class="string">' process ... total: '</span>, size)</span><br><span class="line">        epoch_loss = running_loss / size</span><br><span class="line">        epoch_acc = running_corrects.data.item() / size</span><br><span class="line">        print(<span class="string">'Loss: &#123;:.4f&#125; Acc: &#123;:.4f&#125;'</span>.format(</span><br><span class="line">                     epoch_loss, epoch_acc))</span><br><span class="line">                    <span class="comment">#/content/imagenet_class_index.json</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> epoch_acc&gt;max_acc:</span><br><span class="line">            max_acc = epoch_acc</span><br><span class="line">            torch.save(model, <span class="string">'/content/model_best_new.pth'</span>)</span><br><span class="line">            <span class="comment"># tqdm.write("\n Got A Nice Model Acc:&#123;:.8f&#125;".format(max_acc))</span></span><br><span class="line">        tqdm.write(<span class="string">'\nepoch: &#123;&#125; \tLoss: &#123;:.8f&#125; Acc: &#123;:.8f&#125;'</span>.format(epoch,epoch_loss, epoch_acc))</span><br><span class="line">        tqdm.write(<span class="string">'\n Best acc is: &#123;&#125; \n'</span>.format(max_acc))</span><br><span class="line">        time.sleep(<span class="number">0.1</span>)</span><br><span class="line"> </span><br><span class="line">    torch.save(model, <span class="string">'/content/model_last_new.pth'</span>)</span><br><span class="line"> </span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line"><span class="comment"># æ¨¡å‹è®­ç»ƒ</span></span><br><span class="line">train_model(model_vgg_new,loader_train,size=dset_sizes[<span class="string">'train'</span>], epochs=<span class="number">10</span>, </span><br><span class="line">            optimizer=optimizer_vgg)</span><br></pre></td></tr></table></figure><hr><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201119132604195.png" alt="image-20201119132604195"></p><p>ï¼ˆepochs èµ·åˆæ”¹ä¸º100ï¼Œåæ¥å‘ç°æ”¹ä¸º10ï¼Œæ•ˆæœä¹Ÿå·²ç»ä¸é”™äº†ï¼‰</p><h3 id="valid-æ•°æ®æ¨¡å‹æµ‹è¯•"><a href="#valid-æ•°æ®æ¨¡å‹æµ‹è¯•" class="headerlink" title="valid æ•°æ®æ¨¡å‹æµ‹è¯•"></a>valid æ•°æ®æ¨¡å‹æµ‹è¯•</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test_model</span><span class="params">(model,dataloader,size)</span>:</span></span><br><span class="line">    model.eval()</span><br><span class="line">    predictions = np.zeros(size)</span><br><span class="line">    all_classes = np.zeros(size)</span><br><span class="line">    all_proba = np.zeros((size,<span class="number">2</span>))</span><br><span class="line">    i = <span class="number">0</span></span><br><span class="line">    running_loss = <span class="number">0.0</span></span><br><span class="line">    running_corrects = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> inputs,classes <span class="keyword">in</span> dataloader:</span><br><span class="line">        inputs = inputs.to(device)</span><br><span class="line">        classes = classes.to(device)</span><br><span class="line">        outputs = model(inputs)</span><br><span class="line">        loss = criterion(outputs,classes)           </span><br><span class="line">        _,preds = torch.max(outputs.data,<span class="number">1</span>)</span><br><span class="line">        <span class="comment"># statistics</span></span><br><span class="line">        running_loss += loss.data.item()</span><br><span class="line">        running_corrects += torch.sum(preds == classes.data)</span><br><span class="line">        predictions[i:i+len(classes)] = preds.to(<span class="string">'cpu'</span>).numpy()</span><br><span class="line">        all_classes[i:i+len(classes)] = classes.to(<span class="string">'cpu'</span>).numpy()</span><br><span class="line">        all_proba[i:i+len(classes),:] = outputs.data.to(<span class="string">'cpu'</span>).numpy()</span><br><span class="line">        i += len(classes)</span><br><span class="line">        print(<span class="string">'Testing: No. '</span>, i, <span class="string">' process ... total: '</span>, size)        </span><br><span class="line">    epoch_loss = running_loss / size</span><br><span class="line">    epoch_acc = running_corrects.data.item() / size</span><br><span class="line">    print(<span class="string">'Loss: &#123;:.4f&#125; Acc: &#123;:.4f&#125;'</span>.format(</span><br><span class="line">                     epoch_loss, epoch_acc))</span><br><span class="line">    <span class="keyword">return</span> predictions, all_proba, all_classes</span><br><span class="line">  </span><br><span class="line">predictions, all_proba, all_classes = test_model(model_vgg_new,loader_valid,size=dset_sizes[<span class="string">'valid'</span>])</span><br></pre></td></tr></table></figure><hr><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Testing: No.  5  process ... total:  2000</span><br><span class="line">Testing: No.  10  process ... total:  2000</span><br><span class="line">Testing: No.  15  process ... total:  2000</span><br><span class="line">...</span><br><span class="line">...</span><br><span class="line">...</span><br><span class="line">Testing: No.  1995  process ... total:  2000</span><br><span class="line">Testing: No.  2000  process ... total:  2000</span><br><span class="line">Loss: 0.0105 Acc: 0.9795</span><br></pre></td></tr></table></figure><h3 id="ç ”ä¹ ç¤¾-test-æ•°æ®æµ‹è¯•"><a href="#ç ”ä¹ ç¤¾-test-æ•°æ®æµ‹è¯•" class="headerlink" title="ç ”ä¹ ç¤¾ test æ•°æ®æµ‹è¯•"></a>ç ”ä¹ ç¤¾ test æ•°æ®æµ‹è¯•</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åŠ è½½æµ‹è¯•æ•°æ®</span></span><br><span class="line">dsets_mine = datasets.ImageFolder(<span class="string">"/content/yanxishe/"</span>, vgg_format)</span><br><span class="line"> </span><br><span class="line">loader_test = torch.utils.data.DataLoader(dsets_mine, batch_size=<span class="number">1</span>, shuffle=<span class="literal">False</span>, num_workers=<span class="number">0</span>)</span><br><span class="line"><span class="comment"># åŠ è½½ best model</span></span><br><span class="line">model_vgg_new = torch.load(<span class="string">r'/content/model_best_new.pth'</span>)</span><br><span class="line">model_vgg_new = model_vgg_new.to(device)</span><br><span class="line"></span><br><span class="line">dic = &#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test</span><span class="params">(model,dataloader,size)</span>:</span></span><br><span class="line">    model.eval()</span><br><span class="line">    predictions = np.zeros(size)</span><br><span class="line">    cnt = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> inputs,_ <span class="keyword">in</span> tqdm(dataloader):</span><br><span class="line">        inputs = inputs.to(device)</span><br><span class="line">        outputs = model(inputs)</span><br><span class="line">        _,preds = torch.max(outputs.data,<span class="number">1</span>)    </span><br><span class="line">        key = dsets_mine.imgs[cnt][<span class="number">0</span>].split(<span class="string">"\\"</span>)[<span class="number">-1</span>].split(<span class="string">'.'</span>)[<span class="number">0</span>]</span><br><span class="line">        dic[key] = preds[<span class="number">0</span>]</span><br><span class="line">        cnt = cnt +<span class="number">1</span></span><br><span class="line">test(model_vgg_new,loader_test,size=<span class="number">2000</span>)</span><br></pre></td></tr></table></figure><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201119132146392.png" alt="image-20201119132146392"></p><p>å°†æµ‹è¯•ç»“æœ dic æŒ‰é¡ºåºå†™å…¥ csv æ–‡ä»¶</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> open(<span class="string">"result1.csv"</span>,<span class="string">'a+'</span>) <span class="keyword">as</span> f:</span><br><span class="line">    <span class="keyword">for</span> key <span class="keyword">in</span> range(<span class="number">2000</span>):</span><br><span class="line">        f.write(<span class="string">"&#123;&#125;,&#123;&#125;\n"</span>.format(key, dic[<span class="string">"/content/yanxishe/test/"</span>+str(key)]))</span><br></pre></td></tr></table></figure><h3 id="æäº¤ç»“æœ"><a href="#æäº¤ç»“æœ" class="headerlink" title="æäº¤ç»“æœ"></a>æäº¤ç»“æœ</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201119141718413.png" alt="image-20201119141718413"></p><p>æœ€æ—©çš„ç»“æœæ˜¯è®­ç»ƒ epoch ä¿®æ”¹ä¸º100ï¼ŒSGDä¼˜åŒ–å™¨æ—¶ï¼Œè®­ç»ƒ Acc ä¸º0.99æ—¶è·å¾—çš„ã€‚</p><p>ç¬¬äºŒä¸ªæ˜¯ä¿®æ”¹ä¼˜åŒ–å™¨ä¸º Adam æ—¶çš„ç»“æœï¼Œ Acc åŒæ ·ä¸º0.99æ—¶è·å¾—çš„ç»“æœã€‚</p><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><ul><li><p>å¢åŠ  epoch æ•°é‡ä¼šæé«˜è®­ç»ƒçš„å‡†ç¡®åº¦</p></li><li><p>ä¼˜åŒ–å™¨æ”¹ä¸º Adam ä¼šæé«˜è®­ç»ƒæ—¶æ”¶æ•›çš„é€Ÿåº¦ï¼Œä½†å¯¹äºç»“æœå¥½åƒæ²¡æœ‰å¤ªå¤§çš„æå‡</p></li><li><p>å½“ä¿®æ”¹äº†å­¦ä¹ ç‡æ—¶ï¼Œå‘ç°å¯¹ Acc æœ‰ä¸é”™çš„å½±å“ï¼Œé€‰æ‹© epoch = 10ï¼Œ æµ‹è¯•äº† 0.001 å­¦ä¹ ç‡ï¼Œå’Œ0.005å­¦ä¹ ç‡ï¼Œå‘ç°0.005å¯ä»¥åœ¨ä¸€å¼€å§‹æ—¶å°±è·å¾—æ¯”è¾ƒé«˜çš„ Accã€‚</p><p>å¯¹äºå­¦ä¹ ç‡çš„è®¾ç½®æœ‰:</p></li></ul><div class="table-container"><table><thead><tr><th>å­¦ä¹ ç‡</th><th>å¤§</th><th>å°</th></tr></thead><tbody><tr><td>å­¦ä¹ é€Ÿåº¦</td><td>å¿«</td><td>æ…¢</td></tr><tr><td>ä½¿ç”¨æ—¶é—´ç‚¹</td><td>åˆšå¼€å§‹è®­ç»ƒæ—¶</td><td>ç»è¿‡ä¸€å®šè½®æ•°å</td></tr><tr><td>å‰¯ä½œç”¨</td><td>1. æ˜“æŸå¤±å€¼çˆ†ç‚¸ï¼›2. æ˜“éœ‡è¡</td><td>1. æ˜“è¿‡æ‹Ÿåˆï¼›2. æ”¶æ•›é€Ÿåº¦æ…¢</td></tr></tbody></table></div><ul><li>è®¾ç½®ä¸€ä¸ªæœ€å¤§ç²¾åº¦å€¼max_accï¼Œæ¯ä¸€ä¸ª epoch çš„ Acc éƒ½ä¸ä¹‹è¿›è¡Œæ¯”è¾ƒï¼Œå½“æ–°çš„ epoch ç²¾åº¦æ›´å¥½æ—¶æ›¿æ¢ä¹‹ï¼Œä¿å­˜è®­ç»ƒå‡ºçš„æœ€å¥½çš„æ¨¡å‹ã€‚ç„¶åç”¨æœ€å¥½çš„è®­ç»ƒæ¨¡å‹è¿›è¡Œ valid æ•°æ®é›†æµ‹è¯•å’Œ test æ•°æ®é›†æµ‹è¯•ã€‚</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Dog-VS-Cat&quot;&gt;&lt;a href=&quot;#Dog-VS-Cat&quot; class=&quot;headerlink&quot; title=&quot;Dog VS Cat&quot;&gt;&lt;/a&gt;Dog VS Cat&lt;/h1&gt;&lt;h2 id=&quot;VGGç½‘ç»œ&quot;&gt;&lt;a href=&quot;#VGGç½‘ç»œ&quot; class=&quot;he
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>åŒºåŸŸç”Ÿé•¿&amp;åŒºåŸŸåˆ†å‰²ä¸åˆæˆ&amp;åˆ†æ°´å²­ç®—æ³•</title>
    <link href="https://github.com/liysky/liysky.github.io.git/2020/11/14/region-growsplitmerge-watershed/"/>
    <id>https://github.com/liysky/liysky.github.io.git/2020/11/14/region-growsplitmerge-watershed/</id>
    <published>2020-11-14T05:49:54.000Z</published>
    <updated>2020-11-14T05:53:48.700Z</updated>
    
    <content type="html"><![CDATA[<h1 id="åŒºåŸŸç”Ÿé•¿ç®—æ³•ï¼ŒåŒºåŸŸåˆ†è£‚ä¸åˆæˆç®—æ³•ï¼Œåˆ†æ°´å²­åˆ†å‰²ç®—æ³•"><a href="#åŒºåŸŸç”Ÿé•¿ç®—æ³•ï¼ŒåŒºåŸŸåˆ†è£‚ä¸åˆæˆç®—æ³•ï¼Œåˆ†æ°´å²­åˆ†å‰²ç®—æ³•" class="headerlink" title="åŒºåŸŸç”Ÿé•¿ç®—æ³•ï¼ŒåŒºåŸŸåˆ†è£‚ä¸åˆæˆç®—æ³•ï¼Œåˆ†æ°´å²­åˆ†å‰²ç®—æ³•"></a>åŒºåŸŸç”Ÿé•¿ç®—æ³•ï¼ŒåŒºåŸŸåˆ†è£‚ä¸åˆæˆç®—æ³•ï¼Œåˆ†æ°´å²­åˆ†å‰²ç®—æ³•</h1><h2 id="åŒºåŸŸç”Ÿé•¿ç®—æ³•"><a href="#åŒºåŸŸç”Ÿé•¿ç®—æ³•" class="headerlink" title="åŒºåŸŸç”Ÿé•¿ç®—æ³•"></a>åŒºåŸŸç”Ÿé•¿ç®—æ³•</h2><p><strong>ç®—æ³•å®ç°</strong></p><ul><li>æ ¹æ®å›¾åƒçš„ä¸åŒåº”ç”¨é€‰æ‹©ä¸€ä¸ªæˆ–ä¸€ç»„ç§å­ï¼Œå®ƒæˆ–ä¸ºæœ€äº®æˆ–æœ€æš—æˆ–ç‚¹ç°‡ä¸­å¿ƒçš„ç‚¹</li><li>ç¡®å®šç›¸ä¼¼æ€§å‡†åˆ™å³ç”Ÿé•¿å‡†åˆ™ï¼ˆæ¡ä»¶ï¼‰</li><li>ä»è¯¥ç§å­å¼€å§‹ä¸æ–­å‘å¤–æ‰©å¼ ï¼Œé¦–å…ˆå°†ç§å­åƒç´ åŠ å…¥é›†åˆï¼Œç„¶åä¸æ–­å°†ä¸å‡ ä½•ä¸­å„ä¸ªåƒç´ è¿é€šã€ä¸”æ»¡è¶³æè¿°å‡†åˆ™çš„åƒç´ åŠ å…¥é›†åˆ</li><li>ä¸Šä¸€è¿‡ç¨‹è¿›è¡Œåˆ°ä¸å†æœ‰æ»¡è¶³æ¡ä»¶çš„æ–°çš„èŠ‚ç‚¹åŠ å…¥é›†åˆä¸ºæ­¢</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"></span><br><span class="line"><span class="comment">#class pour une pile</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Stack</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.item = []</span><br><span class="line">        self.obj=[]</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">push</span><span class="params">(self, value)</span>:</span></span><br><span class="line">        self.item.append(value)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">pop</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.item.pop()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">size</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> len(self.item)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isEmpty</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.size() == <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">clear</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.item = []</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">regionGrow</span><span class="params">()</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,im_path,th)</span>:</span></span><br><span class="line">        self.readImage(im_path)</span><br><span class="line">        self.h, self.w,_ =  self.im.shape</span><br><span class="line">        self.passedBy = np.zeros((self.h,self.w), np.double)</span><br><span class="line">        self.currentRegion = <span class="number">0</span></span><br><span class="line">        self.iterations=<span class="number">0</span></span><br><span class="line">        self.SEGS=np.zeros((self.h,self.w,<span class="number">3</span>), dtype=<span class="string">'uint8'</span>)</span><br><span class="line">        self.stack = Stack()</span><br><span class="line">        self.thresh=float(th)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">readImage</span><span class="params">(self, img_path)</span>:</span></span><br><span class="line">        self.im = cv2.imread(img_path,<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getNeighbour</span><span class="params">(self, x0, y0)</span>:</span></span><br><span class="line">        neighbour = []</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> (<span class="number">-1</span>,<span class="number">0</span>,<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> (<span class="number">-1</span>,<span class="number">0</span>,<span class="number">1</span>):</span><br><span class="line">                <span class="keyword">if</span> (i,j) == (<span class="number">0</span>,<span class="number">0</span>):</span><br><span class="line">                    <span class="keyword">continue</span></span><br><span class="line">                x = x0+i</span><br><span class="line">                y = y0+j</span><br><span class="line">                <span class="keyword">if</span> self.limit(x,y):</span><br><span class="line">                    neighbour.append((x,y))</span><br><span class="line">        <span class="keyword">return</span> neighbour</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">ApplyRegionGrow</span><span class="params">(self)</span>:</span></span><br><span class="line">        randomseeds=[[self.h/<span class="number">2</span>,self.w/<span class="number">2</span>],</span><br><span class="line">            [self.h/<span class="number">3</span>,self.w/<span class="number">3</span>],[<span class="number">2</span>*self.h/<span class="number">3</span>,self.w/<span class="number">3</span>],[self.h/<span class="number">3</span><span class="number">-10</span>,self.w/<span class="number">3</span>],</span><br><span class="line">            [self.h/<span class="number">3</span>,<span class="number">2</span>*self.w/<span class="number">3</span>],[<span class="number">2</span>*self.h/<span class="number">3</span>,<span class="number">2</span>*self.w/<span class="number">3</span>],[self.h/<span class="number">3</span><span class="number">-10</span>,<span class="number">2</span>*self.w/<span class="number">3</span>],</span><br><span class="line">            [self.h/<span class="number">3</span>,self.w<span class="number">-10</span>],[<span class="number">2</span>*self.h/<span class="number">3</span>,self.w<span class="number">-10</span>],[self.h/<span class="number">3</span><span class="number">-10</span>,self.w<span class="number">-10</span>]</span><br><span class="line">                    ]</span><br><span class="line">        np.random.shuffle(randomseeds)</span><br><span class="line">        <span class="keyword">for</span> x0 <span class="keyword">in</span> range (self.h):</span><br><span class="line">            <span class="keyword">for</span> y0 <span class="keyword">in</span> range (self.w):</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> self.passedBy[x0,y0] == <span class="number">0</span> <span class="keyword">and</span> (int(self.im[x0,y0,<span class="number">0</span>])*int(self.im[x0,y0,<span class="number">1</span>])*int(self.im[x0,y0,<span class="number">2</span>]) &gt; <span class="number">0</span>) :</span><br><span class="line">                    self.currentRegion += <span class="number">1</span></span><br><span class="line">                    self.passedBy[x0,y0] = self.currentRegion</span><br><span class="line">                    self.stack.push((x0,y0))</span><br><span class="line">                    self.prev_region_count=<span class="number">0</span></span><br><span class="line">                    <span class="keyword">while</span> <span class="keyword">not</span> self.stack.isEmpty():</span><br><span class="line">                        x,y = self.stack.pop()</span><br><span class="line">                        self.BFS(x,y)</span><br><span class="line">                        self.iterations+=<span class="number">1</span></span><br><span class="line">                    <span class="keyword">if</span>(self.PassedAll()):</span><br><span class="line">                        <span class="keyword">break</span></span><br><span class="line">                    <span class="keyword">if</span>(self.prev_region_count&lt;<span class="number">8</span>*<span class="number">8</span>):</span><br><span class="line">                        self.passedBy[self.passedBy==self.currentRegion]=<span class="number">0</span></span><br><span class="line">                        x0=random.randint(x0<span class="number">-4</span>,x0+<span class="number">4</span>)</span><br><span class="line">                        y0=random.randint(y0<span class="number">-4</span>,y0+<span class="number">4</span>)</span><br><span class="line">                        x0=max(<span class="number">0</span>,x0)</span><br><span class="line">                        y0=max(<span class="number">0</span>,y0)</span><br><span class="line">                        x0=min(x0,self.h<span class="number">-1</span>)</span><br><span class="line">                        y0=min(y0,self.w<span class="number">-1</span>)</span><br><span class="line">                        self.currentRegion-=<span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>,self.h):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range (<span class="number">0</span>,self.w):</span><br><span class="line">                val = self.passedBy[i][j]</span><br><span class="line">                <span class="keyword">if</span>(val==<span class="number">0</span>):</span><br><span class="line">                    self.SEGS[i][j]=<span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    self.SEGS[i][j]=val*<span class="number">35</span>,val*<span class="number">90</span>,val*<span class="number">30</span></span><br><span class="line">        <span class="keyword">if</span>(self.iterations&gt;<span class="number">200000</span>):</span><br><span class="line">            print(<span class="string">"Max Iterations"</span>)</span><br><span class="line">        print(<span class="string">"Iterations : "</span>+str(self.iterations))</span><br><span class="line">        cv2.imshow(<span class="string">""</span>,self.SEGS)</span><br><span class="line">        <span class="comment"># return self.SEGS</span></span><br><span class="line">        cv2.waitKey(<span class="number">0</span>)</span><br><span class="line">        cv2.destroyAllWindows()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">BFS</span><span class="params">(self, x0,y0)</span>:</span></span><br><span class="line">        regionNum = self.passedBy[x0,y0]</span><br><span class="line">        elems=[]</span><br><span class="line">        elems.append((int(self.im[x0,y0,<span class="number">0</span>])+int(self.im[x0,y0,<span class="number">1</span>])+int(self.im[x0,y0,<span class="number">2</span>]))/<span class="number">3</span>)</span><br><span class="line">        var=self.thresh</span><br><span class="line">        neighbours=self.getNeighbour(x0,y0)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> x,y <span class="keyword">in</span> neighbours:</span><br><span class="line">            <span class="keyword">if</span> self.passedBy[x,y] == <span class="number">0</span> <span class="keyword">and</span> self.distance(x,y,x0,y0)&lt;var:</span><br><span class="line">                <span class="keyword">if</span>(self.PassedAll()):</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                self.passedBy[x,y] = regionNum</span><br><span class="line">                self.stack.push((x,y))</span><br><span class="line">                elems.append((int(self.im[x,y,<span class="number">0</span>])+int(self.im[x,y,<span class="number">1</span>])+int(self.im[x,y,<span class="number">2</span>]))/<span class="number">3</span>)</span><br><span class="line">                var=np.var(elems)</span><br><span class="line">                self.prev_region_count+=<span class="number">1</span></span><br><span class="line">            var=max(var,self.thresh)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">PassedAll</span><span class="params">(self)</span>:</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> self.iterations&gt;<span class="number">200000</span> <span class="keyword">or</span> np.count_nonzero(self.passedBy &gt; <span class="number">0</span>) == self.w*self.h</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">limit</span><span class="params">(self, x,y)</span>:</span></span><br><span class="line">        <span class="keyword">return</span>  <span class="number">0</span>&lt;=x&lt;self.h <span class="keyword">and</span> <span class="number">0</span>&lt;=y&lt;self.w</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">distance</span><span class="params">(self,x,y,x0,y0)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> ((int(self.im[x,y,<span class="number">0</span>])-int(self.im[x0,y0,<span class="number">0</span>]))**<span class="number">2</span>+(int(self.im[x,y,<span class="number">1</span>])-int(self.im[x0,y0,<span class="number">1</span>]))**<span class="number">2</span>+(int(self.im[x,y,<span class="number">2</span>])-int(self.im[x0,y0,<span class="number">2</span>]))**<span class="number">2</span>)**<span class="number">0.5</span></span><br><span class="line"></span><br><span class="line">img = <span class="string">"./food.jpg"</span></span><br><span class="line">imgorin = cv2.imread(img,<span class="number">1</span>)</span><br><span class="line"><span class="comment"># imgorin = imgorin[:,:,[2,1,0]]  #show original in plt: cv2 is BGR, plt is RGB</span></span><br><span class="line">cv2.imshow(<span class="string">"original"</span>, imgorin)</span><br><span class="line">exemple = regionGrow(img,<span class="number">15</span>)</span><br><span class="line">exemple.ApplyRegionGrow()</span><br></pre></td></tr></table></figure><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202020-11-13%20at%2019.20.32.png" alt="Screen Shot 2020-11-13 at 19.20.32"></p><h2 id="åŒºåŸŸåˆ†è£‚ä¸åˆæˆç®—æ³•"><a href="#åŒºåŸŸåˆ†è£‚ä¸åˆæˆç®—æ³•" class="headerlink" title="åŒºåŸŸåˆ†è£‚ä¸åˆæˆç®—æ³•"></a>åŒºåŸŸåˆ†è£‚ä¸åˆæˆç®—æ³•</h2><p><strong>ç®—æ³•å®ç°</strong></p><ul><li>å¯¹äºå›¾åƒä¸­ç°åº¦çº§åˆ«ä¸åŒçš„åŒºåŸŸï¼Œå‡åˆ†ä¸ºå››ä¸ªå­åŒºåŸŸ</li><li>å¦‚æœç›¸é‚»çš„å­åŒºåŸŸæ‰€æœ‰åƒç´ çš„ç°åº¦çº§ç›¸åŒï¼Œåˆ™å°†å…¶åˆå¹¶</li><li>åå¤è¿›è¡Œä¸Šè¿°ä¸¤æ­¥æ“ä½œï¼Œç›´è‡³ä¸å†æœ‰æ–°çš„åˆ†è£‚ä¸åˆå¹¶ä¸ºæ­¢</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">from</span> matplotlib.pyplot <span class="keyword">import</span> imread</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="comment"># calculate std of a cube of the image</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">stdRight</span><span class="params">(h0, w0, h, w)</span>:</span></span><br><span class="line">    value = img[h0 : h0+h, w0: w0+w]</span><br><span class="line">    <span class="comment"># print(value)</span></span><br><span class="line">    cal_std = np.std(value, ddof=<span class="number">1</span>)</span><br><span class="line">    print(cal_std)</span><br><span class="line">    <span class="keyword">if</span> abs(cal_std) &lt; <span class="number">20</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">thresholdFuc</span><span class="params">(h0, w0, h, w)</span>:</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(w0, w0+w):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(h0, h0 + h):</span><br><span class="line">            <span class="keyword">if</span> img[j, i] &gt; <span class="number">127</span>:</span><br><span class="line">                img[j, i] = <span class="number">255</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                img[j, i] = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># iteration for split when condition is true(condition is the std of a cube of img )</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">iterationSplit</span><span class="params">(h0, w0, h, w)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> stdRight(h0, w0, h, w) <span class="keyword">and</span> min(h,w) &gt; <span class="number">5</span>:</span><br><span class="line">        iterationSplit(h0, w0, int(h / <span class="number">2</span>), int( w / <span class="number">2</span> ))</span><br><span class="line">        iterationSplit(h0 + int(h / <span class="number">2</span>), w0, int(h / <span class="number">2</span>), int( w / <span class="number">2</span> ))</span><br><span class="line">        iterationSplit(h0, w0 + int( w / <span class="number">2</span>), int(h / <span class="number">2</span>), int( w / <span class="number">2</span> ))</span><br><span class="line">        iterationSplit(h0 + int(h / <span class="number">2</span>), w0 + int( w / <span class="number">2</span>), int(h / <span class="number">2</span>), int( w / <span class="number">2</span> ))</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        thresholdFuc(h0, w0, h, w)</span><br><span class="line">        <span class="comment"># ret, img[h0 : h, w0 : w]= cv2.threshold(img[h0:h, w0 : w], 50, 255, cv2.THRESH_BINARY)</span></span><br><span class="line"></span><br><span class="line">img = cv2.imread(<span class="string">"./hy.jpg"</span>, <span class="number">0</span>)</span><br><span class="line">img_copy = img.copy()</span><br><span class="line">print(img.shape)</span><br><span class="line">h, w = img.shape</span><br><span class="line">iterationSplit(<span class="number">0</span>, <span class="number">0</span>, h, w)</span><br><span class="line"></span><br><span class="line"><span class="comment">#cv2.cvtColor() change BGR to RGB</span></span><br><span class="line">plt.subplot(<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>), plt.imshow(cv2.cvtColor(img_copy, cv2.COLOR_BGR2RGB)), plt.title(<span class="string">"Original"</span>)</span><br><span class="line">plt.subplot(<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>), plt.imshow(cv2.cvtColor(img, cv2.COLOR_BGR2RGB)), plt.title(<span class="string">"Result"</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201113223633344.png" alt="image-20201113223633344"></p><p><em>Reference:</em></p><ul><li><a href="https://nirantak.com/image-processing-region-splitting#code" target="_blank" rel="noopener">https://nirantak.com/image-processing-region-splitting#code</a></li><li><a href="https://en.wikipedia.org/wiki/Split_and_merge_segmentation" target="_blank" rel="noopener">https://en.wikipedia.org/wiki/Split_and_merge_segmentation</a></li></ul><h2 id="åˆ†æ°´å²­åˆ†å‰²ç®—æ³•"><a href="#åˆ†æ°´å²­åˆ†å‰²ç®—æ³•" class="headerlink" title="åˆ†æ°´å²­åˆ†å‰²ç®—æ³•"></a>åˆ†æ°´å²­åˆ†å‰²ç®—æ³•</h2><h3 id="åˆ†å‰²åŸç†"><a href="#åˆ†å‰²åŸç†" class="headerlink" title="åˆ†å‰²åŸç†"></a>åˆ†å‰²åŸç†</h3><ul><li><p>ä»»ä½•çš„ç°åº¦çº§å›¾åƒéƒ½å¯ä»¥è¢«çœ‹ä½œæ˜¯ä¸€ä¸ªåœ°å½¢å›¾</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201111163807118.png" alt="image-20201111163807118" style="zoom:50%;" /></p></li><li><p>å‡è®¾ä»æ¯ä¸ªåŒºåŸŸçš„æœ€å°å€¼åœ°æ–¹æ°´ä½ä¸Šæ¶¨ï¼Œç›´è‡³æ·¹æ²¡æ•´ä¸ªåœ°å½¢ï¼Œå½“å¤„äºä¸åŒçš„æ±‡èšç›†åœ°çš„æ°´å°†è¦æ±‡èšåˆ°ä¸€èµ·çš„æ—¶å€™ï¼Œä¿®å‰ªå¤§åé˜»æ­¢èšåˆï¼Œæœ€åå¾—åˆ°æ°´ååˆ†ç•Œå°±æ˜¯åˆ†æ°´å²­çš„åˆ†å‰²çº¿ã€‚</p></li><li><p>ç”¨1æ ‡è®°éå¯¹è±¡ï¼ˆèƒŒæ™¯ï¼‰çš„åŒºåŸŸ</p></li><li><p>ç”¨0æ ‡è®°ä¸ç¡®å®šçš„åŒºåŸŸ</p></li><li><p>ç„¶ååº”ç”¨åˆ†æ°´å²­ç®—æ³•ï¼Œç”¨ä¹‹å‰æ ‡è®°å‡ºçš„æ ‡ç­¾è¿›è¡Œä¸æ–­æ›´æ–°ï¼Œæ ‡è®°å¯¹è±¡çš„è¾¹ç•Œå€¼ä¸º-1</p></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> cv2 <span class="keyword">as</span> cv</span><br><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">watershedFuc</span><span class="params">(img)</span>:</span></span><br><span class="line">    <span class="comment">#threshold Otsu</span></span><br><span class="line">    gray = cv.cvtColor(img,cv.COLOR_BGR2GRAY)</span><br><span class="line">    ret, thresh = cv.threshold(gray,<span class="number">0</span>,<span class="number">255</span>,cv.THRESH_BINARY_INV+cv.THRESH_OTSU)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># noise removal</span></span><br><span class="line">    kernel = np.ones((<span class="number">3</span>,<span class="number">3</span>),np.uint8)</span><br><span class="line">    opening = cv.morphologyEx(thresh,cv.MORPH_OPEN,kernel, iterations = <span class="number">5</span>)</span><br><span class="line">    <span class="comment"># sure background area</span></span><br><span class="line">    sure_bg = cv.dilate(opening,kernel,iterations=<span class="number">5</span>)</span><br><span class="line">    <span class="comment"># Finding sure foreground area</span></span><br><span class="line">    dist_transform = cv.distanceTransform(opening,cv.DIST_L2, <span class="number">5</span>)</span><br><span class="line">    ret, sure_fg = cv.threshold(dist_transform,<span class="number">0.7</span>*dist_transform.max(),<span class="number">255</span>,<span class="number">0</span>)</span><br><span class="line">    <span class="comment"># Finding unknown region</span></span><br><span class="line">    sure_fg = np.uint8(sure_fg)</span><br><span class="line">    unknown = cv.subtract(sure_bg,sure_fg)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Marker labelling</span></span><br><span class="line">    ret, markers = cv.connectedComponents(sure_fg)</span><br><span class="line">    <span class="comment"># Add one to all labels so that sure background is not 0, but 1</span></span><br><span class="line">    markers = markers+<span class="number">1</span></span><br><span class="line">    <span class="comment"># Now, mark the region of unknown with zero</span></span><br><span class="line">    markers[unknown==<span class="number">255</span>] = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># Apply watershed</span></span><br><span class="line">    markers = cv.watershed(img,markers)</span><br><span class="line">    img[markers == <span class="number">-1</span>] = [<span class="number">255</span>,<span class="number">0</span>,<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> img</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    img1 = cv.imread(<span class="string">'./egg.jpg'</span>)</span><br><span class="line">    plt.subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">1</span>),plt.imshow(img1), plt.title(<span class="string">"eggOrin"</span>), plt.xticks([]), plt.yticks([])</span><br><span class="line"></span><br><span class="line">    img2 = cv.imread(<span class="string">'./coins.jpg'</span>)</span><br><span class="line">    plt.subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">3</span>),plt.imshow(img2), plt.title(<span class="string">"coinOrin"</span>), plt.xticks([]), plt.yticks([])</span><br><span class="line"></span><br><span class="line">    img = [img1, img2]</span><br><span class="line">    title = [<span class="string">"coinwatershed"</span>, <span class="string">'eggwatershed'</span>]</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>):</span><br><span class="line">        result = watershedFuc(img[i])</span><br><span class="line">        plt.subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>**(i+<span class="number">1</span>)),plt.imshow(result), plt.title(title[i]), plt.xticks([]), plt.yticks([])</span><br><span class="line">    plt.show()</span><br></pre></td></tr></table></figure><p><strong>æ•ˆæœå›¾</strong></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201111164111409.png" alt="image-20201111164111409"></p><p><em>Referenceï¼š</em> <a href="https://docs.opencv.org/master/d3/db4/tutorial_py_watershed.html" target="_blank" rel="noopener">https://docs.opencv.org/master/d3/db4/tutorial_py_watershed.html</a></p><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><ul><li>åŒºåŸŸç”Ÿé•¿ç®—æ³•èƒ½å¤Ÿæ˜¾ç¤ºå‡ºå…·æœ‰ç›¸åŒç‰¹å¾çš„ä¸€äº›åƒç´ å—ï¼ŒåŒºåˆ†åº¦è¾ƒé«˜ï¼Œä½†æ˜¯ç®—æ³•è¾ƒä¸ºéæ—¶é—´ï¼Œè¦ç¡®å®šå¥½åˆå§‹ç§å­å€¼å’Œä¸å†ç»§ç»­æ‰©å¼ çš„æ¡ä»¶</li><li>åŒºåŸŸåˆ†è£‚ä¸åˆæˆç®—æ³•ï¼Œåˆ†å—è¿›è¡Œç›¸åŒç°åº¦çº§åƒç´ çš„åˆå¹¶å’Œä¸åŒåƒç´ ç°åº¦çº§çš„åˆ†è£‚ï¼Œç›´è‡³ä¸èƒ½å†åˆ†è£‚ä¸ºæ­¢ï¼Œè¿™é‡Œè®¾å®šçš„ä¸èƒ½åˆ†è£‚çš„æ¡ä»¶ä½¿ç”¨çš„æ˜¯æ–¹å·®ï¼Œå¯¹äºç›¸å·®å°çš„å¤§å—çŠ¶çš„èƒŒæ™¯å¾ˆå®¹æ˜“åœ¨å‰å‡ æ¬¡åˆ†è£‚ä¸åˆå¹¶ä¸­è¢«ç›´æ¥å»åˆ†å¼€ï¼ˆä¾‹å¦‚ï¼Œå¤©ç©ºä¸­çš„ç™½äº‘ï¼‰è¿›è€Œç›´æ¥è¢«å·®å€¼åŒ–</li><li>åˆ†æ°´å²­ç®—æ³•å¯¹äºå¯»æ‰¾è¾¹ç•Œéå¸¸æ˜æ˜¾ï¼Œå¯ä»¥å¾ˆå¥½çš„æ‰¾å‡ºç›®æ ‡å¯¹è±¡çš„è½®å»“</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;åŒºåŸŸç”Ÿé•¿ç®—æ³•ï¼ŒåŒºåŸŸåˆ†è£‚ä¸åˆæˆç®—æ³•ï¼Œåˆ†æ°´å²­åˆ†å‰²ç®—æ³•&quot;&gt;&lt;a href=&quot;#åŒºåŸŸç”Ÿé•¿ç®—æ³•ï¼ŒåŒºåŸŸåˆ†è£‚ä¸åˆæˆç®—æ³•ï¼Œåˆ†æ°´å²­åˆ†å‰²ç®—æ³•&quot; class=&quot;headerlink&quot; title=&quot;åŒºåŸŸç”Ÿé•¿ç®—æ³•ï¼ŒåŒºåŸŸåˆ†è£‚ä¸åˆæˆç®—æ³•ï¼Œåˆ†æ°´å²­åˆ†å‰²ç®—æ³•&quot;&gt;&lt;/a&gt;åŒºåŸŸç”Ÿé•¿ç®—æ³•ï¼ŒåŒºåŸŸåˆ†è£‚ä¸åˆæˆ
      
    
    </summary>
    
    
    
      <category term="BuaaAssignments" scheme="https://github.com/liysky/liysky.github.io.git/tags/BuaaAssignments/"/>
    
  </entry>
  
  <entry>
    <title>ä¸åŒé˜ˆå€¼å¤„ç†æ–¹æ³•å¯¹äºäºŒå€¼å›¾åƒçš„å½±å“</title>
    <link href="https://github.com/liysky/liysky.github.io.git/2020/11/10/threshouldeffecton2valueimg/"/>
    <id>https://github.com/liysky/liysky.github.io.git/2020/11/10/threshouldeffecton2valueimg/</id>
    <published>2020-11-10T04:22:00.000Z</published>
    <updated>2020-11-16T08:29:28.401Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æ¯”è¾ƒä¸åŒçš„é˜ˆå€¼å¤„ç†æ–¹æ³•å¯¹ç”ŸæˆäºŒå€¼å›¾åƒçš„å½±å“"><a href="#æ¯”è¾ƒä¸åŒçš„é˜ˆå€¼å¤„ç†æ–¹æ³•å¯¹ç”ŸæˆäºŒå€¼å›¾åƒçš„å½±å“" class="headerlink" title="æ¯”è¾ƒä¸åŒçš„é˜ˆå€¼å¤„ç†æ–¹æ³•å¯¹ç”ŸæˆäºŒå€¼å›¾åƒçš„å½±å“"></a>æ¯”è¾ƒä¸åŒçš„é˜ˆå€¼å¤„ç†æ–¹æ³•å¯¹ç”ŸæˆäºŒå€¼å›¾åƒçš„å½±å“</h2><h3 id="å…¨å±€é˜ˆå€¼æ³•"><a href="#å…¨å±€é˜ˆå€¼æ³•" class="headerlink" title="å…¨å±€é˜ˆå€¼æ³•"></a>å…¨å±€é˜ˆå€¼æ³•</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201109133450051.png" alt="image-20201109133450051"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201109133533603.png" alt="image-20201109133533603"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201109141042899.png" alt="image-20201109141042899"></p><p>opencv-python ä¸­æä¾›äº†cv.threshold æ–¹æ³•ï¼Œå¯ä»¥è®¾ç½®å°†å¤§äºæŸä¸€ä¸ªé˜ˆå€¼æˆ–è€…å°äºæŸä¸€ä¸ªé˜ˆå€¼ä¸ºä¸´ç•Œï¼Œå°†å…¶è®¾ç½®ä¸º0æˆ–è€…æœ€å¤§å€¼ã€‚</p><p>ç¬¬ä¸€ä¸ªå‚æ•°ï¼šåŸå›¾åƒ</p><p>ç¬¬äºŒä¸ªå‚æ•°ï¼šé˜ˆå€¼</p><p>ç¬¬ä¸‰ä¸ªå‚æ•°ï¼šæœ€å¤§å€¼</p><p>ç¬¬å››ä¸ªå‚æ•°ï¼šé˜ˆå€¼ç±»å‹</p><p>å³å¯¹äºå¤§äºæˆ–è€…å°äºæ‰€è®¾å®šçš„é˜ˆå€¼è¿›è¡Œçš„ä¸åŒçš„å¤„ç†æ–¹æ³•ç±»å‹</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201109150217758.png" alt="image-20201109150217758"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="comment">#read image</span></span><br><span class="line">img = cv2.imread(<span class="string">'./shot.jpg'</span>, <span class="number">0</span>)</span><br><span class="line"><span class="comment">#thredholding with different type</span></span><br><span class="line">ret,thresh1 = cv2.threshold(img,<span class="number">50</span>,<span class="number">255</span>,cv2.THRESH_BINARY)</span><br><span class="line">ret,thresh2 = cv2.threshold(img,<span class="number">50</span>,<span class="number">255</span>,cv2.THRESH_BINARY_INV)</span><br><span class="line">ret,thresh3 = cv2.threshold(img,<span class="number">50</span>,<span class="number">255</span>,cv2.THRESH_TRUNC)</span><br><span class="line">ret,thresh4 = cv2.threshold(img,<span class="number">50</span>,<span class="number">255</span>,cv2.THRESH_TOZERO)</span><br><span class="line">ret,thresh5 = cv2.threshold(img,<span class="number">50</span>,<span class="number">255</span>,cv2.THRESH_TOZERO_INV)</span><br><span class="line">titles = [<span class="string">'Original Image'</span>,<span class="string">'BINARY'</span>,<span class="string">'BINARY_INV'</span>,<span class="string">'TRUNC'</span>,<span class="string">'TOZERO'</span>,<span class="string">'TOZERO_INV'</span>]</span><br><span class="line">images = [img, thresh1, thresh2, thresh3, thresh4, thresh5]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">6</span>):</span><br><span class="line">    plt.subplot(<span class="number">2</span>,<span class="number">3</span>,i+<span class="number">1</span>),plt.imshow(images[i],<span class="string">'gray'</span>)</span><br><span class="line">    plt.title(titles[i])</span><br><span class="line">    plt.xticks([]),plt.yticks([])</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201109142140114.png" alt="image-20201109142140114"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201109154734991.png" alt="image-20201109154734991"></p><h3 id="è‡ªé€‚åº”é˜ˆå€¼åŒ–"><a href="#è‡ªé€‚åº”é˜ˆå€¼åŒ–" class="headerlink" title="è‡ªé€‚åº”é˜ˆå€¼åŒ–"></a>è‡ªé€‚åº”é˜ˆå€¼åŒ–</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201109145358273.png" alt="image-20201109145358273"></p><p>ä½¿ç”¨ç»Ÿä¸€çš„å…¨å±€é˜ˆå€¼æ³•æœ‰ç¼ºé™·åœ¨äºï¼Œæœ‰çš„å›¾åƒåœ¨ä¸åŒçš„åœ°æ–¹æœ‰ä¸åŒçš„å…‰ç…§æ¡ä»¶ï¼Œåœ¨è¿™ç§æ¡ä»¶ä¸‹ï¼Œè‡ªé€‚åº”é˜ˆå€¼åŒ–èƒ½å¤Ÿæä¾›å¸®åŠ©ã€‚</p><p>opencv-python ä¸­æä¾›äº† cv.adptiveThreshold æ–¹æ³•</p><p>cv2.adaptiveThreshold(src, maxValue, adaptiveMethod, thresholdType, blockSize, C[, dst])</p><p>å…¶ä¸­ï¼Œåˆæä¾›äº†ä¸¤ç§ä¸åŒçš„é˜ˆå€¼è®¡ç®—æ–¹æ³•ï¼š</p><ul><li>cv.ADPTIVE_THRESH_MEAN_C: é˜ˆå€¼ä¸ºé‚»åŸŸçš„å¹³å‡å€¼å‡å»ä¸€ä¸ªå¸¸æ•°C</li><li>cv.ADPTIVE_THRESH_GASSIAN_C: é˜ˆå€¼ä¸ºé‚»åŸŸé«˜æ–¯åŠ æƒå’Œå‡å»ä¸€ä¸ªå¸¸æ•°C</li></ul><p><strong>blockSizeï¼š</strong> å†³å®šé‚»åŸŸçš„å¤§å°</p><p><strong>Cï¼š</strong> å¸¸æ•°</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">img = cv2.imread(<span class="string">'shot.jpg'</span>,<span class="number">0</span>)</span><br><span class="line">img = cv2.medianBlur(img,<span class="number">5</span>)<span class="comment">#</span></span><br><span class="line"></span><br><span class="line">ret,th1 = cv2.threshold(img,<span class="number">50</span>,<span class="number">255</span>,cv2.THRESH_BINARY)</span><br><span class="line">th2 = cv2.adaptiveThreshold(img,<span class="number">50</span>,cv2.ADAPTIVE_THRESH_MEAN_C,\</span><br><span class="line">            cv2.THRESH_BINARY,<span class="number">11</span>,<span class="number">2</span>)</span><br><span class="line">th3 = cv2.adaptiveThreshold(img,<span class="number">50</span>,cv2.ADAPTIVE_THRESH_GAUSSIAN_C,\</span><br><span class="line">            cv2.THRESH_BINARY,<span class="number">11</span>,<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">titles = [<span class="string">'Original Image'</span>, <span class="string">'Global Thresholding (v = 50)'</span>,</span><br><span class="line">            <span class="string">'Adaptive Mean Thresholding'</span>, <span class="string">'Adaptive Gaussian Thresholding'</span>]</span><br><span class="line">images = [img, th1, th2, th3]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">4</span>):</span><br><span class="line">    plt.subplot(<span class="number">2</span>,<span class="number">2</span>,i+<span class="number">1</span>),plt.imshow(images[i],<span class="string">'gray'</span>)</span><br><span class="line">    plt.title(titles[i])</span><br><span class="line">    plt.xticks([]),plt.yticks([])</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201109143750177.png" alt="image-20201109143750177"></p><p><strong>ç›¸æ¯”è¾ƒå…¨å±€é˜ˆå€¼æ–¹æ³•ï¼Œå¯ä»¥æ¸…æ™°çš„çœ‹åˆ°ï¼Œè‡ªé€‚åº”é˜ˆå€¼åŒ–ä¸ä¼šä½¿å¾—å›¾åƒå‡ºç°å¤§é¢ç§¯çš„ç›®æ ‡ä¸¢å¤±â€”â€”é»‘è‰²å—æˆ–è€…ç™½è‰²å—ï¼Œå±€éƒ¨ä¿¡æ¯çš„ç»†èŠ‚æ›´åŠ å‹å¥½ï¼Œè™½ç„¶ä¸ä¼šå‡ºç°å¤§é¢ç§¯çš„ç›®æ ‡ä¸¢å¤±ï¼Œä½†æ˜¯å¯¹äºæœ€ç»ˆç›®æ ‡çš„è¿ç»“æ€§æ˜¯æ¯”è¾ƒå·®çš„ï¼Œé€šå¸¸åŒ…å«æœ‰è®¸å¤šçš„å™ªç‚¹å™ªå£°ï¼Œæ‰€ä»¥å¯¹äºè‡ªé€‚åº”çš„å±€éƒ¨ç‰¹æ€§çš„è‡ªé€‚åº”é˜ˆå€¼æ–¹æ³•ï¼Œæœ€åè¿˜ä¼šè¿›è¡Œä¸€äº›å™ªå£°å»é™¤çš„æ“ä½œï¼Œä»è€Œæ¶ˆé™¤å™ªå£°ï¼Œæ¥è¿›ä¸€æ­¥åŠ å¼ºå¯¹äºç›®æ ‡ç‰©ä½“çš„æ£€æµ‹ã€‚</strong></p><h3 id="Otsu-å¤§å¾‹é˜ˆå€¼æ³•"><a href="#Otsu-å¤§å¾‹é˜ˆå€¼æ³•" class="headerlink" title="Otsu å¤§å¾‹é˜ˆå€¼æ³•"></a>Otsu å¤§å¾‹é˜ˆå€¼æ³•</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201109164629903.png" alt="image-20201109164629903"></p><p>å°†å›¾åƒæŒ‰ç°åº¦é˜ˆå€¼åˆ†ä¸ºä¸¤ç±»ï¼Œåˆ†åˆ«æ±‚å‡ºä¸¤ç±»çš„å‡å€¼å’Œæ–¹å·®ï¼Œå†æ±‚å‡ºä¸¤ä¸ªç±»ä¹‹é—´çš„æ–¹å·®ï¼Œå½“ç±»ä¹‹é—´æ–¹å·®æ¯”ç±»å†…æ–¹å·®æœ€å¤§æ—¶ï¼Œæ‰€æ±‚å‡ºçš„é˜ˆå€¼Tï¼Œå³ä¸ºæ‰€æ±‚é˜ˆå€¼ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2 <span class="keyword">as</span> cv</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> pyplot <span class="keyword">as</span> plt</span><br><span class="line">img = cv.imread(<span class="string">'shot.jpg'</span>,<span class="number">0</span>)</span><br><span class="line"><span class="comment"># global thresholding</span></span><br><span class="line">ret1,th1 = cv.threshold(img,<span class="number">50</span>,<span class="number">255</span>,cv.THRESH_BINARY)</span><br><span class="line"><span class="comment"># Otsu's thresholding</span></span><br><span class="line">ret2,th2 = cv.threshold(img,<span class="number">0</span>,<span class="number">255</span>,cv.THRESH_BINARY+cv.THRESH_OTSU)</span><br><span class="line"><span class="comment"># plot all the images and their histograms</span></span><br><span class="line">images = [img, <span class="number">0</span>, th1,</span><br><span class="line">          img, <span class="number">0</span>, th2]</span><br><span class="line">titles = [<span class="string">'Original Noisy Image'</span>,<span class="string">'Histogram'</span>,<span class="string">'Global Thresholding (v=50)'</span>,</span><br><span class="line">          <span class="string">'Original Noisy Image'</span>,<span class="string">'Histogram'</span>,<span class="string">"Otsu's Thresholding"</span>]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>):</span><br><span class="line">    plt.subplot(<span class="number">3</span>,<span class="number">3</span>,i*<span class="number">3</span>+<span class="number">1</span>),plt.imshow(images[i*<span class="number">3</span>],<span class="string">'gray'</span>)</span><br><span class="line">    plt.title(titles[i*<span class="number">3</span>]), plt.xticks([]), plt.yticks([])</span><br><span class="line">    plt.subplot(<span class="number">3</span>,<span class="number">3</span>,i*<span class="number">3</span>+<span class="number">2</span>),plt.hist(images[i*<span class="number">3</span>].ravel(),<span class="number">256</span>)</span><br><span class="line">    plt.title(titles[i*<span class="number">3</span>+<span class="number">1</span>]), plt.xticks([]), plt.yticks([])</span><br><span class="line">    plt.subplot(<span class="number">3</span>,<span class="number">3</span>,i*<span class="number">3</span>+<span class="number">3</span>),plt.imshow(images[i*<span class="number">3</span>+<span class="number">2</span>],<span class="string">'gray'</span>)</span><br><span class="line">    plt.title(titles[i*<span class="number">3</span>+<span class="number">2</span>]), plt.xticks([]), plt.yticks([])</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201109161123329.png" alt="image-20201109161123329"></p><p><strong>æ€»ç»“</strong></p><ul><li>å…¨å±€é˜ˆå€¼æ³•å¤„ç†çš„æ–¹æ³•è¾ƒè‡ªé€‚åº”é˜ˆå€¼æ³•ï¼Œä¸¤è€…çš„åŒºåˆ«æœ€ä¸»è¦é›†ä¸­åœ¨å™ªå£°åˆ†å¸ƒå’Œå¯¹äºå‡åŒ€å…‰ç…§è¿˜æ˜¯éå‡åŒ€å…‰ç…§çš„å¤„ç†ä¸Šï¼Œå…¨å±€é˜ˆå€¼æ³•é€‚åˆäºç®€å•å•ä¸€çš„å‡åŒ€å…‰ç…§æ¡ä»¶ä¸Šè¿›è¡Œå¤„ç†ï¼Œè€Œè‡ªé€‚åº”é˜ˆå€¼æ³•é€‚åˆäºä¸åŒçš„å±€éƒ¨å…‰ç…§æ¡ä»¶ï¼Œå¯¹äºç»†èŠ‚çš„å¤„ç†ä¼šæ›´å¥½ï¼Œä½†åŒæ—¶ä¹Ÿä¼šæœ‰å™ªå£°çš„ä¿ç•™ã€‚</li><li>å¤§å¾‹æ³•æ˜¯ä¸€ç§æ›´ä¼˜çš„é˜ˆå€¼å¤„ç†æ–¹æ³•ï¼Œèƒ½å¤Ÿå¿«é€Ÿæœ‰æ•ˆåœ°æ‰¾åˆ°ç±»é—´çš„åˆ†å‰²é˜ˆå€¼ï¼Œä½†æ˜¯ç¼ºç‚¹åœ¨äºå¯¹äºç›®æ ‡çš„æ£€æµ‹æ˜¯å•ä¸€çš„ï¼Œå¦‚æœæƒ³è¦æ£€æµ‹çš„ç›®æ ‡ä¸å±äºåŒä¸€æˆ–è€…æ¥è¿‘çš„ç°åº¦åŒºåŸŸï¼Œé‚£ä¹ˆå°†ä¼šå¯¼è‡´æƒ³è¦æ£€æµ‹çš„ç›®æ ‡ç‰©ä½“çš„ä¿¡æ¯ä¸¢å¤±ï¼Œåæ˜ åœ¨å›¾ç‰‡ä¸Šå°±æ˜¯ä¼šæœ‰è¿ç»“ä¿¡æ¯çš„æ¶ˆå¤±ï¼ˆé»‘è‰²å—æˆ–è€…ç™½è‰²å—ï¼‰ï¼Œä½†æ˜¯ç›¸è¾ƒäºæ™®é€šçš„å…¨å±€é˜ˆå€¼å¤„ç†ï¼Œæ•ˆæœæ˜¯ç”±æ˜æ˜¾çš„æå‡å¯¹æ¯”çš„ã€‚</li></ul><div class="table-container"><table><thead><tr><th>å…¨å±€é˜€å€¼æ³•</th><th>è‡ªé€‚åº”é˜€å€¼æ³•</th><th>å¤§æ´¥æ³•</th></tr></thead><tbody><tr><td><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201109142140114.png" alt="image-20201109142140114"></td><td><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201109143750177.png" alt="image-20201109143750177"></td><td><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201110121940396.png" alt="image-20201110121940396"></td></tr></tbody></table></div><p><strong>Referenceï¼š</strong></p><p><a href="https://docs.opencv.org/master/d7/d4d/tutorial_py_thresholding.html" target="_blank" rel="noopener">https://docs.opencv.org/master/d7/d4d/tutorial_py_thresholding.html</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;æ¯”è¾ƒä¸åŒçš„é˜ˆå€¼å¤„ç†æ–¹æ³•å¯¹ç”ŸæˆäºŒå€¼å›¾åƒçš„å½±å“&quot;&gt;&lt;a href=&quot;#æ¯”è¾ƒä¸åŒçš„é˜ˆå€¼å¤„ç†æ–¹æ³•å¯¹ç”ŸæˆäºŒå€¼å›¾åƒçš„å½±å“&quot; class=&quot;headerlink&quot; title=&quot;æ¯”è¾ƒä¸åŒçš„é˜ˆå€¼å¤„ç†æ–¹æ³•å¯¹ç”ŸæˆäºŒå€¼å›¾åƒçš„å½±å“&quot;&gt;&lt;/a&gt;æ¯”è¾ƒä¸åŒçš„é˜ˆå€¼å¤„ç†æ–¹æ³•å¯¹ç”ŸæˆäºŒå€¼å›¾åƒçš„å½±å“&lt;/
      
    
    </summary>
    
    
    
      <category term="BuaaAssignments" scheme="https://github.com/liysky/liysky.github.io.git/tags/BuaaAssignments/"/>
    
  </entry>
  
  <entry>
    <title>é¢‘ç‡åŸŸé«˜é€šä½é€šæ»¤æ³¢&amp;åŒæ€æ»¤æ³¢</title>
    <link href="https://github.com/liysky/liysky.github.io.git/2020/10/23/%E9%A2%91%E7%8E%87%E5%9F%9F%E9%AB%98%E9%80%9A%E4%BD%8E%E9%80%9A%E6%BB%A4%E6%B3%A2-%E5%90%8C%E6%80%81%E6%BB%A4%E6%B3%A2/"/>
    <id>https://github.com/liysky/liysky.github.io.git/2020/10/23/%E9%A2%91%E7%8E%87%E5%9F%9F%E9%AB%98%E9%80%9A%E4%BD%8E%E9%80%9A%E6%BB%A4%E6%B3%A2-%E5%90%8C%E6%80%81%E6%BB%A4%E6%B3%A2/</id>
    <published>2020-10-22T18:27:31.000Z</published>
    <updated>2020-10-31T08:11:41.921Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æ•°å­—å›¾åƒå¤„ç†ä½œä¸š02"><a href="#æ•°å­—å›¾åƒå¤„ç†ä½œä¸š02" class="headerlink" title="æ•°å­—å›¾åƒå¤„ç†ä½œä¸š02"></a>æ•°å­—å›¾åƒå¤„ç†ä½œä¸š02</h2><h2 id="èƒŒæ™¯çŸ¥è¯†"><a href="#èƒŒæ™¯çŸ¥è¯†" class="headerlink" title="èƒŒæ™¯çŸ¥è¯†"></a>èƒŒæ™¯çŸ¥è¯†</h2><h2 id="ç©ºé—´åŸŸä¸é¢‘ç‡åŸŸ"><a href="#ç©ºé—´åŸŸä¸é¢‘ç‡åŸŸ" class="headerlink" title="ç©ºé—´åŸŸä¸é¢‘ç‡åŸŸ"></a>ç©ºé—´åŸŸä¸é¢‘ç‡åŸŸ</h2><p><strong>ç©ºé—´åŸŸä¸é¢‘ç‡åŸŸæä¾›äº†è§‚å¯Ÿå›¾åƒçš„ä¸åŒè§†è§’</strong></p><ul><li><p>ç©ºé—´åŸŸä¸­ï¼Œæ•°å­—å›¾åƒf(x,y)å³ä¸ºä¸€ä¸ªå®šä¹‰åœ¨äºŒç»´ç©ºé—´ä¸­çš„çŸ©å½¢åŒºåŸŸä¸Šçš„ç¦»æ•£å‡½æ•°</p></li><li><p>å¦‚æœå°†f(x,y)è§†ä¸ºå¹…å€¼å˜åŒ–ï¼ˆå³ç©ºé—´åŸŸç°åº¦å€¼åœ¨å¹³é¢ç©ºé—´çš„æ¢¯åº¦â€”â€”ç›´è§‚è¡¨ç°ä¸ºè¡¡é‡è¡¨å¾å›¾åƒä¸­ç°åº¦å˜åŒ–å‰§çƒˆç¨‹åº¦çš„æŒ‡æ ‡ï¼‰çš„äºŒç»´ä¿¡å·â€”â€”å¹…å€¼å˜åŒ–å³ä¸ºç°åº¦å€¼çš„æ¢¯åº¦ã€‚åˆ™å¯ä»¥é€šè¿‡æŸäº›å˜æ¢æ‰‹æ®µï¼ˆå¦‚å‚…ç«‹å¶å˜æ¢ã€ç¦»æ•£ä½™å¼¦å˜åŒ–ã€å°æ³¢å˜æ¢ç­‰ï¼‰åœ¨é¢‘åŸŸä¸‹å¯¹å›¾åƒè¿›è¡Œå¤„ç†ã€‚</p></li><li>æ¯”å¦‚åœ¨ç©ºé—´å›¾åƒé‡Œä¸å¥½æ‰¾å‡ºå™ªå£°çš„æ¨¡å¼ï¼Œå¦‚æœå˜æ¢åˆ°é¢‘ç‡åŸŸï¼Œåˆ™æ¯”è¾ƒå¥½æ‰¾å‡ºå™ªå£°çš„æ¨¡å¼ï¼ˆé«˜é¢‘åˆ†é‡ï¼‰ï¼Œå¹¶èƒ½æ›´å®¹æ˜“å¤„ç†ã€‚</li></ul><p><strong>ç©ºé—´åŸŸï¼š</strong></p><p>æœ‰<strong>å›¾åƒåƒç´ ç»„æˆçš„ç©ºé—´</strong>ï¼Œå…¶<strong>ç‰©ç†æè¿°çš„æ˜¯å›¾åƒçš„ç°åº¦ åˆ†å¸ƒå‡½æ•°</strong>ã€‚</p><p><strong>é¢‘ç‡åŸŸï¼š</strong></p><p>ä»¥é¢‘ç‡ï¼ˆå³æ³¢æ•°ï¼‰ä¸ºè‡ªå˜é‡çš„æè¿°å›¾åƒçš„ç‰¹å¾ï¼Œå¯ä»¥å°†ä¸€å¹…å›¾åƒå€¼å…ƒå€¼åœ¨ç©ºé—´ä¸Šçš„å˜åŒ–åˆ†è§£ä¸ºå…·æœ‰ä¸åŒæŒ¯å¹…ã€ç©ºé—´é¢‘ç‡å’Œç›¸ä½çš„ç®€æŒ¯å‡½æ•°çš„çº¿æ€§å åŠ ï¼Œå›¾åƒä¸­å„ç§é¢‘ç‡æˆåˆ†çš„ç»„æˆå’Œåˆ†å¸ƒç§°ä¸ºç©ºé—´é¢‘è°±ï¼Œ<strong>å…¶ç‰©ç†æ„ä¹‰æ˜¯å›¾åƒçš„é¢‘ç‡åˆ†å¸ƒå‡½æ•°</strong>ã€‚è¿™ç§å¯¹å›¾åƒçš„é¢‘ç‡ç‰¹å¾è¿›è¡Œåˆ†è§£ã€å¤„ç†å’Œåˆ†æç§°ä¸ºé¢‘ç‡åŸŸå¤„ç†ã€‚</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201021140831977.png" alt="image-20201021140831977"></p><h2 id="é¢‘ç‡åŸŸæ»¤æ³¢çš„ç›®çš„"><a href="#é¢‘ç‡åŸŸæ»¤æ³¢çš„ç›®çš„" class="headerlink" title="é¢‘ç‡åŸŸæ»¤æ³¢çš„ç›®çš„"></a>é¢‘ç‡åŸŸæ»¤æ³¢çš„ç›®çš„</h2><ul><li>å¼•èµ·å›¾åƒè´¨é‡ä¸‹é™çš„å™ªå£°å é¢‘è°±çš„é«˜é¢‘æ®µ</li><li>å›¾åƒè¾¹ç¼˜å é«˜é¢‘æ®µ</li><li>å›¾åƒä¸»é¢˜æˆ–ç°åº¦ç¼“å˜åŒºåŸŸå ä½é¢‘æ®µ</li></ul><h2 id="åœ¨é¢‘ç‡åŸŸç ”ç©¶å›¾åƒçš„åŸå› "><a href="#åœ¨é¢‘ç‡åŸŸç ”ç©¶å›¾åƒçš„åŸå› " class="headerlink" title="åœ¨é¢‘ç‡åŸŸç ”ç©¶å›¾åƒçš„åŸå› "></a>åœ¨é¢‘ç‡åŸŸç ”ç©¶å›¾åƒçš„åŸå› </h2><ul><li>ç©ºé—´åŸŸå¤æ‚çš„é—®é¢˜è½¬å˜ä¸ºé¢‘è°±ä¸Šç®€å•æ˜“äºæ±‚è§£çš„é—®é¢˜</li><li>æ»¤æ³¢åœ¨é¢‘ç‡åŸŸæ›´ä¸ºç›´è§‚ï¼Œå¯ä»¥è§£é‡Šç©ºé—´åŸŸæ»¤æ³¢çš„æŸäº›æ€§è´¨</li><li>å¯ä»¥åœ¨é¢‘ç‡åŸŸåˆ¶å®šæ»¤æ³¢å™¨ï¼Œåšé¥­å˜æ¢ï¼Œç„¶ååœ¨ç©ºé—´åŸŸä½¿ç”¨ç»“æœæ»¤æ³¢å™¨ä½œä¸ºç©ºé—´åŸŸæ»¤æ³¢å™¨çš„æŒ‡å¯¼</li></ul><h2 id="è§£å†³è¿‡ç¨‹"><a href="#è§£å†³è¿‡ç¨‹" class="headerlink" title="è§£å†³è¿‡ç¨‹"></a>è§£å†³è¿‡ç¨‹</h2><ul><li>åˆ©ç”¨å‚…ç«‹å¶å˜æ¢å°†åŸé—®é¢˜è½¬å˜ä¸ºé¢‘åŸŸä¸Šè§£å†³</li><li>åº”ç”¨åå˜æ¢ï¼Œå°†é¢‘åŸŸä¸Šçš„è§£è½¬åŒ–ä¸ºåŸé—®é¢˜çš„è§£</li></ul><h2 id="é¢‘ç‡åŸŸçš„ç‰¹å¾"><a href="#é¢‘ç‡åŸŸçš„ç‰¹å¾" class="headerlink" title="é¢‘ç‡åŸŸçš„ç‰¹å¾"></a>é¢‘ç‡åŸŸçš„ç‰¹å¾</h2><ul><li>é¢‘è°±çš„ç›´æµä½é¢‘åˆ†é‡å¯¹åº”å›¾åƒçš„å¹³æ»‘åŒºåŸŸ</li><li>é¢‘è°±çš„é«˜é¢‘åˆ†é‡å¯¹åº”å›¾åƒçš„è¾¹æ²¿æˆ–å˜åŒ–å‰§çƒˆåŒºåŸŸ</li><li>å¤–ç•Œå åŠ å™ªå£°å¯¹åº”äºé¢‘ç‡è¾ƒé«˜çš„éƒ¨åˆ†</li><li>æ’å®šçš„å¹²æ‰°æ¡çº¹å¯¹åº”é¢‘è°±ä¸­çš„æŸäº›ç‰¹å¾ç‚¹</li></ul><h2 id="ä½é€šæ»¤æ³¢"><a href="#ä½é€šæ»¤æ³¢" class="headerlink" title="ä½é€šæ»¤æ³¢"></a>ä½é€šæ»¤æ³¢</h2><ul><li>æ„é€ ä¸€ä¸ªä½é€šæ»¤æ³¢å™¨ï¼Œä½¿å¾—ä½é¢‘åˆ†é‡é¡ºåˆ©é€šè¿‡ï¼Œæœ‰æ•ˆé˜»æ­¢é«˜é¢‘åˆ†é‡</li><li>ä½é€šæ»¤æ³¢æ—¶ä¸€ä¸ªç‰ºç‰²å›¾åƒæ¸…æ™°åº¦ä¸ºä»£ä»·æ¥å‡å°‘å¹²æ‰°æ•ˆæœçš„ä¿®é¥°è¿‡ç¨‹</li><li>é«˜é€šæ»¤æ³¢ä¸ä½é€šæ»¤æ³¢ä½œç”¨ç›¸åï¼Œå®ƒä½¿é«˜é¢‘åˆ†é‡é¡ºåˆ©é€šè¿‡ï¼Œè€Œå‰Šå¼±ä½é€šåˆ†é‡</li></ul><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201021145937937.png" alt="image-20201021145937937"></p><ul><li>ä½é€šæ»¤æ³¢å™¨ç±»å‹<ul><li>ç†æƒ³ä½é€šæ»¤æ³¢å™¨ï¼šå°–é”</li><li>å·´ç‰¹æ²ƒæ€ä½é€šæ»¤æ³¢å™¨ï¼šå¤„äºç†æƒ³å’Œé«˜æ–¯æ»¤æ³¢å™¨ä¹‹é—´</li><li>é«˜æ–¯æ»¤æ³¢å™¨ï¼šå¹³æ»‘</li></ul></li></ul><h3 id="ä½é€šæ»¤æ³¢å™¨åº”ç”¨å®ä¾‹ï¼šæ¨¡ç³Šï¼Œå¹³æ»‘ç­‰"><a href="#ä½é€šæ»¤æ³¢å™¨åº”ç”¨å®ä¾‹ï¼šæ¨¡ç³Šï¼Œå¹³æ»‘ç­‰" class="headerlink" title="ä½é€šæ»¤æ³¢å™¨åº”ç”¨å®ä¾‹ï¼šæ¨¡ç³Šï¼Œå¹³æ»‘ç­‰"></a>ä½é€šæ»¤æ³¢å™¨åº”ç”¨å®ä¾‹ï¼šæ¨¡ç³Šï¼Œå¹³æ»‘ç­‰</h3><ul><li><p>å­—ç¬¦è¯†åˆ«ï¼šé€šè¿‡æ¨¡æ‹Ÿå›¾åƒï¼Œæ¡¥æ¥æ–­è£‚å­—ç¬¦çš„è£‚ç¼</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201021151648193.png" alt="image-20201021151648193"></p></li><li><p>å°åˆ·å’Œå‡ºç‰ˆä¸šï¼šä»ä¸€å¹…å°–é”çš„åŸå§‹å›¾åƒäº§ç”Ÿå¹³æ»‘ã€æŸ”å’Œçš„å¤–è§‚ï¼Œå¦‚å‡å°‘äººè„¸çš®è‚¤çš±çº¹å’Œå°æ–‘ç‚¹</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201021151701682.png" alt="image-20201021151701682"></p></li><li><p>å¤„ç†å«æ˜Ÿå’Œèˆªç©ºå›¾åƒï¼šå°½å¯èƒ½æ¨¡ç³Šç»†èŠ‚ï¼Œä¿ç•™å¤§çš„å¯è¯†åˆ«ç‰¹å¾</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201021151718012.png" alt="image-20201021151718012"></p></li></ul><h3 id="é¢‘ç‡åŸŸé”åŒ–æ»¤æ³¢å™¨"><a href="#é¢‘ç‡åŸŸé”åŒ–æ»¤æ³¢å™¨" class="headerlink" title="é¢‘ç‡åŸŸé”åŒ–æ»¤æ³¢å™¨"></a>é¢‘ç‡åŸŸé”åŒ–æ»¤æ³¢å™¨</h3><p>å›¾åƒçš„é”åŒ–å¯ä»¥é€šè¿‡é«˜é€šæ»¤æ³¢å™¨è¿‡ç¨‹å®ç°ï¼Œå‡å¼±å‚…ç«‹å¶å˜æ¢çš„ä½é¢‘æˆåˆ†ï¼Œè€Œä¸æ”¹å˜é«˜é¢‘ä¿¡æ¯</p><p>æ˜¯ä½é€šæ»¤æ³¢çš„ç›¸åè¿‡ç¨‹ï¼š</p><p>$H<em>{hp}(u,v) = 1-H</em>{lp}(u,v)$</p><h2 id="é«˜é€šæ»¤æ³¢å™¨ç±»å‹"><a href="#é«˜é€šæ»¤æ³¢å™¨ç±»å‹" class="headerlink" title="é«˜é€šæ»¤æ³¢å™¨ç±»å‹"></a>é«˜é€šæ»¤æ³¢å™¨ç±»å‹</h2><ul><li>ç†æƒ³é«˜é€šæ»¤æ³¢å™¨ï¼šå°–é”</li><li>å·´ç‰¹æ²ƒæ€é«˜é€šæ»¤æ³¢å™¨ï¼šå¤„äºç†æƒ³å’Œé«˜æ–¯æ»¤æ³¢å™¨ä¹‹é—´</li><li>é«˜æ–¯é«˜é€šæ»¤æ³¢å™¨ï¼šå¹³æ»‘</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="comment">###################################################################</span></span><br><span class="line"><span class="comment">###############            è¿›è¡Œé¢‘ç‡åŸŸå¤„ç†             #############</span></span><br><span class="line"><span class="comment">###################################################################</span></span><br><span class="line"></span><br><span class="line">img = cv2.imread(<span class="string">"fog.jpg"</span>,<span class="number">0</span>)<span class="comment">#è¯»å›¾</span></span><br><span class="line">dft = cv2.dft(np.float64(img),flags = cv2.DFT_COMPLEX_OUTPUT)<span class="comment">#è®¾ç½®è¾“å…¥æ ¼å¼ä¸ºfloat32</span></span><br><span class="line">dft_shift = np.fft.fftshift(dft)<span class="comment">#ä½é¢‘åˆ†é‡ä¸­å¿ƒåŒ–å¤„ç†ï¼Œæ–¹ä¾¿è§‚å¯Ÿ</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#è®¾ç½®æŒ¯å¹…å¤§å°</span></span><br><span class="line">magnitude_spectrum = <span class="number">20</span> * np.log(cv2.magnitude(dft_shift[:, :, <span class="number">0</span>], dft_shift[:, :, <span class="number">1</span>]))</span><br><span class="line"></span><br><span class="line"><span class="comment">#æ‰“å°è¾“å…¥å›¾åƒ</span></span><br><span class="line">plt.subplot(<span class="number">221</span>), plt.imshow(img, cmap=<span class="string">'gray'</span>)</span><br><span class="line">plt.title(<span class="string">'input'</span>), plt.xticks([]), plt.yticks([])</span><br><span class="line"></span><br><span class="line"><span class="comment">#è·å–é¢‘è°±å›¾</span></span><br><span class="line">plt.subplot(<span class="number">222</span>), plt.imshow(magnitude_spectrum, cmap=<span class="string">'gray'</span>)</span><br><span class="line">plt.title(<span class="string">'Frequency Domain'</span>), plt.xticks([]), plt.yticks([])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#è®¾ç½®ä½é€šæ»¤æ³¢å™¨</span></span><br><span class="line">rows, cols = img.shape</span><br><span class="line">crow,ccol = int(rows/<span class="number">2</span>), int(cols/<span class="number">2</span>) <span class="comment">#ä¸­å¿ƒä½ç½®</span></span><br><span class="line">mask = np.zeros((rows, cols, <span class="number">2</span>), np.uint8)</span><br><span class="line">mask[crow<span class="number">-30</span>:crow+<span class="number">30</span>, ccol<span class="number">-30</span>:ccol+<span class="number">30</span>] = <span class="number">1</span><span class="comment">#è®¾ç½®çŸ©å½¢çª—å£é®ç½©ï¼Œè®¾ä¸º1ï¼Œè¿‡æ»¤é«˜é¢‘</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#æ©è†œå›¾åƒå’Œé¢‘è°±å›¾åƒä¹˜ç§¯</span></span><br><span class="line">f = dft_shift * mask</span><br><span class="line"></span><br><span class="line"><span class="comment">#å‚…é‡Œå¶é€†å˜æ¢</span></span><br><span class="line">ishift = np.fft.ifftshift(f)</span><br><span class="line">iimg = cv2.idft(ishift)</span><br><span class="line">res = cv2.magnitude(iimg[:,:,<span class="number">0</span>], iimg[:,:,<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">#æ˜¾ç¤ºä½é€šæ»¤æ³¢å¤„ç†å›¾åƒ</span></span><br><span class="line">plt.subplot(<span class="number">223</span>), plt.imshow(res, <span class="string">'gray'</span>), plt.title(<span class="string">'low'</span>)</span><br><span class="line">plt.axis(<span class="string">'off'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">f = np.fft.fft2(img)</span><br><span class="line">fshift = np.fft.fftshift(f)</span><br><span class="line"></span><br><span class="line"><span class="comment">#è®¾ç½®é«˜é€šæ»¤æ³¢å™¨</span></span><br><span class="line">rows, cols = img.shape</span><br><span class="line">crow,ccol = int(rows/<span class="number">2</span>), int(cols/<span class="number">2</span>)</span><br><span class="line">fshift[crow<span class="number">-30</span>:crow+<span class="number">30</span>, ccol<span class="number">-30</span>:ccol+<span class="number">30</span>] = <span class="number">0</span> <span class="comment">#è®¾ç½®çŸ©å½¢çª—å£é®ç½©ï¼Œè®¾ä¸º0ï¼Œè¿‡æ»¤ä½é¢‘</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#å‚…é‡Œå¶é€†å˜æ¢</span></span><br><span class="line">ishift = np.fft.ifftshift(fshift)</span><br><span class="line">himg = np.fft.ifft2(ishift)</span><br><span class="line">himg = np.abs(himg)</span><br><span class="line"></span><br><span class="line"><span class="comment">#æ˜¾ç¤ºåŸå§‹å›¾åƒå’Œé«˜é€šæ»¤æ³¢å¤„ç†å›¾åƒ</span></span><br><span class="line">plt.subplot(<span class="number">224</span>), plt.imshow(himg, <span class="string">'gray'</span>), plt.title(<span class="string">'high'</span>)</span><br><span class="line">plt.axis(<span class="string">'off'</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201023022624600.png" alt="image-20201023022624600"></p><h2 id="åŒæ€æ»¤æ³¢"><a href="#åŒæ€æ»¤æ³¢" class="headerlink" title="åŒæ€æ»¤æ³¢"></a>åŒæ€æ»¤æ³¢</h2><blockquote><p>  åŒæ€æ»¤æ³¢æ˜¯ä¸€ç§å¹¿æ³›äºä¿¡å·å’Œå›¾åƒå¤„ç†çš„æŠ€æœ¯ï¼Œå°†åŸæœ¬çš„ä¿¡å·ç»ç”±éçº¿æ€§æ˜ å°„ï¼Œè½¬æ¢åˆ°å¯ä»¥ä½¿ç”¨çº¿æ€§æ»¤æ³¢å™¨çš„ä¸åŒåŸŸï¼Œåšå®Œè¿ç®—åå†æ˜ å°„å›åŸå§‹åŸŸã€‚åŒæ€çš„æ€§è´¨å°±æ˜¯ä¿æŒç›¸å…³çš„å±æ€§ä¸å˜ï¼Œè€ŒåŒæ€æ»¤æ³¢çš„å¥½å¤„æ˜¯å°†åŸæœ¬å¤æ‚çš„è¿ç®—è½¬ä¸ºæ•ˆèƒ½ç›¸åŒä½†ç›¸å¯¹ç®€å•çš„è¿ç®—ã€‚è¿™ä¸ªæ¦‚å¿µåœ¨1960å¹´ä»£ç”±Thomas Stockhamï¼ŒAlan V. Oppenheimå’ŒRonald W. Schaferåœ¨éº»çœç†å·¥å­¦é™¢æå‡ºã€‚â€”â€”wiki</p></blockquote><p><strong>åŸºæœ¬æ€æƒ³</strong></p><p>æŠŠå›¾åƒçš„ç°åº¦å‡½æ•° f(x,y) çœ‹ä½œä¸ºå…¥å°„å…‰åˆ†é‡å’Œåå°„å…‰åˆ†é‡ä¸¤éƒ¨åˆ†ç»„æˆ</p><p>$f(x,y) = i(x,y) r(x,y)$</p><p>i(x,y)ï¼šå…¥å°„å…‰ï¼Œå æ®ä½é¢‘æ®µ</p><p>r(x,y)ï¼šåå°„å…‰â€”â€”å–å†³äºç‰©ä½“çš„ç‰¹æ€§ï¼Œç‰©ä½“çš„äº®åº¦ç‰¹å¾ä¸»è¦å–å†³äºåå°„å…‰ï¼Œå æ®é«˜é¢‘æ®µ</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201021161436906.png" alt="image-20201021161436906"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201021155933953.png" alt="image-20201021155933953"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201021161549234.png" alt="image-20201021161549234"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201021161615446.png" alt="image-20201021161615446"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201021161632876.png" alt="image-20201021161632876"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">homomorphic_filter</span><span class="params">(src,d0 = <span class="number">1</span>,r1 = <span class="number">0.5</span>,rh=<span class="number">2</span>,c=<span class="number">4</span>,h=<span class="number">2.0</span>,l=<span class="number">0.5</span>)</span>:</span></span><br><span class="line">    gray = src.copy()      <span class="comment">#duplicate img</span></span><br><span class="line">    <span class="keyword">if</span> len(src.shape) &gt; <span class="number">2</span>:</span><br><span class="line">        gray = cv2.cvtColor(src,cv2.COLOR_BGR2GRAY) <span class="comment">#set image gray</span></span><br><span class="line">    gray = np.float64(gray)</span><br><span class="line">    print(gray)</span><br><span class="line">    rows,cols = gray.shape <span class="comment">#get rows and columns of inputed pic</span></span><br><span class="line"></span><br><span class="line">    gray_fft = np.fft.fft2(gray)    <span class="comment"># two dimension fft</span></span><br><span class="line">    print(gray_fft)</span><br><span class="line">    gray_fftshift = np.fft.fftshift(gray_fft)</span><br><span class="line">    print(gray_fftshift)</span><br><span class="line">    <span class="string">'''</span></span><br><span class="line"><span class="string">    éœ€è¦fftshiftçš„åŸå› ï¼š</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    1ã€ç»è¿‡fftå˜æ¢åï¼Œæ•°æ®çš„é¢‘ç‡èŒƒå›´æ˜¯ä»[0,fs]æ’åˆ—çš„ã€‚</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    2ã€è€Œä¸€èˆ¬ï¼Œæˆ‘ä»¬åœ¨ç”»å›¾æˆ–è€…è®¨è®ºçš„æ—¶å€™ï¼Œæ˜¯ä»[-fs/2,fs/2]çš„èŒƒå›´è¿›è¡Œåˆ†æã€‚</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    3ã€å› æ­¤ï¼Œéœ€è¦å°†ç»è¿‡fftå˜æ¢åçš„å›¾åƒçš„[fs/2,fs]éƒ¨åˆ†ç§»åŠ¨åˆ°[-fs/2,0]è¿™ä¸ªèŒƒå›´å†…ã€‚</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    è€Œfftshiftå°±æ˜¯å®Œæˆè¿™ä¸ªåŠŸèƒ½ã€‚</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    é€šå¸¸ï¼Œå¦‚æœæƒ³å¾—åˆ°æ‰€è§çš„ä¸­é—´æ˜¯0é¢‘çš„å›¾åƒï¼Œç»è¿‡fftå˜æ¢åï¼Œéƒ½è¦å†ç»è¿‡fftshiftã€‚</span></span><br><span class="line"><span class="string">    '''</span></span><br><span class="line"></span><br><span class="line">    dst_fftshift = np.zeros_like(gray_fftshift) <span class="comment">#äº§ç”Ÿ0ç±»ä¼¼çš„é›¶çŸ©é˜µ</span></span><br><span class="line">    <span class="comment"># np.meshgrid: çŸ©é˜µåŒ–   np.arange: start,stop,step 'arange can solve remainder'</span></span><br><span class="line">    M,N = np.meshgrid(np.arange(-cols // <span class="number">2</span>,cols // <span class="number">2</span>),np.arange(-rows//<span class="number">2</span>,rows//<span class="number">2</span>))</span><br><span class="line">    D = np.sqrt(M ** <span class="number">2</span> + N ** <span class="number">2</span>) <span class="comment">#square result</span></span><br><span class="line">    Z = (rh - r1) * (<span class="number">1</span> - np.exp(-c * (D ** <span class="number">2</span> / d0 ** <span class="number">2</span>))) + r1</span><br><span class="line"></span><br><span class="line">    <span class="comment">#ä½¿ç”¨é¢‘ç‡å¢å¼ºå‡½æ•°è¿›è¡Œå¯¹åŸé¢‘åŸŸçš„åˆ†é‡è¿›è¡Œå¤„ç†</span></span><br><span class="line">    dst_fftshift = Z * gray_fftshift                <span class="comment">#å¯¹é›¶çŸ©é˜µè¿›è¡ŒZå¤„ç†ï¼ŒZ*åŸé¢‘åŸŸå¤„ç†åçš„åˆ†é‡</span></span><br><span class="line">    dst_fftshift = (h - l) * dst_fftshift + l</span><br><span class="line"></span><br><span class="line">    dst_ifftshift = np.fft.ifftshift(dst_fftshift)</span><br><span class="line">    dst_ifft = np.fft.ifft2(dst_ifftshift)</span><br><span class="line"></span><br><span class="line">    <span class="comment">#å–å®æ•°éƒ¨åˆ†</span></span><br><span class="line">    dst = np.real(dst_ifft)</span><br><span class="line"></span><br><span class="line">    <span class="comment">#np.clip to clip bigger than 255</span></span><br><span class="line">    dst = np.uint8(np.clip(dst,<span class="number">0</span>,<span class="number">255</span>))</span><br><span class="line">    <span class="keyword">return</span> dst</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># main</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    <span class="comment">#resize img</span></span><br><span class="line">    img = cv2.imread(<span class="string">"preSny.jpg"</span>, cv2.IMREAD_GRAYSCALE)</span><br><span class="line">    img = cv2.resize(img, (<span class="number">600</span>,<span class="number">400</span>))</span><br><span class="line"></span><br><span class="line">    img_new = homomorphic_filter(img)</span><br><span class="line">    result = np.hstack((img, img_new))</span><br><span class="line"></span><br><span class="line">    cv2.imshow(<span class="string">"Contrast"</span>, result)</span><br><span class="line"></span><br><span class="line">    cv2.waitKey()</span><br><span class="line">    cv2.destroyAllWindows()</span><br></pre></td></tr></table></figure><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201023012547066.png" alt="image-20201023012547066"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;æ•°å­—å›¾åƒå¤„ç†ä½œä¸š02&quot;&gt;&lt;a href=&quot;#æ•°å­—å›¾åƒå¤„ç†ä½œä¸š02&quot; class=&quot;headerlink&quot; title=&quot;æ•°å­—å›¾åƒå¤„ç†ä½œä¸š02&quot;&gt;&lt;/a&gt;æ•°å­—å›¾åƒå¤„ç†ä½œä¸š02&lt;/h2&gt;&lt;h2 id=&quot;èƒŒæ™¯çŸ¥è¯†&quot;&gt;&lt;a href=&quot;#èƒŒæ™¯çŸ¥è¯†&quot; class=&quot;head
      
    
    </summary>
    
    
    
      <category term="BuaaAssignments" scheme="https://github.com/liysky/liysky.github.io.git/tags/BuaaAssignments/"/>
    
  </entry>
  
  <entry>
    <title>æ•°å­—å›¾åƒå¤„ç†work-ç©ºé—´åŸŸ/å›¾åƒåŸŸ-ç›´æ–¹å›¾å‡è¡¡åŒ–/å¹³æ»‘ç©ºé—´æ»¤æ³¢/é”åŒ–æ»¤æ³¢å™¨</title>
    <link href="https://github.com/liysky/liysky.github.io.git/2020/10/19/%E6%95%B0%E5%AD%97%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86work-%E7%A9%BA%E9%97%B4%E5%9F%9F-%E5%9B%BE%E5%83%8F%E5%9F%9F-%E7%9B%B4%E6%96%B9%E5%9B%BE%E5%9D%87%E8%A1%A1%E5%8C%96-%E5%B9%B3%E6%BB%91%E7%A9%BA%E9%97%B4%E6%BB%A4%E6%B3%A2-%E9%94%90%E5%8C%96%E6%BB%A4%E6%B3%A2%E5%99%A8/"/>
    <id>https://github.com/liysky/liysky.github.io.git/2020/10/19/%E6%95%B0%E5%AD%97%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86work-%E7%A9%BA%E9%97%B4%E5%9F%9F-%E5%9B%BE%E5%83%8F%E5%9F%9F-%E7%9B%B4%E6%96%B9%E5%9B%BE%E5%9D%87%E8%A1%A1%E5%8C%96-%E5%B9%B3%E6%BB%91%E7%A9%BA%E9%97%B4%E6%BB%A4%E6%B3%A2-%E9%94%90%E5%8C%96%E6%BB%A4%E6%B3%A2%E5%99%A8/</id>
    <published>2020-10-19T09:17:58.000Z</published>
    <updated>2020-10-19T09:20:28.671Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æ•°å­—å›¾åƒå¤„ç†ä½œä¸š01"><a href="#æ•°å­—å›¾åƒå¤„ç†ä½œä¸š01" class="headerlink" title="æ•°å­—å›¾åƒå¤„ç†ä½œä¸š01"></a>æ•°å­—å›¾åƒå¤„ç†ä½œä¸š01</h2><h3 id="ç›´æ–¹å›¾å‡è¡¡åŒ–"><a href="#ç›´æ–¹å›¾å‡è¡¡åŒ–" class="headerlink" title="ç›´æ–¹å›¾å‡è¡¡åŒ–"></a>ç›´æ–¹å›¾å‡è¡¡åŒ–</h3><p>ç›´æ–¹å›¾å‡è¡¡åŒ–æ˜¯å°†åŸå›¾åƒé€šè¿‡æŸç§å˜åŒ–ï¼Œå¾—åˆ°ä¸€å¹…ç°åº¦ç›´æ–¹å›¾ä¸ºå‡åŒ€åˆ†å¸ƒçš„æ–°å›¾åƒçš„æ–¹æ³•ã€‚</p><p>è¿™ç§æ–¹æ³•é€šå¸¸ç”¨æ¥å¢åŠ è®¸å¤šå›¾åƒçš„å…¨å±€å¯¹æ¯”åº¦ã€‚å¢å¼ºå±€éƒ¨äº®åº¦çš„å¯¹æ¯”å¯¹è€Œä¸å½±å“æ•´ä½“çš„å¯¹æ¯”åº¦ã€‚</p><p><strong>å®ç°</strong></p><p>ç¦»æ•£çš„ç°åº¦å›¾åƒ{x}ï¼Œå…¶ä¸­<script type="math/tex">n_i</script> è¡¨ç¤ºç°åº¦iå‡ºç°çš„æ¬¡æ•°ï¼Œæœ‰ï¼š</p><script type="math/tex; mode=display">p_x(i) = p(x = i ) = \frac{n_i}{n}</script><p>å…³äºç°åº¦içš„æ¦‚ç‡å¯†åº¦å‡½æ•°</p><p>ç›¸åº”å¯¹ $p_x$ çš„ç´¯ç§¯åˆ†å¸ƒå‡½æ•°ï¼Œæœ‰ï¼š</p><p>$f<em>x(i) = \sum</em>{j=0}^{i}P_x(j)$</p><p>å†åˆ›å»ºä¸€ä¸ªå½¢å¼ä¸º $y=T(x)$ çš„å˜æ¢ï¼Œå¯¹äºåŸå§‹å›¾åƒä¸­æ¯ä¸ªå€¼äº§ç”Ÿä¸€ä¸ªy</p><p>æœ€åå°†è¿›è¡Œå€¼çš„æ˜ å°„å’Œå˜æ¢ï¼š</p><p>$yâ€™ = y(max{x}-min{x}) + min{x}$</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201015133327561.png" alt="image-20201015133327561" style="zoom:33%;" /></p><p>åº”ç”¨ï¼š</p><ul><li>å¯¹äºèƒŒæ™¯å’Œå‰æ™¯å¤ªäº®æˆ–è€…å¤ªæš—çš„å›¾åƒéå¸¸æœ‰ç”¨ã€‚</li><li>ä¾‹å¦‚å¯¹Xå…‰å›¾åƒä¸­æ›´å¥½åœ°æ˜¾ç¤ºéª¨éª¼ç»“æ„çš„æ›å…‰æˆ–æ›å…‰ä¸è¶³å¤„ç†</li></ul><p><em>ä»£ç </em></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="comment">#read image</span></span><br><span class="line">img = cv2.imread(<span class="string">"preSny.jpg"</span>, <span class="number">1</span>)</span><br><span class="line">gray = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)</span><br><span class="line">cv2.imshow(<span class="string">"src"</span>, gray)</span><br><span class="line"></span><br><span class="line"><span class="comment">#call opencv-python histogram function: equalizeHist()</span></span><br><span class="line">dst = cv2.equalizeHist(gray)</span><br><span class="line"><span class="comment">#show image</span></span><br><span class="line">cv2.imshow(<span class="string">"dst"</span>, dst)</span><br><span class="line"></span><br><span class="line">cv2.waitKey(<span class="number">0</span>)</span><br><span class="line">cv2.destoryAllWindows()</span><br></pre></td></tr></table></figure><h3 id="å¹³æ»‘ç©ºé—´æ»¤æ³¢å™¨"><a href="#å¹³æ»‘ç©ºé—´æ»¤æ³¢å™¨" class="headerlink" title="å¹³æ»‘ç©ºé—´æ»¤æ³¢å™¨"></a>å¹³æ»‘ç©ºé—´æ»¤æ³¢å™¨</h3><p>ä½œç”¨ï¼šä¸»è¦ç”¨äºå»é™¤å›¾åƒä¸­ä¸€äº›ä¸é‡è¦çš„ç»†èŠ‚ã€‚</p><p>åˆ†ç±»ï¼š</p><ul><li>çº¿æ€§æ»¤æ³¢å™¨ï¼šå‡å€¼æ»¤æ³¢å™¨</li><li>éçº¿æ€§æ»¤æ³¢å™¨<ul><li>æœ€å¤§å€¼æ»¤æ³¢å™¨</li><li>ä¸­å€¼æ»¤æ³¢å™¨</li><li>æœ€å°å€¼æ»¤æ³¢å™¨</li></ul></li></ul><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201015144348111.png" alt="image-20201015144348111" style="zoom: 33%;" /></p><p><strong>å‡å€¼æ»¤æ³¢å™¨</strong></p><p>å‡å€¼æ»¤æ³¢å™¨å±äºçº¿æ€§æ»¤æ³¢å™¨ï¼Œæœ‰ï¼š</p><ul><li>å‡å°å›¾åƒç°åº¦çš„â€œå°–é”â€å˜åŒ–</li><li>å‡å°å™ªå£°</li><li>ä½†ç”±äºå›¾åƒè¾¹ç¼˜æ˜¯å›¾åƒç°åº¦å°–é”å˜åŒ–å¼•èµ·çš„ï¼Œæ‰€ä»¥å­˜åœ¨<strong>è¾¹ç¼˜æ¨¡ç³Šé—®é¢˜</strong></li></ul><p><strong>ä¸­å€¼æ»¤æ³¢å™¨</strong></p><p>éçº¿æ€§æ»¤æ³¢å™¨</p><p>åŸºäºæ»¤æ³¢å™¨æ‰€åœ¨å›¾åƒåŒºåŸŸä¸­åƒç´ çš„æ’åºï¼Œç”±æ’åºç»“æœå†³å®šçš„å€¼ä»£æ›¿ä¸­å¿ƒåƒç´ çš„å€¼</p><p>ä¸­å€¼æ»¤æ³¢å™¨ï¼šç”¨åƒç´ é¢†åŸŸå†…ä¸­é—´å€¼ä»£æ›¿è¯¥åƒç´ ï¼ˆå¯»æ‰¾åƒç´ å‘¨å›´å†…çš„ä¸­é—´å€¼ï¼‰</p><p>ä¸»è¦è®¡ç®—å…¬å¼ï¼š</p><p>$R = mid{Z_k| k = 1,2,â€¦n}$</p><p><strong>ä¸»è¦ç”¨é€”ï¼šå»é™¤å™ªå£°</strong></p><p>ç®—æ³•çš„ç‰¹ç‚¹</p><ul><li>å»é™¤å™ªå£°çš„åŒæ—¶ï¼Œæ¯”è¾ƒå¥½çš„ä¿ç•™è¾¹çš„é”åº¦å’Œå›¾åƒçš„ç»†èŠ‚ï¼ˆä¼˜äºå‡å€¼æ»¤æ³¢å™¨ï¼‰</li><li>èƒ½å¤Ÿæœ‰æ•ˆå»é™¤è„‰å†²å™ªå£°ï¼šä»¥é»‘ç™½ç‚¹å åŠ åœ¨å›¾åƒä¸Š</li></ul><p><em>ä»£ç </em></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment">#source image and resize image</span></span><br><span class="line">img00 = cv2.imread(<span class="string">"demoShot.png"</span>,<span class="number">1</span>)</span><br><span class="line">scale_percent = <span class="number">45</span></span><br><span class="line">img_width = int(img00.shape[<span class="number">1</span>]*scale_percent / <span class="number">100</span>)</span><br><span class="line">img_height = int(img00.shape[<span class="number">0</span>]*scale_percent / <span class="number">100</span>)</span><br><span class="line">dsize = (img_width, img_height)</span><br><span class="line">img00 = cv2.resize(img00, dsize)</span><br><span class="line"></span><br><span class="line"><span class="comment">#medianBlur and Blur</span></span><br><span class="line">img_medianBlur = cv2.medianBlur(img00, <span class="number">7</span>)</span><br><span class="line">img_Blur = cv2.blur(img00,(<span class="number">7</span>,<span class="number">7</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">#cv2.imshow("image", np.hstack((img00,img_medianBlur,img_Blur)) )</span></span><br><span class="line">cv2.imshow(<span class="string">"originShot"</span>, img00)</span><br><span class="line">cv2.imshow(<span class="string">"medianBlur"</span>, img_medianBlur)</span><br><span class="line">cv2.imshow(<span class="string">"Blur"</span>, img_Blur)</span><br><span class="line"></span><br><span class="line">cv2.waitKey(<span class="number">0</span>)</span><br><span class="line">cv2.destroyAllWindows()</span><br></pre></td></tr></table></figure><h3 id="é”åŒ–æ»¤æ³¢å™¨"><a href="#é”åŒ–æ»¤æ³¢å™¨" class="headerlink" title="é”åŒ–æ»¤æ³¢å™¨"></a>é”åŒ–æ»¤æ³¢å™¨</h3><p>ä¸»è¦ä½œç”¨ï¼š</p><ul><li>çªå‡ºå›¾åƒä¸­çš„ç»†èŠ‚ï¼Œå¢å¼ºè¢«æ¨¡ç³Šçš„ç»†èŠ‚</li><li>å°åˆ·ä¸­çš„å±‚æ¬¡å¼ºè°ƒï¼Œå¼¥è¡¥æ‰«æé’åŒ–</li><li><p>è¶…å£°æ¢æµ‹æˆåƒï¼Œé’ˆå¯¹äºåˆ†è¾¨ç‡ä½çš„å›¾ç‰‡</p></li><li><p>å›¾åƒè¯†åˆ«ä¸­çš„è¾¹ç¼˜æå–</p></li><li>å›å¤è¿‡åº¦é’åŒ–ï¼Œæ›å…‰ä¸è¶³çš„å›¾åƒ</li><li>å°–é”ç›®æ ‡è¯†åˆ«</li></ul><p>é‡‡ç”¨çš„æ˜¯ç”¨å¾®åˆ†çš„æ–¹å¼è¿›è¡Œé”åŒ–ï¼Œæœ‰ä¸€é˜¶å¾®åˆ†æ»¤æ³¢å™¨å’ŒäºŒé˜¶å¾®åˆ†æ»¤æ³¢å™¨</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201015143033332.png" alt="image-20201015143033332" style="zoom: 33%;" /></p><p><strong>æ¢¯åº¦ç®—å­â€”â€”ä¸€é˜¶å¾®åˆ†æ»¤æ³¢å™¨</strong></p><p>è¾¹ç¼˜æ£€æµ‹ä¸æ˜¯éå¸¸æ˜æ˜¾ï¼Œè¾¹ç¼˜æ£€æµ‹äº§ç”Ÿçš„å™ªå£°æ¯”è¾ƒå¤š</p><p><strong>æ‹‰æ™®æ‹‰æ–¯ç®—å­â€”â€”äºŒé˜¶å¾®åˆ†æ»¤æ³¢å™¨</strong></p><p>ä¸»è¦ä¿ç•™ç›®æ ‡è½®å»“çš„é”åŒ–æ•ˆæœï¼Œè¾¹ç¼˜è½®å»“æ˜¾ç¤ºååˆ†æ˜æ˜¾ï¼Œé€‚åˆäºè¿›è¡Œç›®æ ‡ç‰©ä½“è¾¹ç¼˜æ£€æµ‹</p><p><em>ä»£ç </em></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">img = cv2.imread(<span class="string">"apple.png"</span>, cv2.IMREAD_GRAYSCALE)</span><br><span class="line">img = cv2.resize(img, (<span class="number">300</span>,<span class="number">400</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># img = cv2.GaussianBlur(img, (3, 3), 0)</span></span><br><span class="line"><span class="comment"># img = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#cv2.sobel derivative</span></span><br><span class="line">sobel_x = cv2.Sobel(img,cv2.CV_64F, <span class="number">1</span>, <span class="number">0</span>, ksize = <span class="number">5</span>)</span><br><span class="line">sobel_y = cv2.Sobel(img,cv2.CV_64F, <span class="number">0</span>, <span class="number">1</span>, ksize = <span class="number">5</span>)</span><br><span class="line"><span class="comment">#converting back to uint8</span></span><br><span class="line">sobel_x = cv2.convertScaleAbs(sobel_x)</span><br><span class="line">sobel_y = cv2.convertScaleAbs(sobel_y)</span><br><span class="line">sobel_xy = cv2.addWeighted(sobel_x, <span class="number">0.5</span>, sobel_y, <span class="number">0.5</span>, <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#cv2.scharr derivative</span></span><br><span class="line">scharr_x = cv2.Scharr(img, cv2.CV_64F, <span class="number">1</span>, <span class="number">0</span>)</span><br><span class="line">scharr_y = cv2.Scharr(img, cv2.CV_64F, <span class="number">0</span>, <span class="number">1</span>)</span><br><span class="line">scharr_x = cv2.convertScaleAbs(scharr_x)</span><br><span class="line">scharr_y = cv2.convertScaleAbs(scharr_y)</span><br><span class="line">scharr_xy = cv2.addWeighted(scharr_x, <span class="number">0.5</span>, scharr_y, <span class="number">0.5</span>, <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#apply laplace</span></span><br><span class="line">laplacian = cv2.Laplacian(img,cv2.CV_64F)</span><br><span class="line">laplacian = cv2.convertScaleAbs(laplacian)</span><br><span class="line"></span><br><span class="line"><span class="comment">#show result</span></span><br><span class="line">cv2.imshow(<span class="string">"origin"</span>, img)</span><br><span class="line">cv2.imshow(<span class="string">"sobel"</span>, sobel_xy)</span><br><span class="line"><span class="comment">#cv2.imshow("scharr", scharr_xy)</span></span><br><span class="line">cv2.imshow(<span class="string">"laplacian"</span>, laplacian)</span><br><span class="line"></span><br><span class="line">cv2.waitKey(<span class="number">0</span>)</span><br><span class="line">cv2.destroyAllWindows()</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;æ•°å­—å›¾åƒå¤„ç†ä½œä¸š01&quot;&gt;&lt;a href=&quot;#æ•°å­—å›¾åƒå¤„ç†ä½œä¸š01&quot; class=&quot;headerlink&quot; title=&quot;æ•°å­—å›¾åƒå¤„ç†ä½œä¸š01&quot;&gt;&lt;/a&gt;æ•°å­—å›¾åƒå¤„ç†ä½œä¸š01&lt;/h2&gt;&lt;h3 id=&quot;ç›´æ–¹å›¾å‡è¡¡åŒ–&quot;&gt;&lt;a href=&quot;#ç›´æ–¹å›¾å‡è¡¡åŒ–&quot; class=&quot;
      
    
    </summary>
    
    
    
      <category term="BuaaAssignments" scheme="https://github.com/liysky/liysky.github.io.git/tags/BuaaAssignments/"/>
    
  </entry>
  
</feed>
