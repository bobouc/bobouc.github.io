<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>GuoXin Li&#39;s Blog</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://github.com/liysky/liysky.github.io.git/"/>
  <updated>2021-11-29T14:59:05.117Z</updated>
  <id>https://github.com/liysky/liysky.github.io.git/</id>
  
  <author>
    <name>jax</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>LeetCode TIPS</title>
    <link href="https://github.com/liysky/liysky.github.io.git/2021/11/29/LeetCode-TIPS/"/>
    <id>https://github.com/liysky/liysky.github.io.git/2021/11/29/LeetCode-TIPS/</id>
    <published>2021-11-29T14:58:13.000Z</published>
    <updated>2021-11-29T14:59:05.117Z</updated>
    
    <content type="html"><![CDATA[<p>LeetCode OWNTIPS</p><p>å¿«æ…¢æŒ‡é’ˆ</p><pre><code>bool isLoop(ListNode *head){  ListNode *slow, *fast;  slow = fast = head;  while(fast != nullptr &amp;&amp; fast-&gt;next-&gt;next != nullptr ){        slow = slow-&gt;next;    fast = fast-&gt;next-&gt;next;    if(slow == fast){      return true;    }  }  return false;}</code></pre><p>åˆå¹¶ä¸¤ä¸ªé“¾è¡¨</p><p>dump æŒ‡é’ˆçš„å¦™ç”¨ã€‚</p><pre><code>ListNode* mergeTwoList( ListNode* l1, ListNode* l2){  ListNode* dump = new ListNode(-1);  while(l1 != nullptr &amp;&amp; l2 != nullptr){    if(l1-&gt;val &lt; l2-&gt;val){      dump-&gt;next = l1;      l1 = l1-&gt;next;    }else{      dump-&gt;next = l2;      l2 = l2-&gt;next;    }  }  dump-&gt;next = l1 == nullptr ? l2 : l1;  return dump-&gt;next;}</code></pre><p>æ»‘åŠ¨çª—å£</p><ul><li><p>é€šå¸¸å¤šæ˜¯å¾ªç¯æ•´ä¸ªæµæ°´çº¿</p><ul><li>å³çª—å£ç§»åŠ¨æ—¶çš„æ¡ä»¶ï¼š<br>çª—å£æœªæ»¡è¶³æ¡ä»¶<br>å³çª—å£ç§»åŠ¨æ—¶ï¼Œè¯¥åšä»€ä¹ˆï¼Ÿæ·»åŠ è°ï¼Œåˆ é™¤è°ï¼Ÿ</li><li>å·¦çª—å£ç§»åŠ¨çš„æ¡ä»¶ï¼š<br>çª—å£æ»¡äº†ï¼Ÿ<br>éœ€è¦åˆ é™¤ä»€ä¹ˆå…ƒç´ ï¼Ÿ</li><li>ä»€ä¹ˆæ—¶é—´æ·»åŠ  ans ç»“æœã€‚</li></ul><p>class Solution {<br>public:</p><pre><code>vector&lt;int&gt; maxSlidingWindow(vector&lt;int&gt;&amp; nums, int k) {    vector&lt;int&gt; ans;    deque&lt;int&gt; q;    for(int right = 0; right &lt; nums.size(); right++){        while(!q.empty() &amp;&amp; nums[right] &gt;= nums[q.back()] ){            q.pop_back();        }        q.push_back(right);        int left = right - k + 1;        while(!q.empty() &amp;&amp; left &gt; q.front() ){            q.pop_front();        }        if(right + 1 &gt;= k){            ans.push_back(nums[q.front()]);        }    }    return ans;}</code></pre><p>};</p></li></ul><p>ä¼˜å…ˆé˜Ÿåˆ—</p><pre><code>class Solution {public:    vector&lt;int&gt; maxSlidingWindow(vector&lt;int&gt;&amp; nums, int k) {        int n = nums.size();      //priority_queue å®¹å™¨é»˜è®¤ä¸ºæŒ‰ç…§å…ƒç´ å€¼ä»å¤§åˆ°å°è¿›è¡Œæ’åº        priority_queue&lt;pair&lt;int, int&gt;&gt; q;        for (int i = 0; i &lt; k; ++i) {            q.emplace(nums[i], i);        }        vector&lt;int&gt; ans = {q.top().first};        for (int i = k; i &lt; n; ++i) {            q.emplace(nums[i], i);            while (q.top().second &lt; i - k + 1) {                q.pop();            }            ans.push_back(q.top().first);        }        return ans;    }};</code></pre>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;LeetCode OWNTIPS&lt;/p&gt;
&lt;p&gt;å¿«æ…¢æŒ‡é’ˆ&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;bool isLoop(ListNode *head){
  ListNode *slow, *fast;
  slow = fast = head;
  while(fast != n
      
    
    </summary>
    
    
    
      <category term="LeetCode" scheme="https://github.com/liysky/liysky.github.io.git/tags/LeetCode/"/>
    
  </entry>
  
  <entry>
    <title>golang specific notes</title>
    <link href="https://github.com/liysky/liysky.github.io.git/2021/08/18/golang-specific-notes/"/>
    <id>https://github.com/liysky/liysky.github.io.git/2021/08/18/golang-specific-notes/</id>
    <published>2021-08-18T08:49:29.000Z</published>
    <updated>2021-10-10T15:55:19.581Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å®‰è£…åŸºç¡€åŠæ¦‚å¿µ"><a href="#å®‰è£…åŸºç¡€åŠæ¦‚å¿µ" class="headerlink" title="å®‰è£…åŸºç¡€åŠæ¦‚å¿µ"></a>å®‰è£…åŸºç¡€åŠæ¦‚å¿µ</h2><p><strong>å®‰è£…ï¼š</strong></p><p>GO å®‰è£…å®˜ç½‘ï¼š<a href="https://golang.org/dl/" target="_blank" rel="noopener">https://golang.org/dl/</a></p><p>GO çš„ä¸‰ä¸ªç¯å¢ƒå˜é‡é‡è¦æ¦‚å¿µï¼š</p><ul><li>GOROOTï¼šGOè¯­è¨€å®‰è£…ç›®å½•</li><li>GOPATHï¼šè‹¥å¹²è‡ªå®šä¹‰çš„å·¥ä½œç©ºé—´ï¼Œä¹Ÿå°±æ˜¯ä¼ ç»Ÿçš„å·¥ä½œåŒº ï¼ˆWorkspaceï¼‰</li><li>GOBINï¼šGO ç¨‹åºç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„</li></ul><h3 id="HelloWorld"><a href="#HelloWorld" class="headerlink" title="HelloWorld"></a>HelloWorld</h3><ul><li><p><code>go run helloworld.go</code> å‘½ä»¤</p></li><li><p>ç¼–è¯‘æ¨¡å¼ï¼š</p><p>åœ¨æºç ç›®å½•ä¸‹è¿›è¡Œ <code>go install</code></p><p>ä¼šè‡ªåŠ¨ç”Ÿæˆ <code>bin</code> æ–‡ä»¶å¤¹ï¼Œé‡Œé¢ä¼šæœ‰ç¼–è¯‘çš„ hello å¯æ‰§è¡Œç¨‹åº</p><ul><li>go ç¼–è¯‘ç¨‹åºæ—¶ï¼Œä¼šè‡ªåŠ¨åœ¨ <code>GOROOT/src æ–‡ä»¶å¤¹ä¸‹</code> æˆ–è€…åœ¨ <code>GOPATH/src</code>æ–‡ä»¶å¤¹ä¸‹ç¨‹åºåŒ…é‡Œè‡ªåŠ¨å¯»æ‰¾ main åŒ…çš„ main å‡½æ•°å…¥å£å‡½æ•°è¿›è¡Œç¼–è¯‘ã€‚</li></ul></li></ul><p>ç¯å¢ƒå˜é‡çš„é…ç½®ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#go</span></span><br><span class="line"><span class="comment">#install go via 'brew install go'</span></span><br><span class="line"><span class="built_in">export</span> GOROOT=<span class="string">"/usr/local/Cellar/go/1.16.6/libexec"</span></span><br><span class="line"><span class="built_in">export</span> GOPATH=<span class="string">"/Users/xxx/go"</span></span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:<span class="variable">$GOPATH</span>/bin</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:<span class="variable">$GOROOT</span>/bin</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šä¸º GOPATH æ—¶ä»£æ—¶çš„ä½¿ç”¨ï¼Œä½†è‡ªä» go 1.11ç‰ˆæœ¬ä»¥åæ·»åŠ äº† Modules æ¨¡å—ï¼ŒModules ä¸ºæºä»£ç äº¤æ¢å’Œç‰ˆæœ¬æ§åˆ¶å•å…ƒï¼Œgoå‘½ä»¤æ”¯æŒç›´æ¥ä½¿ç”¨ modulesï¼ŒåŒ…æ‹¬è®°å½•å’Œè§£æå¯¹å…¶ä»–æ¨¡å—çš„ä¾èµ–æ€§ã€‚</p><p>go Modules æ—¶ä»£çš„è®¾ç½®ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">go env -w GOBIN=/Users/guoxinli/go/bin</span><br><span class="line">go env -w GO111MODULE=on//on, off, auto: å½“é¡¹ç›®åœ¨ GOPATH/src ç›®å½•ä¹‹å¤–ï¼Œå¹¶ä¸”é¡¹ç›®æ ¹ç›®å½•æœ‰ go.mod æ–‡ä»¶æ—¶ï¼Œå¼€å¯ go moudle æ¨¡å¼ã€‚</span><br><span class="line">go env -w GOPROXY=https://goproxy.cn,direct <span class="comment">#ä½¿ç”¨ä¸ƒç‰›äº‘æœåŠ¡</span></span><br></pre></td></tr></table></figure><p>ç„¶ååœ¨ä»»æ„ç›®å½•ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$cd</span> xxx</span><br><span class="line"><span class="variable">$go</span> mod init xxx</span><br><span class="line"><span class="variable">$vim</span> hello.go</span><br><span class="line"><span class="variable">$go</span> build</span><br><span class="line"><span class="variable">$go</span> install</span><br></pre></td></tr></table></figure><p><strong>go mod  å‘½ä»¤ä½œç”¨ï¼š</strong></p><ul><li><code>go mod download</code> ä¸‹è½½ä¾èµ–åŒ…åˆ°æœ¬åœ°ï¼ˆé»˜è®¤ä¸º GOPATH/pkg/mod ï¼‰</li><li><code>go mod edit</code> ç¼–è¾‘ <code>go.mod</code> æ–‡ä»¶</li><li><code>go mod graph</code> æ‰“å°æ¨¡å—ä¾èµ–å›¾</li><li><code>go mod init</code> åˆå§‹åŒ–å½“å‰æ–‡ä»¶å¤¹ï¼Œåˆ›å»º <code>go.mod</code> æ–‡ä»¶</li><li><code>go mod tidy</code> å¢åŠ ç¼ºå°‘çš„åŒ…ï¼Œåˆ é™¤æ— ç”¨çš„åŒ…</li><li><code>go mod vendor</code> å°†ä¾èµ–å¤åˆ¶åˆ° vendor ç›®å½•ä¸‹</li><li><code>go mod verify</code> æ ¡éªŒä¾èµ–</li><li><code>go mod why</code> è§£é‡Šä¸ºä»€ä¹ˆéœ€è¦ä¾èµ–</li></ul><h3 id="Go-çš„æ‰§è¡ŒåŸç†"><a href="#Go-çš„æ‰§è¡ŒåŸç†" class="headerlink" title="Go çš„æ‰§è¡ŒåŸç†"></a>Go çš„æ‰§è¡ŒåŸç†</h3><h4 id="go-run-æ‰§è¡Œè¿‡ç¨‹"><a href="#go-run-æ‰§è¡Œè¿‡ç¨‹" class="headerlink" title="go run æ‰§è¡Œè¿‡ç¨‹"></a>go run æ‰§è¡Œè¿‡ç¨‹</h4><p>go run ä¸»è¦ç”¨æ¥æ‰§è¡Œä¸€ä¸ªå‘½ä»¤æºç æ–‡ä»¶ä»¥åŠè‹¥å¹²ä¸ªåº“æºç æ–‡ä»¶ï¼Œ<strong>ä¸èƒ½æ¥æ”¶æµ‹è¯•æºç æ–‡ä»¶</strong></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-08-24%20at%2023.49.27.png" alt="Screen Shot 2021-08-24 at 23.49.27"></p><p>ç”Ÿæˆçš„ä¸´æ—¶æ–‡ä»¶å¯ä»¥ç”¨ go run - work æ¥çœ‹åˆ°ã€‚</p><p>go run ç”Ÿæˆäº†ä¸¤ä¸ªæ–‡ä»¶ï¼Œä¸€ä¸ªæ˜¯å½’æ¡£æ–‡ä»¶ï¼Œä¸€ä¸ªæ—¶å¯æ‰§è¡Œæ–‡ä»¶ï¼Œgo run ç¬¬äºŒæ¬¡è¿è¡Œæ—¶ï¼Œè‹¥å¯¼å…¥çš„ä»£ç åŒ…æ²¡æœ‰å‘ç”Ÿæ”¹å˜ï¼Œgo run ä¸ä¼šå†æ¬¡ç¼–è¯‘è¿™ä¸ªå¯¼å…¥çš„ä»£ç åŒ…ï¼Œç›´æ¥é™æ€é“¾æ¥ã€‚</p><h4 id="go-build"><a href="#go-build" class="headerlink" title="go build"></a>go build</h4><p>go build ä¸»è¦ç”¨äºæµ‹è¯•ç¼–è¯‘ï¼š</p><ul><li><p>æ™®é€šåŒ…ï¼šgo build ä¸ä¼šäº§ç”Ÿä»»ä½•æ–‡ä»¶ã€‚</p></li><li><p>mainåŒ…ï¼šä¼šäº§ç”Ÿå¯æ‰§è¡Œæ–‡ä»¶ï¼Œéœ€è¦æ‰§è¡Œ go install æˆ–è€…ä½¿ç”¨ go install -o è·¯å¾„/å¯æ‰§è¡Œæ–‡ä»¶</p></li><li><p>å¤šä¸ªæ–‡ä»¶å¤¹ä¸‹å¤šä¸ªæ–‡ä»¶ï¼Œåªæ‰§è¡ŒæŸä¸ªæ–‡ä»¶éœ€è¦: go build xxx.go</p></li><li>å¯æŒ‡å®šç¼–è¯‘è¾“å‡ºåå­— go build -o xxx</li><li>go build ä¼šå¿½ç•¥ç›®å½•ä¸‹ä»¥ â€œ_â€ æˆ–è€… â€œ.â€ å¼€å¤´çš„ go æ–‡ä»¶ã€‚</li></ul><p>go build ç”¨äºç¼–è¯‘æˆ‘ä»¬æŒ‡å®šçš„æºç æ–‡ä»¶æˆ–ä»£ç åŒ…ä»¥åŠå®ƒä»¬çš„ä¾èµ–åŒ…ã€‚ä½†æ˜¯<strong>æ³¨æ„å¦‚æœç”¨æ¥ç¼–è¯‘éå‘½ä»¤æºç æ–‡ä»¶ï¼Œå³åº“æºç æ–‡ä»¶ï¼Œgo build æ‰§è¡Œå®Œæ˜¯ä¸ä¼šäº§ç”Ÿä»»ä½•ç»“æœçš„ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œgo build å‘½ä»¤åªæ˜¯æ£€æŸ¥åº“æºç æ–‡ä»¶çš„æœ‰æ•ˆæ€§ï¼Œåªä¼šåšæ£€æŸ¥æ€§çš„ç¼–è¯‘ï¼Œè€Œä¸ä¼šè¾“å‡ºä»»ä½•ç»“æœæ–‡ä»¶ã€‚</strong></p><h4 id="go-install"><a href="#go-install" class="headerlink" title="go install"></a>go install</h4><p>ç¼–è¯‘å¹¶å®‰è£…ä»£ç åŒ…æˆ–è€…æºç æ–‡ä»¶ã€‚</p><p>go install å‘½ä»¤åœ¨å†…éƒ¨å®é™…ä¸Šåˆ†æˆäº†ä¸¤æ­¥æ“ä½œï¼šç¬¬ä¸€æ­¥æ˜¯ç”Ÿæˆç»“æœæ–‡ä»¶(å¯æ‰§è¡Œæ–‡ä»¶æˆ–è€….aåŒ…)ï¼Œç¬¬äºŒæ­¥ä¼šæŠŠç¼–è¯‘å¥½çš„ç»“æœç§»åˆ°<code>$GOPATH/pkg</code>æˆ–è€…<code>$GOPATH/bin</code>ã€‚</p><ul><li><p>å¯æ‰§è¡Œæ–‡ä»¶ï¼š ä¸€èˆ¬æ˜¯ go install å¸¦mainå‡½æ•°çš„goæ–‡ä»¶äº§ç”Ÿçš„ï¼Œæœ‰å‡½æ•°å…¥å£ï¼Œæ‰€æœ‰å¯ä»¥ç›´æ¥è¿è¡Œã€‚</p></li><li><p>.aåº”ç”¨åŒ…ï¼š ä¸€èˆ¬æ˜¯ go install ä¸åŒ…å«mainå‡½æ•°çš„goæ–‡ä»¶äº§ç”Ÿçš„ï¼Œæ²¡æœ‰å‡½æ•°å…¥å£ï¼Œåªèƒ½è¢«è°ƒç”¨ã€‚</p></li></ul><p>go install æ¯” go build å¤šå¹²çš„äº‹æƒ…ï¼šå®‰è£…ç¼–è¯‘åçš„ç»“æœæ–‡ä»¶åˆ°æŒ‡å®šç›®å½•ã€‚</p><h3 id="åŒ…å˜é‡å’Œå‡½æ•°"><a href="#åŒ…å˜é‡å’Œå‡½æ•°" class="headerlink" title="åŒ…å˜é‡å’Œå‡½æ•°"></a>åŒ…å˜é‡å’Œå‡½æ•°</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main </span><br><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">  <span class="string">"fmt"</span></span><br><span class="line">  <span class="string">"math/rand"</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">  fmt.Println(<span class="string">"Random number is :"</span> rand.Intn(<span class="number">10</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å˜é‡å£°æ˜ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1. var name type</span></span><br><span class="line"><span class="keyword">var</span> numA <span class="keyword">int</span></span><br><span class="line"><span class="comment">//2. var name = value</span></span><br><span class="line"><span class="keyword">var</span> name = <span class="number">10</span></span><br><span class="line"><span class="comment">//3. </span></span><br><span class="line">name :=<span class="number">10</span></span><br></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">fmt.Println(<span class="string">"variable test"</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> numA <span class="keyword">int</span></span><br><span class="line">numA = <span class="number">10</span></span><br><span class="line">fmt.Println(numA)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> numB <span class="keyword">int</span> = <span class="number">20</span></span><br><span class="line">fmt.Println(numB)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> name = <span class="string">"cyber"</span></span><br><span class="line">fmt.Println(name)</span><br><span class="line"></span><br><span class="line">cyber := <span class="string">"good boy"</span></span><br><span class="line">fmt.Println(cyber)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> m <span class="keyword">float64</span> <span class="comment">//m: 0.0</span></span><br><span class="line">fmt.Println(m)</span><br><span class="line"><span class="keyword">var</span> s <span class="keyword">string</span> <span class="comment">//""</span></span><br><span class="line">fmt.Println(s)</span><br><span class="line"><span class="keyword">var</span> s1 []<span class="keyword">int</span></span><br><span class="line">fmt.Println(s1)</span><br><span class="line">fmt.Println(s1 == <span class="literal">nil</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//constant variable</span></span><br><span class="line"><span class="keyword">const</span> PATH <span class="keyword">string</span> = <span class="string">"http://www.google.com"</span></span><br><span class="line"><span class="keyword">const</span> PI = <span class="number">3.1415925535</span></span><br><span class="line">fmt.Println(PATH)</span><br><span class="line">fmt.Println(PI)</span><br><span class="line"><span class="comment">// define a group of constant variable</span></span><br><span class="line"><span class="keyword">const</span> c1, c2, c3 = <span class="number">100</span>, <span class="number">300</span>, <span class="string">"test"</span></span><br><span class="line"><span class="keyword">const</span> (</span><br><span class="line">MALE   = <span class="number">0</span></span><br><span class="line">FEMALE = <span class="number">1</span></span><br><span class="line">UNKNOW = <span class="number">3</span></span><br><span class="line">)</span><br><span class="line"><span class="keyword">const</span> (</span><br><span class="line">a <span class="keyword">int</span> = <span class="number">100</span></span><br><span class="line">b</span><br><span class="line">c <span class="keyword">string</span> = <span class="string">"const string"</span></span><br><span class="line">d</span><br><span class="line">)</span><br><span class="line">fmt.Printf(<span class="string">"%T, %d\n"</span>, a, a)</span><br><span class="line">fmt.Printf(<span class="string">"%T, %d\n"</span>, b, b)</span><br><span class="line">fmt.Printf(<span class="string">"%T, %s\n"</span>, c, c)</span><br><span class="line">fmt.Printf(<span class="string">"%T, %s\n"</span>, d, d)</span><br><span class="line"></span><br><span class="line"><span class="comment">//enumeration </span></span><br><span class="line"><span class="keyword">const</span>(</span><br><span class="line">SPRING = <span class="number">0</span></span><br><span class="line">SUMMER = <span class="number">1</span></span><br><span class="line">AUTUMN = <span class="number">2</span></span><br><span class="line">WINTER = <span class="number">3</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">variable <span class="built_in">test</span></span><br><span class="line">10</span><br><span class="line">20</span><br><span class="line">cyber</span><br><span class="line">good boy</span><br><span class="line">0</span><br><span class="line"></span><br><span class="line">[]</span><br><span class="line"><span class="literal">true</span></span><br><span class="line">http://www.google.com</span><br><span class="line">3.1415925535</span><br><span class="line">int, 100</span><br><span class="line">int, 100</span><br><span class="line">string, const string</span><br><span class="line">string, const string</span><br></pre></td></tr></table></figure><h3 id="æ‰“å°å’Œè¾“å‡º"><a href="#æ‰“å°å’Œè¾“å‡º" class="headerlink" title="æ‰“å°å’Œè¾“å‡º"></a>æ‰“å°å’Œè¾“å‡º</h3><ul><li>fmt.Print()</li><li>fmt.Printf()</li><li>fmt.Println</li></ul><p>%vï¼šæºæ•°æ®</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">"bufio"</span></span><br><span class="line"><span class="string">"fmt"</span></span><br><span class="line"><span class="string">"os"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">fmt.Println(<span class="string">"hello world"</span>)</span><br><span class="line"></span><br><span class="line">a := <span class="number">1</span>;</span><br><span class="line">b := <span class="number">3.1415</span></span><br><span class="line">c := <span class="literal">true</span></span><br><span class="line">d := <span class="string">"hello"</span></span><br><span class="line">e := <span class="string">'e'</span></span><br><span class="line">f := <span class="string">"F"</span></span><br><span class="line">fmt.Printf(<span class="string">"%T, %d\n"</span>, a, a)</span><br><span class="line">fmt.Printf(<span class="string">"%T, %f\n"</span>, b, b)</span><br><span class="line">fmt.Printf(<span class="string">"%T, %t\n"</span>, c , c)</span><br><span class="line">fmt.Printf(<span class="string">"%T, %s\n"</span>, d, d)</span><br><span class="line">fmt.Printf(<span class="string">"%T, %c\n"</span>, e, e)</span><br><span class="line">fmt.Printf(<span class="string">"%T, %p\n"</span>, f, &amp;f)</span><br><span class="line"></span><br><span class="line">fmt.Printf(<span class="string">"%v\n"</span>, a)</span><br><span class="line">fmt.Printf(<span class="string">"%v\n"</span>, b)</span><br><span class="line">fmt.Printf(<span class="string">"%v\n"</span>, c)</span><br><span class="line">fmt.Printf(<span class="string">"%v\n"</span>, d)</span><br><span class="line">fmt.Printf(<span class="string">"%v\n"</span>, e)</span><br><span class="line">fmt.Printf(<span class="string">"%v\n"</span>, f)</span><br><span class="line"></span><br><span class="line"><span class="comment">/* -------------------- */</span></span><br><span class="line"><span class="keyword">var</span> numA <span class="keyword">int</span></span><br><span class="line"><span class="keyword">var</span> numB <span class="keyword">float32</span></span><br><span class="line">fmt.Scanln(&amp;numA, &amp;numB)</span><br><span class="line">fmt.Printf(<span class="string">"numA: %d,numB: %f\n"</span>, numA, numB)</span><br><span class="line">fmt.Scanf(<span class="string">"%d,%f"</span>, &amp;numA, &amp;numB)</span><br><span class="line">fmt.Printf(<span class="string">"numA: %d, numB: %f\n"</span>, numA, numB )</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* -------------------- */</span></span><br><span class="line">fmt.Println(<span class="string">"Please input:"</span>)</span><br><span class="line">reader := bufio.NewReader(os.Stdin)</span><br><span class="line">s1, _ := reader.ReadString(<span class="string">'\n'</span>)</span><br><span class="line">fmt.Println(<span class="string">"Value of input: "</span>+s1)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="åˆ†æ”¯è¯­å¥"><a href="#åˆ†æ”¯è¯­å¥" class="headerlink" title="åˆ†æ”¯è¯­å¥"></a>åˆ†æ”¯è¯­å¥</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">num := <span class="number">10</span></span><br><span class="line"><span class="keyword">if</span> num &gt; <span class="number">10</span> &#123;</span><br><span class="line">fmt.Println(<span class="string">"bigger than 10"</span>)</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> num == <span class="number">10</span> &#123;</span><br><span class="line">fmt.Println(<span class="string">"value equal to 10"</span>)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">fmt.Println(<span class="string">"smaller than 10"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">using fallthrough to execute the following cases.</span></span><br><span class="line"><span class="comment">but it can be stopped by break.</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">switch</span> x := <span class="number">3</span>; x &#123;</span><br><span class="line"><span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">fmt.Println(<span class="string">"x == 1"</span>)</span><br><span class="line"><span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">fmt.Println(<span class="string">"x == 2"</span>)</span><br><span class="line"><span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">fmt.Println(<span class="string">"x == 3"</span>)</span><br><span class="line"><span class="keyword">if</span> x &gt; <span class="number">2</span> &#123;</span><br><span class="line"><span class="keyword">break</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">fallthrough</span></span><br><span class="line"><span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">fmt.Println(<span class="string">"x == 4"</span>)</span><br><span class="line">&#125;</span><br><span class="line">sum := <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> i := <span class="number">0</span>; i &lt;= <span class="number">10</span>; i++ &#123;</span><br><span class="line">sum += i</span><br><span class="line">&#125;</span><br><span class="line">fmt.Println(sum)</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">equal to while in c/cpp</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">// index := 1</span></span><br><span class="line"><span class="comment">// for index == 1 &#123;</span></span><br><span class="line"><span class="comment">// fmt.Println("looping")</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line">strings := []<span class="keyword">string</span>&#123;<span class="string">"google"</span>, <span class="string">"runoob"</span>&#125;</span><br><span class="line"><span class="keyword">for</span> i, s := <span class="keyword">range</span> strings &#123;</span><br><span class="line">fmt.Println(i, s)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">numbers := [<span class="number">4</span>]<span class="keyword">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>&#125;</span><br><span class="line"><span class="keyword">for</span> i, x := <span class="keyword">range</span> numbers &#123;</span><br><span class="line">fmt.Printf(<span class="string">"ç¬¬ %d ä½ x çš„å€¼ = %d\n"</span>, i, x)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å¾ªç¯è¯­å¥"><a href="#å¾ªç¯è¯­å¥" class="headerlink" title="å¾ªç¯è¯­å¥"></a>å¾ªç¯è¯­å¥</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> key, value := <span class="keyword">range</span> oldMap &#123;</span><br><span class="line">    newMap[key] = value</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> b <span class="keyword">int</span> = <span class="number">15</span></span><br><span class="line"><span class="keyword">var</span> a <span class="keyword">int</span></span><br><span class="line"></span><br><span class="line">numbers := [<span class="number">6</span>]<span class="keyword">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>&#125; </span><br><span class="line"></span><br><span class="line"><span class="comment">/* for å¾ªç¯ */</span></span><br><span class="line"><span class="keyword">for</span> a := <span class="number">0</span>; a &lt; <span class="number">10</span>; a++ &#123;</span><br><span class="line">  fmt.Printf(<span class="string">"a çš„å€¼ä¸º: %d\n"</span>, a)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> a &lt; b &#123;</span><br><span class="line">  a++</span><br><span class="line">  fmt.Printf(<span class="string">"a çš„å€¼ä¸º: %d\n"</span>, a)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i,x:= <span class="keyword">range</span> numbers &#123;</span><br><span class="line">  fmt.Printf(<span class="string">"ç¬¬ %d ä½ x çš„å€¼ = %d\n"</span>, i,x)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;å®‰è£…åŸºç¡€åŠæ¦‚å¿µ&quot;&gt;&lt;a href=&quot;#å®‰è£…åŸºç¡€åŠæ¦‚å¿µ&quot; class=&quot;headerlink&quot; title=&quot;å®‰è£…åŸºç¡€åŠæ¦‚å¿µ&quot;&gt;&lt;/a&gt;å®‰è£…åŸºç¡€åŠæ¦‚å¿µ&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;å®‰è£…ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;GO å®‰è£…å®˜ç½‘ï¼š&lt;a href=&quot;https
      
    
    </summary>
    
    
    
      <category term="golang" scheme="https://github.com/liysky/liysky.github.io.git/tags/golang/"/>
    
  </entry>
  
  <entry>
    <title>ListNode-Data Structure</title>
    <link href="https://github.com/liysky/liysky.github.io.git/2021/08/07/ListNode-Data-Structure/"/>
    <id>https://github.com/liysky/liysky.github.io.git/2021/08/07/ListNode-Data-Structure/</id>
    <published>2021-08-07T12:58:55.000Z</published>
    <updated>2021-08-28T14:41:50.041Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ListNode"><a href="#ListNode" class="headerlink" title="ListNode"></a>ListNode</h1><h3 id="é€’å½’åè½¬"><a href="#é€’å½’åè½¬" class="headerlink" title="é€’å½’åè½¬"></a>é€’å½’åè½¬</h3><p>åè½¬ä¸€ä¸ªé“¾è¡¨ï¼ˆç”¨é€’å½’çš„æ–¹å¼ï¼‰ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">ListNode <span class="title">reverse</span><span class="params">(ListNode head)</span></span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(head.next == <span class="keyword">null</span>) <span class="keyword">return</span> head;</span><br><span class="line">  ListNode last = reverse(head.next);</span><br><span class="line">  head.next.next = head;</span><br><span class="line">  head.next = <span class="keyword">null</span>;</span><br><span class="line">  <span class="keyword">return</span> last;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…³é”®çš„é‡ç‚¹åœ¨äºï¼š<code>ListNode last = reverse(head.next)</code>ï¼Œæ­¤å¥åœ¨äºå°† head ä¹‹åçš„é“¾è¡¨è¿›è¡Œåè½¬ï¼Œåè½¬ä¹‹åï¼Œhead ä»ç„¶æŒ‡å‘ head ä¹‹åçš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼Œè€Œ last æŒ‡å‘çš„æ˜¯ head ä¹‹åæ‰€æœ‰é“¾è¡¨çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹ã€‚</p><p>è®¾åŸé“¾è¡¨ï¼š1ï¼Œ2ï¼Œ3ï¼Œ4</p><p>å³ï¼šhead-&gt;nextâ€”&gt;(  2ï¼Œ 3ï¼Œ 4 â€”&gt; null )ï¼›</p><p>æ­¤æ—¶ headâ€”&gt;nextâ€”&gt;next == 2</p><p>æ‰€ä»¥ head â€”&gt; nextâ€”&gt;next = head å³ä¸º 2 â€”&gt; head ï¼›</p><p>ç„¶åï¼Œhead â€”&gt;next = null å³å°† head å˜ä¸ºæœ€åä¸€ä¸ªèŠ‚ç‚¹ï¼Œhead ä¸åº”è¯¥å†æŒ‡å‘ä»»ä½•èŠ‚ç‚¹ã€‚</p><p><strong>ä»¥ä¸Šé€’å½’å‡½æ•°éœ€è¦æœ‰ base caseï¼š</strong></p><p><code>if(head.next == null) return head;</code></p><p><strong>åè½¬é“¾è¡¨å‰ N ä¸ªèŠ‚ç‚¹</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">ListNode successor = null;</span><br><span class="line"></span><br><span class="line"><span class="function">ListNode <span class="title">reverseNode</span><span class="params">(ListNode head, <span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(n == <span class="number">1</span>)&#123;</span><br><span class="line">    successor = head-&gt;next;</span><br><span class="line">    <span class="keyword">return</span> head;</span><br><span class="line">  &#125;</span><br><span class="line">  ListNode last = reverseNode( head-&gt;next, n<span class="number">-1</span>);</span><br><span class="line">  head-&gt;next-&gt;next = head;</span><br><span class="line">  head-&gt;next = successor;</span><br><span class="line">  <span class="keyword">return</span> last;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>åè½¬é“¾è¡¨çš„ä¸€éƒ¨åˆ†</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">ListNode <span class="title">reverseBetween</span><span class="params">(ListNode head, <span class="keyword">int</span> m, <span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(m==<span class="number">1</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> reverseN(head, n);</span><br><span class="line">  &#125;</span><br><span class="line">  head.next = reverseBetween(head.next, m-<span class="number">1</span>, n-<span class="number">1</span>);</span><br><span class="line">  <span class="keyword">return</span> head;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;ListNode&quot;&gt;&lt;a href=&quot;#ListNode&quot; class=&quot;headerlink&quot; title=&quot;ListNode&quot;&gt;&lt;/a&gt;ListNode&lt;/h1&gt;&lt;h3 id=&quot;é€’å½’åè½¬&quot;&gt;&lt;a href=&quot;#é€’å½’åè½¬&quot; class=&quot;headerlink&quot; 
      
    
    </summary>
    
    
    
      <category term="DataStructure" scheme="https://github.com/liysky/liysky.github.io.git/tags/DataStructure/"/>
    
  </entry>
  
  <entry>
    <title>SLAM Learning</title>
    <link href="https://github.com/liysky/liysky.github.io.git/2021/07/13/Slam-Learning/"/>
    <id>https://github.com/liysky/liysky.github.io.git/2021/07/13/Slam-Learning/</id>
    <published>2021-07-13T12:45:34.000Z</published>
    <updated>2021-10-31T12:49:40.968Z</updated>
    
    <content type="html"><![CDATA[<p>æœ¬æ–‡å†…å®¹å‚è€ƒè‡ª <strong>ã€Œé«˜ç¿”-SLAM14è®²ã€</strong></p><p>Slam: Simultaneous localization and mapping åŒæ—¶å®šä½ğŸŒ§ï¸åœ°å›¾æ„å»ºï¼Œæ¦‚å¿µä¸ºå¸Œæœ›æœºå™¨äººä»æœªçŸ¥ç¯å¢ƒçš„æœªçŸ¥åœ°ç‚¹å‡ºå‘ï¼Œåœ¨è¿åŠ¨è¿‡ç¨‹ä¸­é€šè¿‡é‡å¤è§‚æµ‹åˆ°çš„åœ°å›¾ç‰¹å¾ï¼ˆå¦‚å¢™è§’ï¼ŒæŸ±å­ï¼‰å®šä½è‡ªèº«çš„ä½ç½®å’Œå§¿æ€ï¼Œå†æ ¹æ®è‡ªèº«ä½ç½®å¢é‡å¼çš„æ„å»ºåœ°å›¾ï¼Œä»è€ŒåŒæ—¶å®šä½å’Œåœ°å›¾æ„å»ºçš„ç›®çš„ã€‚</p><h3 id="SLAMå‘å±•"><a href="#SLAMå‘å±•" class="headerlink" title="SLAMå‘å±•"></a>SLAMå‘å±•</h3><p>ä¸Šä¸–çºª80å¹´ä»£SLAMæ¦‚å¿µçš„æå‡ºï¼Œä»æ—©æœŸçš„å£°å‘ï¼Œåˆ°åæ¥çš„2D/3Dæ¿€å…‰é›·è¾¾ï¼Œå†åˆ°å•ç›®ã€åŒç›®ã€RGBDã€ToFç­‰å„ç§ç›¸æœºï¼Œä»¥åŠä¸æƒ¯æ€§æµ‹é‡å•å…ƒIMUç­‰ä¼ æ„Ÿå™¨çš„èåˆï¼›SLAMçš„ç®—æ³•ä¹Ÿä»<strong>å¼€å§‹çš„åŸºäºæ»¤æ³¢å™¨çš„æ–¹æ³•ï¼ˆEKFã€PFç­‰ï¼‰å‘åŸºäºä¼˜åŒ–çš„æ–¹æ³•è½¬å˜</strong>ï¼ŒæŠ€æœ¯æ¡†æ¶ä¹Ÿä»å¼€å§‹çš„å•ä¸€çº¿ç¨‹å‘å¤šçº¿ç¨‹æ¼”è¿›ã€‚</p><ul><li>æ¿€å…‰é›·è¾¾ SLAM å‘å±•</li></ul><p>åŸºäºæ¿€å…‰é›·è¾¾çš„ SLAM ï¼ˆLIDAR SLAMï¼‰é‡‡ç”¨2Dæˆ–3Dæ¿€å…‰é›·è¾¾ï¼ˆå•çº¿æˆ–å¤šçº¿æ¿€å…‰é›·è¾¾ï¼‰ï¼Œå®¤å†…ä¸€èˆ¬ä½¿ç”¨ 2D æ¿€å…‰é›·è¾¾ï¼Œåœ¨æ— äººé©¾é©¶é¢†åŸŸï¼Œä¸€èˆ¬ä½¿ç”¨ 3D æ¿€å…‰é›·è¾¾ã€‚</p><p>æ¿€å…‰é›·è¾¾æœ‰ç‚¹æµ‹é‡ç²¾å‡†ï¼Œæä¾›ç²¾å‡†è§’åº¦å’Œè·ç¦»ä¿¡æ¯ï¼Œå¯è¾¾ &lt;1è§’åº¦çš„è§’åº¦ç²¾åº¦ä»¥åŠ cm çº§åˆ«çš„æµ‹è·ç²¾åº¦ï¼Œèƒ½å¤Ÿè¦†ç›–å¹³é¢å†… 270åº¦ ä»¥ä¸Šçš„èŒƒå›´ï¼ŒåŸºäºæ‰«ææŒ¯é•œå¼çš„å›ºæ€æ¿€å…‰é›·è¾¾ï¼ˆsickã€hokuyoï¼‰å¯ä»¥è¾¾åˆ°è¾ƒé«˜çš„æ•°æ®åˆ·æ–°ç‡ï¼ˆ20Hzä»¥ä¸Šï¼‰ç¼ºç‚¹ä»·æ ¼æ˜‚è´µã€‚</p><ul><li><p>è§†è§‰ SLAM å‘å±•</p><ul><li><p>è§†è§‰ SLAM ä¼ æ„Ÿå™¨æ›´åŠ ä¾¿å®œã€è½»ä¾¿ï¼Œè€Œä¸”éšå¤„å¯å¾—ï¼ˆå¦‚æ‰‹æœºä¸Šçš„æ‘„åƒå¤´ï¼‰</p></li><li><p>ä¸”å›¾åƒèƒ½å¤Ÿæä¾›æ›´åŠ ä¸°å¯Œçš„ä¿¡æ¯ï¼Œç‰¹å¾åŒºåˆ†åº¦æ›´é«˜ï¼Œç¼ºç‚¹æ˜¯å›¾åƒçš„å®æ—¶å¤„ç†éœ€è¦å¾ˆé«˜çš„è®¡ç®—èƒ½åŠ›</p></li><li><p>å°å‹ PC å’Œ åµŒå…¥å¼è®¾å¤‡ï¼Œç§»åŠ¨è®¾å¤‡ä¸Šå®ç°è§†è§‰ SLAM å·²ç»æˆä¸ºå¯èƒ½</p></li><li><p>ç›®å‰è§†è§‰ SLAM çš„ä¼ æ„Ÿå™¨æœ‰å•ç›®ã€åŒç›®ã€RGBD ä¸‰ç§ç›¸æœºï¼ŒRGBDæ·±åº¦ä¿¡æ¯é€šè¿‡ç»“æ„å…‰åŸç†è®¡ç®—ï¼Œä¹Ÿæœ‰é€šè¿‡æŠ•å°„çº¢å¤– pattern å¹¶åˆ©ç”¨åŒç›®çº¢å¤–ç›¸æœºæ¥è®¡ç®—ï¼Œä¹Ÿæœ‰é€šè¿‡ TOF ç›¸æœºå®ç°ã€‚</p></li><li><p><strong>ç›®å‰æµè¡Œçš„è§†è§‰ SLAM ç³»ç»Ÿå¯ä»¥åˆ†ä¸ºå‰åç«¯</strong></p><ul><li>å‰ç«¯å®Œæˆæ•°æ®å…³è”ï¼Œç ”ç©¶å¸§ä¹‹é—´çš„å˜æ¢å…³ç³»ï¼Œå®Œæˆå®æ—¶ä½å§¿è·Ÿè¸ªï¼Œå¯¹è¾“å…¥å›¾åƒè¿›è¡Œè®¡ç®—ï¼ŒåŒæ—¶æ£€æµ‹å¹¶å¤„ç†é—­ç¯ã€‚</li><li>åç«¯å¯¹å‰ç«¯çš„è¾“å‡ºç»“æœè¿›è¡Œä¼˜åŒ–ï¼Œåˆ©ç”¨æ»¤æ³¢ç†è®ºï¼ˆEKFã€PFï¼‰æˆ–è€…ä¼˜åŒ–ç†è®ºè¿›è¡Œæ ‘æˆ–å›¾çš„ä¼˜åŒ–ï¼Œå¾—åˆ°æœ€ä¼˜çš„ä½å§¿ä¼°è®¡å’Œåœ°å›¾ã€‚</li></ul></li></ul></li></ul><pre><code>* é‡‡ç”¨æ»¤æ³¢çš„ SLAM ï¼ˆä¸‹å›¾aï¼‰  ä¼°è®¡ n æ—¶åˆ»çš„ç›¸æœºä½å§¿ Tn éœ€è¦ä½¿ç”¨åœ°å›¾ä¸­æ‰€æœ‰è·¯æ ‡çš„ä¿¡æ¯ï¼Œä¸”æ¯å¸§éƒ½éœ€è¦æ›´æ–°è¿™äº›è·¯æ ‡çš„çŠ¶æ€ï¼Œéšç€æ–°çš„è·¯æ ‡çš„ä¸æ–­åŠ å…¥ï¼ŒçŠ¶æ€çŸ©é˜µçš„è§„æ¨¡å¢é•¿è¿…é€Ÿï¼Œå¯¼è‡´è®¡ç®—å’Œæ±‚è§£æ—¶è€—ä¸¥é‡ï¼Œå› æ­¤ä¸é€‚å®œé•¿æ—¶é—´å¤§åœºæ™¯çš„æ“ä½œï¼›*   é‡‡ç”¨ä¼˜åŒ–ç®—æ³•çš„ SLAM ï¼ˆä¸‹å›¾bï¼‰    é€šå¸¸ç»“åˆå…³é”®å¸§ä½¿ç”¨ï¼Œä¼°è®¡ n æ—¶åˆ»çš„ç›¸æœºä½å§¿ Tn å¯ä»¥ä½¿ç”¨æ•´ä¸ªåœ°å›¾çš„ä¸€ä¸ªå­é›†ï¼Œä¸éœ€è¦åœ¨æ¯å¹…å›¾åƒéƒ½æ›´æ–°åœ°å›¾æ•°æ®ï¼Œå› æ­¤ç°ä»£æˆåŠŸçš„å®æ—¶ SLAM ç³»ç»Ÿå¤§éƒ¨åˆ†éƒ½é‡‡ç”¨ä¼˜åŒ–çš„æ–¹æ³•ã€‚</code></pre><p><img src="https://d3i71xaburhd42.cloudfront.net/262307914e99e5a397cce1cdbe346d11bcb2b3dd/2-Figure1-1.png" style="zoom:67%;" /></p><ul><li><p>SLAM å‘å±•å†ç¨‹</p><ul><li><p>MonoSLAM[5]æ˜¯2007å¹´ç”±Davison ç­‰å¼€å‘çš„ç¬¬ä¸€ä¸ªæˆåŠŸåŸºäºå•ç›®æ‘„åƒå¤´çš„çº¯è§†è§‰SLAM ç³»ç»Ÿï¼š</p><ul><li>ä½¿ç”¨äº†æ‰©å±•å¡å°”æ›¼æ»¤æ³¢</li></ul></li><li><p>åŒå¹´ï¼ŒDavisonåœ¨Oxfordçš„å¸ˆçˆ¶Murrayå’ŒKleinå‘è¡¨äº†å®æ—¶SLAMç³»ç»ŸPTAMï¼ˆParallel Tracking and Mappingï¼‰ï¼š<br>é¦–ä¸ªåŸºäºå…³é”®å¸§BAçš„å•ç›®è§†è§‰SLAM ç³»ç»Ÿï¼Œéšåç§»æ¤è‡³æ‰‹æœºç«¯ï¼ŒPTAMåœ¨æ¶æ„ä¸Šåšå‡ºäº†åˆ›æ–°ï¼Œå°†å§¿æ€è·Ÿè¸ªï¼ˆTrackingï¼‰å’Œå»ºå›¾ï¼ˆMappingï¼‰ä¸¤ä¸ªçº¿ç¨‹åˆ†å¼€å¹¶è¡Œè¿è¡Œï¼Œ<strong>è¿™ç§æ¶æ„è®¾è®¡ä¸ºåæ¥çš„å®æ—¶SLAMï¼ˆå¦‚ORB-SLAMï¼‰æ‰€æ•ˆä»¿ï¼Œæˆä¸ºäº†ç°ä»£SLAMç³»ç»Ÿçš„æ ‡é…</strong>ã€‚</p></li><li><p>2011å¹´ï¼ŒNewcombe ç­‰äººæå‡ºäº†å•ç›®DTAM ç³»ç»Ÿ, å…¶æœ€æ˜¾è‘—çš„ç‰¹ç‚¹æ˜¯èƒ½å®æ—¶æ¢å¤åœºæ™¯ä¸‰ç»´æ¨¡å‹</p><p>åŸºäºä¸‰ç»´æ¨¡å‹ï¼ŒDTAM æ—¢èƒ½å…è®¸ARåº”ç”¨ä¸­çš„è™šæ‹Ÿç‰©ä½“ä¸åœºæ™¯å‘ç”Ÿç‰©ç†ç¢°æ’ï¼Œåˆèƒ½ä¿è¯åœ¨ç‰¹å¾ç¼ºå¤±ã€å›¾åƒæ¨¡ç³Šç­‰æƒ…å†µä¸‹ç¨³å®šåœ°ç›´æ¥è·Ÿè¸ªã€‚</p></li><li><p>2013å¹´ï¼ŒTUMæœºå™¨è§†è§‰ç»„çš„Engel ç­‰äººæå‡ºäº†ä¸€å¥—åŒæ ·ä¹Ÿæ˜¯åŸºäºç›´æ¥æ³•çš„è§†è§‰é‡Œç¨‹è®¡(visual odometry, VO)ç³»ç»Ÿï¼Œè¯¥ç³»ç»Ÿ2014å¹´æ‰©å±•ä¸ºè§†è§‰SLAM ç³»ç»ŸLSD-SLAMã€‚</p><ul><li>2015å¹´ï¼ŒEngelç­‰äººå¯¹LSD-SLAMè¿›è¡Œäº†åŠŸèƒ½æ‹“å±•ï¼Œä½¿å…¶èƒ½å¤Ÿæ”¯æŒåŒç›®ç›¸æœºå’Œå…¨æ™¯ç›¸æœº</li></ul></li><li><p>2014å¹´ï¼Œè‹é»ä¸–å¤§å­¦æœºå™¨äººæ„ŸçŸ¥ç»„çš„Forsterç­‰äººæå‡ºå¼€æºçš„SVOç³»ç»Ÿ</p><ul><li>è¯¥ç³»ç»Ÿå¯¹ç¨€ç–çš„ç‰¹å¾å—ä½¿ç”¨ç›´æ¥æ³•é…å‡†ï¼ˆSparse Model-based Image Alignmentï¼‰ï¼Œè·å–ç›¸æœºä½å§¿</li><li>æ ¹æ®å…‰åº¦ä¸å˜å‡è®¾æ„é€ ä¼˜åŒ–æ–¹ç¨‹å¯¹é¢„æµ‹çš„ç‰¹å¾ä½ç½®è¿›è¡Œä¼˜åŒ–ï¼ˆFeature Alignmentï¼‰</li><li>å¯¹ä½å§¿å’Œç»“æ„è¿›è¡Œä¼˜åŒ–ï¼ˆMotion-only BAå’ŒStructure-only BAï¼‰</li></ul></li><li><p>2016å¹´ï¼ŒForsterå¯¹SVOè¿›è¡Œæ”¹è¿›ï¼Œå½¢æˆSVO2.0</p><ul><li>å¢åŠ äº†è¾¹ç¼˜çš„è·Ÿè¸ª</li><li>è€ƒè™‘äº†IMUçš„è¿åŠ¨å…ˆéªŒä¿¡æ¯</li><li>æ”¯æŒå¤§è§†åœºè§’ç›¸æœºï¼ˆå¦‚é±¼çœ¼ç›¸æœºå’Œåå°„å¼å…¨æ™¯ç›¸æœºï¼‰å’Œå¤šç›¸æœºç³»ç»Ÿ</li></ul></li><li><p>2015å¹´ï¼ŒMur-Artal ç­‰æå‡ºäº†å¼€æºçš„å•ç›®ORB-SLAMï¼Œå¹¶äº2016å¹´æ‹“å±•ä¸ºæ”¯æŒåŒç›®å’ŒRGBDä¼ æ„Ÿå™¨çš„ORB-SLAM2ï¼Œå®ƒæ˜¯ç›®å‰æ”¯æŒä¼ æ„Ÿå™¨æœ€å…¨ä¸”æ€§èƒ½æœ€å¥½çš„è§†è§‰SLAMç³»ç»Ÿä¹‹ä¸€ã€‚</p></li><li><p>2016å¹´ï¼ŒLSD-SLAMçš„ä½œè€…ï¼ŒTUMæœºå™¨è§†è§‰ç»„çš„Engelç­‰äººåˆæå‡ºäº†DSOç³»ç»Ÿ</p><ul><li>åŸºäºç›´æ¥æ³•å’Œç¨€ç–æ³•çš„è§†è§‰é‡Œç¨‹è®¡</li><li>ä¸è¿›è¡Œå…³é”®ç‚¹æ£€æµ‹å’Œç‰¹å¾æè¿°å­è®¡ç®—ï¼Œè€Œæ˜¯åœ¨æ•´ä¸ªå›¾åƒå†…é‡‡æ ·å…·æœ‰å¼ºåº¦æ¢¯åº¦çš„åƒç´ ç‚¹</li><li>æå‡ºäº†å®Œæ•´çš„å…‰åº¦æ ‡å®šæ–¹æ³•ï¼Œè€ƒè™‘äº†æ›å…‰æ—¶é—´ï¼Œé€é•œæ™•å½±å’Œéçº¿æ€§å“åº”å‡½æ•°çš„å½±å“</li></ul></li><li><p>2017å¹´ï¼Œé¦™æ¸¯ç§‘æŠ€å¤§å­¦çš„æ²ˆç»åŠ¼è€å¸ˆè¯¾é¢˜ç»„æå‡ºäº†èåˆIMUå’Œè§†è§‰ä¿¡æ¯çš„VINSç³»ç»Ÿ</p><ul><li>é¦–ä¸ªç›´æ¥å¼€æºæ‰‹æœºå¹³å°ä»£ç çš„è§†è§‰IMUèåˆSLAMç³»ç»Ÿ</li><li>å¯ä»¥è¿è¡Œåœ¨iOSè®¾å¤‡ä¸Šï¼Œä¸ºæ‰‹æœºç«¯çš„å¢å¼ºç°å®åº”ç”¨æä¾›ç²¾ç¡®çš„å®šä½åŠŸèƒ½ï¼ŒåŒæ—¶è¯¥ç³»ç»Ÿä¹Ÿåœ¨åº”ç”¨åœ¨äº†æ— äººæœºæ§åˆ¶ä¸Šï¼Œå¹¶å–å¾—äº†è¾ƒå¥½çš„æ•ˆæœ</li><li>VINS-Mobileä½¿ç”¨æ»‘åŠ¨çª—å£ä¼˜åŒ–æ–¹æ³•ï¼Œé‡‡ç”¨å››å…ƒæ•°å§¿æ€çš„æ–¹å¼å®Œæˆè§†è§‰å’ŒIMUèåˆï¼Œå¹¶å¸¦æœ‰åŸºäºBoWçš„é—­ç¯æ£€æµ‹æ¨¡å—ï¼Œç´¯è®¡è¯¯å·®é€šè¿‡å…¨å±€ä½å§¿å›¾å¾—åˆ°å®æ—¶æ ¡æ­£</li></ul></li></ul></li></ul><h3 id="SLAM-æ„ŸçŸ¥å…¥é—¨"><a href="#SLAM-æ„ŸçŸ¥å…¥é—¨" class="headerlink" title="SLAM æ„ŸçŸ¥å…¥é—¨"></a>SLAM æ„ŸçŸ¥å…¥é—¨</h3><p>ä¸€ä¸ªæœºå™¨äººéœ€è¦è‡³å°‘åšçš„ä¸¤ä»¶äº‹æƒ…ï¼š</p><ul><li>å®šä½ï¼šçŸ¥é“è‡ªå·±åœ¨ä»€ä¹ˆä½ç½®</li><li>å»ºå›¾ï¼šçŸ¥é“å‘¨å›´ç¯å¢ƒæ˜¯ä»€ä¹ˆæ ·å­çš„</li></ul><p><strong>ä¼ æ„Ÿå™¨ï¼š</strong></p><ul><li>ä¸€ç±»æ˜¯æºå¸¦åœ¨æœºå™¨æœ¬ä½“ä¸Šçš„</li><li>å¦ä¸€ç±»æ˜¯å®‰è£…åœ¨ç¯å¢ƒé‡Œçš„</li></ul><p>é€šè¿‡åœ¨æœºå™¨æœ¬ä½“ä¸Šçš„ä¼ æ„Ÿå™¨å¯ä»¥æ¥æ„ŸçŸ¥æœªçŸ¥çš„ä¸–ç•Œã€‚</p><h4 id="ä¼ æ„Ÿå™¨ç›¸æœº"><a href="#ä¼ æ„Ÿå™¨ç›¸æœº" class="headerlink" title="ä¼ æ„Ÿå™¨ç›¸æœº"></a>ä¼ æ„Ÿå™¨ç›¸æœº</h4><ul><li>å•ç›®ï¼Œåœ¨å•å¼ å›¾åƒé‡Œï¼Œæ— æ³•ç¡®å®šä¸€ä¸ªç‰©ä½“çš„çœŸå®å¤§å°ã€‚</li><li>åŒç›®ï¼ˆStereoï¼‰ï¼ŒåŒç›®æ‘„åƒæœºä¹‹é—´çš„è·ç¦»ç§°ä¸º <strong>åŸºçº¿</strong>ã€‚åŸºçº¿è·ç¦»è¶Šå¤§ï¼Œèƒ½å¤Ÿæµ‹é‡åˆ°çš„ç‰©ä½“å°±è¶Šè¿œï¼Œæ‰€ä»¥æ— äººè½¦ä¸Šæ­è½½çš„åŒç›®ç›¸æœºé€šå¸¸ä¼šæ˜¯ä¸€ä¸ªå¤§å®¶ä¼™ã€‚</li><li>æ·±åº¦ï¼ˆRGB-Dï¼‰ï¼šé™¤äº†èƒ½å¤Ÿé‡‡é›†åˆ°å½©è‰²å›¾ç‰‡ï¼Œè¿˜èƒ½å¤Ÿè¯»å‡ºæ¯ä¸ªåƒç´ ä¸ç›¸æœºä¹‹é—´çš„è·ç¦»ã€‚æ·±åº¦ç›¸æœºé€šå¸¸ä¼šæºå¸¦å¤šä¸ªæ‘„åƒå¤´ã€‚</li></ul><p>ï¼ˆé™¤æ­¤ä¹‹å¤–ï¼ŒSLAM ä¸­è¿˜æœ‰å…¨æ™¯ç›¸æœºï¼ŒEventç›¸æœºç­‰ï¼‰</p><h3 id="ç»å…¸è§†è§‰-SLAM-æ¡†æ¶"><a href="#ç»å…¸è§†è§‰-SLAM-æ¡†æ¶" class="headerlink" title="ç»å…¸è§†è§‰ SLAM æ¡†æ¶"></a>ç»å…¸è§†è§‰ SLAM æ¡†æ¶</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-07-20%20at%2023.15.43.png" alt="Screen Shot 2021-07-20 at 23.15.43" style="zoom:67%;" /></p><ul><li><p>ä¼ æ„Ÿå™¨ä¿¡æ¯è¯»å–</p><p>ç›¸æœºå›¾åƒçš„è¯»å–å’Œé¢„å¤„ç†ï¼Œä¼ æ„Ÿå™¨ä¿¡æ¯è¯»å–åŒæ­¥ç­‰ã€‚</p></li><li><p>å‰ç«¯è§†è§‰é‡Œç¨‹è®¾è®¡ Visual Odometry</p><p>ä¼°è®¡ç›¸é‚»å›¾åƒé—´ç›¸æœºçš„è¿åŠ¨</p></li><li><p>åç«¯ï¼ˆéçº¿æ€§ï¼‰ä¼˜åŒ– optimization</p><p>åç«¯æ¥å—å‰ç«¯æµ‹é‡çš„ç›¸æœºä½å§¿ï¼Œä»¥åŠå›ç¯æ£€æµ‹çš„ä¿¡æ¯ï¼Œå¯¹å…¶è¿›è¡Œä¼˜åŒ–ï¼Œå¾—åˆ°è½¨è¿¹å’Œåœ°å›¾ã€‚</p></li><li><p>å›ç¯æ£€æµ‹</p><p>å›ç¯æ£€æµ‹æ˜¯åˆ¤æ–­æœºå™¨äººæ˜¯å¦åˆ°è¾¾è¿‡å…ˆå‰çš„ä½ç½®ã€‚</p></li><li><p>å»ºå›¾</p><p>æ ¹æ®ä¼°è®¡çš„è½¨è¿¹ï¼Œå»ºç«‹ä¸ä»»åŠ¡è¦æ±‚å¯¹åº”çš„åœ°å›¾ã€‚</p></li></ul><p><strong>è§†è§‰é‡Œç¨‹è®¡</strong></p><ul><li><p>é€šè¿‡å›¾åƒç¡®å®šç›¸æœºçš„è¿åŠ¨ï¼Œé€šè¿‡ç›¸é‚»å¸§ä¹‹é—´çš„å›¾åƒä¼°è®¡è¿åŠ¨ç›¸æœºï¼Œæ¢å¤åœºæ™¯çš„ç©ºé—´ç»“æ„ã€‚</p></li><li><p>å€¼è®¡ç®—ç›¸é‚»æ—¶åˆ»çš„è¿åŠ¨ï¼Œä¸è¿‡å»çš„ä¿¡æ¯æ²¡æœ‰å…³è”ã€‚</p></li><li><p>ç´¯è®¡æ¼‚ç§»</p><p>ä»…é€šè¿‡è§†è§‰é‡Œç¨‹è®¡æ¥ä¼°è®¡è½¨è¿¹ï¼Œä¼šå‡ºç°ç´¯è®¡æ¼‚ç§»é—®é¢˜ã€‚â€”&gt; è¯¯å·®ä¼ é€’çš„é—®é¢˜</p><p>éœ€è¦ <strong>å›ç¯æ£€æµ‹</strong>ï¼Œ<strong>å…¨å±€æ ¡æ­£</strong>ã€‚</p><p>å›ç¯æ£€æµ‹ï¼šéœ€è¦æœºå™¨äººå›åˆ°åŸå§‹ä½ç½®çš„äº‹æƒ…è¿›è¡Œæ£€æµ‹ï¼Œåç«¯ä¼˜åŒ–æ ¹æ®è¯¥å›ç¯æ£€æµ‹ä¿¡æ¯ï¼Œçº æ­£æ•´ä¸ªè½¨è¿¹ã€‚</p></li></ul><p><strong>åç«¯ä¼˜åŒ–</strong></p><ul><li>SLAM è§†è§‰ä¸­ï¼Œå‰ç«¯å’Œè®¡ç®—æœºè§†è§‰ç ”ç©¶é¢†åŸŸæ›´ç›¸å…³ï¼Œå¦‚å›¾åƒç‰¹å¾æå–å’ŒåŒ¹é…ï¼Œåç«¯åˆ™ä¸»è¦æ˜¯æ»¤æ³¢å’Œéçº¿å½¢ä¼˜åŒ–ç®—æ³•ã€‚</li><li>çŠ¶æ€ä¼°è®¡ï¼Œåç«¯ä¼˜åŒ–è¦è§£å†³çš„â€”â€”ç©ºé—´çŠ¶æ€çš„ä¸ç¡®å®šæ€§ä¼°è®¡</li><li>SLAM é—®é¢˜çš„æœ¬è´¨ï¼Œå¯¹è¿åŠ¨ä¸»ä½“è‡ªèº«å’Œå‘¨å›´ç¯å¢ƒç©ºé—´ä¸ç¡®å®šæ€§çš„ä¼°è®¡</li></ul><p><strong>å›ç¯æ£€æµ‹</strong></p><ul><li><p>é—­ç¯æ£€æµ‹ï¼Œä¸»è¦è§£å†³ä½ç½®ä¼°è®¡ <strong>éšæ—¶é—´æ¼‚ç§»</strong> çš„é—®é¢˜</p></li><li><p>è®©æœºå™¨äººå…·æœ‰è¯†åˆ«åˆ°è¿‡çš„åœºæ™¯çš„èƒ½åŠ›ã€‚</p></li><li>åˆ©ç”¨å›¾åƒé—´çš„ç›¸ä¼¼æ€§æ¥å®Œæˆå›ç¯æ£€æµ‹ã€‚</li></ul><p><strong>å»ºå›¾</strong></p><p>å³ï¼Œæ„å»ºåœ°å›¾ã€‚</p><ul><li><p>å¯¹äºå®¶ç”¨æ‰«åœ°æœºå™¨äººï¼ŒçŸ®å¹³é¢è¿åŠ¨çš„æœºå™¨äººï¼Œåªéœ€è¦ä¸€ä¸ªäºŒç»´çš„åœ°å›¾ã€‚</p></li><li><p>åº¦é‡åœ°å›¾</p><p>å¼ºè°ƒç²¾ç¡®çš„è¡¨ç¤ºåœ°å›¾ä¸­çš„ç‰©ä½“çš„ä½ç½®å…³ç³»ï¼Œé€šå¸¸ç”¨ç¨€ç– ï¼ˆSparseï¼‰ä¸ç¨ å¯†ï¼ˆDenseï¼‰è¿›è¡Œåˆ†ç±»ã€‚</p><p>ç¨€ç–ï¼šè·¯æ ‡è¿›è¡Œæ ‡è®°ï¼Œå…¶å®ƒçš„ç©ºç™½åœ°æ–¹æ— ç”¨å¯ä»¥å¿½ç•¥ã€‚</p><p>ç¨ å¯†ï¼šæŒ‰ç…§æŸç§åˆ†è¾¨ç‡ï¼Œç”±è®¸å¤šä¸ªå°æ ¼å­è¿›è¡Œç»„æˆï¼Œé€šè¿‡å¯¼èˆªç®—æ³•ç»“åˆå°æ ¼å­çŠ¶æ€è¿›è¡Œå¯¼èˆªï¼Œä¼šæœ‰å­˜å‚¨é‡å¤§çš„é—®é¢˜å’Œåœ°å›¾ä¸€è‡´æ€§çš„é—®é¢˜ã€‚</p></li><li><p>æ‹“æ‰‘åœ°å›¾</p><p>å¼ºè°ƒåœ°å›¾å…ƒç´ ä¹‹é—´çš„å…³ç³»ï¼Œè€ƒè™‘è¿é€šæ€§ã€‚</p></li></ul><h3 id="SLAM-é—®é¢˜æ•°å­¦è¡¨è¿°"><a href="#SLAM-é—®é¢˜æ•°å­¦è¡¨è¿°" class="headerlink" title="SLAM é—®é¢˜æ•°å­¦è¡¨è¿°"></a>SLAM é—®é¢˜æ•°å­¦è¡¨è¿°</h3><p>æœºå™¨äººå„ä¸ªæ—¶åˆ»çš„ä½ç½® $X_1, X_2â€¦X_k$</p><p>è·¯æ ‡Nä¸ªï¼Œ$y_1,â€¦y_N$</p><p><strong>è¿åŠ¨æ–¹ç¨‹</strong>ï¼š$X<em>{k} = f(X</em>{k-1}, u<em>{k},w</em>{k})$</p><p>è¿åŠ¨æ–¹ç¨‹ä¸ºæœºå™¨äººè¯»å…¥ <strong>è¿åŠ¨ä¼ æ„Ÿå™¨è¯»æ•°æˆ–è€…è¾“å…¥</strong>ï¼Œ<strong>å™ªå£°</strong>ç­‰ï¼Œä½¿å¾—è¿™ä¸ªé‚£ä¸ªå‡½æ•°å¯ä»¥æŒ‡ä»£äººæ„çš„è¿åŠ¨ä¼ æ„Ÿå™¨/è¾“å…¥ï¼Œæˆä¸ºä¸€ä¸ªé€šç”¨çš„æ–¹ç¨‹ã€‚</p><p><strong>è§‚æµ‹æ–¹ç¨‹</strong>ï¼š$Z<em>{k} = h(y</em>{i}, x<em>k,v</em>{k,j})$</p><p>è§‚æµ‹æ–¹ç¨‹ä¸ºï¼Œæœºå™¨äººåœ¨æŸä¸ª $X<em>{k}$ ä½ç½®çœ‹åˆ°æŸä¸ª è·¯æ ‡ $y_j$ æ—¶äº§ç”Ÿçš„ä¸€ä¸ªè§‚æµ‹æ•°æ® $Z</em>{k,j}$ </p><p>SLAM è¿‡ç¨‹å¯ä»¥æ€»ç»“ä¸º <strong>è¿åŠ¨æ–¹ç¨‹</strong> ä¸ <strong>è§‚æµ‹æ–¹ç¨‹</strong>ï¼Œå…¶æè¿°çš„åŸºæœ¬ SLAM é—®é¢˜ä¸ºï¼šå½“çŸ¥é“è¿åŠŸæµ‹é‡çš„è¯»æ•° uï¼Œä»¥åŠä¼ æ„Ÿå™¨çš„è¯»æ•° zï¼Œå¦‚ä½•æ±‚è§£å®šä½é—®é¢˜ï¼ˆä¼°è®¡xï¼‰å’Œå»ºå›¾é—®é¢˜ï¼ˆä¼°è®¡yï¼‰ï¼Œæ­¤æ—¶ SLAM é—®é¢˜ä¸ºä¸€ä¸ªçŠ¶æ€ä¼°è®¡é—®é¢˜ã€‚</p><p>çŠ¶æ€ä¼°è®¡çš„é—®é¢˜çš„æ±‚è§£ï¼Œä¸ä¸¤ä¸ªæ–¹ç¨‹çš„å…·ä½“å½¢å¼ï¼Œä»¥åŠå™ªå£°æœä»å“ªç§åˆ†å¸ƒï¼ˆçº¿æ€§/éçº¿å½¢/é«˜æ–¯/éé«˜æ–¯ï¼‰æœ‰å…³ç³»ã€‚</p><p>çº¿æ€§é«˜æ–¯ä¸ºæœ€ç®€å•ï¼Œå®ƒçš„æ— åå¯ä»¥ç”¨å¡å°”æ›¼æ»¤æ³¢å™¨ï¼ˆKalman Filterï¼‰ç»™å‡ºã€‚</p><p>éçº¿å½¢é«˜æ–¯ç³»ç»Ÿï¼ˆNon-Linear No-Gaussian) ä¼šä½¿ç”¨æ‹“å±•å¡å°”æ›¼æ»¤æ³¢å™¨ï¼ˆExtended Kalman Filterï¼‰å’Œéçº¿å½¢ä¼˜åŒ–ä¸¤ç±»æ–¹æ³•å»æ±‚è§£ã€‚</p><h3 id="SLAM-ç¼–ç¨‹åŸºç¡€"><a href="#SLAM-ç¼–ç¨‹åŸºç¡€" class="headerlink" title="SLAM ç¼–ç¨‹åŸºç¡€"></a>SLAM ç¼–ç¨‹åŸºç¡€</h3><h4 id="å®‰è£…-Linux-æ“ä½œç³»ç»Ÿ"><a href="#å®‰è£…-Linux-æ“ä½œç³»ç»Ÿ" class="headerlink" title="å®‰è£… Linux æ“ä½œç³»ç»Ÿ"></a>å®‰è£… Linux æ“ä½œç³»ç»Ÿ</h4><p>æ¨èä½¿ç”¨ ubuntu æ“ä½œç³»ç»Ÿã€‚</p><h4 id="ä½¿ç”¨ç¼–è¯‘å™¨g"><a href="#ä½¿ç”¨ç¼–è¯‘å™¨g" class="headerlink" title="ä½¿ç”¨ç¼–è¯‘å™¨g++"></a>ä½¿ç”¨ç¼–è¯‘å™¨g++</h4><p>å®‰è£…g++</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudu apt-<span class="built_in">get</span> install g++</span><br></pre></td></tr></table></figure><h4 id="ä½¿ç”¨-cmake"><a href="#ä½¿ç”¨-cmake" class="headerlink" title="ä½¿ç”¨ cmake"></a>ä½¿ç”¨ cmake</h4><p>cmake ç”¨æ¥å¯¹ C++ é¡¹ç›®è¿›è¡Œç¼–è¯‘ç®¡ç†ï¼Œåœ¨ cmake å·¥ç¨‹ä¸­ï¼š</p><ul><li>ä½¿ç”¨ cmake å‘½ä»¤ç”Ÿæˆä¸€ä¸ª makefile æ–‡ä»¶</li><li>ç„¶åç”¨ make å‘½ä»¤æ ¹æ®è¿™ä¸ª makefile æ–‡ä»¶çš„å†…å®¹ç¼–è¯‘æ•´ä¸ªå·¥ç¨‹ã€‚</li></ul><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># declare lowest version of cmake</span></span><br><span class="line"><span class="keyword">cmake_minimum_required</span>( VERSION <span class="number">2.8</span> )</span><br><span class="line"></span><br><span class="line"><span class="comment"># declare a project of cmake</span></span><br><span class="line"><span class="keyword">project</span>( HELLOSLAM)</span><br><span class="line"></span><br><span class="line"><span class="comment"># add an exe program</span></span><br><span class="line"><span class="comment"># grammar: add_executable ( programName sourceFile )</span></span><br><span class="line"><span class="keyword">add_executable</span> ( helloSLAM helloSLAM.cpp )</span><br></pre></td></tr></table></figure><p>cmake.txt ç”¨äºå‘Šè¯‰ cmake å¯¹æ­¤ç›®å½•æ–‡ä»¶åšä»€ä¹ˆäº‹æƒ…ã€‚</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#cmake . ä¼šç”¨ cmake å¯¹è¯¥å·¥ç¨‹è¿›è¡Œ cmake ç¼–è¯‘</span></span><br><span class="line"><span class="comment">#cmake ä¼šè¾“å‡ºç¼–è¯‘ä¿¡æ¯ï¼Œåœ¨å½“å‰æ–‡ä»¶ç›®å½•ä¸‹ç”Ÿæˆä¸€äº›ä¸­é—´æ–‡ä»¶ï¼Œæœ€é‡è¦çš„æ˜¯ MakeFileï¼ŒMakeFile æ˜¯è‡ªåŠ¨ç”Ÿæˆçš„ã€‚</span></span><br><span class="line">cmake . </span><br><span class="line"><span class="comment"># cmake . ä¹‹åå°±æ˜¯ä½¿ç”¨ make è¿›è¡Œå¯¹å·¥ç¨‹çš„ç¼–è¯‘ã€‚</span></span><br></pre></td></tr></table></figure><h3 id="ä¸‰ç»´ç©ºé—´åˆšä½“è¿åŠ¨"><a href="#ä¸‰ç»´ç©ºé—´åˆšä½“è¿åŠ¨" class="headerlink" title="ä¸‰ç»´ç©ºé—´åˆšä½“è¿åŠ¨"></a>ä¸‰ç»´ç©ºé—´åˆšä½“è¿åŠ¨</h3><h4 id="å†…å¤–ç§¯ä¸åå¯¹ç§°çŸ©é˜µ"><a href="#å†…å¤–ç§¯ä¸åå¯¹ç§°çŸ©é˜µ" class="headerlink" title="å†…å¤–ç§¯ä¸åå¯¹ç§°çŸ©é˜µ"></a>å†…å¤–ç§¯ä¸åå¯¹ç§°çŸ©é˜µ</h4><p>å·¦å³æ‰‹åæ ‡ç³»ï¼šOpenGLã€3D Max â€”&gt; å³æ‰‹åæ ‡ç³»ï¼Œ Unityã€Direct3D â€”&gt; å·¦æ‰‹åæ ‡ç³»</p><p>å‰ç§¯åˆç§°ä¸ºå¤–ç§¯ï¼š</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20210816231511145.png" alt="image-20210816231511145" style="zoom: 70%;" /></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20210816233544284.png" alt="image-20210816233544284" style="zoom:70%;" /></p><h4 id="åæ ‡ç³»é—´çš„æ¬§å¼å˜æ¢"><a href="#åæ ‡ç³»é—´çš„æ¬§å¼å˜æ¢" class="headerlink" title="åæ ‡ç³»é—´çš„æ¬§å¼å˜æ¢"></a>åæ ‡ç³»é—´çš„æ¬§å¼å˜æ¢</h4><p>æƒ¯æ€§åæ ‡ç³»ï¼ˆä¸–ç•Œåæ ‡ç³»ï¼‰ï¼Œå…¶ä¸ºå›ºå®šä¸åŠ¨çš„ï¼Œç›¸æœºæˆ–è€…æœºå™¨äººæ˜¯ä¸€ä¸ªç§»åŠ¨çš„åæ ‡ç³»ã€‚</p><p>å¯¹äºä¸€ä¸ªç›¸æœºè§†é‡ä¸­çš„ P ï¼Œå…¶åœ¨ç›¸æœºåæ ‡ç³»ä¸­çš„åæ ‡ä¸º Pcï¼Œè€Œåœ¨ä¸–ç•Œåæ ‡ç³»ä¸­çš„åæ ‡ä¸º Pwï¼Œè¿™ä¸¤ä¸ªåæ ‡ä¹‹é—´çš„è½¬æ¢éœ€è¦é€šè¿‡çŸ©é˜µå˜æ¢æ¥å®ç°ã€‚ä¸¤ä¸ªåæ ‡ç³»ä¹‹é—´å·®äº†ä¸€ä¸ª <strong>æ¬§å¼å˜æ¢ï¼ˆæ—‹è½¬+å¹³ç§»ï¼‰</strong>ã€‚</p><p>ä¸¤ä¸ªåæ ‡ç³»ä¹‹é—´çš„è¿åŠ¨ç”±ä¸€ä¸ª<strong>æ—‹è½¬</strong>åŠ ä¸Šä¸€ä¸ªå¹³ç§»ç»„æˆï¼Œè¿™ç§è¿åŠ¨æˆä¸ºåˆšä½“è¿åŠ¨ã€‚</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20210910000308957.png" alt="image-20210910000308957" style="zoom:67%;" /></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20211024233821589.png" alt="image-20211024233821589"></p><p>çŸ©é˜µ R ä¸ºæ—‹è½¬çŸ©é˜µï¼Œå…¶ä¸ºä¸¤ä¸ªåæ ‡ç³»åŸºçš„å†…ç§¯ã€‚å…¶åŸºå‘é‡é•¿åº¦ä¸º1ï¼Œå®é™…åˆ™ä¸ºå„åŸºå‘é‡å¤¹è§’çš„ä½™å¼¦å€¼ï¼Œæ‰€ä»¥æ—‹è½¬çŸ©é˜µä¹Ÿç§°ä¸ºæ–¹å‘ä½™å¼¦çŸ©é˜µã€‚</p><p>æœ‰å…³æ—‹è½¬çŸ©é˜µï¼š</p><ul><li>å…¶ä¸ºè¡Œåˆ—å¼ä¸º1çš„æ­£äº¤çŸ©é˜µ</li><li>è¡Œåˆ—å¼ä¸º1çš„æ­£äº¤çŸ©é˜µä¹Ÿæ˜¯ä¸€ä¸ªæ—‹è½¬çŸ©é˜µ</li></ul><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20211024234416227.png" alt="image-20211024234416227"></p><h4 id="Eigenå®è·µ"><a href="#Eigenå®è·µ" class="headerlink" title="Eigenå®è·µ"></a>Eigenå®è·µ</h4><p><strong>ç¬¬ä¸‰æ–¹åº“å®‰è£…</strong>ï¼š</p><p>é¦–å…ˆä½¿ç”¨ <code>git submodule init</code> <code>git submodule update</code> æ¥åŒæ­¥ç›¸å…³çš„ç¬¬ä¸‰æ–¹åº“ã€‚</p><ul><li>Pangolinåº“çš„å®‰è£…ï¼š</li></ul><p>å®‰è£…ä¾èµ–ï¼š<code>sudo apt-get install libglew-dev</code></p><p>ç„¶åè¿›å…¥åˆ° 3rdparty è¿›è¡Œ cmake ä¸ make ç¼–è¯‘</p><p>Eigenä¸ºä¸€ä¸ªæ¨¡æ¿ç±»ã€‚</p><p>åœ¨ vscode ä¸­è¿è¡Œ slambook2 ä¸­çš„ç¨‹åºéœ€è¦è®¾ç½® ğŸ“ <code>.vscode</code>  ä¸­æ·»åŠ  task.json ä¸ launch.json æ–‡ä»¶</p><hr><p>launch.json</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"configurations"</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"name"</span>: <span class="string">"C/C++"</span>,</span><br><span class="line">            <span class="attr">"type"</span>: <span class="string">"cppdbg"</span>,</span><br><span class="line">            <span class="attr">"request"</span>: <span class="string">"launch"</span>,</span><br><span class="line">            <span class="attr">"program"</span>: <span class="string">"$&#123;fileDirname&#125;/$&#123;fileBasenameNoExtension&#125;"</span>,</span><br><span class="line">            <span class="attr">"args"</span>: [],</span><br><span class="line">            <span class="attr">"stopAtEntry"</span>: <span class="literal">false</span>,</span><br><span class="line">            <span class="attr">"cwd"</span>: <span class="string">"$&#123;workspaceFolder&#125;"</span>,</span><br><span class="line">            <span class="attr">"environment"</span>: [],</span><br><span class="line">            <span class="attr">"externalConsole"</span>: <span class="literal">false</span>,</span><br><span class="line">            <span class="attr">"MIMode"</span>: <span class="string">"gdb"</span>,</span><br><span class="line">            <span class="attr">"preLaunchTask"</span>: <span class="string">"compile"</span>,</span><br><span class="line">            <span class="attr">"setupCommands"</span>: [</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="attr">"description"</span>: <span class="string">"Enable pretty-printing for gdb"</span>,</span><br><span class="line">                    <span class="attr">"text"</span>: <span class="string">"-enable-pretty-printing"</span>,</span><br><span class="line">                    <span class="attr">"ignoreFailures"</span>: <span class="literal">true</span></span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><p>task.json</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"version"</span>: <span class="string">"2.0.0"</span>,</span><br><span class="line">    <span class="attr">"tasks"</span>: [&#123;</span><br><span class="line">            <span class="attr">"label"</span>: <span class="string">"compile"</span>,</span><br><span class="line">            <span class="attr">"command"</span>: <span class="string">"g++"</span>,</span><br><span class="line">            <span class="attr">"args"</span>: [</span><br><span class="line">                <span class="string">"-g"</span>,</span><br><span class="line">                <span class="string">"$&#123;file&#125;"</span>,</span><br><span class="line">                <span class="string">"-o"</span>,</span><br><span class="line">                <span class="string">"$&#123;fileDirname&#125;/$&#123;fileBasenameNoExtension&#125;"</span></span><br><span class="line">            ],</span><br><span class="line">            <span class="attr">"problemMatcher"</span>: &#123;</span><br><span class="line">                <span class="attr">"owner"</span>: <span class="string">"cpp"</span>,</span><br><span class="line">                <span class="attr">"fileLocation"</span>: [</span><br><span class="line">                    <span class="string">"relative"</span>,</span><br><span class="line">                    <span class="string">"$&#123;workspaceRoot&#125;"</span></span><br><span class="line">                ],</span><br><span class="line">                <span class="attr">"pattern"</span>: &#123;</span><br><span class="line">                    <span class="attr">"regexp"</span>: <span class="string">"^(.*):(\\d+):(\\d+):\\s+(warning|error):\\s+(.*)$"</span>,</span><br><span class="line">                    <span class="attr">"file"</span>: <span class="number">1</span>,</span><br><span class="line">                    <span class="attr">"line"</span>: <span class="number">2</span>,</span><br><span class="line">                    <span class="attr">"column"</span>: <span class="number">3</span>,</span><br><span class="line">                    <span class="attr">"severity"</span>: <span class="number">4</span>,</span><br><span class="line">                    <span class="attr">"message"</span>: <span class="number">5</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">"group"</span>: &#123;</span><br><span class="line">                <span class="attr">"kind"</span>: <span class="string">"build"</span>,</span><br><span class="line">                <span class="attr">"isDefault"</span>: <span class="literal">true</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æ—‹è½¬å‘é‡å’Œæ¬§æ‹‰è§’"><a href="#æ—‹è½¬å‘é‡å’Œæ¬§æ‹‰è§’" class="headerlink" title="æ—‹è½¬å‘é‡å’Œæ¬§æ‹‰è§’"></a>æ—‹è½¬å‘é‡å’Œæ¬§æ‹‰è§’</h4><p>æ—‹è½¬å‘é‡ï¼š</p><p>å³åˆ©ç”¨ä¸€ä¸ªä¸‰ç»´å‘é‡è¡¨è¾¾å‡ºæ—‹è½¬çŸ©é˜µSO(3) æ‰€èƒ½è¡¨è¾¾çš„äº‹æƒ…ï¼šä»»æ„æ—‹è½¬éƒ½å¯ä»¥ç”¨ä¸€ä¸ªæ—‹è½¬è½´å’Œä¸€ä¸ªæ—‹è½¬è§’æ¥åˆ»ç”»ã€‚</p><p>ä¸€ä¸ªä¸‰ç»´å‘é‡æ¥æè¿°ä¸€ä¸ªæ—‹è½¬ï¼š</p><ul><li>å…¶æ–¹å‘ä¸æ—‹è½¬è½´ä¸€è‡´</li><li>å…¶é•¿åº¦å¤§å°ä¸æ—‹è½¬è§’ç›¸ç­‰</li></ul><p>æ—‹è½¬çŸ©é˜µå’Œæ—‹è½¬å‘é‡å¯ä»¥è¿›è¡Œç›¸äº’è½¬åŒ–ã€‚</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-10-25%20at%2023.22.10.png" alt="Screen Shot 2021-10-25 at 23.22.10"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-10-25%20at%2023.22.29.png" alt="Screen Shot 2021-10-25 at 23.22.29"></p><p>æ—‹è½¬è½´nï¼Œæ—‹è½¬è½´ä¸Šçš„å‘é‡åœ¨æ—‹è½¬åä¸å‘ç”Ÿæ”¹å˜ï¼š<strong>Rn = n</strong>.</p><h4 id="æ¬§æ‹‰è§’"><a href="#æ¬§æ‹‰è§’" class="headerlink" title="æ¬§æ‹‰è§’"></a>æ¬§æ‹‰è§’</h4><p>èˆªç©ºã€èˆªæ¨¡ä¸­ä¼šæœ‰ï¼š</p><p>â€œä¿¯ä»°è§’â€ï¼Œpitch â€”â€”ç»• Y è½´ï¼Œ</p><p>â€œåèˆªè§’â€ï¼Œyam â€”â€”ç»• Z è½´ï¼Œ</p><p>â€œæ»šè½¬è§’â€ï¼Œroll â€”â€” ç»• X è½´ã€‚</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20211026225238811.png" alt="image-20211026225238811" style="zoom:67%;" /></p><p>æ¬§æ‹‰è§’ä¼šäº§ç”Ÿ <strong>ä¸‡å‘èŠ‚æ­»é”çš„é—®é¢˜</strong>ï¼š åœ¨ä¿¯ä»°è§’ä¸º $\pm 90^\circ$æ—¶ï¼Œç¬¬ä¸€æ¬¡æ—‹è½¬å’Œç¬¬ä¸‰æ¬¡æ—‹è½¬å°†ä½¿ç”¨åŒä¸€ä¸ªè½´ï¼Œè¿™æ ·å°±ä¼šä½¿å¾—ç³»ç»Ÿä¸¢æ‰ä¸€ä¸ªè‡ªç”±åº¦ï¼Œè¿™ç§ç§°ä¸ºå¥‡å¼‚æ€§é—®é¢˜ã€‚</p><h4 id="å››å…ƒæ•°"><a href="#å››å…ƒæ•°" class="headerlink" title="å››å…ƒæ•°"></a>å››å…ƒæ•°</h4><p>ä¸ºäº†è§£å†³ <strong>ä¸‡å‘èŠ‚æ­»é”çš„é—®é¢˜</strong>ï¼Œå› ä¸ºæ‰¾ä¸åˆ°ä¸å¸¦å¥‡å¼‚çš„ä¸‰ç»´å‘é‡æè¿°æ–¹å¼ï¼Œç”¨ä¸€ç§ç±»ä¼¼å¤æ•°çš„ä»£æ•°ï¼šå››å…ƒæ•°ï¼Œæ¥è§£å†³æ—‹è½¬çš„é—®é¢˜ã€‚</p><p>ä¸€ä¸ªå››å…ƒæ•°qæœ‰ä¸€ä¸ªå®éƒ¨ä¸‰ä¸ªè™šéƒ¨ï¼š</p><script type="math/tex; mode=display">q = q_0 + q_1i+q_2j+q_3k</script><p>å…¶ä¸­ï¼Œiï¼Œjï¼Œk ä¸ºå››å…ƒæ•°çš„ä¸‰ä¸ªè™šéƒ¨ï¼š</p><script type="math/tex; mode=display">F^{HLLC}=\left\{\begin{array}{rcl}i^2=j^2=k^2=-1       &      & \\ij=k, ji= -k    &      & \\jk=i, kj=-i     &      & \\ki=j, ik=-j       &      & \\\end{array} \right.</script><h4 id="å››å…ƒæ•°çš„è¿ç®—"><a href="#å››å…ƒæ•°çš„è¿ç®—" class="headerlink" title="å››å…ƒæ•°çš„è¿ç®—"></a>å››å…ƒæ•°çš„è¿ç®—</h4><p>åŠ å‡æ³•ä¸ºå¸¸è§„è¿ç®—ã€‚</p><p><strong>ä¹˜æ³•ï¼š</strong></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-10-27%20at%2023.12.08.png" alt="Screen Shot 2021-10-27 at 23.12.08" style="zoom:67%;" /></p><p><strong>è†œé•¿ï¼š</strong></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-10-27%20at%2023.12.55.png" alt="Screen Shot 2021-10-27 at 23.12.55" style="zoom:67%;" /></p><p><strong>å…±è½­ï¼š</strong></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-10-27%20at%2023.14.38.png" alt="Screen Shot 2021-10-27 at 23.14.38" style="zoom:67%;" /></p><p><strong>é€†ï¼š</strong></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-10-27%20at%2023.15.35.png" alt="Screen Shot 2021-10-27 at 23.15.35" style="zoom:67%;" /></p><h4 id="ç”¨å››å…ƒæ•°è¡¨ç¤ºæ—‹è½¬"><a href="#ç”¨å››å…ƒæ•°è¡¨ç¤ºæ—‹è½¬" class="headerlink" title="ç”¨å››å…ƒæ•°è¡¨ç¤ºæ—‹è½¬"></a>ç”¨å››å…ƒæ•°è¡¨ç¤ºæ—‹è½¬</h4><p>ç©ºé—´ä¸‰ç»´ç‚¹ï¼š$p = [x,y,z]\in R^3$ ï¼›</p><p>å•ä½å››å…ƒæ•° q æŒ‡å®šçš„æ—‹è½¬ï¼›</p><p>ä¸‰ç»´ç‚¹ p åˆ° pâ€™ ï¼šç”¨çŸ©é˜µçš„è¡¨ç¤ºæ–¹å¼ä¸ºï¼š pâ€™ = Rp.</p><p>å››å…ƒæ•°çš„è¡¨ç¤ºæ–¹å¼ï¼š</p><ul><li><p>è™šå››å…ƒæ•°è¡¨ç¤ºä¸€ä¸ªä¸‰ç»´ç©ºé—´ç‚¹</p><p>$p=[0,x,y,z]^T=[0,v]^T$</p></li><li><p>ç›¸å½“äºå››å…ƒæ•°çš„ 3 ä¸ªè™šéƒ¨ä¸ç©ºé—´ä¸­çš„3ä¸ªè½´ç›¸å¯¹åº”ï¼š</p></li></ul><script type="math/tex; mode=display">p^{'}=qpq^{'}</script><p>æœ€åå–å‡º pâ€™ çš„è™šéƒ¨éƒ¨åˆ†ï¼Œå³å¾—åˆ°æ—‹è½¬åçš„åæ ‡ã€‚</p><h3 id="æç¾¤å’Œæä»£æ•°"><a href="#æç¾¤å’Œæä»£æ•°" class="headerlink" title="æç¾¤å’Œæä»£æ•°"></a>æç¾¤å’Œæä»£æ•°</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20211031203435595.png" alt="image-20211031203435595" style="zoom:67%;" /></p><p>ç¾¤æ˜¯ä¸€ç§ <strong>é›†åˆ</strong> åŠ ä¸Šä¸€ç§ <strong>è¿ç®—</strong> çš„ä»£æ•°ç»“æ„ã€‚ç¾¤æ»¡è¶³å¦‚ä¸‹å‡ ä¸ªæ¡ä»¶ï¼š</p><ul><li>å°é—­æ€§: $\forall a_1,a_2 \in A, a_1â€¢a_2 \in A$</li><li>ç»“åˆå¾‹: $\forall a_1,a_2,a_3 \in A, (a_1â€¢a_2)a_3=a_1â€¢(a_2â€¢a_3)$</li><li>å¹ºå…ƒï¼š$\exists a_0 \in A, s.t.\forall a \in A ,a_0â€¢a=aâ€¢a_0=a$</li><li>é€†: $\forall a \in A, \exists a^{-1} \in A, s.t. aâ€¢a^{-1}=a_0$ </li></ul><p><strong>æç¾¤æ˜¯æŒ‡å…·æœ‰è¿ç»­ï¼ˆå…‰æ»‘ï¼‰æ€§è´¨çš„ç¾¤</strong></p><p>æä»£æ•°ï¼šæ¯ä¸ªæç¾¤éƒ½æœ‰ä¸ä¹‹å¯¹åº”çš„æä»£æ•°ï¼Œæä»£æ•°æè¿°äº†æç¾¤çš„å±€éƒ¨æ€§è´¨ã€‚</p><p>å¯¹äºæ—‹è½¬çŸ©é˜µçš„æ¯ä¸€æ¬¡æ±‚å¯¼ï¼Œåªéœ€è¦å·¦ä¹˜ä¸€ä¸ª $\phi^{(t)}$ å³å¯ã€‚$\phi^{(t)}$ ä¸ºä¸€ä¸ªä¸‰ç»´å‘é‡ã€‚</p><p>æ—‹è½¬çŸ©é˜µRä¸åå¯¹ç§°çŸ©é˜µ $\phi^{\bigwedge} t$ ä¹‹é—´çš„å…³ç³»ï¼š $R(t) = exp(\phi^{\bigwedge} t)$ </p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;æœ¬æ–‡å†…å®¹å‚è€ƒè‡ª &lt;strong&gt;ã€Œé«˜ç¿”-SLAM14è®²ã€&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Slam: Simultaneous localization and mapping åŒæ—¶å®šä½ğŸŒ§ï¸åœ°å›¾æ„å»ºï¼Œæ¦‚å¿µä¸ºå¸Œæœ›æœºå™¨äººä»æœªçŸ¥ç¯å¢ƒçš„æœªçŸ¥åœ°ç‚¹å‡ºå‘ï¼Œåœ¨è¿åŠ¨è¿‡ç¨‹ä¸­é€šè¿‡é‡å¤è§‚æµ‹åˆ°çš„åœ°
      
    
    </summary>
    
    
    
      <category term="learning-note" scheme="https://github.com/liysky/liysky.github.io.git/tags/learning-note/"/>
    
  </entry>
  
  <entry>
    <title>A Little bit of Summary Of Deep Learning</title>
    <link href="https://github.com/liysky/liysky.github.io.git/2021/06/13/A-Little-bit-of-Summary-Of-Deep-Learning/"/>
    <id>https://github.com/liysky/liysky.github.io.git/2021/06/13/A-Little-bit-of-Summary-Of-Deep-Learning/</id>
    <published>2021-06-13T13:30:05.000Z</published>
    <updated>2021-06-15T15:33:49.456Z</updated>
    
    <content type="html"><![CDATA[<h3 id="æ·±åº¦å­¦ä¹ æŠ€æœ¯ä¸ç†è®º"><a href="#æ·±åº¦å­¦ä¹ æŠ€æœ¯ä¸ç†è®º" class="headerlink" title="æ·±åº¦å­¦ä¹ æŠ€æœ¯ä¸ç†è®º"></a>æ·±åº¦å­¦ä¹ æŠ€æœ¯ä¸ç†è®º</h3><p>ä¸€ã€ç®€ç­”é¢˜(50 åˆ†)ã€‚<br> 1ã€Sigmoid, Tanh, Relu è¿™ä¸‰ä¸ªæ¿€æ´»å‡½æ•°æœ‰ä»€ä¹ˆç¼ºç‚¹å’Œä¸è¶³?æœ‰å“ªäº›æœ€æ–°æ”¹è¿›çš„æ¿€æ´»å‡½æ•°?(10 åˆ†)</p><div class="table-container"><table><thead><tr><th>æ¿€æ´»å‡½æ•°</th><th>å…¬å¼</th><th>ç¼ºç‚¹</th><th>ä¼˜ç‚¹</th></tr></thead><tbody><tr><td>sigmoid</td><td>$\sigma(x) = 1/(1+e^{-x})$</td><td>1. ç”±äºå…¶è½¯é¥±å’Œæ€§ï¼Œä¼šæœ‰æ¢¯åº¦æ¶ˆå¤±å¼¥æ•£é—®é¢˜ï¼Œå¯¼è‡´è®­ç»ƒå‡ºç°é—®é¢˜<br />2. ä¸æ˜¯å…³äºåŸç‚¹å¯¹ç§°<br />3. è®¡ç®— exp è¾ƒä¸ºè€—æ—¶</td><td>1. å‡½æ•°è¾“å‡ºæ˜ å°„åœ¨ï¼ˆ0ï¼Œ1ï¼‰ä¹‹é—´ï¼Œå•è°ƒè¿ç»­ï¼Œè¾“å‡ºèŒƒå›´æœ‰é™ï¼Œä¼˜åŒ–ç¨³å®šï¼Œå¯ä»¥ç”¨ä½œè¾“å‡ºå±‚<br />2. æ±‚å¯¼å®¹æ˜“</td></tr><tr><td>Tanh</td><td>$tanh(x) = 2\sigma(2x)-1$</td><td>æ¢¯åº¦å¼¥æ•£æ²¡æœ‰è§£å†³</td><td>1. è§£å†³äº†åŸç‚¹å¯¹ç§°çš„é—®é¢˜<br />2.æ¯” sigmoid æ›´å¿«</td></tr><tr><td>Relu</td><td>$f(x) = max(0,x)$</td><td>æ¢¯åº¦å¼¥æ•£æ²¡æœ‰å®Œå…¨è§£å†³ï¼Œåœ¨(-) éƒ¨åˆ†ç›¸å½“äºç¥ç»å…ƒæ­»äº¡ä¸”ä¸ä¼šå¤æ´»ï¼Œå› æ­¤æƒé‡æ— æ³•æ›´æ–°çš„é—®é¢˜ã€‚</td><td>1. è§£å†³äº†éƒ¨åˆ†æ¢¯åº¦å¼¥æ•£çš„é—®é¢˜<br />2. æ”¶æ•›é€Ÿåº¦æ›´å¿«äº†<br />3.åœ¨æ²¡æœ‰æ— ç›‘ç£é¢„è®­ç»ƒçš„æ—¶å€™ä¹Ÿèƒ½æœ‰è¾ƒå¥½çš„è¡¨ç°</td></tr><tr><td>Leaky Relu</td><td>$f(x) = 1(x<0),(\alpha x)+1(x>=0)(x)$</td><td></td><td>è§£å†³äº†ç¥ç»æ­»äº¡é—®é¢˜</td></tr><tr><td>Maxout</td><td>$max(w^T_1x+b_1, w^T_2x + b_2)$</td><td>å‚æ•°æ¯”è¾ƒå¤šï¼Œæœ¬è´¨ä¸Šæ˜¯åœ¨è¾“å‡ºç»“æœä¸Šåˆå¢åŠ äº†ä¸€å±‚</td><td>å…‹æœäº† Reluçš„ç¼ºç‚¹ï¼Œæ¯”è¾ƒæå€¡ä½¿ç”¨</td></tr></tbody></table></div><p><strong>LReLU:</strong></p><p> $f(y_i) = y_i(if (y_i &gt; 0)), a_iy_i (if(y_i&lt;=0))$</p><p>å½“å‚æ•° $a_i$ æ¯”è¾ƒå°è€Œä¸”å›ºå®šçš„æ—¶å€™ï¼Œç§°ä¹‹ä¸º LRe LUï¼Œå…¶æœ€åˆç›®çš„æ˜¯ä¸ºäº†é¿å…æ¢¯åº¦æ¶ˆå¤±ã€‚å¾ˆå¤šæ—¶å€™å½“æˆ‘ä»¬æƒ³è¦åº”ç”¨ LReLUæ—¶ï¼Œå¿…é¡»éå¸¸å¥¥å¿ƒè°¨æ…åœ°é‡å¤è®­ç»ƒï¼Œé€‰å‡ºåˆé€‚çš„ $a_i$æ—¶ï¼ŒLReLu çš„è¡¨ç°å‡ºçš„ç»“æœæ‰æ¯” ReLU å¥½ã€‚</p><p>PReLU æ˜¯ LReLU çš„æ”¹è¿›ï¼Œå¯ä»¥è‡ªé€‚åº”åœ°ä»æ•°æ®ä¸­å­¦ä¹ å‚æ•°ï¼ŒPReLU å…·æœ‰æ”¶æ•›é€Ÿåº¦å¿«ã€é”™è¯¯ç‡ä½çš„ç‰¹ç‚¹ï¼ŒPReLU å¯ä»¥ç”¨äºåå‘ä¼ æ’­çš„è®­ç»ƒï¼Œå¯ä»¥ä¸å…¶å®ƒå±‚åŒæ—¶ä¼˜åŒ–ã€‚</p><p><strong>ELUs:</strong></p><p>$f(x) = x (if(x &gt; 0)), \alpha(exp(x)-1)(if x &lt;=0)$</p><p>$fâ€™(x)=1(if(x&gt;0)), f(x)+\alpha (if(x&lt;=0)) $</p><p>ELUs æ˜¯å¯¹ ReLU æ¿€æ´»å‡½æ•°çš„ä¸€ç§æ¼”å˜ï¼Œå°†æ¿€æ´»å‡½æ•°èƒ½å¤Ÿä¿æŒåœ¨ä¸€ä¸ª noise-robust çš„çŠ¶æ€ï¼Œæå‡ºå…·æœ‰è´Ÿå€¼çš„æ¿€æ´»å‡½æ•°ï¼Œå¯ä»¥ä½¿å¾—å¹³å‡æ¿€æ´»æ¥è¿‘äºé›¶ã€‚</p><p>å®ƒåœ¨x&lt;0å¤„æ¿€æ´»å€¼ä¸ºè´Ÿå€¼ï¼Œè€Œä¸”å¯¼æ•°ä¸ä¸º0è¿™æ˜¯ä¸€ç‚¹å¾ˆå¥½çš„æ€§è´¨ï¼Œä¸ä¼šäº§ç”Ÿåƒ Relu æ‰€å¸¦æ¥çš„åœ¨ ï¼ˆ-ï¼‰ä¼šæœ‰ç¥ç»å…ƒæ­»äº¡çš„é—®é¢˜ï¼Œå¹¶ä¸”è®©è¿™ä¸€éƒ¨åˆ†å‘ˆç°ä¸€ç§è½¯é¥±å’Œï¼Œè¿™ç§è½¯é¥±å’Œæœ‰åŠ©äºæå‡å™ªå£°é²æ£’æ€§ã€‚</p><p>2ã€ä»€ä¹ˆæ ·çš„æƒ…å†µé€‚åˆä½¿ç”¨ä¼ ç»Ÿçš„æœºå™¨å­¦ä¹ æ–¹æ³•ï¼Œä¸é€‚åˆä½¿ç”¨æ·±åº¦å­¦ä¹ ?(10 åˆ†)</p><ul><li><p>æ•°æ®é›†ä¾èµ–æ€§ï¼Œä¼ ç»Ÿçš„æœºå™¨å­¦ä¹ ä¸æœºå™¨å­¦ä¹ æœ€ä¸»è¦çš„åŒºåˆ«åœ¨äºéšç€æ•°æ®è§„æ¨¡çš„å¢åŠ ï¼Œå…¶æ€§èƒ½æ˜¯å¦ä¹Ÿä¼šä¸æ–­å¢åŠ ã€‚å½“æ•°æ®å¾ˆå°‘æ—¶ï¼Œæ·±åº¦å­¦ä¹ ç®—æ³•çš„æ€§èƒ½å¹¶ä¸å¥½ï¼Œå› ä¸ºæ·±åº¦å­¦ä¹ çš„ç®—æ³•éœ€è¦å¤§é‡çš„æ•°æ®æ¥å»è®©ç¥ç»å…ƒå®Œç¾çš„æ„ŸçŸ¥å®ƒã€‚å¦ä¸€æ–¹é¢ï¼Œä¼ ç»Ÿçš„æœºå™¨å­¦ä¹ åœ¨æ•°æ®è§„æ¨¡å°çš„æƒ…å†µä¸‹ä½¿ç”¨åˆ¶å®šå¥½çš„è§„åˆ™ï¼Œæ€§èƒ½ä¼šæ¯”è¾ƒå¥½ã€‚</p><p>æ‰€ä»¥å½“æ•°æ®é›†è¾ƒå°æ—¶ä¸é€‚ç”¨äºæ·±åº¦å­¦ä¹ ã€‚</p></li><li><p>ç¡¬ä»¶ä¾èµ–æ€§ï¼Œæ·±åº¦å­¦ä¹ ç®—æ³•éœ€è¦è¿›è¡Œå¤§é‡çš„çŸ©é˜µè¿ç®—ï¼ŒGPU ä¸»è¦ç”¨æ¥é«˜æ•ˆä¼˜åŒ–çŸ©é˜µè¿ç®—ï¼Œä¸ä¼ ç»Ÿçš„æœºå™¨å­¦ä¹ ç®—æ³•ç›¸æ¯”ï¼Œå…¶ç¡¬ä»¶æ€§èƒ½å°¤å…¶æ˜¯å¯¹ GPU çš„ä¾èµ–æ€§æ›´å¼ºã€‚</p><p>æ‰€ä»¥å½“ç¡¬ä»¶æ€§èƒ½ä¸è¶³æ—¶ä¸å¤ªé€‚ç”¨äºæ·±åº¦å­¦ä¹ ï¼ˆè¿™é‡Œæ›´å¼ºè°ƒè®­ç»ƒæ—¶çš„æ€§èƒ½ï¼Œå½“è®­ç»ƒå¥½çš„æ¨¡å‹æ¥è¿›è¡Œæ£€éªŒä½¿ç”¨æ—¶å¾€å¾€ä¸éœ€è¦ç‰¹åˆ«é«˜çš„æ€§èƒ½ï¼‰</p></li><li><p>ç‰¹å¾å¤„ç†é¢„è®­ç»ƒçš„æ—¶é—´ï¼Œå°†é¢†åŸŸçŸ¥è¯†æ”¾å…¥ç‰¹å¾æå–å™¨é‡Œæ¥å‡å°‘æ•°æ®å¤æ‚åº¦å¹¶ç”Ÿæˆä½¿å­¦ä¹ ç®—æ³•å·¥ä½œçš„æ›´å¥½çš„æ¨¡å‹ï¼Œè¿™ç§æå‰çš„é¢„è®­ç»ƒä¼šæ¯”è¾ƒè€—æ—¶ã€‚</p><p>æ‰€ä»¥å½“éœ€è¦çš„é¢„è®­ç»ƒæ—¶é—´æœ‰æ‰€é™åˆ¶æ—¶ï¼Œä¸é€‚ç”¨äºæ·±åº¦å­¦ä¹ ã€‚</p></li><li><p>ç‰¹å¾æå–ï¼Œä¼ ç»Ÿçš„æœºå™¨å­¦ä¹ çš„ç‰¹å¾æå–ä¸»è¦ä¾èµ–äºäººå·¥ï¼Œå¯¹ä¸ç‰¹å®šçš„ç®€å•çš„ä»»åŠ¡è¿™ç§äººå·¥æå–å¾€å¾€ä¼šæ›´ç®€å•å’Œæœ‰æ•ˆï¼Œç¼ºç‚¹åœ¨äºé€šç”¨æ€§è¾ƒå·®ã€‚</p><p>è¾ƒä¸ºç®€ç­”ä»»åŠ¡ï¼Œä¸é€‚åˆäºæ·±åº¦å­¦ä¹ ã€‚</p></li></ul><p>3ã€å·ç§¯ç¥ç»ç½‘ç»œåŒ…æ‹¬å“ªäº›åŸºæœ¬ç»“æ„?åŸºæœ¬ä½œç”¨åˆ†åˆ«æ˜¯ä»€ä¹ˆ?(10 åˆ†)</p><ul><li><p>è¾“å…¥å±‚</p><p>è¾“å…¥å±‚å¯ä»¥å¤„ç†å¤šç»´æ•°æ®ï¼Œå¸¸è§çš„æœ‰ä¸€ç»´äºŒç»´è¾“å…¥ï¼Œé€šå¸¸å·ç§¯ç¥ç»ç½‘ç»œçš„è¾“å…¥ç‰¹å¾éœ€è¦è¿›è¡Œæ ‡å‡†åŒ–å¤„ç†ï¼Œå³å¯¹è¾“å…¥çš„æ•°æ®è¿›è¡Œå½’ä¸€åŒ–ï¼Œå¦‚è¾“å…¥æ•°æ®è‹¥ä¸ºåƒç´ ï¼Œå¯å°†åˆ†å¸ƒäº[0,255]çš„åŸå§‹åƒç´ å€¼å½’ä¸€åŒ–è‡³[0,1]åŒºé—´ã€‚</p></li><li><p>éšå«å±‚</p><ul><li>å·ç§¯å±‚ï¼Œæ‹¥æœ‰å·ç§¯æ ¸ï¼Œç»„æˆå·ç§¯æ ¸çš„æ¯ä¸ªå…ƒç´ éƒ½å¯¹åº”ä¸€ä¸ªæƒé‡ç³»æ•°å’Œä¸€ä¸ªåå·®é‡ï¼Œç±»ä¼¼äºä¸€ä¸ªç¥ç»å…ƒã€‚å·ç§¯æ ¸çš„å¤§å°é€šå¸¸ç§°ä½œâ€œæ„Ÿå—é‡â€ï¼Œå…¶å«ä¹‰å¯ç±»æ¯”è§†è§‰å±‚ç»†èƒçš„æ„Ÿå—é‡ã€‚ä¸€ç»„å¹³è¡Œçš„ç‰¹å¾å›¾ï¼Œé€šè¿‡åœ¨è¾“å…¥å›¾åƒä¸Šæ»‘åŠ¨ä¸åŒçš„å·ç§¯æ ¸å¹¶æ‰§è¡Œä¸€å®šçš„è¿ç®—è€Œç»„æˆã€‚å·ç§¯æ ¸ä¸è¾“å…¥å›¾åƒä¹‹é—´ä¼šæ‰§è¡Œä¸€ä¸ªå…ƒç´ å¯¹åº”ä¹˜ç§¯å¹¶æ±‚å’Œçš„è¿ç®—ä»¥å°†æ„Ÿå—é‡å†…çš„ä¿¡æ¯æŠ•å½±åˆ°ç‰¹å¾å›¾ä¸­çš„ä¸€ä¸ªå…ƒç´ ã€‚</li><li>å·ç§¯å±‚å‚æ•°ï¼Œå³å·ç§¯æ ¸å¤§å°ã€æ­¥é•¿å’Œå¡«å……ï¼Œå¤§å°å³æ„Ÿå—é‡ï¼Œæ­¥é•¿å³ä¸ºå®šä¹‰å·ç§¯æ ¸ç›¸é‚»ä¸¤æ¬¡æ‰«è¿‡ç‰¹å¾å›¾æ—¶ä½ç½®çš„è·ç¦»ã€‚å¡«å……æ˜¯ç‰¹å¾å›¾é€šè¿‡å·ç§¯æ ¸ä¹‹å‰äººä¸ºå¢å¤§å…¶å°ºå¯¸ä»¥æŠµæ¶ˆè®¡ç®—ä¸­å°ºå¯¸æ”¶ç¼©å½±å“çš„æ–¹æ³•ã€‚</li><li>æ¿€æ´»å‡½æ•°ï¼Œæ¿€æ´»å‡½æ•°é€šå¸¸ç”¨ä»¥æ¥åŠ å…¥éçº¿æ€§å› ç´ ï¼Œå› ä¸ºçº¿æ€§æ¨¡å‹çš„è¡¨è¾¾åŠ›æœ‰æ‰€é™åˆ¶ï¼ŒåŠ å…¥äº†éçº¿æ€§æ¿€æ´»å‡½æ•°åå¯ä»¥ç”¨æ¥æ„ŸçŸ¥å’Œæ¨¡æ‹Ÿæ›´å¤æ‚çš„ä»»åŠ¡æ¨¡å‹ã€‚</li><li>æ± åŒ–å±‚ï¼Œè¿›è¡Œç‰¹å¾çš„é€‰æ‹©å’Œä¿¡æ¯çš„è¿‡æ»¤ï¼Œæ± åŒ–å±‚ä¸»è¦åŠŸèƒ½æ˜¯å°†ç‰¹å¾å›¾ä¸­å•ä¸ªç‚¹çš„ç»“æœæ›¿æ¢ä¸ºå…¶ç›¸é‚»åŒºåŸŸçš„ç‰¹å¾å›¾ç»Ÿè®¡é‡ã€‚</li><li>Inception æ˜¯å¯¹äºå¤šä¸ªå·ç§¯å±‚å’Œæ± åŒ–å±‚è¿›è¡Œå †å æ‰€å¾—çš„ç»“æ„ï¼Œå¢åŠ äº†ç½‘ç»œçš„æ·±åº¦ã€‚</li><li>attention æ³¨æ„åŠ›æœºåˆ¶ï¼ŒåŠ å¼ºå±€éƒ¨ç‰¹å¾ä¸å…¨å±€ç‰¹å¾ä¹‹é—´çš„è”ç³»ï¼Œä¸Šä¸‹æ–‡çš„è”ç³»ã€‚å°†æœ‰é™çš„æ³¨æ„åŠ›é›†ä¸­åœ¨é‡ç‚¹ä¿¡æ¯ä¸Šï¼Œä»è€ŒèŠ‚çœèµ„æºï¼Œå¿«é€Ÿè·å¾—æœ€æœ‰æ•ˆçš„ä¿¡æ¯ã€‚</li><li>å…¨è¿æ¥å±‚ï¼Œå°†æå–çš„ç‰¹å¾è¿›è¡Œéçº¿æ€§ç»„åˆä»¥å¾—åˆ°è¾“å‡ºã€‚</li></ul></li><li><p>è¾“å‡ºå±‚</p><p>å·ç§¯ç¥ç»ç½‘ç»œçš„è¾“å‡ºå±‚ä¸Šæ¸¸é€šå¸¸æ˜¯å…¨è¿æ¥å±‚ï¼Œè¾“å‡ºå±‚ä½¿ç”¨é€»è¾‘å‡½æ•°æˆ–è€…å½’ä¸€åŒ–æŒ‡æ•°å‡½æ•°ï¼ˆsoftmaxï¼‰è¾“å‡ºåˆ†ç±»æ ‡ç­¾ã€‚</p></li></ul><p>4ã€ç¥ç»ç½‘ç»œä¸­çš„ Dropout çš„ä½œç”¨ï¼Œå…·ä½“æ˜¯å¦‚ä½•å®ç°çš„?(10 åˆ†)</p><p>æå‡ºçš„ä¸»è¦åŸå› æ˜¯æœºå™¨å­¦ä¹ ä¸­å¾ˆå®¹æ˜“å‡ºç°è¿‡æ‹Ÿåˆçš„é—®é¢˜ï¼Œè€Œä¸”è¿˜ä¼´éšç€è®­ç»ƒæ—¶é—´è¾ƒé•¿çš„é—®é¢˜ã€‚</p><ul><li>è®­ç»ƒä¸€ä¸ªç¥ç»ç½‘ç»œï¼Œè¾“å…¥ xï¼Œè¾“å‡º yï¼ŒæŠŠ x é€šè¿‡ç½‘ç»œå‘å‰ä¼ æ’­ï¼Œç„¶åæŠŠè¯¯å·®åå‘ä¼ æ’­ä»¥å†³å®šå¦‚ä½•æ›´æ–°å‚æ•°è®©ç½‘ç»œè¿›è¡Œå­¦ä¹ ã€‚</li></ul><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/format,png.png" style="zoom:50%;" /></p><ul><li>ä½¿ç”¨ dropout ä¹‹åä»¥ä¸Šè¿‡ç¨‹å˜ä¸ºï¼Œï¼ˆä¸´æ—¶ï¼‰åˆ é™¤æ‰ä¸€åŠçš„éšè—ç¥ç»å…ƒï¼Œè¾“å…¥è¾“å‡ºç¥ç»å…ƒä¿æŒä¸å˜ã€‚ç„¶åæŠŠè¾“å…¥ x é€šè¿‡ä¿®æ”¹åçš„ç½‘ç»œå‰å‘ä¼ æ’­ï¼Œç„¶åæŠŠå¾—åˆ°çš„æŸå¤±ç»“æœé€šè¿‡ä¿®æ”¹çš„ç½‘ç»œåå‘ä¼ æ’­ï¼Œä¸€æ‰¹è®­ç»ƒæ ·æœ¬æ‰§è¡Œå®Œè¿™ä¸ªè¿‡ç¨‹åï¼Œåœ¨æ²¡æœ‰è¢«åˆ é™¤çš„ç¥ç»å…ƒä¸ŠæŒ‰ç…§éšæœºæ¢¯åº¦ä¸‹é™æ›´æ–°å¯¹åº”çš„å‚æ•°ï¼ˆwï¼Œbï¼‰</li></ul><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/dropout.png" alt="img" style="zoom:67%;" /></p><ul><li>ç„¶åé‡å¤ä»¥ä¸Šè¿‡ç¨‹ï¼š<ul><li>æ¢å¤è¢«åˆ é™¤æ‰çš„ç¥ç»å…ƒï¼ˆæ­¤æ—¶ä¸Šæ¬¡è¢«åˆ é™¤çš„ç¥ç»å…ƒä¿æŒåŸæ ·ï¼Œè€Œæ²¡æœ‰è¢«åˆ é™¤çš„ç¥ç»å…ƒå·²ç»æœ‰æ‰€æ›´æ–°ï¼‰</li><li>ä»éšè—å±‚ç¥ç»å…ƒä¸­ç»§ç»­éšæœºé€‰æ‹©ä¸€ä¸ªä¸€åŠå¤§å°çš„å­é›†ä¸´æ—¶åˆ é™¤æ‰ï¼ˆå¤‡ä»½è¢«åˆ é™¤çš„ç¥ç»å…ƒçš„å‚æ•°ï¼‰</li><li>å¯¹ä¸€å°æ‰¹è®­ç»ƒæ ·æœ¬ï¼Œå…ˆå‰å‘ä¼ æ’­ååå‘ä¼ æ’­å¹¶æ ¹æ®éšæœºæ¢¯åº¦ä¸‹é™æ³•è·Ÿæ–°å‚æ•°ï¼ˆwï¼Œbï¼‰ï¼Œå¯¹äºæ²¡æœ‰è¢«åˆ é™¤çš„é‚£ä¸€éƒ¨åˆ†å‚æ•°å¾—ä»¥æ›´æ–°ï¼Œåˆ é™¤çš„ç¥ç»å…ƒå‚æ•°ç»§ç»­ä¿æŒå‰ä¸€çŠ¶æ€ï¼ˆå½“ä¸‹è¢«åˆ é™¤å‰çš„ç»“æœï¼‰</li></ul></li><li>ä¼´éšè®­ç»ƒæ¬¡æ•°ä¸æ–­é‡å¤è¿™ä¸€è¿‡ç¨‹</li></ul><p>5ã€æ®‹å·®ç½‘ç»œä¸ºä»€ä¹ˆèƒ½å¤Ÿæ­å»ºå¾ˆæ·±çš„ç¥ç»ç½‘ç»œ?(10 åˆ†)</p><ul><li><p>ç›¸æ¯”äºå­¦ä¹ åŸå§‹ä¿¡å·ï¼Œæ®‹å·®ç½‘ç»œå­¦ä¹ çš„æ˜¯ä¿¡å·çš„å·®å€¼ï¼Œç®€åŒ–äº†å­¦ä¹ è¿‡ç¨‹ï¼Œå¢å¼ºäº†æ¢¯åº¦ä¼ æ’­ã€‚</p></li><li><p>ä¸€å®šç¨‹åº¦ä¸Šï¼Œç½‘ç»œè¶Šæ·±è¡¨è¾¾èƒ½åŠ›è¶Šå¼ºï¼Œæ€§èƒ½è¶Šå¥½ï¼Œä½†æ˜¯ä¼šæœ‰æ¢¯åº¦æ¶ˆå¤±å’Œæ¢¯åº¦çˆ†ç‚¸çš„é—®é¢˜å‘ç”Ÿï¼Œä¼ ç»Ÿçš„é€šè¿‡ Batch Normalizationï¼Œ Reluæ¿€æ´»å‡½æ•°ç­‰ä¸èƒ½ä»æ ¹æœ¬ä¸Šè§£å†³é—®é¢˜ã€‚å³åœ¨ä¾é è¯¯å·®çš„é“¾å¼åå‘ä¼ æ’­æ³•åˆ™ï¼ŒæŸå¤± loss å¯¹ f çš„æ±‚å¯¼è¿‡ç¨‹ä¸­ï¼Œå¤šæ¬¡è¿ä¹˜åæ¢¯åº¦å¯èƒ½è¶Šæ¥è¶Šå°ä¹Ÿå¯èƒ½è¶Šæ¥è¶Šå¤§ï¼Œå¯¼è‡´å‚æ•°æ— æ³•è¿›è¡Œæ›´æ–°ï¼Œè€Œæ®‹å·®ç½‘ç»œä¸­ç”±äºåŒ…å«äº†æ’ç­‰é¡¹ï¼Œæ‰€ä»¥ä¾ç„¶èƒ½å¤Ÿæœ‰æ•ˆçš„è¿›è¡Œåå‘ä¼ æ’­ã€‚</p></li><li><p>æ‰“ç ´äº†ç½‘ç»œçš„ä¸å¯¹ç§°æ€§ï¼Œå¦‚æœç½‘ç»œä¸­æ¯ä¸ªå±‚åªæœ‰å°‘é‡çš„éšè—å•å…ƒå¯¹ä¸åŒçš„è¾“å…¥æ”¹å˜å®ƒä»¬çš„æ¿€æ´»å€¼ï¼Œè€Œå¤§éƒ¨åˆ†éšè—å•å…ƒå¯¹ä¸åŒçš„è¾“å…¥éƒ½æ˜¯ç›¸åŒçš„ååº”ï¼Œæ­¤æ—¶æ•´ä¸ªæƒé‡çŸ©é˜µçš„ç§©ä¸é«˜ï¼Œå¹¶ä¸”éšç€ç½‘ç»œå±‚æ•°çš„å¢åŠ ï¼Œè¿ä¹˜åä½¿å¾—æ•´ä¸ªç§©å˜å¾—æ›´ä½ï¼Œè¿™å°±æ˜¯ç½‘ç»œçš„é€€åŒ–ã€‚</p><p>è€Œæƒé‡æ˜¯ä¸€ä¸ªå¾ˆé«˜çº¬çš„çŸ©é˜µï¼Œä½†æ˜¯å¤§éƒ¨åˆ†çº¬åº¦æ²¡æœ‰ä¿¡æ¯ï¼Œä½¿å¾—ç½‘ç»œçš„è¡¨è¾¾èƒ½åŠ›ä¸å¼ºï¼Œè¿™æ ·çš„æƒ…å†µå¾ˆå¤§ç¨‹åº¦ä¸Šæ¥è‡ªäºç½‘ç»œçš„å¯¹ç§°æ€§ï¼Œè€Œæ®‹å·®è¿æ¥æ‰“ç ´äº†ç½‘ç»œçš„å¯¹ç§°æ€§ã€‚</p></li><li><p>å¢å¼ºäº†ç½‘ç»œçš„æ³›åŒ–èƒ½åŠ›ï¼Œæ®‹å·®ç½‘ç»œå¯ä»¥çœ‹åšæ˜¯ä¸åŒæ·±åº¦çš„æµ…å±‚ç¥ç»ç½‘ç»œç»„åˆã€‚</p></li></ul><p>äºŒã€åº”ç”¨é¢˜(15 åˆ†) æ³¨æ„åŠ›æœºåˆ¶åœ¨å›¾åƒç†è§£ä¸­çš„ä½œç”¨æ˜¯ä»€ä¹ˆ?ç»“åˆè‡ªå·±çš„ç§‘ç ”å·¥ä½œæè¿°å¦‚ä½•åœ¨è‡ªå·±çš„æ—¥å¸¸å·¥ä½œä¸­ä½¿ç”¨æ³¨æ„åŠ›æœºåˆ¶æå‡ç¥ç»ç½‘ç»œçš„æ€§èƒ½ã€‚</p><p>æ³¨æ„åŠ›æœºåˆ¶åœ¨å›¾åƒç†è§£ä¸­ä¸»è¦åœ¨äºèƒ½å¤Ÿå¿½ç•¥æ— å…³ä¿¡æ¯è€Œå…³æ³¨é‡ç‚¹ä¿¡æ¯ï¼Œå¢å¼ºå±€éƒ¨çš„ç‰¹å¾ä¿¡æ¯ä¸å…¨å±€ç‰¹å¾ä¿¡æ¯ä¹‹é—´çš„ç›¸å…³æ€§ä¾èµ–æ€§ã€‚</p><p>åœ¨é€šè¿‡é˜…è¯»è®ºæ–‡å’ŒæŸ¥é˜…èµ„æ–™å­¦ä¹ ä¸­ï¼Œåœ¨æ—¥å¸¸å·¥ä½œä¸­ä½¿ç”¨æ³¨æ„åŠ›æœºåˆ¶æå‡ç¥ç»ç½‘ç»œçš„æ€§èƒ½ä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªæ–¹é¢åšå·¥ä½œï¼š</p><ul><li><p>ç©ºé—´åŸŸ</p><p>å¦‚ Spatial Transformer Networksï¼ˆSTNï¼‰æ¨¡å‹[4] ï¼Œç®€å•çš„æ± åŒ–å±‚è¿‡äºæš´åŠ›ï¼Œå› æ­¤æ·»åŠ äº† Spatial attention æ¨¡å—ï¼Œåˆå¦‚Dual Attention Network for Scene Segmentation ä¸­çš„ Spatial Attentionï¼Œéƒ½æœ‰åœ¨å›¾åƒçš„ç©ºé—´åŸŸä¸­è¿›è¡Œ attention æ“ä½œï¼Œå¯ä»¥åœ¨å…ˆé€šè¿‡ResNetå¯¹å›¾ç‰‡è¿›è¡Œå¯¹å›¾åƒçš„é¢„å¤„ç†ï¼Œå°†Spatial Attention æœºåˆ¶åŠ å…¥åˆ°åŸæœ‰çš„ç½‘ç»œç»“æ„ä¸­ï¼Œå°†åŸå›¾ç‰‡ä¸­çš„å…³é”®ä¿¡æ¯æå–å‡ºæ¥ï¼Œç„¶åå†é€šè¿‡è¾“å‡ºå±‚è¿›è¡Œè¾“å‡ºã€‚</p></li><li><p>é€šé“åŸŸ</p><p>å·ç§¯ç¥ç»ç½‘ç»œä¸­ï¼Œæ¯å¼ å›¾ç‰‡åˆå§‹æ—¶ä¼šç”±ï¼ˆRï¼ŒGï¼ŒBï¼‰ä¸‰é€šé“è¡¨ç¤ºï¼Œä¹‹åé€šè¿‡ä¸åŒçš„å·ç§¯æ ¸ä¹‹åï¼Œæ¯ä¸ªé€šé“ä¼šäº§ç”Ÿæ–°çš„ä¿¡å·ï¼Œå¦‚å›¾ç‰‡ç‰¹å¾çš„æ¯ä¸ªé€šé“ä½¿ç”¨64æ ¸å·ç§¯ï¼Œå°±ä¼šäº§ç”Ÿ64ä¸ªæ–°é€šé“çš„çŸ©é˜µ (H, W, 64) ã€‚æ¯ä¸ªé€šé“ä¸Šçš„ç‰¹å¾å³è¯¥å›¾ç‰‡åœ¨ä¸åŒå·ç§¯ä¸Šçš„åˆ†é‡ï¼Œåœ¨æ¯ä¸ªé€šé“ä¸Šå¢åŠ æƒé‡æ¥è¡¨ç¤ºè¯¥é€šé“ä¸å…³é”®ä¿¡æ¯çš„ç›¸å…³åº¦ï¼Œæƒé‡è¶Šå¤§åˆ™ç›¸å…³åº¦è¶Šé«˜ï¼Œå³æˆ‘ä»¬æœ€ç»ˆéœ€è¦å…³æ³¨çš„é€šé“ã€‚å¦‚è®ºæ–‡ Squeeze-and-excitation networks ä¸­æå‡ºçš„ SENet æ¨¡å‹ç»“æ„ï¼ŒSENetä¸­æ³¨æ„åŠ›æœºåˆ¶è¢«åˆ†æˆä¸‰ä¸ªéƒ¨åˆ†ï¼šæŒ¤å‹(Sequeeze)ï¼Œæ¿€åŠ±(excitation)ï¼Œä»¥åŠæ³¨æ„(attention)ã€‚</p></li><li><p>æ··åˆåŸŸ</p><p>ç©ºé—´åŸŸæ³¨æ„åŠ›å¿½ç•¥äº†é€šé“åŸŸä¸­çš„ä¿¡æ¯ï¼Œæ¯ä¸ªé€šé“ä¸­çš„å›¾ç‰‡ç‰¹å¾åŒç­‰å¤„ç†ï¼Œè€Œé€šé“åŸŸæ˜¯å¯¹ä¸€ä¸ªé€šé“å†…çš„ä¿¡æ¯ç›´æ¥å…¨å±€å¹³å‡åŒ–ï¼Œè€Œå¿½ç•¥é€šé“å†…çš„å±€éƒ¨ä¿¡æ¯ï¼Œæ‰€ä»¥ç»“åˆä¸¤ç§æ€è·¯ï¼Œå¯ä»¥è®¾è®¡å‡ºæœ‰æ··åˆæ³¨æ„åŠ›æœºåˆ¶çš„æ¨¡å‹ã€‚Residual attentionnetwork for image classification ä¸­ï¼Œæ³¨æ„åŠ›æœºåˆ¶æ˜¯è½¯æ³¨æ„åŠ›åŸºæœ¬çš„åŠ æ©ç (mask)æœºåˆ¶ï¼Œè¿™ç§æ³¨æ„åŠ›æœºåˆ¶å€Ÿé‰´äº† residual æ®‹å·®ç½‘ç»œçš„æƒ³æ³•ï¼Œä¸åªæ ¹æ®å½“å‰ç½‘ç»œå±‚çš„ä¿¡æ¯åŠ ä¸Š maskï¼Œè¿˜æŠŠä¸Šä¸€å±‚çš„ä¿¡æ¯ä¼ é€’ä¸‹æ¥ï¼Œå…¶ä¸­æ‰€æå‡ºçš„ mask ä¸åªæ˜¯å¯¹ç©ºé—´åŸŸæˆ–è€…é€šé“åŸŸçš„å•ç‹¬æ³¨æ„ï¼Œè€Œæ˜¯å¯¹æ¯ä¸ªç‰¹å¾å…ƒç´ çš„æƒé‡é€šè¿‡å¯¹æ¯ä¸ªç‰¹å¾å…ƒç´ éƒ½æ‰¾åˆ°å…¶å¯¹åº”çš„æ³¨æ„åŠ›æƒé‡ï¼ŒåŒæ—¶å½¢æˆç©ºé—´åŸŸå’Œé€šé“åŸŸçš„æ³¨æ„åŠ›æœºåˆ¶ã€‚</p><p>åº”ç”¨è¿™ç§æ··åˆçš„æ®‹å·®æ³¨æ„åŠ›å­¦ä¹ ï¼Œä¸ä»…åªæŠŠ mask ä¹‹åçš„ç‰¹å¾å¼ é‡ä½œä¸ºä¸‹ä¸€å±‚çš„è¾“å…¥ï¼ŒåŒæ—¶ä¹Ÿå°† mask ä¹‹å‰çš„ç‰¹å¾å¼ é‡ä½œä¸ºä¸‹ä¸€å±‚çš„è¾“å…¥ï¼Œå¾—åˆ°çš„ç‰¹å¾æ›´åŠ ä¸°å¯Œï¼Œä»è€Œæ›´å¥½åœ°æ³¨æ„å…³é”®ç‰¹å¾ã€‚</p></li><li><p>æ—¶é—´æ³¨æ„åŠ›æœºåˆ¶çš„åº”ç”¨</p><p>è¿˜å¯ä»¥é€šè¿‡ä½¿ç”¨æ—¶é—´æ³¨æ„åŠ›è¿›è¡Œå¢å¼ºå­¦ä¹ ã€‚</p></li></ul><p>ä¸‰ã€åº”ç”¨é¢˜(15 åˆ†)<br> åœ¨è®­ç»ƒç¥ç»ç½‘ç»œæ—¶ï¼Œå‘ç°æ¨¡å‹çš„ loss ä¸ä¸‹é™ï¼Œå¯èƒ½å­˜åœ¨å“ªäº›é—®é¢˜?å¦‚ä½•è§£å†³?</p><p>å¯èƒ½å­˜åœ¨çš„é—®é¢˜ï¼š</p><ul><li><p>æ¨¡å‹ç»“æ„å’Œç‰¹å¾å·¥ç¨‹å­˜åœ¨é—®é¢˜</p><p>å¦‚æ¨¡å‹ç»“æ„ä¸ç†æƒ³å’Œè§„æ¨¡å¤ªå°ï¼Œç‰¹å¾å·¥ç¨‹å­˜åœ¨é—®é¢˜å…¶å¯¹äºæ•°æ®æ‹Ÿåˆèƒ½åŠ›ä¸è¶³</p></li><li><p>æƒé‡åˆå§‹åŒ–æ–¹æ¡ˆæœ‰é—®é¢˜</p><p>åœ¨ç¥ç»ç½‘ç»œè®­ç»ƒä¹‹å‰ï¼Œéœ€è¦èµ‹äºˆä¸€ä¸ªåˆå€¼ï¼Œåˆå€¼é€‰æ‹©æœ‰é—®é¢˜åˆ™ä¼šå‡ºç° loss çš„å€¼ä¸ä¸‹é™çš„é—®é¢˜ã€‚</p></li><li><p>æ­£åˆ™åŒ–è¿‡åº¦</p><p>dropout ç­‰æ˜¯ä¸ºäº†é˜²æ­¢è¿‡æ‹Ÿåˆï¼Œè¿‡æ‹Ÿåˆååº”è¯¥æ ¹æ®è®­ç»ƒæƒ…å†µè¿›è¡Œè°ƒæ•´ï¼Œä½†å¦‚æœè°ƒæ•´æœ‰é—®é¢˜å°±éœ€è¦è€ƒè™‘é‡æ–°è°ƒè¯•æˆ–è€…ç¡®å®šå½“å‰æ¨¡å‹ç»“æ„çš„æ­£ç¡®æ€§ã€‚</p></li><li><p>é€‰æ‹©åˆé€‚çš„æ¿€æ´»å‡½æ•°ã€æŸå¤±å‡½æ•°</p><p>ä¸€èˆ¬ ReLuä½œä¸ºæ¿€æ´»å‡½æ•°å¯ä»¥æœ‰æ•ˆé¿å…æ¢¯åº¦æ¶ˆå¤±ï¼Œå¯¹äºæŸå¤±å‡½æ•°ï¼Œå¯¹äºåˆ†ç±»ä»»åŠ¡é€šå¸¸ä½¿ç”¨äº¤å‰ç†µæŸå¤±å‡½æ•°ï¼Œå›å½’ä»»åŠ¡ä½¿ç”¨å‡æ–¹å·®ã€‚</p></li><li><p>é€‰æ‹©åˆé€‚çš„ä¼˜åŒ–å™¨å’Œå­¦ä¹ ç‡</p><p>ç¥ç»ç½‘ç»œä¼˜åŒ–å™¨å¦‚ Adamï¼ŒSGDç­‰ï¼Œå­¦ä¹ ç‡å†³å®šäº†ç½‘ç»œçš„è®­ç»ƒé€Ÿåº¦ï¼Œè¿™äº›éƒ½æ˜¯å½“losså‡ºé—®é¢˜æ—¶éœ€è¦è€ƒè™‘çš„æ–¹å‘ã€‚</p></li><li><p>è®­ç»ƒæ—¶é—´çš„ä¸è¶³</p></li><li><p>Batch Size çš„å¤§å°é—®é¢˜</p><p>batch size ä¸åˆé€‚ä¼šå¯¼è‡´æ¨¡å‹è¿Ÿè¿Ÿéš¾ä»¥æ”¶æ•›</p></li><li><p>æ•°æ®é›†æœªæ‰“ä¹±</p><p>ä¸æ‰“ä¹±æ•°æ®é›†ä¼šäº§ç”Ÿä¸€å®šçš„åå·®é—®é¢˜</p></li><li><p>æ•°æ®é›†æœ‰é—®é¢˜</p><p>å½“æ•°æ®é›†å™ªå£°è¿‡å¤šï¼Œæˆ–è€…æ•°æ®æ ‡æ³¨æœ‰å¤§é‡é”™è¯¯æ—¶ï¼Œä¹Ÿä¼šå‡ºç°æ¨¡å‹è®­ç»ƒå‡ºé—®é¢˜çš„æƒ…å†µ</p></li><li><p>æœªè¿›è¡Œå½’ä¸€åŒ–</p></li></ul><p><strong>éªŒè¯é›†lossä¸ä¸‹é™</strong></p><ul><li><p>è®­ç»ƒé›†lossä¹Ÿä¸ä¸‹é™ï¼Œä¸»è¦é€šè¿‡ä»¥ä¸Šè§’åº¦è¿›è¡Œçº æ­£</p></li><li><p>è®­ç»ƒé›†losså¯ä»¥ä¸‹é™</p><p>ç”±äºéªŒè¯é›†æ•°æ®ä¹Ÿæ˜¯ä»è®­ç»ƒé›†ä¸Šé‡‡å–ï¼Œæ­¤æ—¶æ•°æ®é›†æ²¡é—®é¢˜ï¼Œåº”å¤šè€ƒè™‘è¿‡æ‹Ÿåˆé—®é¢˜</p><ul><li>é€‚å½“æ­£åˆ™åŒ–å’Œé™çº¬</li><li>é™ä½æ¨¡å‹çš„è§„æ¨¡</li><li>è·å–æ›´å¤šçš„æ•°æ®é›†</li><li>å¯¹æ•°æ®é›†è¿›è¡Œæ‰°åŠ¨å’Œæ‰©å¢</li></ul></li><li><p>æµ‹è¯•æœºlossä¸ä¸‹é™</p><ul><li>åº”ç”¨åœºæ™¯ä¸ä¸€è‡´</li><li>å™ªå£°é—®é¢˜</li></ul></li></ul><p>å››ã€åº”ç”¨é¢˜(20 åˆ†) ä½ åœ¨æ—¥å¸¸ç§‘ç ”å·¥ä½œä¸­è®­ç»ƒæ·±åº¦ç¥ç»ç½‘ç»œæ—¶é‡åˆ°è¿‡å“ªäº›é—®é¢˜?æ˜¯æ€ä¹ˆè§£å†³çš„?</p><ul><li>åˆšå¼€å§‹åœ¨ Google Clab ä¸Šè¿›è¡Œè®­ç»ƒæ•°æ®æ—¶ï¼Œä¸Šä¼ æ•°æ®é›†é‡åˆ°æ˜“ä¸¢å¤±çš„é—®é¢˜ï¼Œåæ¥é€šè¿‡å…ˆä¸Šä¼ åˆ° Google driveï¼Œå†ä½¿ç”¨å‘½ä»¤ from google.colab import drive ï¼›drive.mount(â€˜/content/driveâ€™) è¿›è¡ŒæŒ‚è½½è§£å†³ã€‚</li><li>Google Clab ä¸€æ®µæ—¶é—´ä¸è¿›è¡Œæ“ä½œåå°±ä¼šè‡ªåŠ¨ç»™æ–­å¼€çš„é—®é¢˜ï¼Œé€šè¿‡åœ¨æµè§ˆå™¨æ§åˆ¶å°ä½¿ç”¨ä¸€å°æ®µ js å‘½ä»¤è¿›è¡Œå®šæ—¶ trigger ä»¥é˜²æ­¢å®ƒæ— æ“ä½œä¹‹åå°±æ–­å¼€ã€‚ä½†æ˜¯åæ¥å‘ç°colabæŒ‚è½½æ—¶é—´åº”è¯¥æ˜¯10å°æ—¶å·¦å³ï¼Œæ‰€ä»¥è®­ç»ƒçš„æ—¶å€™è¦åŠ ä¸Š checkpointï¼Œé˜²æ­¢è®­ç»ƒæ¨¡å‹æ—¶é—´è¿‡é•¿ç™½ç™½æµªè´¹æ—¶é—´ã€‚</li><li>æ¨¡å‹åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œæœ‰æ—¶å€™ä¼šå‡ºç°ä¸­æ–­éœ€è¦é‡æ–°è¿æ¥çš„æƒ…å†µï¼Œåæ¥å‘ç°äº†è„šæœ¬ã€ŒæŒ‰é”®ç²¾çµã€ï¼Œå¦‚æœç¦»å¼€ç”µè„‘å°±F10å¯åŠ¨è„šæœ¬å·¦é”®ç‚¹å‡»åŠŸèƒ½ï¼Œå¯ä»¥é˜²æ­¢é•¿æ—¶é—´ä¸è¿æ¥å¯¼è‡´éœ€è¦é‡æ–°è®­ç»ƒã€‚</li><li>åœ¨è¯­ä¹‰åˆ†å‰²çš„è®­ç»ƒæ—¶ï¼Œä¸€å¼€å§‹ batch è®¾ç½®å¾—å¤ªå¤§äº†ï¼Œå‘ç°è®¾ç½®æ›´å°çš„ batch åœ¨è¾ƒå°‘çš„è®­ç»ƒè½®æ•° epoch å°±èƒ½è¾¾åˆ°å¤§çš„ batch_size æ›´å¤šè½® epoch ç›¸åŒçš„å‡†ç¡®åº¦ã€‚</li><li>æœ€æ—©åœ¨ã€ŒçŒ«ç‹—å¤§æˆ˜ã€çš„è®­ç»ƒä»»åŠ¡ä¸­æ¥è§¦åˆ°ã€Œå­¦ä¹ ç‡ã€ï¼Œé€‰æ‹©è¾ƒå¤§çš„å­¦ä¹ ç‡ä¼šå¯¼è‡´åœ¨æŸå¤±å‡½æ•°ä¸Šäº§ç”Ÿä¸å¥½çš„åæœï¼Œlossä¼šéœ‡è¡ä¸ç¨³å®šï¼Œä½†é€‰æ‹©è¾ƒå°çš„å­¦ä¹ ç‡ç¥ç»ç½‘ç»œè®­ç»ƒçš„è€—æ—¶ä¼šå¢åŠ ï¼Œå¯ä»¥èƒ½ä½¿å¾—ç¥ç»ç½‘ç»œå›°åœ¨ä¸€ä¸ªå±€éƒ¨æœ€å°å€¼é‡Œã€‚åæ¥å‘ç°äº†å¯ä»¥ä½¿ç”¨ä¸€ä¸ªå°æŠ€å·§ learning rate annealing å­¦ä¹ é€Ÿç‡é€€ç«ï¼Œå…ˆä»ä¸€ä¸ªæ¯”è¾ƒé«˜çš„å­¦ä¹ é€Ÿç‡å¼€å§‹ï¼Œç„¶åæ…¢æ…¢åœ°åœ¨è®­ç»ƒ epoch ä¸­é™ä½å­¦ä¹ é€Ÿç‡ã€‚</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;æ·±åº¦å­¦ä¹ æŠ€æœ¯ä¸ç†è®º&quot;&gt;&lt;a href=&quot;#æ·±åº¦å­¦ä¹ æŠ€æœ¯ä¸ç†è®º&quot; class=&quot;headerlink&quot; title=&quot;æ·±åº¦å­¦ä¹ æŠ€æœ¯ä¸ç†è®º&quot;&gt;&lt;/a&gt;æ·±åº¦å­¦ä¹ æŠ€æœ¯ä¸ç†è®º&lt;/h3&gt;&lt;p&gt;ä¸€ã€ç®€ç­”é¢˜(50 åˆ†)ã€‚&lt;br&gt; 1ã€Sigmoid, Tanh, Relu è¿™ä¸‰ä¸ª
      
    
    </summary>
    
    
    
      <category term="Deep Learning" scheme="https://github.com/liysky/liysky.github.io.git/tags/Deep-Learning/"/>
    
  </entry>
  
  <entry>
    <title>git frequently used actions</title>
    <link href="https://github.com/liysky/liysky.github.io.git/2021/05/27/git-frequently-used-actions/"/>
    <id>https://github.com/liysky/liysky.github.io.git/2021/05/27/git-frequently-used-actions/</id>
    <published>2021-05-27T04:37:33.000Z</published>
    <updated>2021-09-06T16:24:05.965Z</updated>
    
    <content type="html"><![CDATA[<h2 id="git-è®°è¦"><a href="#git-è®°è¦" class="headerlink" title="git è®°è¦"></a>git è®°è¦</h2><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20210527110137668.png" alt="image-20210527110137668" style="zoom:50%;" /></p><h3 id="git-add-git-checkout"><a href="#git-add-git-checkout" class="headerlink" title="git add , git checkout"></a>git add , git checkout</h3><p>git add åä¿®æ”¹æ–‡ä»¶ï¼Œå¯ä»¥å†ä½¿ç”¨ git checkout ä½¿å¾— work dir è¿”å›åˆ° stage åŒºçš„åˆšåˆš git add çš„çŠ¶æ€</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20210527110510521.png" alt="image-20210527110510521"></p><h3 id="ä¿å­˜-git-commit-m-â€™xxxâ€™-git-commit-â€”amend"><a href="#ä¿å­˜-git-commit-m-â€™xxxâ€™-git-commit-â€”amend" class="headerlink" title="ä¿å­˜ git commit -m â€™xxxâ€™ , git commit â€”amend"></a>ä¿å­˜ git commit -m â€™xxxâ€™ , git commit â€”amend</h3><p>å°† stage åŒºæ–‡ä»¶æäº¤åˆ° history åŒºï¼Œè¿›å…¥history åçš„ä¿®æ”¹å°†æ°¸è¿œä¸ä¼šä¸¢å¤±ã€‚</p><h3 id="åæ‚”ä¹‹å°æ‚”-git-reset"><a href="#åæ‚”ä¹‹å°æ‚”-git-reset" class="headerlink" title="åæ‚”ä¹‹å°æ‚” git reset"></a>åæ‚”ä¹‹å°æ‚” git reset</h3><p>git reset a.txt å¯ä»¥å°†å·²ç»ä½¿ç”¨ git add å‘½ä»¤å°†å…¶æ·»åŠ åˆ° stage åŒºçš„ a.txt è¿˜åŸåˆ° work dirã€‚</p><h3 id="ä»-work-dir-åŒºæäº¤åˆ°-historyåŒº"><a href="#ä»-work-dir-åŒºæäº¤åˆ°-historyåŒº" class="headerlink" title="ä» work dir åŒºæäº¤åˆ° historyåŒº"></a>ä» work dir åŒºæäº¤åˆ° historyåŒº</h3><p>git add . ç„¶åä½¿ç”¨ git commit -m â€˜xxxxâ€™</p><p>ç®€ç•¥å†™æ³•ï¼šgit commit -a</p><h3 id="åæ‚”ä¹‹å¤§æ‚”-git-checkout-HEAD"><a href="#åæ‚”ä¹‹å¤§æ‚”-git-checkout-HEAD" class="headerlink" title="åæ‚”ä¹‹å¤§æ‚” git checkout HEAD ."></a>åæ‚”ä¹‹å¤§æ‚” git checkout HEAD .</h3><p>ä½¿ç”¨ git checkout HEAD . å¯ä»¥æ¢å¤æ–‡ä»¶åˆ°æœ€åˆçš„æœªä¿®æ”¹çš„çŠ¶æ€ã€‚</p><p>å¦‚æœæƒ³è¦æ¢å¤åˆ°ä»»ä½•ä¸€ä¸ªçŠ¶æ€ï¼Œå¯ä»¥ä½¿ç”¨ git checkout hashvalueã€‚</p><p>é£é™©ï¼š<code>é«˜é£é™©</code>ï¼Œè¿™ä¸ªæ“ä½œä¼šå°† work dir çš„æ•°æ®æ¢å¤æŒ‡å®šæˆä¸º commit çš„æ ·å­ï¼Œä¸”ä¼šåˆ é™¤ stage ä¸­çš„æ•°æ®ï¼Œæ— æ³•æ¢å¤ã€‚</p><h3 id="åˆå¹¶å¤šä¸ª-commitï¼Œgit-reset-hashxxx"><a href="#åˆå¹¶å¤šä¸ª-commitï¼Œgit-reset-hashxxx" class="headerlink" title="åˆå¹¶å¤šä¸ª commitï¼Œgit reset hashxxx"></a>åˆå¹¶å¤šä¸ª commitï¼Œgit reset hashxxx</h3><p>å¦‚æœæœ‰å¤šä¸ª commitï¼Œå¯ä»¥é€šè¿‡ git reset æ¥å°†å®ƒä»¬åˆå¹¶ä¸ºä¸€ä¸ª commit ã€‚</p><p>ä½¿ç”¨ git reset hashvaluexxx ï¼Œç›¸å½“äº HEAD ç§»åŠ¨åˆ°äº†æŸä¸€ä¸ª commitï¼Œä¸”ä¸ä¼šä¿®æ”¹ work dir ä¸­çš„æ•°æ®ï¼Œæ‰€ä»¥åªè¦å†æ¬¡ git add. å’Œ git commit ä¹‹åå°±ç›¸å½“äºæŠŠä¹‹å‰çš„å¤šä¸ª commit åˆå¹¶åˆ°äº†ä¸€ä¸ªã€‚</p><p>è¿™æ ·ä¹‹åä¹‹å‰æ‰€æœ‰çš„ commit éƒ½æ— æ³•çœ‹åˆ°äº†ï¼Œå¯ä»¥é€šè¿‡ä½¿ç”¨ <code>git reflog</code> æ¥æŸ¥çœ‹ä¹‹å‰æ‰€æœ‰çš„å†å²è®°å½•ã€‚</p><h3 id="å°†æœ¬åœ°åŸæœ‰ä»“åº“æ·»åŠ åˆ°è¿œç¨‹å·²æœ‰ä»“åº“æ—¶å‡ºç°çš„é—®é¢˜"><a href="#å°†æœ¬åœ°åŸæœ‰ä»“åº“æ·»åŠ åˆ°è¿œç¨‹å·²æœ‰ä»“åº“æ—¶å‡ºç°çš„é—®é¢˜" class="headerlink" title="å°†æœ¬åœ°åŸæœ‰ä»“åº“æ·»åŠ åˆ°è¿œç¨‹å·²æœ‰ä»“åº“æ—¶å‡ºç°çš„é—®é¢˜"></a>å°†æœ¬åœ°åŸæœ‰ä»“åº“æ·»åŠ åˆ°è¿œç¨‹å·²æœ‰ä»“åº“æ—¶å‡ºç°çš„é—®é¢˜</h3><p>å¦‚æœæœ¬åœ°å’Œè¿œç¨‹ä»“åº“æœ‰ä¸ç›¸å…³çš„å†å²è®°å½•ï¼Œæ— æ³•åˆå¹¶ï¼Œå¦‚ï¼š</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20210907002051867.png" alt="image-20210907002051867" style="zoom:67%;" /></p><p>å¯ä»¥ä½¿ç”¨ï¼š</p><p><code>git pull origin main --allow-unrelated-histories</code> å³ï¼Œæ·»åŠ <code>--allow-unrelated-histories</code> å‚æ•°</p><ul><li><p>ç„¶åä¼šè‡ªåŠ¨è¿›å…¥ vim ï¼Œç¼–è¾‘å®Œå†²çªéƒ¨åˆ†ï¼Œé€‰æ‹©è¯¥ç•™ä¸‹å“ªäº›ï¼Œå† <code>:wq</code> ä¿å­˜</p></li><li><p>ç„¶åä½¿ç”¨ <code>git add xxx</code> æ·»åŠ ä¿®æ”¹æ–‡ä»¶ï¼Œä½¿ç”¨ <code>git commit xxx</code> æ·»åŠ commit</p></li><li>å†æ¬¡ä½¿ç”¨ <code>git push -u origin main</code> å°†æœ¬åœ°ä»“åº“ä¸è¿œç¨‹ä»“åº“è¿›è¡Œåˆå¹¶å³å¯ã€‚</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;git-è®°è¦&quot;&gt;&lt;a href=&quot;#git-è®°è¦&quot; class=&quot;headerlink&quot; title=&quot;git è®°è¦&quot;&gt;&lt;/a&gt;git è®°è¦&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;https://jaximage-1253102271.cos.ap-beijing.m
      
    
    </summary>
    
    
    
      <category term="git" scheme="https://github.com/liysky/liysky.github.io.git/tags/git/"/>
    
  </entry>
  
  <entry>
    <title>OS-Learning: Linux Homebrew</title>
    <link href="https://github.com/liysky/liysky.github.io.git/2021/05/12/OS-Learning-Linux-Homebrew/"/>
    <id>https://github.com/liysky/liysky.github.io.git/2021/05/12/OS-Learning-Linux-Homebrew/</id>
    <published>2021-05-12T14:38:14.000Z</published>
    <updated>2021-06-13T13:26:52.396Z</updated>
    
    <content type="html"><![CDATA[<h3 id="OS-Learning-Linux-Homebrew"><a href="#OS-Learning-Linux-Homebrew" class="headerlink" title="OS-Learning: Linux Homebrew"></a>OS-Learning: Linux Homebrew</h3><h2 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h2><p><strong>ç¨‹åºç¼–è¯‘è¿‡ç¨‹</strong></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/f2b10135ed52436888a793327e4d5a4a.jpg" alt="img" style="zoom:50%;" /></p><p><code>gcc helloworld.c -E -o helloworld.i</code> é¢„å¤„ç†ï¼šåŠ å…¥å¤´æ–‡ä»¶ï¼Œæ›¿æ¢å®ã€‚</p><p><code>gcc helloworld.c -s -c helloworld.s</code> ç¼–è¯‘ï¼šåŒ…å«é¢„å¤„ç†ï¼Œå°† C ç¨‹åºè½¬æ¢æˆæ±‡ç¼–ç¨‹åº</p><p><code>gcc helloworld.c -c helloworld.o</code> æ±‡ç¼–ï¼šå°†æ±‡ç¼–ç¨‹åºè½¬æ¢æˆå¯é“¾æ¥çš„äºŒè¿›åˆ¶ç¨‹åº</p><p><code>gcc helloworld.c -o helloworld</code> é“¾æ¥ï¼šåŒ…å«äº†ä»¥ä¸Šçš„æ‰€æœ‰æ“ä½œï¼Œç›´æ¥å°†å¯é“¾æ¥çš„äºŒè¿›åˆ¶ç¨‹åºå’Œå…¶ä»–åˆ«çš„åº“é“¾æ¥åœ¨ä¸€èµ·ï¼Œå½¢æˆå¯æ‰§è¡Œçš„ç¨‹åºæ–‡ä»¶ã€‚</p><h3 id="PC-OS-å¼•å¯¼æµç¨‹"><a href="#PC-OS-å¼•å¯¼æµç¨‹" class="headerlink" title="PC OS å¼•å¯¼æµç¨‹"></a>PC OS å¼•å¯¼æµç¨‹</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/f2d31ab7144bf309761711efa9d6d4bd.jpg" alt="img"></p><ul><li><p>PC æœºçš„ BIOS å›ºä»¶æ˜¯å›ºåŒ–åœ¨ PC æœºä¸»æ¿ä¸Šçš„ ROMèŠ¯ç‰‡ä¸­çš„ï¼Œæ‰ç”µä¹Ÿèƒ½ä¿å­˜</p></li><li><p>PC æœºä¸Šç”µåçš„ç¬¬ä¸€æ¡æŒ‡ä»¤å°±æ˜¯ BIOS å›ºä»¶ä¸­çš„ï¼Œå®ƒè´Ÿè´£ <strong>æ£€æµ‹å’Œåˆå§‹åŒ– CPUã€å†…å­˜ä»¥åŠä¸»æ¿å¹³å°</strong>ï¼Œç„¶åæ˜¯å¤¹åœ¨å¼•å¯¼è®¾å¤‡ï¼ˆå¤§æ¦‚ç‡æ˜¯ç¡¬ç›˜ï¼‰ä¸­çš„ç¬¬ä¸€ä¸ªæ‰‡åŒºæ•°æ®ï¼Œåˆ° 0x7c00åœ°å€å¼€å§‹çš„å†…å­˜ç©ºé—´ï¼Œæ¥ç€å†è·³è½¬åˆ° 0x7c00å¤„æ‰§è¡ŒæŒ‡ä»¤ï¼Œè¿™é‡Œä¸º GRUB å¼•å¯¼ç¨‹åºã€‚</p></li><li>UEFI æ¨¡å¼ä¸ä¸Šæœ‰å·®å¼‚ï¼šwww.uefi.org</li></ul><p><strong>åˆå§‹æ±‡ç¼–ä»£ç </strong></p><ul><li>å®šä¹‰ GRUB å¤šåè®®å¤´ï¼Œå³ä¸€å®šæ ¼å¼çš„æ•°æ®ï¼Œå…¼å®¹ GRUB1å’ŒGRUB2</li><li>å…³é—­ä¸­æ–­ï¼Œè®¾å®š CPU çš„å·¥ä½œæ¨¡å¼</li><li>åˆå§‹åŒ– CPU çš„å¯„å­˜å™¨å’Œ C è¯­è¨€çš„è¿è¡Œç¯å¢ƒ</li><li>GDT_STARTå¼€å§‹å¤„ï¼Œä¸º CPU å·¥ä½œæ¨¡å¼æ‰€éœ€è¦çš„æ•°æ®</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line">;å½­ä¸œ @ 2021.01.09</span><br><span class="line">MBT_HDR_FLAGS EQU 0x00010003</span><br><span class="line">MBT_HDR_MAGIC EQU 0x1BADB002 ;å¤šå¼•å¯¼åè®®å¤´é­”æ•°</span><br><span class="line">MBT_HDR2_MAGIC EQU 0xe85250d6 ;ç¬¬äºŒç‰ˆå¤šå¼•å¯¼åè®®å¤´é­”æ•°</span><br><span class="line">global _start ;å¯¼å‡º_startç¬¦å·</span><br><span class="line">extern main ;å¯¼å…¥å¤–éƒ¨çš„mainå‡½æ•°ç¬¦å·</span><br><span class="line">[section .start.text] ;å®šä¹‰.start.textä»£ç èŠ‚</span><br><span class="line">[bits 32] ;æ±‡ç¼–æˆ32ä½ä»£ç </span><br><span class="line">_start:</span><br><span class="line">jmp _entry</span><br><span class="line">ALIGN 8</span><br><span class="line">mbt_hdr:</span><br><span class="line">dd MBT_HDR_MAGIC</span><br><span class="line">dd MBT_HDR_FLAGS</span><br><span class="line">dd -(MBT_HDR_MAGIC+MBT_HDR_FLAGS)</span><br><span class="line">dd mbt_hdr</span><br><span class="line">dd _start</span><br><span class="line">dd 0</span><br><span class="line">dd 0</span><br><span class="line">dd _entry</span><br><span class="line">;ä»¥ä¸Šæ˜¯GRUBæ‰€éœ€è¦çš„å¤´</span><br><span class="line">ALIGN 8</span><br><span class="line">mbt2_hdr:</span><br><span class="line">DD MBT_HDR2_MAGIC</span><br><span class="line">DD 0</span><br><span class="line">DD mbt2_hdr_end - mbt2_hdr</span><br><span class="line">DD -(MBT_HDR2_MAGIC + 0 + (mbt2_hdr_end - mbt2_hdr))</span><br><span class="line">DW 2, 0</span><br><span class="line">DD 24</span><br><span class="line">DD mbt2_hdr</span><br><span class="line">DD _start</span><br><span class="line">DD 0</span><br><span class="line">DD 0</span><br><span class="line">DW 3, 0</span><br><span class="line">DD 12</span><br><span class="line">DD _entry</span><br><span class="line">DD 0</span><br><span class="line">DW 0, 0</span><br><span class="line">DD 8</span><br><span class="line">mbt2_hdr_end:</span><br><span class="line">;ä»¥ä¸Šæ˜¯GRUB2æ‰€éœ€è¦çš„å¤´</span><br><span class="line">;åŒ…å«ä¸¤ä¸ªå¤´æ˜¯ä¸ºäº†åŒæ—¶å…¼å®¹GRUBã€GRUB2</span><br><span class="line">ALIGN 8</span><br><span class="line">_entry:</span><br><span class="line">;å…³ä¸­æ–­</span><br><span class="line">cli</span><br><span class="line">;å…³ä¸å¯å±è”½ä¸­æ–­</span><br><span class="line">in al, 0x70</span><br><span class="line">or al, 0x80</span><br><span class="line">out 0x70,al</span><br><span class="line">;é‡æ–°åŠ è½½GDT</span><br><span class="line">lgdt [GDT_PTR]</span><br><span class="line">jmp dword 0x8 :_32bits_mode</span><br><span class="line">_32bits_mode:</span><br><span class="line">;ä¸‹é¢åˆå§‹åŒ–Cè¯­è¨€å¯èƒ½ä¼šç”¨åˆ°çš„å¯„å­˜å™¨</span><br><span class="line">mov ax, 0x10</span><br><span class="line">mov ds, ax</span><br><span class="line">mov ss, ax</span><br><span class="line">mov es, ax</span><br><span class="line">mov fs, ax</span><br><span class="line">mov gs, ax</span><br><span class="line">xor eax,eax</span><br><span class="line">xor ebx,ebx</span><br><span class="line">xor ecx,ecx</span><br><span class="line">xor edx,edx</span><br><span class="line">xor edi,edi</span><br><span class="line">xor esi,esi</span><br><span class="line">xor ebp,ebp</span><br><span class="line">xor esp,esp</span><br><span class="line">;åˆå§‹åŒ–æ ˆï¼ŒCè¯­è¨€éœ€è¦æ ˆæ‰èƒ½å·¥ä½œ</span><br><span class="line">mov esp,0x9000</span><br><span class="line">;è°ƒç”¨Cè¯­è¨€å‡½æ•°main</span><br><span class="line">;è¿™é‡Œæ˜¯è°ƒç”¨äº†å¤–éƒ¨çš„ C è¯­è¨€çš„ main å‡½æ•°</span><br><span class="line">call main</span><br><span class="line">;è®©CPUåœæ­¢æ‰§è¡ŒæŒ‡ä»¤</span><br><span class="line">halt_step:</span><br><span class="line">halt</span><br><span class="line">jmp halt_step</span><br><span class="line">GDT_START:</span><br><span class="line">knull_dsc: dq 0</span><br><span class="line">kcode_dsc: dq 0x00cf9e000000ffff</span><br><span class="line">kdata_dsc: dq 0x00cf92000000ffff</span><br><span class="line">k16cd_dsc: dq 0x00009e000000ffff</span><br><span class="line">k16da_dsc: dq 0x000092000000ffff</span><br><span class="line">GDT_END:</span><br><span class="line">GDT_PTR:</span><br><span class="line">GDTLEN dw GDT_END-GDT_START-1</span><br><span class="line">GDTBASE dd GDT_START</span><br></pre></td></tr></table></figure><p>main å‡½æ•°</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">"Hello OS!"</span>); <span class="comment">//è¿™é‡Œçš„ printf ä¹Ÿæ˜¯éœ€è¦è‡ªå·±å®ç°çš„</span></span><br><span class="line">  <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ§åˆ¶è®¡ç®—æœºçš„å±å¹•"><a href="#æ§åˆ¶è®¡ç®—æœºçš„å±å¹•" class="headerlink" title="æ§åˆ¶è®¡ç®—æœºçš„å±å¹•"></a>æ§åˆ¶è®¡ç®—æœºçš„å±å¹•</h3><p>è°ƒç”¨å‡½æ•°å°†æˆ‘ä»¬æƒ³è¦ç°å®çš„å­—ç¬¦ä¸²é‡Œçš„æ¯ä¸ªå­—ç¬¦ä¾æ¬¡å†™å…¥åˆ° 0xb8000 åœ°å€å¼€å§‹çš„æ˜¾å­˜ä¸­ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//å½­ä¸œ @ 2021.01.09</span></span><br><span class="line"><span class="keyword">void</span> _strwrite(<span class="keyword">char</span>* <span class="built_in">string</span>)</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">char</span>* p_strdst = (<span class="keyword">char</span>*)(<span class="number">0xb8000</span>);<span class="comment">//æŒ‡å‘æ˜¾å­˜çš„å¼€å§‹åœ°å€</span></span><br><span class="line">  <span class="keyword">while</span> (*<span class="built_in">string</span>)</span><br><span class="line">  &#123;</span><br><span class="line">    *p_strdst = *<span class="built_in">string</span>++;</span><br><span class="line">    p_strdst += <span class="number">2</span>; <span class="comment">//+2 æ˜¯ä¸ºäº†è·³è¿‡å­—ç¬¦çš„é¢œè‰²ä¿¡æ¯çš„ç©ºé—´</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printf</span><span class="params">(<span class="keyword">char</span>* fmt, ...)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  _strwrite(fmt);</span><br><span class="line">  <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>make å·¥å…·</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">CC = gcc #å®šä¹‰ä¸€ä¸ªå®CC ç­‰äºgcc</span><br><span class="line">CFLAGS = -c #å®šä¹‰ä¸€ä¸ªå® CFLAGS ç­‰äº-c</span><br><span class="line">OBJS_FILE = file.c file1.c file2.c file3.c file4.c #å®šä¹‰ä¸€ä¸ªå®</span><br><span class="line">.PHONY : all everything #å®šä¹‰ä¸¤ä¸ªä¼ªç›®æ ‡allã€everything</span><br><span class="line">all:everything #ä¼ªç›®æ ‡allä¾èµ–äºä¼ªç›®æ ‡everything</span><br><span class="line">everything :$( OBJS_FILE) #ä¼ªç›®æ ‡everythingä¾èµ–äºOBJS_FILEï¼Œè€ŒOBJS_FILEæ˜¯å®ä¼šè¢«</span><br><span class="line">#æ›¿æ¢æˆfile.c file1.c file2.c file3.c file4.c</span><br><span class="line">%.o : %.c</span><br><span class="line">$(CC) $(CFLAGS) -o $@ $&lt;</span><br></pre></td></tr></table></figure><ul><li><p>.PHONY åœ¨ makefile ä¸­è¡¨ç¤ºå®šä¹‰ä¼ªç›®æ ‡ã€‚æ‰€è°“ä¼ªç›®æ ‡ï¼Œå°±æ˜¯å®ƒä¸ä»£è¡¨ä¸€ä¸ªçœŸæ­£çš„æ–‡ä»¶åï¼Œåœ¨æ‰§è¡Œ make æ—¶å¯ä»¥æŒ‡å®šè¿™ä¸ªç›®æ ‡æ¥æ‰§è¡Œå…¶æ‰€åœ¨è§„åˆ™å®šä¹‰çš„å‘½ä»¤ã€‚ä½†æ˜¯ä¼ªç›®æ ‡å¯ä»¥ä¾èµ–äºå¦ä¸€ä¸ªä¼ªç›®æ ‡æˆ–è€…æ–‡ä»¶ï¼Œä¾‹å¦‚ï¼šall ä¾èµ–äº everythingï¼Œeverything æœ€ç»ˆä¾èµ–äº file.c file1.c file2.c file3.c file4.cã€‚</p></li><li><p>é’ˆå¯¹è¿™äº›ä¾èµ–å…³ç³»ï¼Œåˆ†åˆ«ä¼šæ‰§è¡Œï¼š$(CC) $(CFLAGS) -o $@ $&lt; å‘½ä»¤ï¼Œå½“ç„¶æœ€ç»ˆä¼šè½¬æ¢ä¸ºï¼šgcc â€“c â€“o xxxx.o xxxx.cï¼Œè¿™é‡Œçš„â€œxxxxâ€è¡¨ç¤ºä¸€ä¸ªå…·ä½“çš„æ–‡ä»¶åã€‚</p></li></ul><h3 id="Hello-OS-æ•´ä¸ªç¼–è¯‘è¿‡ç¨‹"><a href="#Hello-OS-æ•´ä¸ªç¼–è¯‘è¿‡ç¨‹" class="headerlink" title="Hello OS  æ•´ä¸ªç¼–è¯‘è¿‡ç¨‹"></a>Hello OS  æ•´ä¸ªç¼–è¯‘è¿‡ç¨‹</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/cbd634cd5256e372bcbebd4b95f21b34.jpg" alt="img" style="zoom:50%;" /></p><p>å®‰è£… Hello OS</p><ul><li><p>ç»è¿‡ä¸Šè¿°æµç¨‹å°†ä¼šå¾—åˆ° Hello OS.bin æ–‡ä»¶</p></li><li><p>è®¾ç½® GRUB æ‰¾åˆ° bin æ–‡ä»¶</p></li><li><p>GRUB å¯åŠ¨æ—¶ä¼šåŠ è½½ grub.cfg æ–‡ä»¶ï¼Œè®¾ç½®å¯åŠ¨é¡¹ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">menuentry 'HelloOS' &#123;</span><br><span class="line">     insmod part_msdos #GRUBåŠ è½½åˆ†åŒºæ¨¡å—è¯†åˆ«åˆ†åŒº</span><br><span class="line">     insmod ext2 #GRUBåŠ è½½extæ–‡ä»¶ç³»ç»Ÿæ¨¡å—è¯†åˆ«extæ–‡ä»¶ç³»ç»Ÿ</span><br><span class="line">     set root='hd0,msdos4' #æ³¨æ„bootç›®å½•æŒ‚è½½çš„åˆ†åŒºï¼Œè¿™æ˜¯æˆ‘æœºå™¨ä¸Šçš„æƒ…å†µ</span><br><span class="line">     multiboot2 /boot/HelloOS.bin #GRUBä»¥multiboot2åè®®åŠ è½½ï¼Œå¦‚æœæŒ‚è½½ç‚¹æ˜¯ /boot çš„è¯ï¼Œéœ€è¦çœç•¥æ‰/boot ç„¶åæŒ‚è½½ HelloOS.bin</span><br><span class="line">     boot #GRUBå¯åŠ¨HelloOS.bin</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Linux ç³»ç»Ÿä¸‹å¯ä»¥é€šè¿‡ df æ¥çœ‹ /bootç›®å½•æŒ‚è½½çš„åˆ†åŒºã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">æ–‡ä»¶ç³»ç»Ÿ          <span class="number">1</span>K-å—    å·²ç”¨     å¯ç”¨      å·²ç”¨% æŒ‚è½½ç‚¹</span><br><span class="line">/dev/sda4      <span class="number">48752308</span> <span class="number">8087584</span> <span class="number">38158536</span>   <span class="number">18</span>%    /</span><br></pre></td></tr></table></figure><p>â€œsda4â€å°±æ˜¯ç¡¬ç›˜çš„ç¬¬å››ä¸ªåˆ†åŒºï¼Œä½†æ˜¯ GRUB çš„ menuentry ä¸­ä¸èƒ½å†™ sda4ï¼Œè€Œæ˜¯è¦å†™â€œhd0,msdos4â€ï¼Œè¿™æ˜¯ GRUB çš„å‘½åæ–¹å¼ï¼Œhd0 è¡¨ç¤ºç¬¬ä¸€å—ç¡¬ç›˜ï¼Œç»“åˆèµ·æ¥å°±æ˜¯ç¬¬ä¸€å—ç¡¬ç›˜çš„ç¬¬å››ä¸ªåˆ†åŒº</p></li></ul><h2 id="è®¾è®¡è“å›¾"><a href="#è®¾è®¡è“å›¾" class="headerlink" title="è®¾è®¡è“å›¾"></a>è®¾è®¡è“å›¾</h2><h3 id="å†…æ ¸é€»è¾‘"><a href="#å†…æ ¸é€»è¾‘" class="headerlink" title="å†…æ ¸é€»è¾‘"></a>å†…æ ¸é€»è¾‘</h3><ul><li><strong>ç®¡ç† CPU</strong>ï¼Œç”±äº CPU æ˜¯æ‰§è¡Œç¨‹åºçš„ï¼Œå†…æ ¸æŠŠè¿è¡Œæ—¶çš„ç¨‹åºæŠ½è±¡æˆè¿›ç¨‹ï¼Œæ‰€ä»¥åˆç§°ä¹‹ä¸ºè¿›ç¨‹ç®¡ç†ã€‚</li><li><strong>ç®¡ç†å†…å­˜</strong>ï¼Œå†…æ ¸è¿›è¡Œå¯¹äºå†…å­˜çš„åˆ†é…å’Œé‡Šæ”¾</li><li><strong>ç®¡ç†ç¡¬ç›˜</strong>ï¼Œ å†…æ ¸æŠŠç”¨æˆ·æ•°æ®æŠ½è±¡æˆæ–‡ä»¶ï¼Œå³æ–‡ä»¶ç®¡ç†ï¼Œæ–¹ä¾¿ç”¨æˆ·è¿›è¡ŒæŸ¥æ‰¾å’Œè¯»å†™ï¼Œæ‰€ä»¥å½¢æˆäº†æ–‡ä»¶ç³»ç»Ÿã€‚</li><li><strong>ç®¡ç†æ˜¾å¡</strong>ï¼Œ å¯¹äº GUIçš„æ”¯æŒï¼Œå¯¹æ˜¾å¡çš„ç®¡ç†æˆä¸ºå†…æ ¸ä¸­çš„å›¾å½¢ç³»ç»Ÿã€‚</li><li><p><strong>ç®¡ç† I/O è®¾å¤‡</strong>ï¼Œå¯¹äºæ•°æ®è¾“å‡ºè®¾å¤‡çš„ I/O ç®¡ç†å™¨ã€‚</p></li><li><p><strong>ç®¡ç†ç¡¬ä»¶çš„é©±åŠ¨ç¨‹åº</strong>ï¼Œå†…æ ¸æƒ³è¦ç®¡ç†å’Œæ§åˆ¶ä¸åŒçš„ç¡¬ä»¶ï¼Œéœ€è¦å¯¹åº”çš„ä»£ç ï¼Œå³é©±åŠ¨ç¨‹åºã€‚</p></li></ul><h3 id="å®å†…æ ¸ç»“æ„"><a href="#å®å†…æ ¸ç»“æ„" class="headerlink" title="å®å†…æ ¸ç»“æ„"></a>å®å†…æ ¸ç»“æ„</h3><p>å®å†…æ ¸å°±æ˜¯æŠŠä»¥ä¸Šè¯¸å¦‚ç®¡ç†è¿›ç¨‹çš„ä»£ç ã€ç®¡ç†å†…å­˜çš„ä»£ç ã€ç®¡ç†å„ç§ I/O è®¾å¤‡çš„ä»£ç ã€æ–‡ä»¶ç³»ç»Ÿçš„ä»£ç ã€å›¾å½¢ç³»ç»Ÿä»£ç ä»¥åŠå…¶å®ƒåŠŸèƒ½æ¨¡å—çš„ä»£ç ï¼ŒæŠŠè¿™äº›æ‰€æœ‰çš„ä»£ç ç»è¿‡ç¼–è¯‘ï¼Œæœ€åé“¾æ¥åœ¨ä¸€èµ·ï¼Œå½¢æˆä¸€ä¸ªå¤§çš„å¯æ‰§è¡Œç¨‹åºã€‚</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/eb8e9487475f960dccda0fd939999b6b.jpg" alt="img" style="zoom:50%;" /></p><h3 id="å¾®å†…æ ¸ç»“æ„"><a href="#å¾®å†…æ ¸ç»“æ„" class="headerlink" title="å¾®å†…æ ¸ç»“æ„"></a>å¾®å†…æ ¸ç»“æ„</h3><p>å†…æ ¸åŠŸèƒ½å°½å¯èƒ½å°‘ï¼šä»…ä»…åªæœ‰è¿›ç¨‹è°ƒåº¦ã€å¤„ç†ä¸­æ–­ã€å†…å­˜ç©ºé—´æ˜ å°„ã€è¿›ç¨‹é—´é€šä¿¡ç­‰åŠŸèƒ½ã€‚</p><p>è¿™æ ·çš„å†…æ ¸æ˜¯ä¸èƒ½å®Œæˆä»€ä¹ˆå®é™…åŠŸèƒ½çš„ï¼Œå¼€å‘è€…ä»¬æŠŠå®é™…çš„è¿›ç¨‹ç®¡ç†ã€å†…å­˜ç®¡ç†ã€è®¾å¤‡ç®¡ç†ã€æ–‡ä»¶ç®¡ç†ç­‰æœåŠ¡åŠŸèƒ½ï¼Œåšæˆä¸€ä¸ªä¸ªæœåŠ¡è¿›ç¨‹ã€‚å’Œç”¨æˆ·åº”ç”¨è¿›ç¨‹ä¸€æ ·ï¼Œåªæ˜¯å®ƒä»¬å¾ˆç‰¹æ®Šï¼Œå®å†…æ ¸æä¾›çš„åŠŸèƒ½ï¼Œåœ¨å¾®å†…æ ¸æ¶æ„é‡Œç”±è¿™äº›æœåŠ¡è¿›ç¨‹ä¸“é—¨è´Ÿè´£å®Œæˆã€‚</p><p>å¾®å†…æ ¸å®šä¹‰äº†ä¸€ç§è‰¯å¥½çš„è¿›ç¨‹é—´é€šä¿¡çš„æœºåˆ¶â€”â€”æ¶ˆæ¯ã€‚åº”ç”¨ç¨‹åºè¦è¯·æ±‚ç›¸å…³æœåŠ¡ï¼Œå°±å‘å¾®å†…æ ¸å‘é€ä¸€æ¡ä¸æ­¤æœåŠ¡å¯¹åº”çš„æ¶ˆæ¯ï¼Œå¾®å†…æ ¸å†æŠŠè¿™æ¡æ¶ˆæ¯è½¬å‘ç»™ç›¸å…³çš„æœåŠ¡è¿›ç¨‹ï¼Œæ¥ç€æœåŠ¡è¿›ç¨‹ä¼šå®Œæˆç›¸å…³çš„æœåŠ¡ã€‚æœåŠ¡è¿›ç¨‹çš„ç¼–ç¨‹æ¨¡å‹å°±æ˜¯å¾ªç¯å¤„ç†æ¥è‡ªå…¶å®ƒè¿›ç¨‹çš„æ¶ˆæ¯ï¼Œå®Œæˆç›¸å…³çš„æœåŠ¡åŠŸèƒ½ã€‚</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/4b190d617206379ee6cd77fcea231c64.jpg" alt="img" style="zoom:50%;" /></p><h3 id="å†…æ ¸çš„ä¸‰ä¸ªå¤§å±‚"><a href="#å†…æ ¸çš„ä¸‰ä¸ªå¤§å±‚" class="headerlink" title="å†…æ ¸çš„ä¸‰ä¸ªå¤§å±‚"></a>å†…æ ¸çš„ä¸‰ä¸ªå¤§å±‚</h3><ul><li><p>å†…æ ¸æ¥å£å±‚</p><p>å®šä¹‰ä¸€å¥— UNIX æ¥å£çš„å­é›†ã€‚</p><p>æ£€æŸ¥æ¥å£çš„å‚æ•°æ˜¯å¦åˆæ³•ï¼Œå‡ºé”™è¿”å›é”™è¯¯ä¿¡æ¯ã€‚</p></li><li><p>å†…æ ¸åŠŸèƒ½å±‚</p><p>å®Œæˆå„ç§å®é™…åŠŸèƒ½ï¼Œå¦‚è¿›ç¨‹ç®¡ç†ï¼Œå†…å­˜ç®¡ç†ï¼Œä¸­æ–­ç®¡ç†ï¼Œè®¾å¤‡ç®¡ç†ã€‚</p></li><li><p>å†…æ ¸ç¡¬ä»¶å±‚</p><p>ç¡¬ä»¶åˆå§‹åŒ–ï¼ŒåŠ è½½å†…å­˜ä¸­æœ€å…ˆéœ€è¦è¿è¡Œçš„ä»£ç ï¼Œå¦‚CPUã€å†…å­˜ã€ä¸­æ–­ç­‰çš„æ§åˆ¶ã€‚</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/6cf68bebe4f114f00f848d1d5679d33c.jpg" alt="img" style="zoom:50%;" /></p></li></ul><h2 id="Linux-å†…æ ¸"><a href="#Linux-å†…æ ¸" class="headerlink" title="Linux å†…æ ¸"></a>Linux å†…æ ¸</h2><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/92ec3d008c77bb66a148772d3c5ea9cb.png" alt="img"></p><p>Linux æ˜¯å®å†…æ ¸æ¶æ„ã€‚</p><h2 id="Darwin-XNU-å†…æ ¸"><a href="#Darwin-XNU-å†…æ ¸" class="headerlink" title="Darwin-XNU å†…æ ¸"></a>Darwin-XNU å†…æ ¸</h2><p>Darwin æ˜¯ç”±è‹¹æœå…¬å¸åœ¨ 2000 å¹´å¼€å‘çš„ä¸€ä¸ªå¼€æºä»£ç çš„æ“ä½œç³»ç»Ÿã€‚</p><p>Darwin mac OS å’Œ iOS æ“ä½œç³»ç»Ÿçš„æ ¸å¿ƒã€‚</p><p>Darwin ä½¿ç”¨äº†ä¸€ç§å¾®å†…æ ¸ï¼ˆMachï¼‰å’Œå“åº”çš„å›ºä»¶æ¥æ”¯æŒä¸åŒçš„å¤„ç†å™¨å¹³å°ï¼Œå¹¶æä¾›æ“ä½œç³»ç»ŸåŸå§‹çš„åŸºç¡€æœåŠ¡ï¼Œä¸Šå†ŒåŠŸèƒ½æ€§ç³»ç»ŸæœåŠ¡å’Œå·¥å…·åˆ™æ˜¯æ•´åˆäº† BSD ç³»ç»Ÿæ‰€æä¾›çš„ã€‚è‹¹æœå…¬å¸ä¸ºå…¶å¼€å‘äº†å¤§é‡çš„åº“ã€æ¡†æ¶å’ŒæœåŠ¡ï¼Œä½†å®ƒä»¬éƒ½å·¥ä½œåœ¨ç”¨æˆ·æ€ä¸”é—­æºã€‚</p><p><strong>Darwin æ¶æ„ï¼š</strong></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/5e9bd6dd86fba5482fab14b6b292aa8d.jpg" alt="img" style="zoom:50%;" /></p><p>å†…æ ¸å±‚ä¸ºç”¨æˆ·è½¬æ¢å±‚ä»¥ä¸‹çš„éƒ¨åˆ†ï¼Œå®ƒæœ‰ä¸¤ä¸ªå†…æ ¸å±‚â€”â€”Mach å±‚ä¸ BSD å±‚ã€‚</p><p>Mach å†…æ ¸ï¼ˆå¾®å†…æ ¸ï¼‰æ˜¯å¡è€åŸºæ¢…éš†å¤§å­¦å¼€å‘çš„ç»å…¸å¾®å†…æ ¸ï¼Œæ„åœ¨æä¾›æœ€åŸºæœ¬çš„æ“ä½œç³»ç»ŸæœåŠ¡ã€‚</p><p>Mach æä¾›ç®€å•çš„è¿›ç¨‹ã€çº¿ç¨‹ã€IPCé€šä¿¡ã€è™šæ‹Ÿå†…å­˜è®¾å¤‡é©±åŠ¨ç›¸å…³çš„åŠŸèƒ½æœåŠ¡ã€‚</p><p>BSD åˆ™æ˜¯ä¼¯å…‹åˆ©å¤§å­¦å¼€å‘çš„ç±» UNIX æ“ä½œç³»ç»Ÿï¼Œæä¾›ä¸€æ•´å¥—æ“ä½œç³»ç»ŸæœåŠ¡ï¼Œå®ƒä»¬å·¥ä½œåœ¨ç”¨æˆ·æ€ä¸”é—­æºã€‚</p><p>BSD æä¾›å¼ºå¤§çš„å®‰å…¨ç‰¹æ€§ï¼Œå®Œå–„çš„ç½‘ç»œæœåŠ¡ï¼Œå„ç§æ–‡ä»¶ç³»ç»Ÿçš„æ”¯æŒï¼ŒåŒæ—¶å¯¹ Mach çš„è¿›ç¨‹ã€çº¿ç¨‹ã€IPC ã€è™šæ‹Ÿå†…æ ¸ç»„å»ºè¿›è¡Œç»†åŒ–ã€æ‹“å±•å»¶ä¼¸ã€‚</p><p><strong>åº”ç”¨ Darwin ç³»ç»Ÿçš„æœåŠ¡</strong></p><p>åœ¨è°ƒç”¨ Darwin ç³»ç»Ÿ API æ—¶ï¼Œä¼šä¼ å…¥ä¸€ä¸ªAPI å·ç ï¼Œæ­¤å·ç ç”¨ä»¥ç´¢å¼• Mach é™·å…¥ä¸­æ–­æœåŠ¡è¡¨ä¸­çš„å‡½æ•°ï¼Œè‹¥ API å·ç å°äº0ï¼Œåˆ™è¡¨æ˜è¯·æ±‚ Mach å†…æ ¸æœåŠ¡ï¼ŒAPI è‹¥å¤§äº0ï¼Œè¡¨æ˜è¯·æ±‚ BSD å†…æ ¸æœåŠ¡ã€‚</p><p>Mach ä¸­è¿˜æœ‰ä¸€ä¸ªé‡è¦ç»„å»º Libkernï¼Œä¸€ä¸ªåº“æ–‡ä»¶ï¼Œæä¾›äº†åº•å±‚çš„æ“ä½œå‡½æ•°ï¼ŒåŒæ—¶æ”¯æŒ C++ è¿è¡Œç¯å¢ƒã€‚</p><h3 id="Windows-NT-å†…æ ¸"><a href="#Windows-NT-å†…æ ¸" class="headerlink" title="Windows NT å†…æ ¸"></a>Windows NT å†…æ ¸</h3><p>å¾®è½¯åŸºäº MS- DOS å†…æ ¸å®ç°äº† windows 3.1ã€windows 95/98/ME ï¼Œä¸ç¨³å®šï¼Œå®¹æ˜“æ­»æœºã€‚</p><p>WIndows NT ä¸º1993å¹´å¾®è½¯æ¨å‡ºçš„é¢å½¢å·¥ä½œç«™ã€ç½‘ç»œæœåŠ¡å™¨å’Œå¤§å‹è®¡ç®—æœºçš„ç½‘ç»œæ“ä½œç³»ç»Ÿï¼Œä¹Ÿå¯ä½œä¸º PC æ“ä½œç³»ç»Ÿã€‚ NT ä¸º New Technologyã€‚</p><p>æ™®é€šç”¨æˆ·ç¬¬ä¸€æ¬¡æ¥è§¦åŸºäº NT å†…æ ¸çš„æ˜¯ Windows 2000ï¼Œå­˜åœ¨å¯¹äºç”¨æˆ·çš„ç¡¬ä»¶å’Œåº”ç”¨ç¨‹åºçš„å…¼å®¹æ€§çš„é—®é¢˜ã€‚</p><p>éšç€ç¡¬ä»¶å‚å•†å’Œåº”ç”¨å‚å•†å¯¹äºç¨‹åºçš„å‡çº§ï¼Œè¿™ä¸ªå…¼å®¹æ€§çš„é—®é¢˜è¢«ç¼“è§£äº†ï¼Œæ­¤åçš„ Windows XP å–å¾—äº†å·¨å¤§çš„æˆåŠŸã€‚</p><p><strong>Windows NT å†…æ ¸ï¼š</strong></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/c547b6252736375fcdb1456e6dfaa3c9.jpg" alt="img"></p><p>å¾®è½¯è‡ªå·±åœ¨ HAL å±‚ä¸Šæ˜¯å®šä¹‰äº†ä¸€ä¸ªå°å†…æ ¸ï¼Œå°å†…æ ¸ä¹‹ä¸‹æ˜¯ç¡¬ä»¶æŠ½è±¡å±‚ HALï¼Œè¿™ä¸ª HAL å­˜åœ¨çš„å¥½å¤„æ˜¯ï¼šä¸åŒçš„ç¡¬ä»¶å¹³å°åªè¦æä¾›å¯¹åº”çš„ HAL å°±å¯ä»¥ç§»æ¤ç³»ç»Ÿäº†ã€‚å°å†…æ ¸ä¹‹ä¸Šæ˜¯å„ç§å†…æ ¸ç»„ä»¶ï¼Œå¾®è½¯ç§°ä¹‹ä¸ºå†…æ ¸æ‰§è¡Œä½“ï¼Œå®ƒä»¬å®Œæˆè¿›ç¨‹ã€å†…å­˜ã€é…ç½®ã€I/O æ–‡ä»¶ç¼“å­˜ã€ç”µæºä¸å³æ’å³ç”¨ã€å®‰å…¨ç­‰ç›¸å…³çš„æœåŠ¡ã€‚</p><p>æ¯ä¸ªæ‰§è¡Œä½“äº’ç›¸ç‹¬ç«‹ï¼Œåªå¯¹å¤–æä¾›ç›¸åº”çš„æ¥å£ï¼Œå…¶å®ƒæ‰§è¡Œä½“è¦é€šè¿‡å†…æ ¸æ¨¡å¼å¯è°ƒç”¨æ¥å£å’Œå…¶å®ƒæ‰§è¡Œä½“é€šä¿¡æˆ–è€…è¯·æ±‚å…¶å®Œæˆç›¸åº”çš„åŠŸèƒ½æœåŠ¡ã€‚</p><p>è®¾å¤‡é©±åŠ¨å’Œæ–‡ä»¶ç³»ç»Ÿç”± I/O ç®¡ç†å™¨ç»Ÿä¸€ç®¡ç†ï¼Œé©±åŠ¨ç¨‹åºå¯ä»¥å †å å½¢æˆ I/Oé©±åŠ¨æ ˆï¼ŒåŠŸèƒ½è¯·æ±‚è¢«å°è£…æˆ I/OåŒ…ï¼Œåœ¨æ ˆä¸­ä¸€å±‚å±‚æµåŠ¨å¤„ç†ã€‚</p><p>Windows å¼•ä»¥ä¸ºå‚²çš„å›¾å½¢å­ç³»ç»Ÿä¹Ÿåœ¨å†…æ ¸ä¸­ã€‚</p><p>NT å†…æ ¸ä¸­å„å±‚æ¬¡åˆ†æ˜ï¼Œå„ä¸ªæ‰§è¡Œä½“ç›¸äº’ç‹¬ç«‹ï¼Œâ€œé«˜å†…èšï¼Œä½è€¦åˆâ€ã€‚</p><p>Linux æ€§èƒ½è‰¯å¥½ï¼Œç»“æ„å¼‚å¸¸å¤æ‚ï¼Œä¸åˆ©äºé—®é¢˜çš„æ’æŸ¥å’ŒåŠŸèƒ½çš„æ‹“å±•ï¼Œè€Œ Darwin- XNU å’Œ Windows ç»“æ„è‰¯å¥½ï¼Œå±‚é¢åˆ†æ˜ï¼Œåˆ©äºåŠŸèƒ½æ‹“å±•ï¼Œä¸å®¹æ˜“äº§ç”Ÿé—®é¢˜ä¸”æ€§èƒ½ç¨³å®šã€‚</p><p>Windows NT ä¸ºæ··åˆå†…æ ¸ã€‚</p><h2 id="ç¡¬ä»¶"><a href="#ç¡¬ä»¶" class="headerlink" title="ç¡¬ä»¶"></a>ç¡¬ä»¶</h2><h3 id="CPU-å·¥ä½œæ¨¡å¼"><a href="#CPU-å·¥ä½œæ¨¡å¼" class="headerlink" title="CPU å·¥ä½œæ¨¡å¼"></a>CPU å·¥ä½œæ¨¡å¼</h3><p>CPU çš„å·¥ä½œæ¨¡å¼æœ‰<strong>å®æ¨¡å¼ã€ä¿æŠ¤æ¨¡å¼ã€é•¿æ¨¡å¼</strong>ã€‚</p><p><strong>å®æ¨¡å¼</strong></p><p>åˆç§°åœ°å€æ¨¡å¼ï¼Œ<strong>ä¸€æ–¹é¢æ˜¯è¿è¡ŒçœŸæ­£çš„æŒ‡ä»¤ï¼Œå¯¹æŒ‡ä»¤çš„åŠ¨ä½œä¸ä½œåŒºåˆ†ï¼Œç›´æ¥æ‰§è¡ŒæŒ‡ä»¤çš„çœŸå®åŠŸèƒ½ï¼Œå¦ä¸€æ–¹é¢æ˜¯å‘å¾€å†…å­˜çš„åœ°å€æ˜¯çœŸå®çš„ï¼Œå¯¹ä»»ä½•åœ°å€ä¸åŠ é™åˆ¶åœ°å‘å¾€å†…å­˜ã€‚</strong></p><p><strong>å®æ¨¡å¼å¯„å­˜å™¨</strong></p><p>x86 CPU åœ¨å®æ¨¡å¼ä¸‹çš„å¯„å­˜å™¨ã€‚</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/f837811192730cc9c152afbcccf4eff8.jpeg" alt="img" style="zoom:50%;" /></p><p><strong>å®æ¨¡å¼ä¸‹è®¿é—®å†…å­˜</strong></p><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œéœ€è¦æŠŠæ•°æ®è£…è½½è¿›å¯„å­˜å™¨ä¸­æ‰èƒ½æ“ä½œï¼Œè¿˜è¦è·å–æŒ‡ä»¤çš„åŠ¨ä½œï¼Œè¿™äº›æ“ä½œéƒ½éœ€è¦è®¿é—®å†…å­˜ï¼Œè€Œè®¿é—®å†…å­˜é çš„æ˜¯åœ°å€å€¼ã€‚è€Œåœ°å€å€¼çš„è®¡ç®—æ–¹æ³•ï¼š</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/14633ea933972e19f3439eb6aeab3d13.jpg" alt="img" style="zoom:50%;" /></p><p>æ‰€æœ‰çš„å†…å­˜åœ°å€éƒ½æ˜¯ç”±æ®µå¯„å­˜å™¨å·¦ç§» 4 ä½ï¼Œå†åŠ ä¸Šä¸€ä¸ªé€šç”¨å¯„å­˜å™¨ä¸­çš„å€¼æˆ–è€…å¸¸æ•°å½¢æˆåœ°å€ï¼Œç„¶åç”±è¿™ä¸ªåœ°å€å»è®¿é—®å†…å­˜ã€‚è¿™å°±æ˜¯å¤§åé¼é¼çš„åˆ†æ®µå†…å­˜ç®¡ç†æ¨¡å‹ã€‚</p><p><strong>å®æ¨¡å¼ä¸­æ–­</strong></p><p>ä¸­æ–­å³ç»ˆæ­¢æ‰§è¡Œå½“å‰ç¨‹åºï¼Œè½¬è€Œè·³è½¬åˆ°å¦ä¸€ä¸ªç‰¹å®šçš„åœ°å€ä¸Šï¼Œå»è¿è¡Œç‰¹å®šçš„ä»£ç ã€‚åœ¨å®æ¨¡å¼ä¸‹å®ƒçš„å®ç°è¿‡ç¨‹æ˜¯å…ˆä¿å­˜ CS å’Œ IPå¯„å­˜å™¨ï¼Œç„¶åè£…è½½æ–°çš„ CS å’Œ IP å¯„å­˜å™¨ã€‚</p><p>ä¸­æ–­çš„äº§ç”Ÿï¼š</p><ul><li><p>ç¡¬ä»¶ä¸­æ–­ï¼šä¸­æ–­æ§åˆ¶å™¨ CPU å‘é€ä¸€ä¸ªç”µå­ä¿¡å·ï¼ŒCPU ä¼šå¯¹è¿™ä¸ªä¿¡å·ä½œå‡ºåº”ç­”ï¼Œéšåä¸­æ–­æ§åˆ¶å™¨ä¼šå°†ä¸­æ–­å·å‘é€ç»™ CPU ã€‚</p></li><li><p>è½¯ä»¶ä¸­æ–­ï¼ŒINT æŒ‡ä»¤ä¸­æ–­ï¼šCPU æ‰§è¡Œä¸€ä¸ª INT æŒ‡ä»¤ï¼Œè¿™ä¸ªæŒ‡ä»¤åé¢ä¼šè·Ÿéšä¸€ä¸ªå¸¸æ•°ï¼Œè¿™ä¸ªå¸¸æ•°å³ä¸ºè½¯ä¸­æ–­å·ã€‚</p></li></ul><p>å®ç°ä¸­æ–­ï¼Œéœ€è¦å†…å­˜ä¸­çš„ä¸€ä¸ªä¸­æ–­å‘é‡è¡¨ï¼Œè¡¨åœ°å€å’Œé•¿åº¦ç”± CPU ç‰¹å®šå¯„å­˜å™¨ IDTR æŒ‡å‘ï¼Œå®æ¨¡å¼ä¸‹ï¼Œè¡¨ä¸­çš„ä¸€ä¸ªæ¡ç›®ç”±ä»£ç åœ°å€å’Œæ®µå†…åç§»ç»„æˆï¼š</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/e8876e8561b949b8af5d5237e48f8757.jpg" alt="img" style="zoom:50%;" /></p><p>æœ‰äº†ä¸­æ–­å·ä»¥åï¼Œ CPU å°±èƒ½æ ¹æ® IDTR å¯„å­˜å™¨ä¸­çš„ä¿¡æ¯ï¼Œè®¡ç®—å‡ºä¸­æ–­å‘é‡ä¸­çš„æ¡ç›®ï¼Œè¿›è€Œè£…è½½ CSï¼ˆè£…å…¥ä»£ç æ®µåŸºåœ°å€ï¼‰ã€IPï¼ˆè£…å…¥ä»£ç æ®µå†…åç§»ï¼‰å¯„å­˜å™¨ï¼Œæœ€ç»ˆå“åº”ä¸­æ–­ã€‚</p><p><strong>ä¿æŠ¤æ¨¡å¼</strong></p><p>ç”±äº CPU çš„ç‰¹æ€§ï¼ŒCPU å¯¹ä»»ä½•æŒ‡ä»¤ä¸åŠ åŒºåˆ†åœ°æ‰§è¡Œï¼›CPU å¯¹è®¿é—®å†…å­˜çš„åœ°å€ä¸åŠ é™åˆ¶ã€‚</p><p>éšå¤šé“ç¨‹åºçš„å‡ºç°ï¼Œå†…å­˜éœ€æ±‚é‡çš„ä¸æ–­å¢åŠ ï¼ŒCPU å®ç°äº†ä¿æŠ¤æ¨¡å¼ä»¥æ”¯æŒéœ€æ±‚çš„å¢åŠ ã€‚</p><p>ä¿æŠ¤æ¨¡å¼åŒ…å«ç‰¹æƒçº§ï¼Œå¯¹æŒ‡ä»¤åŠå…¶è®¿é—®çš„èµ„æºè¿›è¡Œæ§åˆ¶ï¼Œå¯¹å†…å­˜æ®µä¸æ®µä¹‹é—´çš„è®¿é—®è¿›è¡Œä¸¥æ ¼æ£€æŸ¥ï¼Œæ²¡æœ‰æƒé™çš„ç»ä¸æ”¾è¡Œï¼Œå¯¹ä¸­æ–­çš„å“åº”ä¹Ÿè¦è¿›è¡Œä¸¥æ ¼çš„æƒé™æ£€æŸ¥ï¼Œæ‰©å±•äº† CPU å¯„å­˜å™¨ä½å®½ï¼Œä½¿ä¹‹èƒ½å¤Ÿå¯»å€ 32 ä½çš„å†…å­˜åœ°å€ç©ºé—´å’Œå¤„ç† 32 ä½çš„æ•°æ®ï¼Œä»è€Œ CPU çš„æ€§èƒ½å¤§å¤§æé«˜ã€‚</p><p><strong>é•¿æ¨¡å¼</strong></p><p>é•¿æ¨¡å¼åˆå AMD64ï¼Œå› ä¸ºè¿™ä¸ªæ ‡å‡†æ˜¯ AMD å…¬å¸æœ€æ—©å®šä¹‰çš„ï¼Œå®ƒä½¿ CPU åœ¨ç°æœ‰çš„åŸºç¡€ä¸Šæœ‰äº† 64 ä½çš„å¤„ç†èƒ½åŠ›ï¼Œæ—¢èƒ½å®Œæˆ 64 ä½çš„æ•°æ®è¿ç®—ï¼Œä¹Ÿèƒ½å¯»å€ 64 ä½çš„åœ°å€ç©ºé—´ã€‚è¿™åœ¨å¤§å‹è®¡ç®—æœºä¸ŠçŠ¹ä¸ºé‡è¦ï¼Œå› ä¸ºå®ƒä»¬çš„ç‰©ç†å†…å­˜é€šå¸¸æœ‰å‡ ç™¾ GBã€‚</p><p>é•¿æ¨¡å¼ <strong>å¼±åŒ–æ®µæ¨¡å¼ç®¡ç†</strong>ï¼Œåªä¿ç•™äº†æƒé™çº§åˆ«çš„æ£€æŸ¥ï¼Œå¿½ç•¥äº†æ®µåŸºå€å’Œæ®µé•¿åº¦ï¼Œè€Œåœ°å€çš„æ£€æŸ¥åˆ™äº¤ç»™äº† MMUã€‚</p><h3 id="ç¨‹åºä¸­çš„åœ°å€å¦‚ä½•è½¬æ¢"><a href="#ç¨‹åºä¸­çš„åœ°å€å¦‚ä½•è½¬æ¢" class="headerlink" title="ç¨‹åºä¸­çš„åœ°å€å¦‚ä½•è½¬æ¢"></a>ç¨‹åºä¸­çš„åœ°å€å¦‚ä½•è½¬æ¢</h3><p>å†…å­˜ç›¸å…³çš„è¿™å‡ ä¸ªæ ¸å¿ƒé—®é¢˜ï¼š</p><ol><li>è°æ¥ä¿è¯ç¨‹åº A è·Ÿç¨‹åº B æ²¡æœ‰å†…å­˜åœ°å€çš„å†²çªï¼Ÿæ¢å¥è¯è¯´ï¼Œå°±æ˜¯ç¨‹åº Aã€B å„è‡ªæ”¾åœ¨ä»€ä¹ˆå†…å­˜åœ°å€ï¼Œè¿™ä¸ªé—®é¢˜æ˜¯ç”± Aã€B ç¨‹åºåå•†ï¼Œè¿˜æ˜¯ç”±æ“ä½œç³»ç»Ÿå†³å®šã€‚2. æ€æ ·ä¿è¯ç¨‹åº A è·Ÿç¨‹åº B ä¸ä¼šäº’ç›¸è¯»å†™å„è‡ªçš„å†…å­˜ç©ºé—´ï¼Ÿè¿™ä¸ªé—®é¢˜ç›¸å¯¹ç®€å•ï¼Œç”¨ä¿æŠ¤æ¨¡å¼å°±èƒ½è§£å†³ã€‚3. å¦‚ä½•è§£å†³å†…å­˜å®¹é‡é—®é¢˜ï¼Ÿç¨‹åº A å’Œç¨‹åº Bï¼Œåœ¨ä¸æ–­å¼€å‘è¿­ä»£ä¸­ç¨‹åºä»£ç å ç”¨çš„ç©ºé—´ä¼šè¶Šæ¥è¶Šå¤§ï¼Œå¯¼è‡´å†…å­˜è£…ä¸ä¸‹ã€‚4. è¿˜è¦è€ƒè™‘ä¸€ä¸ªæ‰©å±•åçš„å¤æ‚æƒ…å†µï¼Œå¦‚æœä¸åªç¨‹åº Aã€Bï¼Œè¿˜å¯èƒ½æœ‰ç¨‹åº Cã€Dã€Eã€Fã€Gâ€¦â€¦å®ƒä»¬åˆ†åˆ«ç”±ä¸åŒçš„å…¬å¸å¼€å‘ï¼Œè€Œæ¯å°è®¡ç®—æœºçš„å†…å­˜å®¹é‡ä¸åŒã€‚è¿™æ—¶å€™ï¼Œåˆå¯¹æˆ‘ä»¬çš„å†…å­˜æ–¹æ¡ˆæœ‰æ€æ ·çš„å½±å“å‘¢ï¼Ÿè¦æƒ³å®Œç¾åœ°è§£å†³ä»¥ä¸Šæœ€æ ¸å¿ƒçš„ 4 ä¸ªé—®é¢˜ï¼Œä¸€ä¸ªè¾ƒå¥½çš„æ–¹æ¡ˆæ˜¯ï¼šè®©æ‰€æœ‰çš„ç¨‹åºéƒ½å„è‡ªäº«æœ‰ä¸€ä¸ªä» 0 å¼€å§‹åˆ°æœ€å¤§åœ°å€çš„ç©ºé—´ï¼Œè¿™ä¸ªåœ°å€ç©ºé—´æ˜¯ç‹¬ç«‹çš„ï¼Œæ˜¯è¯¥ç¨‹åºç§æœ‰çš„ï¼Œå…¶å®ƒç¨‹åºæ—¢çœ‹ä¸åˆ°ï¼Œä¹Ÿä¸èƒ½è®¿é—®è¯¥åœ°å€ç©ºé—´ï¼Œè¿™ä¸ªåœ°å€ç©ºé—´å’Œå…¶å®ƒç¨‹åºæ— å…³ï¼Œå’Œå…·ä½“çš„è®¡ç®—æœºä¹Ÿæ— å…³ã€‚</li></ol><p><strong>è™šæ‹Ÿåœ°å€</strong></p><p>è™šæ‹Ÿåœ°å€æ˜¯é€»è¾‘ä¸Šå­˜åœ¨çš„ä¸€ä¸ªæ•°æ®å€¼ã€‚Hello World çš„ä¾‹å­ï¼šä½¿ç”¨ objdump å·¥å…·åæ±‡ç¼–ä¸ºäºŒè¿›åˆ¶æ–‡ä»¶ä¼šå¾—åˆ°å¦‚ä¸‹ä»£ç ç‰‡æ®µï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">00000000000004e8 &lt;_init&gt;:</span><br><span class="line"> 4e8:  48 83 ec 08            sub    $0x8,%rsp</span><br><span class="line"> 4ec:  48 8b 05 f5 0a 20 00   mov    0x200af5(%rip),%rax        # 200fe8 &lt;__gmon_start__&gt;</span><br><span class="line"> 4f3:  48 85 c0               test   %rax,%rax</span><br><span class="line"> 4f6:  74 02                  je     4fa &lt;_init+0x12&gt;</span><br><span class="line"> 4f8:  ff d0                  callq  *%rax</span><br><span class="line"> 4fa:  48 83 c4 08            add    $0x8,%rsp</span><br><span class="line"> 4fe:  c3                     retq</span><br></pre></td></tr></table></figure><p>ç¬¬ä¸‰åˆ—ä¸­çš„ mov 0x200af5â€¦ æŒ‡ä»¤ä¸­çš„æ•°æ®å°±æ˜¯è™šæ‹Ÿåœ°å€ã€‚</p><p>æ‰€æœ‰åº”ç”¨ç¨‹åºçš„å¼€å§‹éƒ¨åˆ†éƒ½æ˜¯å¦‚ä¸Šè¿™æ ·çš„ï¼Œå› ä¸ºæ¯ä¸ªåº”ç”¨ç¨‹åºçš„è™šæ‹Ÿåœ°å€ç©ºé—´éƒ½æ˜¯ç›¸åŒä¸”ç‹¬ç«‹çš„ã€‚</p><p>è¿™ä¸ªåœ°å€çš„äº§ç”Ÿæ˜¯ç”±é“¾æ¥å™¨äº§ç”Ÿçš„ï¼Œè½¯ä»¶å¼€å‘ç»è¿‡ç¼–è¯‘æ­¥éª¤åï¼Œå°±éœ€è¦é“¾æ¥æˆå¯æ‰§è¡Œæ–‡ä»¶æ‰å¯ä»¥è¿è¡Œï¼Œè€Œé“¾æ¥å™¨çš„ä¸»è¦å·¥ä½œå°±æ˜¯æŠŠå¤šä¸ªä»£ç æ¨¡å—ç»„è£…åˆ°ä¸€èµ·ï¼Œè§£å†³æ¨¡å—ä¹‹é—´çš„åº”ç”¨ï¼Œå³å¤„ç†ç¨‹åºä»£ç é—´çš„åœ°å€å¼•ç”¨ï¼Œå½¢æˆç¨‹åºè¿è¡Œçš„é™æ€å†…å­˜ç©ºé—´è§†å›¾ã€‚</p><p>ä¸Šè¿°çš„åœ°å€æ˜¯è™šæ‹Ÿè€Œç»Ÿä¸€çš„ï¼Œæ ¹æ®æ“ä½œç³»ç»Ÿçš„ä¸åŒï¼Œè¿™ä¸ªè™šæ‹Ÿåœ°å€ç©ºé—´çš„å®šä¹‰å¯èƒ½ä¸åŒï¼Œåº”ç”¨è½¯ä»¶å¼€å‘äººå‘˜æ— éœ€å…³å¿ƒï¼Œç”±å¼€å‘å·¥å…·é“¾ç»™è‡ªåŠ¨å¤„ç†ã€‚</p><p><strong>ç‰©ç†åœ°å€</strong></p><p>è™šæ‹Ÿåœ°å€åªæ˜¯é€»è¾‘ä¸Šå­˜åœ¨çš„åœ°å€ï¼Œæ— æ³•ç”¨äºç¡¬ä»¶ç”µè·¯ï¼Œç¨‹åºè£…è¿›å†…å­˜ä¸­æƒ³è¦æ‰§è¡Œå°±éœ€è¦å’Œå†…å­˜æ‰“äº¤é“ï¼Œä»å†…å­˜ä¸­å–å¾—æŒ‡ä»¤å’Œæ•°æ®ï¼Œè€Œå†…å­˜åªè®¤ä¸€ç§åœ°å€ï¼Œå³ç‰©ç†åœ°å€ã€‚</p><p>ç‰©ç†åœ°å€åœ¨å³åœ°å€æ€»çº¿ä¸Šçš„ä¿¡å·ï¼Œæ— åŠ›åœ°å€åœ¨é€»è¾‘ä¸Šä¹Ÿæ˜¯ä¸€ä¸ªæ•°æ®ï¼Œåªæ˜¯è¿™ä¸ªæ•°æ®ä¼šè¢«åœ°å€è¯‘ç å™¨ç­‰ç”µå­å™¨ä»¶å˜æˆç”µå­ä¿¡å·ï¼Œæ”¾åœ¨åœ°å€æ€»çº¿ä¸Šï¼Œåœ°å€æ€»çº¿ç”µå­ä¿¡å·çš„å„ç§ç»„åˆå°±å¯ä»¥é€‰æ‹©åˆ°å†…å­˜çš„å­˜å‚¨å•å…ƒã€‚</p><p><strong>è™šæ‹Ÿåœ°å€åˆ°ç‰©ç†åœ°å€çš„è½¬æ¢</strong></p><p>è™šæ‹Ÿåœ°å€å¿…é¡»è½¬æ¢æˆç‰©ç†åœ°å€ï¼Œè¿™æ ·ç¨‹åºæ‰èƒ½æ­£å¸¸æ‰§è¡Œã€‚å³ï¼Œè¾“å…¥è™šæ‹Ÿåœ°å€ï¼Œè¾“å‡ºç‰©ç†åœ°å€ã€‚</p><p>è½¯ä»¶çš„æ–¹å¼å¤ªä½æ•ˆï¼Œå•çº¯çš„ç¡¬ä»¶å®ç°æ²¡æœ‰çµæ´»æ€§ï¼Œæœ€ç»ˆé€šè¿‡è½¯ç¡¬ä»¶ç»“åˆçš„æ–¹å¼è¿›è¡Œå®ç°ï¼Œå®ƒå°±æ˜¯ MMUï¼ˆå†…å­˜ç®¡ç†å•å…ƒï¼‰ã€‚MMU å¯ä»¥æ¥å—è½¯ä»¶ç»™å‡ºçš„åœ°å€å¯¹åº”å…³ç³»æ•°æ®ï¼Œè¿›è¡Œåœ°å€è½¬æ¢ã€‚</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/d582ff647549b8yy986d90e697d33499.jpg" alt="img" style="zoom:50%;" /></p><p>MMU é€šè¿‡åœ°å€å…³ç³»è½¬æ¢è¡¨ï¼Œå°† 0x80000~0x84000 çš„è™šæ‹Ÿåœ°å€ç©ºé—´è½¬æ¢æˆ 0x10000~0x14000 çš„ç‰©ç†åœ°å€ç©ºé—´ï¼Œè€Œåœ°å€å…³ç³»è½¬æ¢è¡¨æœ¬èº«åˆ™æ˜¯æ”¾ç‰©ç†å†…å­˜ä¸­çš„ã€‚é—®é¢˜æ¥äº†ï¼Œ32 ä½åœ°å€ç©ºé—´ä¸‹ï¼Œ4GB è™šæ‹Ÿåœ°å€çš„åœ°å€å…³ç³»è½¬æ¢è¡¨å°±ä¼šæŠŠæ•´ä¸ª 32 ä½ç‰©ç†åœ°å€ç©ºé—´ç”¨å®Œï¼Œè¿™æ˜¾ç„¶ä¸è¡Œã€‚</p><p>ä¿æŠ¤æ¨¡å¼ä¸‹åˆ†æ®µæ–¹å¼ï¼Œåœ°å€å…³ç³»è½¬æ¢è¡¨ä¸­å­˜æ”¾ï¼šä¸€ä¸ªè™šæ‹Ÿæ®µåŸºå€å¯¹åº”ä¸€ä¸ªç‰©ç†æ®µåŸºå€ï¼Œè¿™æ ·çœ‹ä¼¼å¯ä»¥ï¼Œä½†æ˜¯å› ä¸ºæ®µé•¿åº¦å„ä¸ç›¸åŒï¼Œæ‰€ä»¥ä¾ç„¶ä¸å¯å–ã€‚</p><p>ç³»ç»Ÿè®¾è®¡è€…æœ€åé‡‡ç”¨ä¸€ä¸ªæŠ˜ä¸­çš„æ–¹æ¡ˆï¼Œå³æŠŠè™šæ‹Ÿåœ°å€ç©ºé—´å’Œç‰©ç†åœ°å€ç©ºé—´éƒ½åˆ†æˆåŒç­‰å¤§å°çš„å—ï¼Œä¹Ÿç§°ä¸ºé¡µï¼ŒæŒ‰ç…§è™šæ‹Ÿé¡µå’Œç‰©ç†é¡µè¿›è¡Œè½¬æ¢ã€‚æ ¹æ®è½¯ä»¶é…ç½®ä¸åŒï¼Œè¿™ä¸ªé¡µçš„å¤§å°å¯ä»¥è®¾ç½®ä¸º 4KBã€2MBã€4MBã€1GBï¼Œè¿™æ ·å°±è¿›å…¥äº†ç°ä»£å†…å­˜ç®¡ç†æ¨¡å¼â€”â€”åˆ†é¡µæ¨¡å‹ã€‚</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/9b19677448ee973c4f3yya6b3af7b4d0.jpg" alt="img" style="zoom: 50%;" /></p><p>ä¸€ä¸ªè™šæ‹Ÿé¡µå¯ä»¥å¯¹åº”åˆ°ä¸€ä¸ªç‰©ç†é¡µï¼Œç”±äºé¡µå¤§å°ä¸€ç»é…ç½®å°±æ˜¯å›ºå®šçš„ï¼Œæ‰€ä»¥åœ¨åœ°å€å…³ç³»è½¬æ¢è¡¨ä¸­ï¼Œ<strong>åªè¦å­˜æ”¾è™šæ‹Ÿé¡µåœ°å€å¯¹åº”çš„ç‰©ç†é¡µåœ°å€</strong>å°±è¡Œäº†ã€‚</p><p><strong>MMU</strong></p><p>MMU å³å†…å­˜ç®¡ç†å•å…ƒï¼Œä½¿ç”¨ç¡¬ä»¶ç”µè·¯é€»è¾‘å®ç°çš„ä¸€ä¸ªåœ°å€è½¬æ¢å™¨ä»¶ã€‚å®ƒè´Ÿè´£æ¥æ”¶è™šæ‹Ÿåœ°å€å’Œåœ°å€å…³ç³»è½¬æ¢è¡¨ï¼Œä»¥åŠè¾“å‡ºç‰©ç†åœ°å€ã€‚</p><p>æ ¹æ®å®ç°æ–¹å¼çš„ä¸åŒï¼ŒMMU å¯ä»¥æ˜¯ç‹¬ç«‹çš„èŠ¯ç‰‡ï¼Œä¹Ÿå¯ä»¥æ˜¯é›†æˆåœ¨å…¶å®ƒèŠ¯ç‰‡å†…éƒ¨çš„ï¼Œæ¯”å¦‚é›†æˆåœ¨ CPU å†…éƒ¨ï¼Œx86ã€ARM ç³»åˆ—çš„ CPU å°±æ˜¯å°† MMU é›†æˆåœ¨ CPU æ ¸å¿ƒä¸­çš„ã€‚</p><p>SUN å…¬å¸çš„ CPU å°†ç‹¬ç«‹çš„ MMUèŠ¯ç‰‡å¡åœ¨æ€»çº¿ä¸Šã€‚x86 CPU è¦æƒ³å¼€å¯ MMUï¼Œå°±å¿…é¡»å…ˆå¼€å¯ä¿æŠ¤æ¨¡å¼æˆ–è€…é•¿æ¨¡å¼ï¼Œå®æ¨¡å¼ä¸‹æ˜¯ä¸èƒ½å¼€å¯ MMU çš„ã€‚</p><p>ç”±äºä¿æŠ¤æ¨¡å¼çš„å†…å­˜æ¨¡å‹æ˜¯åˆ†æ®µæ¨¡å‹ï¼Œå®ƒä¸é€‚åˆäºMMUçš„åˆ†é¡µæ¨¡å‹ï¼Œè¦ä½¿ç”¨ä¿æŠ¤æ¨¡å¼çš„å¹³å¦æ¨¡å¼ï¼Œè¿™æ ·å°±ç»•è¿‡äº†åˆ†æ®µæ¨¡å‹ã€‚å¹³æ½­æ¨¡å‹å’Œé•¿æ¨¡å¼ä¸‹å¿½ç•¥æ®µåŸºå€å’Œæ®µé•¿åº¦æ˜¯å¼‚æ›²åŒå·¥çš„ã€‚</p><p>CPU åœ°å€è½¬æ¢å›¾ï¼š<br><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/b41a2bb00e19e662b34a1b7b7c0ae288.jpg" alt="img"></p><p>ç¨‹åºä»£ç ä¸­çš„è™šæ‹Ÿåœ°å€ç»è¿‡ CPU çš„åˆ†æ®µæœºåˆ¶äº§ç”Ÿäº†çº¿æ€§åœ°å€ï¼Œå¹³å¦æ¨¡å¼å’Œé•¿æ¨¡å¼ä¸‹çº¿æ€§åœ°å€å’Œè™šæ‹Ÿåœ°å€æ˜¯ç›¸ç­‰çš„ã€‚</p><p>å¦‚æœä¸å¼€å¯ MMUï¼Œåœ¨ä¿æŠ¤æ¨¡å¼ä¸‹å¯ä»¥å…³é—­ MMUï¼Œè¿™ä¸ªçº¿æ€§åœ°å€å°±æ˜¯ç‰©ç†åœ°å€ã€‚å› ä¸ºé•¿æ¨¡å¼ä¸‹çš„åˆ†æ®µ <strong>å¼±åŒ–äº†åœ°å€ç©ºé—´çš„éš”ç¦»</strong>ï¼Œæ‰€ä»¥å¼€å¯ MMU æ˜¯å¿…é¡»è¦åšçš„ï¼Œå¼€å¯ MMU æ‰èƒ½è®¿é—®å†…å­˜åœ°å€ç©ºé—´ã€‚</p><p><strong>MMUé¡µè¡¨</strong></p><p>åœ°å€å…³ç³»è½¬æ¢è¡¨æœ‰ä¸€ä¸ªæ›´åŠ ä¸“ä¸šçš„åå­—â€”â€”é¡µè¡¨ï¼Œå®ƒæè¿°äº†è™šæ‹Ÿåœ°å€åˆ°ç‰©ç†åœ°å€çš„è½¬æ¢å…³ç³»ï¼Œå¯ä»¥è¯´æ˜¯è™šæ‹Ÿé¡µåˆ°ç‰©ç†é¡µçš„æ˜ å°„å…³ç³»ã€‚</p><p>ä¸ºäº†å¢åŠ çµæ´»æ€§å’ŒèŠ‚çº¦ç‰©ç†å†…å­˜ç©ºé—´ï¼ˆå› ä¸ºé¡µè¡¨æ˜¯æ”¾åœ¨ç‰©ç†å†…å­˜ä¸­çš„ï¼‰ï¼Œæ‰€ä»¥é¡µè¡¨ä¸­å¹¶ä¸å­˜æ”¾è™šæ‹Ÿåœ°å€å’Œç‰©ç†åœ°å€çš„å¯¹åº”å…³ç³»ï¼Œåªå­˜æ”¾ç‰©ç†é¡µé¢çš„åœ°å€ï¼ŒMMU ä»¥è™šæ‹Ÿåœ°å€ä¸ºç´¢å¼•å»æŸ¥è¡¨è¿”å›ç‰©ç†é¡µé¢åœ°å€ï¼Œè€Œä¸”é¡µè¡¨æ˜¯åˆ†çº§çš„ï¼Œæ€»ä½“åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼šä¸€ä¸ªé¡¶çº§é¡µç›®å½•ï¼Œå¤šä¸ªä¸­çº§é¡µç›®å½•ï¼Œæœ€åæ‰æ˜¯é¡µè¡¨ï¼Œé€»è¾‘ç»“æ„å›¾å¦‚ä¸‹.</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/2df904c8ba75065e1491138d63820yyf.jpg" alt="img"></p><p>è™šæ‹Ÿåœ°å€è¢«åˆ†æˆä»å·¦åˆ°å³å››ä¸ªä½æ®µï¼š</p><p>ç¬¬ä¸€ä½ç´¢å¼•é¡¶çº§ç›®å½•ä¸­çš„ä¸€é¡¹  â€”â€”&gt; ä¸­çº§é¡µç›®å½•ï¼Œç¬¬äºŒä½æ®µå»ç´¢å¼•ä¸­é¡µçº§ç›®å½•ä¸­çš„ä¸€é¡¹ â€”â€”&gt; ä¸€ä¸ªé¡µç›®å½•ï¼Œç¬¬ä¸‰ä¸ªä½æ®µå»ç´¢å¼•é¡µç›®å½•ä¸­çš„é¡¹ â€”â€”&gt; ç‰©ç†é¡µåœ°å€ï¼Œæœ€åç”¨ç¬¬å››ä½æ®µä½œè¯¥ç‰©ç†é¡µå†…çš„åç§»å»è®¿é—®ç‰©ç†å†…å­˜ã€‚</p><p><strong>ä¿æŠ¤æ¨¡å¼ä¸‹çš„åˆ†é¡µ</strong></p><p>åˆ†é¡µæ¨¡å¼çš„çµæ´»æ€§ã€é€šç”¨æ€§ã€å®‰å…¨æ€§æ˜¯ç°ä»£æ“ä½œç³»ç»Ÿå†…å­˜ç®¡ç†çš„åŸºçŸ³ï¼Œæ›´æ˜¯äº‹å®ä¸Šçš„æ ‡å‡†å†…å­˜ç®¡ç†æ¨¡å‹ï¼Œç°ä»£å•†ç”¨æ“ä½œç³»ç»Ÿå¿…é¡»éƒ½ä»¥æ­¤ä¸ºåŸºç¡€å®ç°è™šæ‹Ÿå†…å­˜åŠŸèƒ½æ¨¡å—ã€‚</p><p><strong>ä¿æŠ¤æ¨¡å¼ä¸‹çš„åˆ†é¡µ</strong></p><p>ä¿æŠ¤æ¨¡å¼ä¸‹åªæœ‰32ä½åœ°å€ç©ºé—´ï¼Œæœ€å¤š4GB - 1 å¤§å°çš„ç©ºé—´ã€‚</p><p>ä¿æŠ¤æ¨¡å¼ä¸‹çš„åˆ†é¡µå¤§å°é€šå¸¸æœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯ 4KB å¤§å°çš„é¡µï¼Œä¸€ç§æ˜¯ 4MB å¤§å°çš„é¡µã€‚åˆ†é¡µå¤§å°çš„ä¸åŒä¼šå¯¼è‡´è™šæ‹Ÿåœ°å€ä½æ®µçš„åˆ†éš”å’Œé¡µç›®å½•çš„å±‚çº§ä¸åŒï¼Œä½†è™šæ‹Ÿé¡µå’Œç‰©ç†é¡µçš„å¤§å°å§‹ç»ˆæ˜¯ç›¸åŒçš„ã€‚</p><p><strong>ä¿æŠ¤æ¨¡å¼ä¸‹çš„åˆ†é¡µ â€”â€” 4KB é¡µ</strong></p><p>è¯¥åˆ†é¡µæ–¹å¼ä¸‹ï¼Œ32 ä½è™šæ‹Ÿåœ°å€è¢«åˆ†ä¸ºä¸‰ä¸ªä½æ®µï¼š<strong>é¡µç›®å½•ç´¢å¼•ã€é¡µè¡¨ç´¢å¼•ã€é¡µå†…åç§»</strong>ï¼Œåªæœ‰ä¸€çº§é¡µç›®å½•ï¼Œå…¶ä¸­åŒ…å« 1024 ä¸ªæ¡ç›® ï¼Œæ¯ä¸ªæ¡ç›®æŒ‡å‘ä¸€ä¸ªé¡µè¡¨ï¼Œæ¯ä¸ªé¡µè¡¨ä¸­æœ‰ 1024 ä¸ªæ¡ç›®ã€‚å…¶ä¸­ä¸€ä¸ªæ¡ç›®å°±æŒ‡å‘ä¸€ä¸ªç‰©ç†é¡µï¼Œæ¯ä¸ªç‰©ç†é¡µ 4KBã€‚è¿™æ­£å¥½æ˜¯ 4GB åœ°å€ç©ºé—´ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/00b7f1ef4a1c4f6fc9e6b69109ae0bf8.jpg" alt="img"></p><p>CR3 ä¸º CPU çš„ä¸€ä¸ª32ä½å¯„å­˜å™¨ï¼ŒMMU å°±æ˜¯æ ¹æ®è¿™ä¸ªå¯„å­˜å™¨æ‰¾åˆ°é¡µç›®å½•ã€‚</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/361c48e1876a412f9ff9f29bf2dbecc9.jpg" alt="img"></p><p>é¡µç›®å½•é¡¹ã€é¡µè¡¨é¡¹éƒ½æ˜¯4å­—èŠ‚32ä½ï¼Œ1024é¡¹æ­£å¥½æ˜¯4KBï¼ˆä¸€ä¸ªé¡µï¼‰ï¼Œå› æ­¤å®ƒä»¬çš„åœ°å€å§‹ç»ˆéƒ½æ˜¯4KBå¯¹é½çš„ï¼Œæ‰€ä»¥ä½12ä½æ‰å¯ä»¥å¦ä½œä»–ç”¨ï¼Œå½¢æˆé¡µé¢çš„ç›¸å…³å±æ€§ï¼Œå¦‚æ˜¯å¦å­˜åœ¨ã€æ˜¯å¦å¯è¯»å¯å†™ã€æ˜¯ç”¨æˆ·é¡µè¿˜æ˜¯å†…æ ¸é¡µã€æ˜¯å¦å·²å†™å…¥ã€æ˜¯å¦å·²è®¿é—®ç­‰ã€‚</p><p><strong>ä¿æŠ¤æ¨¡å¼ä¸‹çš„åˆ†é¡µâ€”â€”4MBé¡µ</strong></p><p>è¯¥åˆ†é¡µæ–¹å¼ä¸‹ï¼Œ32 ä½è™šæ‹Ÿåœ°å€è¢«åˆ†ä¸ºä¸¤ä¸ªä½æ®µï¼šé¡µè¡¨ç´¢å¼•ã€é¡µå†…åç§»ï¼Œåªæœ‰ä¸€çº§é¡µç›®å½•ï¼Œå…¶ä¸­åŒ…å« 1024 ä¸ªæ¡ç›®ã€‚å…¶ä¸­ä¸€ä¸ªæ¡ç›®æŒ‡å‘ä¸€ä¸ªç‰©ç†é¡µï¼Œæ¯ä¸ªç‰©ç†é¡µ 4MBï¼Œæ­£å¥½ä¸º 4GB åœ°å€ç©ºé—´ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/76932c52a7b6109854f2de72d71bba52.jpg" alt="img"></p><p>CR3 32ä½å¯„å­˜å™¨ï¼Œä¸å†åªæƒ³é¡¶çº§é¡µç›®å½•ï¼Œè€Œæ˜¯æŒ‡å‘ä¸€ä¸ª4KBå¤§å°çš„é¡µè¡¨ï¼Œè¿™ä¸ªé¡µè¡¨ä¾ç„¶è¦4KBåœ°å€å¯¹é½ï¼Œå…¶ä¸­åŒ…å«1024ä¸ªé¡µè¡¨é¡¹ï¼š</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/9a4afdc60b790c3e2b7e94b0c7fd4208.jpg" alt="img"></p><p>4MB å¤§å°çš„é¡µé¢ä¸‹ï¼Œé¡µè¡¨é¡¹è¿˜æ˜¯ 4 å­—èŠ‚ 32 ä½ï¼Œä½†åªéœ€è¦ç”¨é«˜ 10 ä½æ¥ä¿å­˜ç‰©ç†é¡µé¢çš„åŸºåœ°å€å°±å¯ä»¥ã€‚å› ä¸ºæ¯ä¸ªç‰©ç†é¡µé¢éƒ½æ˜¯ 4MBï¼Œæ‰€ä»¥ä½ 22 ä½å§‹ç»ˆä¸º 0ï¼Œä¸ºäº†å…¼å®¹ 4MB é¡µè¡¨é¡¹ä½ 8 ä½å’Œ 4KB é¡µè¡¨é¡¹ä¸€æ ·ï¼Œåªä¸è¿‡ç¬¬ 7 ä½å˜æˆäº† PS ä½ï¼Œä¸”å¿…é¡»ä¸º 1ï¼Œè€Œ PAT ä½ç§»åˆ°äº† 12 ä½ã€‚</p><p><strong>é•¿æ¨¡å¼ä¸‹çš„åˆ†é¡µ</strong></p><p>å¦‚æœå¼€å¯é•¿æ¨¡å¼ï¼Œåˆ™å¿…é¡»å¼€å¯åˆ†é¡µæ¨¡å¼ï¼Œå› ä¸ºé•¿æ¨¡å¼å¼±åŒ–äº†åˆ†é¡µæ¨¡å¼ï¼Œè€Œåˆ†æ®µæ¨¡å‹ä¹Ÿæœ‰å¾ˆå¤šä¸è¶³ï¼Œä¸é€‚åº”ç°åœ¨æ“ä½œç³»ç»Ÿå’Œåº”ç”¨è½¯ä»¶çš„å‘å±•ã€‚<br>åŒæ—¶ï¼Œé•¿æ¨¡å¼ä¹Ÿæ‹“å±•äº† CPU çš„ä½å®½ï¼Œä½¿å¾— CPU èƒ½ä½¿ç”¨64ä½çš„è¶…å¤§å†…å­˜åœ°å€ç©ºé—´ã€‚æ‰€ä»¥é•¿æ¨¡å¼ä¸‹çš„è™šæ‹Ÿåœ°å€å¿…é¡»ç­‰äºçº¿æ€§åœ°å€ä¸”ä¸º64ä½ã€‚<br>é•¿æ¨¡å¼ä¸‹çš„åˆ†é¡µé€šå¸¸ä¹Ÿæœ‰ä¸¤ç§ï¼Œ4KBå¤§å°çš„é¡µå’Œ2MBå¤§å°çš„é¡µã€‚</p><p><strong>é•¿æ¨¡å¼ä¸‹çš„åˆ†é¡µâ€”â€”4KB</strong></p><p>è¯¥åˆ†é¡µæ–¹å¼ä¸‹ï¼Œ64ä½è™šæ‹Ÿåœ°å€è¢«åˆ†ä¸º6ä¸ªä½æ®µï¼Œåˆ†åˆ«æ˜¯ï¼šä¿ç•™ä½æ®µï¼Œé¡¶çº§é¡µç›®å½•ç´¢å¼•ã€é¡µç›®å½•æŒ‡é’ˆç´¢å¼•ã€é¡µç›®å½•ç´¢å¼•ã€é¡µè¡¨ç´¢å¼•ã€é¡µå†…ä¾¿å®œã€é¡¶çº§é¡µç›®å½•ã€é¡µç›®å½•æŒ‡é’ˆã€é¡µç›®å½•ã€é¡µè¡¨å„å æœ‰4KBå¤§å°ï¼Œå…¶ä¸­å„æœ‰512ä¸ªæ¡ç›®ï¼Œæ¯ä¸ªæ¡ç›®8å­—èŠ‚ï¼Œ64ä½å¤§å°ã€‚<br><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/ecdea93c2544cf9c1d84461b602b03c9.jpg" alt="img"></p><p>CR3 å˜ä¸º64 ä½çš„64ä½çš„CPUå¯„å­˜å™¨ï¼Œå®ƒæŒ‡å‘ä¸€ä¸ªé¡¶çº§é¡µç›®å½•ï¼Œé‡Œé¢çš„é¡¶çº§é¡µç›®å½•é¡¹æŒ‡å‘ç›®å½•æŒ‡é’ˆï¼Œä¾æ¬¡ç±»æ¨ã€‚<br>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè™šæ‹Ÿåœ°å€ 48 åˆ° 63 è¿™ 16 ä½æ˜¯æ ¹æ®ç¬¬ 47 ä½æ¥å†³å®šçš„ï¼Œ47 ä½ä¸º 1ï¼Œå®ƒä»¬å°±ä¸º 1ï¼Œåä¹‹ä¸º 0ï¼Œè¿™æ˜¯å› ä¸º x86 CPU å¹¶æ²¡æœ‰å®ç°å…¨ 64 ä½çš„åœ°å€æ€»çº¿ï¼Œè€Œæ˜¯åªå®ç°äº† 48 ä½ï¼Œä½†æ˜¯ CPU çš„å¯„å­˜å™¨å´æ˜¯ 64 ä½çš„ã€‚<br>è¿™ç§æœ€é«˜æœ‰æ•ˆä½å¡«å……çš„æ–¹å¼ï¼Œå³ä½¿åé¢æ‹“å±•CPUçš„åœ°å€æ€»çº¿ä¹Ÿä¸ä¼šæœ‰ä»»ä½•å½±å“ã€‚</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/e342246f5cfa21c5b5173b9e494bdc55.jpg" alt="img"></p><p>é•¿æ¨¡å¼ä¸‹çš„4KBåˆ†é¡µä¸‹ï¼Œç”±ä¸€ä¸ªé¡¶å±‚ç›®å½•ã€äºŒçº§ä¸­é—´å±‚ç›®å½•å’Œä¸€å±‚é¡µè¡¨ç»„æˆäº† 64 ä½åœ°å€ç¿»è¯‘è¿‡ç¨‹ã€‚</p><p><strong>é•¿æ¨¡å¼ä¸‹çš„åˆ†é¡µâ€”â€”2MB</strong><br>åœ¨è¿™ç§åˆ†é¡µæ–¹å¼ä¸‹ï¼Œ64 ä½è™šæ‹Ÿåœ°å€è¢«åˆ†ä¸º 5 ä¸ªä½æ®µ ï¼šä¿ç•™ä½æ®µã€é¡¶çº§é¡µç›®å½•ç´¢å¼•ã€é¡µç›®å½•æŒ‡é’ˆç´¢å¼•ã€é¡µç›®å½•ç´¢å¼•ï¼Œé¡µå†…åç§»ï¼Œé¡¶çº§é¡µç›®å½•ã€é¡µç›®å½•æŒ‡é’ˆã€é¡µç›®å½•å„å æœ‰ 4KB å¤§å°ï¼Œå…¶ä¸­å„æœ‰ 512 ä¸ªæ¡ç›®ï¼Œæ¯ä¸ªæ¡ç›® 8 å­—èŠ‚ 64 ä½å¤§å°ã€‚</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/68bf70d8bcae7802e5291140ac1ec6ea.jpg" alt="img"></p><p>é•¿æ¨¡å¼ä¸‹ 2MB å’Œ 4KB åˆ†é¡µçš„åŒºåˆ«æ˜¯ï¼Œ2MB åˆ†é¡µä¸‹æ˜¯é¡µç›®å½•é¡¹ç›´æ¥æŒ‡å‘äº† 2MB å¤§å°çš„ç‰©ç†é¡µé¢ï¼Œæ”¾å¼ƒäº†é¡µè¡¨é¡¹ï¼Œç„¶åæŠŠè™šæ‹Ÿåœ°å€çš„ä½ 21 ä½ä½œä¸ºé¡µå†…åç§»ï¼Œ21 ä½æ­£å¥½ç´¢å¼• 2MB å¤§å°çš„åœ°å€ç©ºé—´ã€‚<br>2MB åˆ†é¡µæ¨¡å¼ä¸‹çš„ CR3ã€é¡¶çº§é¡µç›®å½•é¡¹ã€é¡µç›®å½•æŒ‡é’ˆé¡¹ã€é¡µç›®å½•é¡¹çš„æ ¼å¼ï¼Œæ ¼å¼å¦‚ä¸‹å›¾ï¼š</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/457f6965d0f25bf64bfb9ec698ab7e0b.jpg" alt="img"></p><p>ä¸Šå›¾ä¸­æ²¡æœ‰äº†é¡µè¡¨é¡¹ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯ï¼Œé¡µç›®å½•é¡¹ä¸­ç›´æ¥å­˜æ”¾äº† 2MB ç‰©ç†é¡µåŸºåœ°å€ã€‚ç”±äºç‰©ç†é¡µå§‹ç»ˆ 2MB å¯¹é½ï¼Œæ‰€ä»¥å…¶åœ°å€çš„ä½ 21 ä½ä¸º 0ï¼Œç”¨äºå­˜æ”¾é¡µé¢å±æ€§ä½ã€‚</p><p><strong>å¼€å¯MMU</strong><br>è¦ä½¿ç”¨åˆ†é¡µæ¨¡å¼å°±å¿…é¡»å…ˆå¼€å¯MMUï¼Œä½†å¼€å¯MMUçš„å‰ææ˜¯CPUè¿›å…¥ä¿æŠ¤æ¨¡å¼æˆ–è€…é•¿æ¨¡å¼ï¼Œå¼€å¯CPUè¿™ä¸¤ç§æ¨¡å¼çš„æ–¹æ³•ï¼š</p><ul><li><p>ä½¿ CPU è¿›å…¥ä¿æŠ¤æ¨¡å¼æˆ–è€…é•¿æ¨¡å¼</p></li><li><p>å‡†å¤‡å¥½é¡µè¡¨æ•°æ®ï¼Œè¿™åŒ…å«é¡¶çº§é¡µç›®å½•ï¼Œä¸­é—´å±‚é¡µç›®å½•ï¼Œé¡µè¡¨ï¼Œç‰©ç†å†…å­˜ä¸­ä¼šç”Ÿæˆè¿™äº›æ•°æ®</p></li><li><p>é¡¶çº§é¡µç›®å½•çš„ç‰©ç†å†…å­˜åœ°å€èµ‹å€¼ç»™ CR3 å¯„å­˜å™¨</p>  <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mov eax, PAGE_TLB_BADR ;é¡µè¡¨ç‰©ç†åœ°å€</span><br><span class="line">mov cr3, eax</span><br></pre></td></tr></table></figure></li></ul><ul><li><p>è®¾ç½® CPU çš„ CR0 çš„ PE ä¸º 1 å³å¯å¼€å¯ MMU</p>  <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">;å¼€å¯ ä¿æŠ¤æ¨¡å¼å’Œåˆ†é¡µæ¨¡å¼</span><br><span class="line">mov eax, cr0</span><br><span class="line">bts eax, <span class="number">0</span>    ;CR0.PE =<span class="number">1</span></span><br><span class="line">bts eax, <span class="number">31</span>   ;CR0.P = <span class="number">1</span></span><br><span class="line">mov cr0, eax</span><br></pre></td></tr></table></figure></li></ul><p><strong>MMUåœ°å€è½¬æ¢å¤±è´¥</strong></p><p>MMU ä¸»è¦åŠŸèƒ½å³æ ¹æ®é¡µè¡¨æ•°æ®æŠŠè™šæ‹Ÿåœ°å€è½¬æ¢ä¸ºç‰©ç†åœ°å€ï¼Œå¤±è´¥çš„æƒ…å†µï¼šé¡µè¡¨é¡¹ä¸­çš„æ•°æ®ä¸ºç©ºï¼Œç”¨æˆ·ç¨‹åºè®¿é—®äº†è¶…çº§ç®¡ç†è€…çš„é¡µé¢ï¼Œå‘åªè¯»é¡µé¢ä¸­å†™å…¥äº†æ•°æ®ï¼Œè¿™äº›éƒ½ä¼šå¯¼è‡´ MMU åœ°å€è½¬æ¢å¤±è´¥ã€‚</p><p>MMU åœ°å€è½¬æ¢å¤±è´¥çš„æ“ä½œï¼š</p><ul><li>MMU åœæ­¢è½¬æ¢åœ°å€</li><li>MMU æŠŠè½¬æ¢å¤±è´¥çš„è™šæ‹Ÿåœ°å€å†™å…¥ CPU çš„ CR2 å¯„å­˜å™¨</li><li>MMU è§¦å‘ CPU çš„14å·ä¸­æ–­ï¼Œä½¿ CPU åœæ­¢æ‰§è¡Œå½“å‰æŒ‡ä»¤</li><li>CPU å¼€å§‹æ‰§è¡Œ14å·ä¸­æ–­çš„å¤„ç†ä»£ç ï¼Œä»£ç ä¼šæ£€æŸ¥åŸå› ï¼Œå¤„ç†å¥½é¡µè¡¨æ•°æ®è¿”å›</li><li>CPU ä¸­æ–­è¿”å›ç»§ç»­æ‰§è¡Œ MMU åœ°å€è½¬æ¢å¤±è´¥æ—¶çš„æŒ‡ä»¤</li></ul><p><strong>æ€»ç»“</strong></p><p>å¤šé“ç¨‹åºåŒæ—¶è¿è¡Œæœ‰å¾ˆå¤šé—®é¢˜ï¼Œå†…å­˜éœ€è¦éš”ç¦»å’Œä¿æŠ¤ï¼Œä»è€Œæå‡ºäº†è™šæ‹Ÿåœ°å€ä¸ç‰©ç†åœ°å€åˆ†ç¦»ï¼Œè®©åº”ç”¨ç¨‹åºä»å®é™…ç‰©ç†å†…å­˜ä¸­è§£è€¦å‡ºæ¥ã€‚</p><p>MMUï¼ˆå†…å­˜ç®¡ç†å•å…ƒï¼‰ï¼Œå¢åŠ äº†è½¬æ¢çš„çµæ´»æ€§ï¼Œå®ç°æ–¹å¼æ˜¯ç¡¬ä»¶æ‰§è¡Œè½¬æ¢è¿‡ç¨‹ï¼Œä½†åˆä¾èµ–äºè½¯ä»¶æä¾›çš„åœ°å€è½¬æ¢è¡¨ã€‚</p><p><strong>æ“ä½œç³»ç»Ÿæ˜¯å¦‚ä½•å¯¹åº”ç”¨ç¨‹åºçš„åœ°å€ç©ºé—´è¿›è¡Œéš”ç¦»çš„ï¼Ÿ</strong></p><p>å¤šä¸ªè¿›ç¨‹éš”ç¦»åº”è¯¥æ˜¯æ“ä½œç³»ç»Ÿè¿›è¡Œä»»åŠ¡åˆ‡æ¢æ—¶ä¼šæ”¹å†™CPUçš„é¡µè¡¨åŸºåœ°å€å¯„å­˜å™¨ä¸ºå½“å‰è¢«è¿è¡Œè¿›ç¨‹çš„é¡µè¡¨åŸºåœ°å€ã€‚å¯¹äºæ¯ä¸ªè¿›ç¨‹è€Œè¨€ï¼Œå®ƒä¼šè¯¯è®¤ä¸ºï¼ˆè¢«æ“ä½œç³»ç»Ÿæ¬ºéª—ï¼‰è‡ªå·±ç‹¬æœ‰å ç”¨çš„åœ°å€ç©ºé—´ï¼Œå› æ­¤å®ƒè®¿é—®åœ°å€æ˜¯ä¸ä¼šè€ƒè™‘ä»»ä½•é—®é¢˜çš„ï¼Œä½†è¿™ä¸ªåœ°å€æ˜¯è™šæ‹Ÿåœ°å€ï¼Œå¾…è¢« MMU ç¿»è¯‘åä¼šå¾—åˆ°å¯¹åº”çš„é¡µè¡¨ï¼Œè€Œè¿™ä¸ªé¡µè¡¨ç”±æ“ä½œç³»ç»Ÿç®¡ç†ï¼Œä¸åŒçš„è¿›ç¨‹æ‹¥æœ‰ä¸åŒçš„é¡µè¡¨ï¼Œå› æ­¤äº§ç”Ÿäº†è¿›ç¨‹åœ°å€ç©ºé—´éš”ç¦»ï¼Œä½†æ˜¯å¤šä¸ªè¿›ç¨‹ä¹Ÿæ˜¯å¯ä»¥å…±äº«æŸä¸ªé¡µè¡¨ï¼Œè¿™ä¹Ÿæ˜¯è¿›ç¨‹é€šä¿¡ï¼ˆIPCï¼‰çš„æ ¹æœ¬æ‰‹æ®µã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;OS-Learning-Linux-Homebrew&quot;&gt;&lt;a href=&quot;#OS-Learning-Linux-Homebrew&quot; class=&quot;headerlink&quot; title=&quot;OS-Learning: Linux Homebrew&quot;&gt;&lt;/a&gt;OS-Lear
      
    
    </summary>
    
    
    
      <category term="OS-Linux" scheme="https://github.com/liysky/liysky.github.io.git/tags/OS-Linux/"/>
    
  </entry>
  
  <entry>
    <title>Dynamic Programming Analysis</title>
    <link href="https://github.com/liysky/liysky.github.io.git/2021/05/11/Dynamic-Programming-Analysis/"/>
    <id>https://github.com/liysky/liysky.github.io.git/2021/05/11/Dynamic-Programming-Analysis/</id>
    <published>2021-05-11T15:17:32.000Z</published>
    <updated>2021-05-11T15:23:18.905Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Dynamic-Programming-Analysis"><a href="#Dynamic-Programming-Analysis" class="headerlink" title="Dynamic Programming Analysis"></a>Dynamic Programming Analysis</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/DP.png" alt="DP"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;Dynamic-Programming-Analysis&quot;&gt;&lt;a href=&quot;#Dynamic-Programming-Analysis&quot; class=&quot;headerlink&quot; title=&quot;Dynamic Programming Analysis&quot;&gt;&lt;/a&gt;Dy
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>CUDA coding</title>
    <link href="https://github.com/liysky/liysky.github.io.git/2021/04/24/CUDA-coding/"/>
    <id>https://github.com/liysky/liysky.github.io.git/2021/04/24/CUDA-coding/</id>
    <published>2021-04-24T11:27:56.000Z</published>
    <updated>2021-04-30T15:32:15.610Z</updated>
    
    <content type="html"><![CDATA[<h1 id="CUDA-ç¼–ç¨‹"><a href="#CUDA-ç¼–ç¨‹" class="headerlink" title="CUDA ç¼–ç¨‹"></a>CUDA ç¼–ç¨‹</h1><h2 id="ç°ä»£-CPU-æ¶æ„å’Œæ€§èƒ½ä¼˜åŒ–"><a href="#ç°ä»£-CPU-æ¶æ„å’Œæ€§èƒ½ä¼˜åŒ–" class="headerlink" title="ç°ä»£ CPU æ¶æ„å’Œæ€§èƒ½ä¼˜åŒ–"></a>ç°ä»£ CPU æ¶æ„å’Œæ€§èƒ½ä¼˜åŒ–</h2><h3 id="CPUçš„æ¦‚å¿µï¼š"><a href="#CPUçš„æ¦‚å¿µï¼š" class="headerlink" title="CPUçš„æ¦‚å¿µï¼š"></a>CPUçš„æ¦‚å¿µï¼š</h3><ul><li><p>æ‰§è¡ŒæŒ‡ä»¤ï¼Œå¤„ç†æ•°æ®çš„å™¨ä»¶â€”â€”å®ŒæˆåŸºæœ¬çš„é€»è¾‘å’Œç®—æœ¯æŒ‡ä»¤</p></li><li><p>å¢åŠ äº†å¤æ‚çš„æ¥å£</p><ul><li>å†…å­˜æ¥å£</li><li>å¤–éƒ¨è®¾å¤‡æ¥å£</li></ul></li><li>åŒ…å«å¤§é‡é™æ™¶ä½“ç®¡</li></ul><h3 id="æ¡Œé¢åº”ç”¨"><a href="#æ¡Œé¢åº”ç”¨" class="headerlink" title="æ¡Œé¢åº”ç”¨"></a>æ¡Œé¢åº”ç”¨</h3><ul><li>è½»é‡çº§è¿›ç¨‹ï¼Œå°‘é‡çº¿ç¨‹</li><li>åˆ†ä¹‹å’Œäº¤äº’æ“ä½œ</li><li>å¤§é‡å­˜å‚¨å™¨è®¿é—®</li><li>ç”¨äºæ•°å€¼è¿ç®—çš„æŒ‡ä»¤å¾ˆå°‘</li></ul><h3 id="CPUç»“æ„å›¾"><a href="#CPUç»“æ„å›¾" class="headerlink" title="CPUç»“æ„å›¾"></a>CPUç»“æ„å›¾</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/01g5HiwPZLWQ.jpeg" alt="enter image description here"></p><p>å–æŒ‡ è¯‘ç  æ‰§è¡Œ è®¿é—® å†™å›</p><h3 id="æµæ°´çº¿"><a href="#æµæ°´çº¿" class="headerlink" title="æµæ°´çº¿"></a>æµæ°´çº¿</h3><ul><li>åˆ©ç”¨æŒ‡ä»¤çº§çš„å¹¶è¡Œ<ul><li>æå¤§çš„å‡å°æ—¶é’Ÿå‘¨æœŸ</li><li>ä½†æ˜¯å¢åŠ äº†å»¶è¿Ÿå’ŒèŠ¯ç‰‡é¢ç§¯</li></ul></li></ul><h3 id="åˆ†æ”¯é¢„æµ‹"><a href="#åˆ†æ”¯é¢„æµ‹" class="headerlink" title="åˆ†æ”¯é¢„æµ‹"></a>åˆ†æ”¯é¢„æµ‹</h3><p>çŒœæµ‹ä¸‹ä¸€æ¡æŒ‡ä»¤</p><p>åŸºäºè¿‡å»çš„åˆ†æ”¯è®°å½•</p><p>å¦‚ï¼šåŸºäºå…¨å±€è®°å½•çš„ä¸¤å±‚é¢„æµ‹</p><p>ç°ä»£é¢„æµ‹å™¨å‡†ç¡®åº¦å¤§äº 90%</p><ul><li>æå‡æ€§èƒ½ä»¥åŠèƒ½é‡æ•ˆç‡</li></ul><p>ä½†æ˜¯ä¼šå¯¼è‡´é¢ç§¯å¢åŠ å’Œå»¶è¿Ÿ</p><hr><p>æå‡ IPC ï¼ˆinstructions cycleï¼‰å³ CPU ä¸€ä¸ªæ—¶é’Ÿå‘¨æœŸèƒ½å¤Ÿå¤„ç†çš„æŒ‡ä»¤æ•°</p><p>ä¸ºäº†å¤„ç†æ›´å¤šçš„æ•°æ®â€”&gt; æå‡ºäº†è¶…æ ‡é‡ â€” å¢åŠ æµæ°´çº¿å®½åº¦</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-04-25%20at%2006.19.27.png" alt="Screen Shot 2021-04-25 at 06.19.27"></p><hr><h3 id="è¶…æ ‡é‡"><a href="#è¶…æ ‡é‡" class="headerlink" title="è¶…æ ‡é‡"></a>è¶…æ ‡é‡</h3><p>å³°å€¼ IPC ä¸ºNï¼ˆNè·¯è¶…æ ‡é‡ï¼‰</p><p>Peak IPC now at N( for N-way superscalar)</p><ul><li><p>åˆ†æ”¯è°ƒåº¦ä¼šäº§ç”Ÿå¼€é”€</p></li><li><p>éœ€è¦ä¸€äº›æŠ€å·§æ¥é€¼è¿‘å³°å€¼</p></li></ul><p>å¢åŠ äº†é¢ç§¯</p><p>Area increase</p><ul><li>N å€èµ„æºä½¿ç”¨</li><li>æ—è·¯ç½‘ç»œ</li><li>éœ€è¦æ›´å¤šçš„å¯„å­˜å™¨çš„å­˜å‚¨å™¨å®½åº¦</li></ul><h3 id="ä¹±åºæ‰§è¡Œ-Out-of-Order-â€”-OoO"><a href="#ä¹±åºæ‰§è¡Œ-Out-of-Order-â€”-OoO" class="headerlink" title="ä¹±åºæ‰§è¡Œ Out-of-Order â€” OoO"></a>ä¹±åºæ‰§è¡Œ Out-of-Order â€” OoO</h3><p>é‡æ’æŒ‡ä»¤ï¼Œè·å¾—æœ€å¤§çš„ååé‡</p><p>é‡æ’ç¼“å†²åŒº</p><p>å‘å°„é˜Ÿåˆ—/è°ƒåº¦å™¨</p><p>ä½¿å¾— IPC æ¥è¿‘ç†æƒ³çŠ¶æ€</p><ul><li>ä½†ä½¿å¾—é¢ç§¯å¢åŠ ã€åŠŸè€—å¢åŠ </li></ul><h3 id="å­˜å‚¨å™¨æ¶æ„-å±‚æ¬¡"><a href="#å­˜å‚¨å™¨æ¶æ„-å±‚æ¬¡" class="headerlink" title="å­˜å‚¨å™¨æ¶æ„/å±‚æ¬¡"></a>å­˜å‚¨å™¨æ¶æ„/å±‚æ¬¡</h3><p>å­˜å‚¨å™¨è¶Šå¤§è¶Šæ…¢</p><p>ç¼“å­˜ï¼š</p><ul><li>å°†æ•°æ®æ”¾åœ¨å°½å¯èƒ½æ¥è¿‘çš„ä½ç½®</li><li>åˆ©ç”¨<ul><li>æ—¶é—´ä¸´è¿‘æ€§ï¼šåˆšåˆšä½¿ç”¨è¿‡çš„æ•°æ®å¾ˆå¯èƒ½ä¼šè¢«å†æ¬¡ä½¿ç”¨</li><li>ç©ºé—´ä¸´è¿‘æ€§ï¼šå€¾å‘äºä½¿ç”¨å‘¨å›´ä¸´è¿‘çš„æ•°æ®</li></ul></li><li>å¯¹äºL1, L2, L3çº§åˆ«çš„ç¼“å­˜ï¼Œå…¶çº§åˆ«è¶Šå°å®¹é‡è¶Šå°ï¼Œé€Ÿåº¦è¶Šå¿«</li></ul><p>åˆ†åŒºï¼š</p><ul><li>é¿å…å¤šç«¯å£</li></ul><p>ä¸€è‡´æ€§</p><p>æ§åˆ¶å™¨ï¼š</p><ul><li>å¤šä¸ªé€šé“ï¼Œå¢åŠ å¸¦å®½</li></ul><p>CPUå†…éƒ¨çš„å¹¶è¡Œæ€§</p><ul><li>æŒ‡ä»¤çº§å¹¶è¡Œ<ul><li>è¶…æ ‡é‡</li><li>ä¹±åºä¹‹è¡Œ</li></ul></li><li>æ•°æ®çº§å¹¶è¡Œ<ul><li>çŸ¢é‡è®¡ç®—</li></ul></li><li>çº¿ç¨‹çº§å¹¶è¡Œ<ul><li>åŒæ­¥å¤šçº¿ç¨‹</li><li>å¤šæ ¸</li></ul></li></ul><h3 id="çŸ¢é‡æ“ä½œ"><a href="#çŸ¢é‡æ“ä½œ" class="headerlink" title="çŸ¢é‡æ“ä½œ"></a>çŸ¢é‡æ“ä½œ</h3><p>åŒæ—¶å¤„ç†å¤šä¸ªæŒ‡ä»¤</p><h3 id="å¤šæ ¸å¤„ç†"><a href="#å¤šæ ¸å¤„ç†" class="headerlink" title="å¤šæ ¸å¤„ç†"></a>å¤šæ ¸å¤„ç†</h3><p>å°†æµæ°´çº¿å®Œæ•´å¤åˆ¶</p><p>Sandy Bridge-Eï¼š6 cores</p><ul><li>å®Œæ•´çš„æ ¸ï¼Œé™¤äº†æœ€åä¸€çº§ç¼“å­˜å¤–ï¼Œä¸å…±äº«å…¶ä»–èµ„æº</li><li>ç»§ç»­ä¿æŒæ‘©å°”å®šå¾‹</li></ul><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>CPU ä¸ºä¸²è¡Œç¨‹åºä¼˜åŒ–</p><ul><li>pipelinesï¼Œ branch predictionï¼Œ superscalarï¼Œ OoO</li><li>Reduce execution time with high clock speeds and high utilization</li></ul><p>ç¼“æ…¢çš„å†…å­˜å¸¦å®½å°†ä¼šæ˜¯å¤§é—®é¢˜</p><p>å¹¶è¡Œå¤„ç†æ˜¯ä¸€ä¸ªæ–¹å‘</p><h3 id="ä¸²è¡Œè®¡ç®—æ¨¡å¼"><a href="#ä¸²è¡Œè®¡ç®—æ¨¡å¼" class="headerlink" title="ä¸²è¡Œè®¡ç®—æ¨¡å¼"></a>ä¸²è¡Œè®¡ç®—æ¨¡å¼</h3><p>å¸¸è§„è½¯ä»¶æ˜¯ä¸²è¡Œçš„</p><ul><li><p>è®¾è®¡è¿è¡Œäºä¸€ä¸ªä¸­å¤®å¤„ç†å™¨ä¸Šçš„ CPU</p></li><li><p>é€šè¿‡ç¦»æ•£çš„æŒ‡ä»¤åºåˆ—å®Œæˆä¸€ä¸ªé—®é¢˜çš„è§£å†³</p></li><li>ä¸€æ¡ä¸€æ¡æŒ‡ä»¤çš„æ‰§è¡Œ</li><li>åŒæ—¶åªæœ‰ä¸€ä¸ªæŒ‡ä»¤åœ¨æ‰§è¡Œ</li></ul><h3 id="å¹¶è¡Œè®¡ç®—æ¨¡å¼"><a href="#å¹¶è¡Œè®¡ç®—æ¨¡å¼" class="headerlink" title="å¹¶è¡Œè®¡ç®—æ¨¡å¼"></a>å¹¶è¡Œè®¡ç®—æ¨¡å¼</h3><ul><li>åŒæ—¶åº”ç”¨å¤šä¸ªè®¡ç®—èµ„æºæ¥è§£å†³ä¸€ä¸ªè®¡ç®—é—®é¢˜</li><li>è®¾è®¡å¤šä¸ªè®¡ç®—èµ„æºæˆ–å¤„ç†å™¨</li><li>æ¯ä¸ªé—®é¢˜è¢«åˆ†è§£ä¸ºå¤šä¸ªç¦»æ•£çš„éƒ¨åˆ†ï¼Œå¯ä»¥åŒæ—¶å¤„ç†ï¼ˆå¹¶è¡Œï¼‰</li><li>æ¯ä¸ªéƒ¨åˆ†å¯ä»¥ç”±ä¸€ç³»åˆ—æŒ‡ä»¤å®Œæˆ</li><li>æ¯ä¸ªéƒ¨åˆ†çš„æŒ‡ä»¤åœ¨ä¸åŒçš„å¤„ç†å™¨ä¸Šæ‰§è¡Œ</li></ul><h3 id="Flynn-çŸ©é˜µ"><a href="#Flynn-çŸ©é˜µ" class="headerlink" title="Flynn çŸ©é˜µ"></a>Flynn çŸ©é˜µ</h3><p>4 possible classifications according to Flynn</p><ul><li>SISD</li><li>SIMD</li><li>MISD</li><li>MIMD</li></ul><p>â€” single instruction  single Data</p><p>â€¦</p><p>â€¦</p><p>â€¦</p><hr><h3 id="å­˜å‚¨å™¨çš„æ¶æ„"><a href="#å­˜å‚¨å™¨çš„æ¶æ„" class="headerlink" title="å­˜å‚¨å™¨çš„æ¶æ„"></a>å­˜å‚¨å™¨çš„æ¶æ„</h3><ul><li>shared memory</li><li>distributed memory</li><li>hybrid distributed shared memory</li></ul><h3 id="å¹¶è¡Œç¼–ç¨‹æ¨¡å‹"><a href="#å¹¶è¡Œç¼–ç¨‹æ¨¡å‹" class="headerlink" title="å¹¶è¡Œç¼–ç¨‹æ¨¡å‹"></a>å¹¶è¡Œç¼–ç¨‹æ¨¡å‹</h3><ul><li>å…±äº«å­˜å‚¨æ¨¡å‹</li><li>çº¿ç¨‹æ¨¡å‹</li><li>æ¶ˆæ¯ä¼ é€’æ¨¡å‹</li><li>æ•°æ®å¹¶è¡Œæ¨¡å‹</li></ul><h3 id="è®¾è®¡å¹¶è¡Œå¤„ç†ç¨‹åºå’Œç³»ç»Ÿ"><a href="#è®¾è®¡å¹¶è¡Œå¤„ç†ç¨‹åºå’Œç³»ç»Ÿ" class="headerlink" title="è®¾è®¡å¹¶è¡Œå¤„ç†ç¨‹åºå’Œç³»ç»Ÿ"></a>è®¾è®¡å¹¶è¡Œå¤„ç†ç¨‹åºå’Œç³»ç»Ÿ</h3><ul><li>è‡ªåŠ¨å’Œæ‰‹åŠ¨å¹¶è¡Œ</li><li>ç†è§£é—®é¢˜å’Œç¨‹åº</li><li>åˆ†å—åˆ†å‰²</li><li>é€šä¿¡</li><li>åŒæ­¥</li><li><p>æ•°æ®ä¾èµ–</p></li><li><p>è´Ÿè½½å‡è¡¡</p></li><li>ç²’åº¦</li><li>I/O</li><li>æˆæœ¬</li><li>æ€§èƒ½åˆ†æå’Œä¼˜åŒ–</li></ul><h2 id="å®‰è£…-CUDA"><a href="#å®‰è£…-CUDA" class="headerlink" title="å®‰è£… CUDA"></a>å®‰è£… CUDA</h2><p>Linux</p><ul><li><p>å®‰è£… NVIDIA Driver æ˜¾å¡é©±åŠ¨</p></li><li><p>å®‰è£… CUDA Toolkit</p></li><li>ä½¿ç”¨c/c++ ç¼–è¯‘å™¨æˆ–è€… python æ‹“å±•è¿›è¡Œ GPUåŠ é€Ÿçš„ CUDA ç¼–ç¨‹</li><li>ä»å®˜ç½‘ä¸‹è½½å®‰è£… wet åˆ° åŒ… ç„¶å sudo sh æˆ–è€… ./ è¿è¡Œ</li><li>è®¾ç½®ç¯å¢ƒå˜é‡</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;CUDA-ç¼–ç¨‹&quot;&gt;&lt;a href=&quot;#CUDA-ç¼–ç¨‹&quot; class=&quot;headerlink&quot; title=&quot;CUDA ç¼–ç¨‹&quot;&gt;&lt;/a&gt;CUDA ç¼–ç¨‹&lt;/h1&gt;&lt;h2 id=&quot;ç°ä»£-CPU-æ¶æ„å’Œæ€§èƒ½ä¼˜åŒ–&quot;&gt;&lt;a href=&quot;#ç°ä»£-CPU-æ¶æ„å’Œæ€§èƒ½ä¼˜åŒ–&quot; cla
      
    
    </summary>
    
    
    
      <category term="CUDA" scheme="https://github.com/liysky/liysky.github.io.git/tags/CUDA/"/>
    
  </entry>
  
  <entry>
    <title>Sliding Window </title>
    <link href="https://github.com/liysky/liysky.github.io.git/2021/04/23/Sliding-Window/"/>
    <id>https://github.com/liysky/liysky.github.io.git/2021/04/23/Sliding-Window/</id>
    <published>2021-04-23T08:20:14.000Z</published>
    <updated>2021-09-07T15:58:44.220Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æ»‘åŠ¨çª—å£"><a href="#æ»‘åŠ¨çª—å£" class="headerlink" title="æ»‘åŠ¨çª—å£"></a>æ»‘åŠ¨çª—å£</h2><p><strong>éœ€è¦æ³¨æ„çš„ä¸»è¦æ­¥éª¤</strong></p><ul><li>ç§»åŠ¨ right æ—¶<strong>æ‰©å¤§çª—å£</strong>ï¼Œéœ€è¦æ›´æ–°å“ªäº›æ•°æ®</li><li>ä»€ä¹ˆæ¡ä»¶ä¸‹ï¼Œçª—å£åº”è¯¥<strong>æš‚åœæ‰©å¤§</strong>ï¼Œå¼€å§‹ç¼©å°çª—å£</li><li>ç§»åŠ¨ left æ—¶<strong>ç¼©å°çª—å£</strong>ï¼Œéœ€è¦æ›´æ–°å“ªäº›æ•°æ®</li><li>éœ€è¦çš„<strong>ç»“æœ</strong>æ˜¯åœ¨å“ªä¸ªåœ°æ–¹è¿›è¡Œæ›´æ–°ï¼Œæ˜¯åœ¨æ‰©å¤§çª—å£æ—¶ï¼Œè¿˜æ˜¯ç¼©å°çª—å£æ—¶è¿›è¡Œæ›´æ–°ã€‚</li></ul><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/76_fig1.gif" style="zoom:67%;" /></p><ul><li>çª—å£å³ç«¯ä¸æ–­å‘å‰ï¼Œç›´åˆ°åŒ…å«æ‰€æœ‰çš„æ‰€éœ€å…ƒç´ </li></ul><p>ï¼ˆæ³¨æ„ï¼Œåˆšåˆšç›´åˆ°åŒ…å«æ‰€æœ‰å…ƒç´ å°±æ˜¯çª—å£å¼€å§‹ç¼©å°çš„æ¡ä»¶ï¼‰ã€‚</p><ul><li><p>ç„¶åçª—å£å·¦ç«¯å¼€å§‹å‘å‰ï¼ˆå³è¿›è¡Œäº†çª—å£çš„ç¼©å°ï¼‰ï¼Œç›´åˆ°å¼€å§‹ä¸åŒ…å«æ‰€æœ‰å…ƒç´ ï¼ˆæ¯”å¦‚ABCï¼Œå°±å°‘äº† Aï¼Œçª—å£ä¸­åªåŒ…å«äº†BCï¼‰</p></li><li><p>ç„¶åçª—å£å³è¾¹å†æ¬¡å‘å³å‰è¿›ï¼Œé‡å¤ä¸Šè¿°è¿‡ç¨‹ã€‚</p></li><li>æœ€åè¿”å›æœ€å°çš„çª—å£å³å¯ï¼ˆåœ¨è¿™é‡Œï¼Œå¯ä»¥å¾—å‡ºï¼Œåœ¨ç¼©å°çª—å£ä¹‹å‰é€šå¸¸éœ€è¦è¿›è¡Œé¢„å¤‡ä»½ä¸Šä¸€æ¬¡çš„æœ€åˆé€‚çš„çª—å£ï¼‰</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> left = <span class="number">0</span>, right = <span class="number">0</span>;</span><br><span class="line"><span class="comment">// t  ä¸ºæ‰€éœ€è¦çš„åŒ¹é…å…ƒç´ </span></span><br><span class="line"><span class="keyword">while</span>(right &lt; t.<span class="built_in">size</span>())&#123;</span><br><span class="line">  windows.add[s[right]];</span><br><span class="line">  right++;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//æ»¡è¶³ç¼©å‡æ¡ä»¶æ—¶ï¼Œå¼€å§‹ç¼©å‡</span></span><br><span class="line">  <span class="keyword">while</span>(windows need shrink)&#123;</span><br><span class="line">    windows.<span class="built_in">remove</span>[s[left]];</span><br><span class="line">    left++;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="76-Minimum-Window-Substring"><a href="#76-Minimum-Window-Substring" class="headerlink" title="76. Minimum Window Substring"></a><a href="https://leetcode-cn.com/problems/minimum-window-substring/" target="_blank" rel="noopener">76. Minimum Window Substring</a></h2><p>Given two strings s and t, return the minimum window in s which will contain all the characters in t. If there is no such window in s that covers all characters in t, return the empty string â€œâ€.</p><p>Note that If there is such a window, it is guaranteed that there will always be only one unique minimum window in s.</p><p>Example 1:</p><p>Input: s = â€œADOBECODEBANCâ€, t = â€œABCâ€<br>Output: â€œBANCâ€<br>Example 2:</p><p>Input: s = â€œaâ€, t = â€œaâ€<br>Output: â€œaâ€</p><p>Constraints:</p><p>1 &lt;= s.length, t.length &lt;= 105<br>s and t consist of English letters.</p><p>Follow up: Could you find an algorithm that runs in O(n) time?</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="built_in">string</span> <span class="title">minWindow</span><span class="params">(<span class="built_in">string</span> s, <span class="built_in">string</span> t)</span> </span>&#123;</span><br><span class="line">  <span class="built_in">unordered_map</span>&lt;<span class="keyword">char</span>, <span class="keyword">int</span>&gt; needs, windows;</span><br><span class="line">  <span class="keyword">for</span>( <span class="keyword">char</span> c:t ) needs[c]++;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">int</span> left, right = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">int</span> start = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">int</span> valid = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">int</span> len = INT_MAX;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//å³è¾¹ç•Œå‘å‰æ»‘åŠ¨çš„æ¡ä»¶</span></span><br><span class="line">  <span class="keyword">while</span>(right &lt; s.<span class="built_in">size</span>())&#123;</span><br><span class="line">    <span class="keyword">char</span> c = s[right];</span><br><span class="line">    right++;</span><br><span class="line">    <span class="keyword">if</span>(needs.count(c))&#123;</span><br><span class="line">      windows[c]++;</span><br><span class="line">      <span class="keyword">if</span>(windows[c] == needs[c])&#123;</span><br><span class="line">        valid++;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å·¦è¾¹ç•Œå‘å‰æ»‘åŠ¨çš„æ¡ä»¶</span></span><br><span class="line">    <span class="keyword">while</span>(valid == needs.<span class="built_in">size</span>())&#123;</span><br><span class="line">      <span class="keyword">if</span>(right - left  &lt; len)&#123;</span><br><span class="line">        start = left;</span><br><span class="line">        len = right - left;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">char</span> d = s[left];</span><br><span class="line">      left++;</span><br><span class="line">      <span class="keyword">if</span>(needs.count(d))&#123;</span><br><span class="line">        <span class="keyword">if</span>(windows[d] == needs[d])&#123;</span><br><span class="line">          valid--;</span><br><span class="line">        &#125;</span><br><span class="line">        windows[d]--;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> len == INT_MAX ? <span class="string">""</span> : s.substr(start, len);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>max(O(n)) = O(s+t)</p><h2 id="567-Permutation-in-String"><a href="#567-Permutation-in-String" class="headerlink" title="567. Permutation in String"></a><a href="https://leetcode-cn.com/problems/permutation-in-string/" target="_blank" rel="noopener">567. Permutation in String</a></h2><p>Given two strings <code>s1</code> and <code>s2</code>, return true if <code>s2</code> contains the permutation of <code>s1</code>.</p><p>In other words, one of <code>s1</code>â€˜s permutations is the substring of <code>s2</code>.</p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: s1 &#x3D; &quot;ab&quot;, s2 &#x3D; &quot;eidbaooo&quot;</span><br><span class="line">Output: true</span><br><span class="line">Explanation: s2 contains one permutation of s1 (&quot;ba&quot;).</span><br></pre></td></tr></table></figure><p><strong>Example 2:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: s1 &#x3D; &quot;ab&quot;, s2 &#x3D; &quot;eidboaoo&quot;</span><br><span class="line">Output: false</span><br></pre></td></tr></table></figure><p><strong>Constraints:</strong></p><ul><li><code>1 &lt;= s1.length, s2.length &lt;= 104</code></li><li><code>s1</code> and <code>s2</code> consist of lowercase English letters.</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">checkInclusion</span><span class="params">(<span class="built_in">string</span> s1, <span class="built_in">string</span> s2)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">unordered_map</span>&lt;<span class="keyword">char</span>, <span class="keyword">int</span>&gt; need, window;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">char</span> c : s1 ) need[c]++;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">0</span>, right = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> valid = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(right &lt; s2.<span class="built_in">size</span>())&#123;</span><br><span class="line">            <span class="keyword">char</span> c = s2[right];</span><br><span class="line">            right++;</span><br><span class="line">            <span class="keyword">if</span>(need.count(c))&#123;</span><br><span class="line">                window[c]++;</span><br><span class="line">                <span class="keyword">if</span>(need[c] == window[c])&#123;</span><br><span class="line">                    valid++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// å½“ çª—å£ å¤§äº s1 ç›®æ ‡å­—ç¬¦ä¸²çš„å¤§å°æ—¶ï¼Œéœ€è¦å·¦ç§»åŠ¨</span></span><br><span class="line">            <span class="keyword">while</span>(right - left &gt;= s1.<span class="built_in">size</span>())&#123;</span><br><span class="line">                <span class="keyword">if</span>(valid == need.<span class="built_in">size</span>() ) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                <span class="keyword">char</span> d = s2[left];</span><br><span class="line">                left++;</span><br><span class="line">                <span class="keyword">if</span>(need.count(d))&#123;</span><br><span class="line">                    <span class="keyword">if</span>(need[d]==window[d])&#123;</span><br><span class="line">                        valid--;</span><br><span class="line">                    &#125;</span><br><span class="line">                    window[d]--;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h2 id="438-Find-All-Anagrams-in-a-String"><a href="#438-Find-All-Anagrams-in-a-String" class="headerlink" title="438. Find All Anagrams in a String"></a><a href="https://leetcode-cn.com/problems/find-all-anagrams-in-a-string/" target="_blank" rel="noopener">438. Find All Anagrams in a String</a></h2><p>Given two strings <code>s</code> and <code>p</code>, return <em>an array of all the start indices of</em> <code>p</code><em>â€˜s anagrams in</em> <code>s</code>. You may return the answer in <strong>any order</strong>.</p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Input: s &#x3D; &quot;cbaebabacd&quot;, p &#x3D; &quot;abc&quot;</span><br><span class="line">Output: [0,6]</span><br><span class="line">Explanation:</span><br><span class="line">The substring with start index &#x3D; 0 is &quot;cba&quot;, which is an anagram of &quot;abc&quot;.</span><br><span class="line">The substring with start index &#x3D; 6 is &quot;bac&quot;, which is an anagram of &quot;abc&quot;.</span><br></pre></td></tr></table></figure><p><strong>Example 2:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Input: s &#x3D; &quot;abab&quot;, p &#x3D; &quot;ab&quot;</span><br><span class="line">Output: [0,1,2]</span><br><span class="line">Explanation:</span><br><span class="line">The substring with start index &#x3D; 0 is &quot;ab&quot;, which is an anagram of &quot;ab&quot;.</span><br><span class="line">The substring with start index &#x3D; 1 is &quot;ba&quot;, which is an anagram of &quot;ab&quot;.</span><br><span class="line">The substring with start index &#x3D; 2 is &quot;ab&quot;, which is an anagram of &quot;ab&quot;.</span><br></pre></td></tr></table></figure><p><strong>Constraints:</strong></p><ul><li><code>1 &lt;= s.length, p.length &lt;= 3 * 104</code></li><li><code>s</code> and <code>p</code> consist of lowercase English letters.</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;unordered_map&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; <span class="title">findAnagrams</span><span class="params">(<span class="built_in">string</span> s, <span class="built_in">string</span> p)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">0</span>, right = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">unordered_map</span>&lt;<span class="keyword">char</span>, <span class="keyword">int</span>&gt; need, window;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">char</span> c : p) need[c]++;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt; <span class="string">"first, need.size() = "</span>&lt;&lt;need.<span class="built_in">size</span>()&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">int</span> valid = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; res;</span><br><span class="line">        <span class="keyword">while</span>(right &lt; s.<span class="built_in">size</span>())&#123;</span><br><span class="line">            <span class="keyword">char</span> c = s[right];</span><br><span class="line">            right++;</span><br><span class="line">            <span class="keyword">if</span>(need.count(c))&#123;</span><br><span class="line">                window[c]++;</span><br><span class="line">                <span class="keyword">if</span>(window[c] == need[c])&#123;</span><br><span class="line">                    valid++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">while</span>(right - left &gt;= p.<span class="built_in">size</span>())&#123;</span><br><span class="line">                <span class="built_in">cout</span>&lt;&lt;<span class="string">"need.size() = "</span> &lt;&lt; need.<span class="built_in">size</span>()&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">                <span class="built_in">cout</span>&lt;&lt;<span class="string">"p.size() = "</span> &lt;&lt; p.<span class="built_in">size</span>()&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">                <span class="keyword">if</span>(valid == need.<span class="built_in">size</span>())&#123;</span><br><span class="line">                    res.push_back(left);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">char</span> d = s[left];</span><br><span class="line">                left++;</span><br><span class="line">                <span class="keyword">if</span>(need.count(d))&#123;</span><br><span class="line">                    <span class="keyword">if</span>(need[d] == window[d])&#123;</span><br><span class="line">                        valid--;</span><br><span class="line">                    &#125;</span><br><span class="line">                    window[d]--;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Solution slt;</span><br><span class="line">    <span class="built_in">string</span> s1 = <span class="string">"baa"</span>, s2 = <span class="string">"aa"</span>;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; test;</span><br><span class="line">    test = slt.findAnagrams(s1, s2);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; test.<span class="built_in">size</span>(); i++)&#123;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt; test[i]&lt;&lt; <span class="string">" "</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>make clear <code>valid == need.size()</code> not <code>valid == p.size()</code>. </p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20210816225511497.png" alt="image-20210816225511497"></p><h2 id="3-Longest-Substring-Without-Repeating-Characters"><a href="#3-Longest-Substring-Without-Repeating-Characters" class="headerlink" title="3. Longest Substring Without Repeating Characters"></a><a href="https://leetcode-cn.com/problems/longest-substring-without-repeating-characters/" target="_blank" rel="noopener">3. Longest Substring Without Repeating Characters</a></h2><p>Given a string <code>s</code>, find the length of the <strong>longest substring</strong> without repeating characters.</p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: s &#x3D; &quot;abcabcbb&quot;</span><br><span class="line">Output: 3</span><br><span class="line">Explanation: The answer is &quot;abc&quot;, with the length of 3.</span><br></pre></td></tr></table></figure><p><strong>Example 2:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: s &#x3D; &quot;bbbbb&quot;</span><br><span class="line">Output: 1</span><br><span class="line">Explanation: The answer is &quot;b&quot;, with the length of 1.</span><br></pre></td></tr></table></figure><p><strong>Example 3:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Input: s &#x3D; &quot;pwwkew&quot;</span><br><span class="line">Output: 3</span><br><span class="line">Explanation: The answer is &quot;wke&quot;, with the length of 3.</span><br><span class="line">Notice that the answer must be a substring, &quot;pwke&quot; is a subsequence and not a substring.</span><br></pre></td></tr></table></figure><p><strong>Example 4:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: s &#x3D; &quot;&quot;</span><br><span class="line">Output: 0</span><br></pre></td></tr></table></figure><p><strong>Constraints:</strong></p><ul><li><code>0 &lt;= s.length &lt;= 5 * 104</code></li><li><code>s</code> consists of English letters, digits, symbols and spaces.</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;unordered_map&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">lengthOfLongestSubstring</span><span class="params">(<span class="built_in">string</span> s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">0</span>, right = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">unordered_map</span>&lt;<span class="keyword">char</span>, <span class="keyword">int</span>&gt; window;</span><br><span class="line">        <span class="keyword">while</span>(right &lt; s.<span class="built_in">size</span>() )&#123;</span><br><span class="line">            <span class="keyword">char</span> c = s[right];</span><br><span class="line">            right++;</span><br><span class="line">            window[c]++;</span><br><span class="line">            <span class="keyword">while</span>(window[c] &gt; <span class="number">1</span>)&#123;</span><br><span class="line">                <span class="keyword">char</span> d = s[left];</span><br><span class="line">                left++;</span><br><span class="line">                window[d]--;</span><br><span class="line">            &#125;</span><br><span class="line">          <span class="comment">//å½“ç¼©å°çª—å£æ—¶ï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰é‡å¤å­ä¸²çš„æ—¶å€™ï¼Œæ­¤æ—¶è¿›è¡Œè®°å½•æœ€å¤§å­ä¸²é•¿åº¦ã€‚</span></span><br><span class="line">            res = <span class="built_in">max</span>(res, right - left);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Solution s;</span><br><span class="line">    <span class="built_in">string</span> str = <span class="string">"abcabcbb"</span>;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;s.lengthOfLongestSubstring(str)&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;æ»‘åŠ¨çª—å£&quot;&gt;&lt;a href=&quot;#æ»‘åŠ¨çª—å£&quot; class=&quot;headerlink&quot; title=&quot;æ»‘åŠ¨çª—å£&quot;&gt;&lt;/a&gt;æ»‘åŠ¨çª—å£&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;éœ€è¦æ³¨æ„çš„ä¸»è¦æ­¥éª¤&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç§»åŠ¨ right æ—¶&lt;strong&gt;æ‰©å¤§çª—å£
      
    
    </summary>
    
    
    
      <category term="slidingwindow" scheme="https://github.com/liysky/liysky.github.io.git/tags/slidingwindow/"/>
    
  </entry>
  
  <entry>
    <title>Binary Search</title>
    <link href="https://github.com/liysky/liysky.github.io.git/2021/04/20/Binary-Search/"/>
    <id>https://github.com/liysky/liysky.github.io.git/2021/04/20/Binary-Search/</id>
    <published>2021-04-19T16:54:28.000Z</published>
    <updated>2021-04-21T03:05:47.866Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;vector&gt;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">binarysear</span><span class="params">(std::vector&lt;<span class="keyword">int</span>&gt; &amp;nums, <span class="keyword">int</span> target)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> left = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> right = nums.size();</span><br><span class="line">    <span class="keyword">while</span>(left &lt;= right)&#123;</span><br><span class="line">        <span class="keyword">int</span> mid = left+(right - left) / <span class="number">2</span> ;</span><br><span class="line">        <span class="keyword">if</span>(nums[mid] == target)</span><br><span class="line">            <span class="keyword">return</span> mid;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (nums[mid] &lt; target)</span><br><span class="line">            left = mid +<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (nums[mid] &gt; target)</span><br><span class="line">            right = mid -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    std::vector&lt;<span class="keyword">int</span>&gt; arr = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">3</span>&#125;;</span><br><span class="line">    <span class="keyword">int</span> rest = binarysear(arr, <span class="number">2</span>);</span><br><span class="line">    std::cout&lt;&lt;rest&lt;&lt;std::endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ­¤ç®—æ³•çš„ç¼ºé™·ï¼š</p><p>æ¯”å¦‚è¯´ç»™ä½ æœ‰åºæ•°ç»„ <code>nums = [1,2,2,2,3]</code>ï¼Œ<code>target</code> ä¸º 2ï¼Œæ­¤ç®—æ³•è¿”å›çš„ç´¢å¼•æ˜¯ 2ï¼Œæ²¡é”™ã€‚ä½†æ˜¯å¦‚æœæˆ‘æƒ³å¾—åˆ° <code>target</code> çš„å·¦ä¾§è¾¹ç•Œï¼Œå³ç´¢å¼• 1ï¼Œæˆ–è€…æˆ‘æƒ³å¾—åˆ° <code>target</code> çš„å³ä¾§è¾¹ç•Œï¼Œå³ç´¢å¼• 3ï¼Œè¿™æ ·çš„è¯æ­¤ç®—æ³•æ˜¯æ— æ³•å¤„ç†çš„ã€‚</p><h3 id="å¯»æ‰¾å·¦ä¾§è¾¹ç•Œçš„äºŒåˆ†æœç´¢"><a href="#å¯»æ‰¾å·¦ä¾§è¾¹ç•Œçš„äºŒåˆ†æœç´¢" class="headerlink" title="å¯»æ‰¾å·¦ä¾§è¾¹ç•Œçš„äºŒåˆ†æœç´¢"></a>å¯»æ‰¾å·¦ä¾§è¾¹ç•Œçš„äºŒåˆ†æœç´¢</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">leftbinarysear</span><span class="params">(<span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; nums, <span class="keyword">int</span> target)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> left = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> right = nums.<span class="built_in">size</span>() - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(left &lt;= right)&#123;</span><br><span class="line">        <span class="keyword">int</span> mid = left+(right - left) / <span class="number">2</span> ;</span><br><span class="line">        <span class="keyword">if</span>(nums[mid] &gt; target)</span><br><span class="line">            right = mid - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (nums[mid] &lt; target)</span><br><span class="line">            left = mid +<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (nums[mid] ==  target)</span><br><span class="line">            right = mid <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(left &gt;= nums.<span class="built_in">size</span>() || nums[left] != target)&#123;</span><br><span class="line">        <span class="keyword">return</span>  <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> left;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å¯»æ‰¾å³ä¾§è¾¹ç•Œçš„äºŒåˆ†æœç´¢"><a href="#å¯»æ‰¾å³ä¾§è¾¹ç•Œçš„äºŒåˆ†æœç´¢" class="headerlink" title="å¯»æ‰¾å³ä¾§è¾¹ç•Œçš„äºŒåˆ†æœç´¢"></a>å¯»æ‰¾å³ä¾§è¾¹ç•Œçš„äºŒåˆ†æœç´¢</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">rightbinarysear</span><span class="params">(<span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; nums, <span class="keyword">int</span> target)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> left = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> right = nums.<span class="built_in">size</span>() - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(left &lt;= right)&#123;</span><br><span class="line">        <span class="keyword">int</span> mid = left+(right - left) / <span class="number">2</span> ;</span><br><span class="line">        <span class="keyword">if</span>(nums[mid] &gt; target)</span><br><span class="line">            right = mid - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (nums[mid] &lt; target)</span><br><span class="line">            left = mid +<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (nums[mid] ==  target)</span><br><span class="line">            left = mid + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(right &lt; <span class="number">0</span> || nums[right] != target)&#123;</span><br><span class="line">        <span class="keyword">return</span>  <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> right;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20210420210039036.png" alt="image-20210420210039036"></p><p><strong>noteï¼š</strong></p><p>å¸¸è§„åšæ³•å¾ˆç®€å•å°±æ˜¯ï¼š<code>nums[mid] == target</code> æ—¶ï¼Œå·¦ä¾§ <code>left = mid +1</code> å³ä¾§ <code>right = mid + 1</code>ã€‚</p><p>å°†ã€Œæœç´¢åŒºé—´ã€å…¨éƒ½ç»Ÿä¸€æˆä¸¤ç«¯éƒ½é—­ï¼Œå¥½è®°ï¼Œåªè¦ç¨æ”¹ <code>nums[mid] == target</code> æ¡ä»¶å¤„çš„ä»£ç å’Œè¿”å›çš„é€»è¾‘å³å¯ã€‚</p><p>å³åœ¨å·¦ä¾§åšäºŒåˆ†æœç´¢æ—¶ï¼Œåªéœ€åœ¨ <code>nums[mid] == target</code>  æ—¶è¿›è¡Œ <code>right = mid -1</code>æŒç»­å‘å·¦ä¾§æ”¶ç´§ã€‚</p><p>åœ¨å³ä¾§åšäºŒåˆ†æœç´¢æ—¶ï¼Œåªéœ€åœ¨ <code>nums[mid] = target</code> æ—¶è¿›è¡Œ <code>left = mid +1</code> æŒç»­å‘å³ä¾§æ”¶ç´§ã€‚</p><h3 id="LeetCode"><a href="#LeetCode" class="headerlink" title="LeetCode"></a>LeetCode</h3><h4 id="34-Find-First-and-Last-Position-of-Element-in-Sorted-Array"><a href="#34-Find-First-and-Last-Position-of-Element-in-Sorted-Array" class="headerlink" title="34. Find First and Last Position of Element in Sorted Array"></a><a href="https://leetcode-cn.com/problems/find-first-and-last-position-of-element-in-sorted-array/" target="_blank" rel="noopener">34. Find First and Last Position of Element in Sorted Array</a></h4><p>Given an array of integers <code>nums</code> sorted in ascending order, find the starting and ending position of a given <code>target</code> value.</p><p>If <code>target</code> is not found in the array, return <code>[-1, -1]</code>.</p><p><strong>Follow up:</strong> Could you write an algorithm with <code>O(log n)</code> runtime complexity?</p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: nums &#x3D; [5,7,7,8,8,10], target &#x3D; 8</span><br><span class="line">Output: [3,4]</span><br></pre></td></tr></table></figure><p><strong>Example 2:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: nums &#x3D; [5,7,7,8,8,10], target &#x3D; 6</span><br><span class="line">Output: [-1,-1]</span><br></pre></td></tr></table></figure><p><strong>Example 3:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: nums &#x3D; [], target &#x3D; 0</span><br><span class="line">Output: [-1,-1]</span><br></pre></td></tr></table></figure><p><strong>Constraints:</strong></p><ul><li><code>0 &lt;= nums.length &lt;= 105</code></li><li><code>-109 &lt;= nums[i] &lt;= 109</code></li><li><code>nums</code> is a non-decreasing array.</li><li><code>-109 &lt;= target &lt;= 109</code></li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; <span class="title">searchRange</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; res;</span><br><span class="line">        res.push_back(leftBinSearch(nums, target));</span><br><span class="line">        res.push_back(rightBinSearch(nums, target));</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">leftBinSearch</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> target)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> right = nums.<span class="built_in">size</span>() - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(left &lt;= right)&#123;</span><br><span class="line">            <span class="keyword">int</span> mid = left + (right - left)/<span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span>(target &gt; nums[mid])&#123;</span><br><span class="line">                left = mid + <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (target &lt; nums[mid])&#123;</span><br><span class="line">                right = mid - <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (nums[mid] == target)&#123;</span><br><span class="line">                right = mid - <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(left &gt;= nums.<span class="built_in">size</span>() || nums[left] != target)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> left;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">rightBinSearch</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> target)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> right = nums.<span class="built_in">size</span>() - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(left &lt;= right)&#123;</span><br><span class="line">            <span class="keyword">int</span> mid = left + (right - left)/<span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span>(target &gt; nums[mid])&#123;</span><br><span class="line">                left = mid + <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (target &lt; nums[mid])&#123;</span><br><span class="line">                right = mid - <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (nums[mid] == target)&#123;</span><br><span class="line">                left = mid + <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(right &lt; <span class="number">0</span> || nums[right] != target)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> right;</span><br><span class="line">    &#125;    </span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>è®°ä¸€æ¬¡è‹¹æœå¤©æ‰å§ç»´ä¿®è®°å½•</title>
    <link href="https://github.com/liysky/liysky.github.io.git/2021/04/17/logofapplegeniusbar/"/>
    <id>https://github.com/liysky/liysky.github.io.git/2021/04/17/logofapplegeniusbar/</id>
    <published>2021-04-17T13:49:39.000Z</published>
    <updated>2021-04-19T03:25:52.103Z</updated>
    
    <content type="html"><![CDATA[<h1 id="è®°ä¸€æ¬¡è‹¹æœå¤©æ‰å§ç»´ä¿®è®°å½•"><a href="#è®°ä¸€æ¬¡è‹¹æœå¤©æ‰å§ç»´ä¿®è®°å½•" class="headerlink" title="è®°ä¸€æ¬¡è‹¹æœå¤©æ‰å§ç»´ä¿®è®°å½•"></a>è®°ä¸€æ¬¡è‹¹æœå¤©æ‰å§ç»´ä¿®è®°å½•</h1><p>å› ä¸ºæˆ‘ç”¨äº†3å¹´çš„ MBP ç¬”è®°æœ¬ç”µè„‘çš„é”®ç›˜æœ‰ä¸¤ä¸ªé”®æ¾åŠ¨äº†å¹¶ä¸”æœ‰ç²˜è¿å“åº”ï¼ˆå°±æ˜¯æŒ‰ä¸€ä¸ªå­—æ¯çš„æ—¶å€™ä¼šè¾“å…¥ä¸¤ä¸ªï¼‰ï¼Œè¿™ç§æƒ…å†µå‘ç”Ÿäº†å¤§æ¦‚æœ‰åŠå¹´å¤šçš„æ—¶é—´äº†ï¼Œå¹¶ä¸”æˆ‘ä¹ŸçŸ¥é“æ˜¯æˆ‘ä¹°çš„è¿™ä¸ªç³»åˆ—çš„ç¬”è®°æœ¬æœ‰è¿™ç§è®¾è®¡ç¼ºé™·ï¼Œè‹¹æœä¹Ÿæå‡ºäº†å¯¹åº”çš„ç»´ä¿®è®¡åˆ’ï¼š<a href="https://support.apple.com/zh-cn/keyboard-service-program-for-mac-notebooks" target="_blank" rel="noopener">https://support.apple.com/zh-cn/keyboard-service-program-for-mac-notebooks</a> ä½†æˆ‘ä¸€ç›´æ‡’çš„å»ä¿®ï¼Œç›´åˆ°æœ€è¿‘é¢‘ç¹çš„å½±å“åˆ°æˆ‘çš„ä½¿ç”¨ï¼Œæˆ‘é¢„çº¦äº†å¤©æ‰å§çš„æœåŠ¡ã€‚ï¼ˆå¼ºçƒˆå»ºè®®å¦‚æœæœ‰ç±»ä¼¼çš„é—®é¢˜ï¼Œç»´ä¿®ä¹‹ç±»çš„ï¼Œæœ€å¥½å»è‹¹æœå®˜æ–¹çš„é›¶å”®åº—ï¼Œè€Œä¸æ˜¯ç¬¬ä¸‰æ–¹åˆä½œçš„ã€‚ï¼‰</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-04-17%20at%2020.28.28.png" alt="Screen Shot 2021-04-17 at 20.28.28" style="zoom: 33%;" /></p><h3 id="é¢„çº¦æµç¨‹"><a href="#é¢„çº¦æµç¨‹" class="headerlink" title="é¢„çº¦æµç¨‹"></a>é¢„çº¦æµç¨‹</h3><p>é¢„çº¦åˆ°å¤©æ‰å§å¤§æ¦‚æœ‰ä¸¤ç§æ–¹å¼ï¼š</p><ul><li><p>æ‰“ç”µè¯è·Ÿå®¢æœè”ç»œå¹¶é¢„çº¦ï¼ˆçœäº‹ï¼Œé€šå¸¸å®¢æœä¼šç»™ä½ å°½å¯èƒ½çš„å¸®åŠ©ï¼‰ã€‚</p></li><li><p>é€šè¿‡æ‰‹æœºä¸‹è½½ Apple Support APPï¼Œç„¶åç™»é™† IDï¼Œé€šè¿‡æ‰¾çš„è‡ªå·±æ‰€éœ€è¦ç»´ä¿®çš„è®¾å¤‡ï¼Œè¿›è¡Œé€‰æ‹©æœåŠ¡ï¼Œé€‰æ‹©é¢„çº¦æ—¶é—´ç­‰ç­‰ï¼ˆæˆ‘é€‰æ‹©äº†è¿™ç§æœåŠ¡ï¼Œéº»çƒ¦å°±åœ¨äºè‡ªå·±æ“ä½œï¼‰ã€‚å½“ç„¶ Apple æ”¯æŒ APPé‡Œä¹Ÿå¯ä»¥ä¸å®¢æœè¿›è¡Œæ²Ÿé€šï¼Œè¯¢é—®ä¸€äº›äº‹é¡¹ã€‚</p></li></ul><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20210417203827591.png" alt="image-20210417203827591" style="zoom: 33%;" /></p><h3 id="åˆ°åº—æœåŠ¡"><a href="#åˆ°åº—æœåŠ¡" class="headerlink" title="åˆ°åº—æœåŠ¡"></a>åˆ°åº—æœåŠ¡</h3><p>é¢„çº¦çš„æ—¶å€™ä¼šç»™å‡ºä½ ä¸€ä¸ªéå¸¸å…·ä½“çš„æ—¶é—´ï¼Œåˆ°é¢„çº¦æ—¶é—´å»ç„¶åå‡ºç¤ºä¸€ä¸‹è¯ä»¶å°±å¯ä»¥äº†ã€‚</p><p>æˆ‘æ³¨æ„åˆ°çš„æ˜¯ï¼Œå¤©æ‰å§çš„æœåŠ¡ä¸“å®¶çš„æœåŠ¡ç»†èŠ‚ï¼Œä»–ç»™ä½ å®Œå…¨çš„ä¿¡ä»»æ„Ÿï¼Œæ„æ€æ˜¯è¯·ä½ ç›¸ä¿¡ä»–ï¼Œä»–å°½å¯èƒ½çš„åœ¨æœåŠ¡èŒƒå›´ä¹‹å†…å¸®ä½ ã€‚</p><p>æˆ‘åˆ°çš„æ—¶å€™ç¦»é¢„çº¦æ—¶é—´è¿˜æœ‰ååˆ†é’Ÿï¼Œæˆ‘å°±åœ¨åº—é‡Œç©ã€Œç‹‚é‡é£™è½¦ã€è¿™ä¸ªæ¸¸æˆæ‰“å‘æ—¶é—´ï¼Œç»“æœæœåŠ¡ä¸“å®¶ä»–è¿Ÿåˆ°äº†ï¼Œå½“ç„¶ä»–è¡¨ç¤ºé“æ­‰äº†ï¼Œç„¶åå°±æ˜¯éå¸¸æ„‰å¿«çš„æ²Ÿé€šã€‚</p><p>æŠŠäº‹æƒ…æ²Ÿé€šæ¸…æ¥šä¹‹åï¼Œä»–ä¼šç»™å‡ºå»ºè®®ï¼ˆåŒ…æ‹¬ç»´ä¿®çš„ç¨‹åº¦ï¼Œéœ€è¦æ¢ä»€ä¹ˆä¸œè¥¿ï¼Œéœ€è¦å¤‡ä»½ä»€ä¹ˆæ•°æ®ï¼Œç»´ä¿®çš„ä»·æ ¼ï¼‰ç„¶åè¯¢é—®æˆ‘çš„æ„è§ã€‚</p><p>å› ä¸ºæˆ‘å¯¹è¿™é¡¹æ¢é”®ç›˜çš„æœåŠ¡å·²ç»æå‰æœ‰è¿‡äº†è§£äº†ï¼ˆæ˜¯çš„ï¼Œè¿™ä¸ªç³»åˆ—çš„äº§å“è®¾è®¡ç¼ºé™·å·²ç»é—»åäºè€³ï¼Œè‹¹æœä¹Ÿå› ä¸ºè¿™ä»¶äº‹è¢«è®¸å¤šæ¶ˆè´¹è€…èµ·è¯‰äº†ï¼‰æˆ‘è¡¨ç¤ºéšä¾¿ä½ ä¿®å°±å¥½äº†ï¼Œæ•°æ®æˆ‘å·²ç»å¤‡ä»½äº†ï¼ˆæ•°æ®å¤‡ä»½è¿˜æ˜¯å¾ˆé‡è¦çš„ï¼Œå¦‚æœæœ‰æ•æ„Ÿæ•°æ®çš„è¯ï¼Œå»ºè®®è¿˜æ˜¯åœ¨ç»´ä¿®ä¹‹å‰è¿›è¡Œæ¸…ç›˜æ“ä½œï¼Œæ¯•ç«Ÿè°ä¹Ÿä¸æƒ³å‘ç”Ÿç±»ä¼¼ã€Œå¤§å®¶å¥½ï¼Œæˆ‘æ˜¯é™ˆå† å¸Œï¼Œæˆ‘ç°åœ¨åœ¨LAï¼Œæˆ‘é‡åˆ°äº†ä¸€äº›å¾ˆåå¾ˆåçš„äººï¼Œä¸€äº›gangsterï¼Œç°åœ¨éœ€è¦ä½ çš„å¸®åŠ©ï¼Œå¾®ä¿¡è½¬è´¦300å—ï¼Œå¸®æˆ‘å›åˆ°é¦™æ¸¯ï¼Œä½ æ‡‚æˆ‘æ„æ€å—ï¼Ÿæˆ‘å¯¹ä½ è‡´æ•¬ï¼Œsaluteï¼‰çš„äº‹æƒ…ã€‚</p><p>ç„¶åå¤©æ‰å§æœåŠ¡ä¸“å®¶ä¼šè®©ä½ ç­¾å­—ï¼ˆé€šå¸¸ç›´æ¥ç­¾å°±å¥½äº†ï¼‰ï¼Œå‘Šè¯‰ä½ å¤§æ¦‚çš„ç»´ä¿®æœåŠ¡æ—¶é—´ï¼ˆå¤§çº¦æœ€é•¿ä¸ä¼šè¶…è¿‡2å¤©ï¼‰ã€‚</p><p>ç”±äºæˆ‘ä¸€ç›´ä»¥æ¥çš„äººå“æ¯”è¾ƒå¥½ï¼Œå…¶å®æˆ‘ä¹Ÿæ²¡æƒ³åˆ°å’¯ï¼Œæˆ‘ç¦»å¼€åæ­£å¥½ä¸­åˆï¼Œå¿ƒæƒ³å°±åœ¨é™„è¿‘è·ŸåŒå­¦ä¸€å—åƒä¸ªé¥­å§ï¼Œç»“æœåƒå®Œé¥­çš„æ—¶é—´ï¼Œå¤©æ‰å§æ‰“è¿‡ç”µè¯æ¥å‘Šè¯‰æˆ‘æˆ‘çš„ç”µè„‘ä¿®å¥½äº†ï¼Œåœ¨æ­¤å†æ¬¡ saluteï¼Œæˆ‘æ·±æ·±åœ°è¡¨è¾¾äº†æˆ‘çš„æ„Ÿè°¢ï¼Œç„¶åå°±å»å–ç”µè„‘äº†ã€‚</p><p>æœ¬æ¥æˆ‘åªæ˜¯æƒ³ä¿®é”®ç›˜çš„ï¼Œç»“æœç»™æˆ‘æ¢äº†é”®ç›˜ï¼Œæ¢äº†ç”µæ± ï¼Œè¿˜æ¢äº†ç”µæ± ä¸Šç›–æ¿ï¼Œæˆ‘åˆæ·±æ·±åœ°å¯¹ä»–ä»¬çš„æœåŠ¡è¡¨ç¤ºäº†æ„Ÿè°¢ï¼Œsaluteï¼Œawesomeã€‚</p><h3 id="ä¸€äº›æƒ³æ³•"><a href="#ä¸€äº›æƒ³æ³•" class="headerlink" title="ä¸€äº›æƒ³æ³•"></a>ä¸€äº›æƒ³æ³•</h3><p>Apple ä¹‹æ‰€ä»¥ä¸º Apple ï¼Œè‹¹æœä¹‹æ‰€ä»¥ä¸ºè‹¹æœï¼Œæ˜¯å› ä¸ºå®ƒå¤©ç”Ÿå°±æ˜¯è·Ÿæ¢¨çš„å‘³é“ä¸ä¸€æ ·ï¼Œæˆ‘åœ¨åº—é‡Œçš„æ—¶å€™å…¶å®è¿˜æ³¨æ„åˆ°äº†å¾ˆå¤šå…¶ä»–çš„äººæ¥è¿™é‡Œç»´ä¿®ï¼Œæœ‰çš„äººä¼šå› ä¸ºä¸€äº›ä½¿ç”¨éšœç¢æ¥åˆ°è¿™é‡Œå¯»æ±‚å¸®åŠ©ï¼Œæ¯”å¦‚è¯´æˆ‘è§åˆ°äº†ä¸€ä½è€å¤´ï¼Œè¿™æ ·è¯´ä¸å¤ªå¥½ï¼Œè€çˆ·çˆ·å§ï¼Œä»–è„¾æ°”ä¸å¤ªå¥½ï¼Œè¿›æ¥å°±æ˜¯ä½ ä»¬ç»™æˆ‘å¼„ï¼Œæˆ‘è¿™ä¸ªæ€ä¹ˆæ€ä¹ˆâ€¦.åäº†ã€‚è¿˜æœ‰å°±æ˜¯ä¸€äº›æ²Ÿé€šç¯èŠ‚ï¼Œå¦ç™½è¯´æ¥ï¼Œè‹¹æœé›¶å”®åº—é‡Œä¼šæœ‰å¥½å¤šçš„åº—å‘˜ï¼Œåº—å‘˜çš„å·¥ä½œå½“ç„¶å°±æ˜¯è¦åŒ…å«é”€å”®å’ŒæœåŠ¡çš„ï¼Œæœ‰å®£ä¼ è¥é”€è´£ä»»ï¼Œä½†æ˜¯è‹¹æœä»æ¥ä¸ç§°å‘¼ä»–ä»¬ä¸ºé”€å”®æˆ–è€…ä»€ä¹ˆå…¶ä»–çš„ï¼Œä»–ä»¬ä»ä¸€å¼€å§‹ç»™ä½ è”ç»œçš„æ—¶å€™å°±å‘Šè¯‰ä½ ï¼Œè·Ÿä½ æ²Ÿé€šçš„æ˜¯ä¸€ä½ã€Œä¸“å®¶ã€ï¼Œè€Œä¸”ä»–ä»¬çš„ã€Œåº—å‘˜ã€ï¼ˆè¯·å…è®¸æˆ‘æš‚æ—¶è¿™æ ·ç§°å‘¼ï¼‰ä¼šå°½å¯èƒ½çš„å¬ä»ä½ çš„è®²è¿°ï¼Œä»ç”¨æˆ·ä¸ªäººçš„è§’åº¦ç»™å‡ºå»ºè®®ã€‚å¾ˆæ˜¾ç„¶ä»–ä»¬æ˜¯å—åˆ°è¿‡ä¸¥æ ¼çš„åŸ¹è®­çš„ï¼Œå¦åˆ™ä¸ä¼šç»™å‡ºä»å®¹ä¸è¿«å’Œè¯¦å°½ç¿”å®çš„å»ºè®®ã€‚</p><p>ä»æˆ‘æ‰€æœ‰çš„å—åˆ°çš„ä»–ä»¬çš„æœåŠ¡æ¥è¯´ï¼Œè‹¹æœå½“ç„¶ä¼šå‡ºå¾ˆå¤šé—®é¢˜ï¼Œæˆ‘ä½¿ç”¨ä»–ä»¬çš„äº§å“çš„è¿‡ç¨‹ä¸­é—®é¢˜ä¸è®¡å…¶æ•°ï¼Œä½†æ˜¯æ¯å½“ä½ è·Ÿä»–ä»¬æ²Ÿé€šçš„æ—¶å€™ï¼Œå¾ˆæ˜æ˜¾è‹¹æœé€šå¸¸ä¼šç»™å‡ºä¸€ä¸ªå¾ˆå¥½çš„å”®åæœåŠ¡ï¼Œæœ‰å…³å”®åæœåŠ¡æˆ‘æ˜¯è§‰å¾—è‹¹æœåšå¾—çœŸä¸é”™ï¼Œè¡¨é¢ä¸Šæ¥çœ‹ä»–ä»¬æ˜¯å–äº§å“çš„ï¼Œå®é™…ä¸Šä»–ä»¬æ˜¯å–æœåŠ¡çš„ï¼Œæˆ‘éå¸¸å–œæ¬¢å’Œä½©æœä»–ä»¬è¿™ä¸€ç§æ–‡åŒ–ã€‚</p><p>æˆ‘å¹¶ä¸æ˜¯ä»€ä¹ˆã€Œæœç²‰ã€ï¼Œæˆ‘è§‰å¾—å¦‚æœæœ‰äººç§°æˆ‘ä¸ºã€Œæœç²‰ã€çš„è¯ï¼Œæˆ‘ä¸€å®šä¼šåé©³ä»–è¯´ã€Œä½ æ‰æ˜¯ã€æœç²‰ã€ä½ ä»¬å…¨å®¶éƒ½æ˜¯ã€æœç²‰ã€ã€ï¼Œæˆ‘ä¼šæ›´ç†æ€§åœ°ç†è§£å’Œçœ‹å¾…è‹¹æœèƒŒåçš„æŸç§æ–‡åŒ–ä½¿å¾—æˆ‘å–œæ¬¢ä»–ä»¬çš„äº§å“ï¼Œå–œæ¬¢è¿™ç§åšäº‹çš„æ–¹å¼ã€‚</p><p>ã€Œç”¨æˆ·ä¸ä¼šè¯´å‡ºä»–ä»¬æƒ³è¦ä»€ä¹ˆäº§å“ï¼Œç›´åˆ°ä½ æŠŠäº§å“æ”¾åˆ°ä»–ä»¬çš„é¢å‰ã€è¿™æ˜¯ä¹”å¸ƒæ–¯åœ¨é˜è¿°æœ‰å…³å¯¹äºäº§å“å’Œç”¨æˆ·çš„å…³ç³»çš„æ—¶å€™è¯´çš„ä¸€å¥è¯ï¼Œæ²¡é”™ï¼Œè¿™ä¹Ÿå°è¯äº†ã€Œç»æµå­¦ã€ä¸­çš„ã€Œç”Ÿäº§å†³å®šæ¶ˆè´¹ã€çš„æ¦‚å¿µï¼Œåœ¨è‹¹æœçš„é”€å”®è§‚å¿µä¸­ï¼ŒæœåŠ¡å æ®äº†å¾ˆå¤§çš„æ¯”é‡ï¼Œè™½ç„¶è‹¹æœå˜´ä¸Šä¸è¯´ï¼Œä½†æ˜¯ä»–ä¼šè®©ä½ æ„Ÿå—å¾—åˆ°ã€Œè¯·æ”¾å¿ƒï¼Œæˆ‘ä»¬ä¼šç»™ä½ æœ€å¥½çš„æœåŠ¡ã€ï¼Œè¿™ç§æ–‡åŒ–ä¼šå½±å“æ¶ˆè´¹è€…åœ¨è´­ä¹°äº§å“çš„æ—¶å€™æ‰€åšå‡ºçš„é€‰æ‹©â€”â€”è¿™ä¹Ÿä»ä¸€æ–¹é¢å›ç­”äº†ä¸ºä»€ä¹ˆäººä»¬éƒ½å–œæ¬¢è‹¹æœå‘¢ï¼Ÿ</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;è®°ä¸€æ¬¡è‹¹æœå¤©æ‰å§ç»´ä¿®è®°å½•&quot;&gt;&lt;a href=&quot;#è®°ä¸€æ¬¡è‹¹æœå¤©æ‰å§ç»´ä¿®è®°å½•&quot; class=&quot;headerlink&quot; title=&quot;è®°ä¸€æ¬¡è‹¹æœå¤©æ‰å§ç»´ä¿®è®°å½•&quot;&gt;&lt;/a&gt;è®°ä¸€æ¬¡è‹¹æœå¤©æ‰å§ç»´ä¿®è®°å½•&lt;/h1&gt;&lt;p&gt;å› ä¸ºæˆ‘ç”¨äº†3å¹´çš„ MBP ç¬”è®°æœ¬ç”µè„‘çš„é”®ç›˜æœ‰ä¸¤ä¸ªé”®æ¾åŠ¨äº†å¹¶ä¸”
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>Learnopengl-note</title>
    <link href="https://github.com/liysky/liysky.github.io.git/2021/04/01/Learnopengl-note/"/>
    <id>https://github.com/liysky/liysky.github.io.git/2021/04/01/Learnopengl-note/</id>
    <published>2021-04-01T15:16:18.000Z</published>
    <updated>2021-04-12T15:38:26.774Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ç€è‰²å™¨"><a href="#ç€è‰²å™¨" class="headerlink" title="ç€è‰²å™¨"></a>ç€è‰²å™¨</h2><p>é¡¶ç‚¹ç€è‰²å™¨</p><p>vertex shader</p><p>å¦‚æœæˆ‘ä»¬æ‰“ç®—åšæ¸²æŸ“çš„è¯ï¼Œç°ä»£OpenGLéœ€è¦æˆ‘ä»¬è‡³å°‘è®¾ç½®ä¸€ä¸ªé¡¶ç‚¹å’Œä¸€ä¸ªç‰‡æ®µç€è‰²å™¨ã€‚</p><pre><code>#version 330 corelayout (location = 0) in vec3 aPos;void main(){    gl_Position = vec4(aPos.x, aPos.y, aPos.z, 1.0);}</code></pre><p>#version 330 core å£°æ˜ç‰ˆæœ¬å’Œæ ¸å¿ƒæ¨¡å¼</p><p>in , outå…³é”®å­—ï¼Œæ¯ä¸ªç€è‰²å™¨éƒ½æœ‰è¾“å…¥å’Œè¾“å‡ºè¿›è¡Œæ•°æ®äº¤æ¢ã€‚</p><p>layout (location = 0) è®¾å®šäº†è¾“å…¥å˜é‡çš„ä½ç½®å€¼ã€‚</p><p>ç€è‰²å™¨çš„å¼€å¤´æ€»æ˜¯è¦å£°æ˜ç‰ˆæœ¬ï¼Œæ¥ç€æ˜¯è¾“å…¥å’Œè¾“å‡ºå˜é‡ã€uniformå’Œmainå‡½æ•°ã€‚æ¯ä¸ªç€è‰²å™¨çš„å…¥å£ç‚¹éƒ½æ˜¯mainå‡½æ•°ï¼Œåœ¨è¿™ä¸ªå‡½æ•°ä¸­æˆ‘ä»¬å¤„ç†æ‰€æœ‰çš„è¾“å…¥å˜é‡ï¼Œå¹¶å°†ç»“æœè¾“å‡ºåˆ°è¾“å‡ºå˜é‡ä¸­ã€‚</p><p>æ¯ä¸ªè¾“å…¥å˜é‡ä¹Ÿå«åš é¡¶ç‚¹å±æ€§ vertex attributeï¼ŒOpenGL å–ä¿è‡³å°‘ 16 ä¸ªåŒ…å« 4 åˆ†é‡çš„é¡¶ç‚¹å±æ€§å¯ç”¨ã€‚</p><p>GLSLä¸­åŒ…å«Cç­‰å…¶å®ƒè¯­è¨€å¤§éƒ¨åˆ†çš„é»˜è®¤åŸºç¡€æ•°æ®ç±»å‹ï¼šintã€floatã€doubleã€uintå’Œboolã€‚</p><p>GLSLä¸¤ç§å®¹å™¨ç±»å‹ï¼švector å’Œ matrix</p><p><strong>å¦‚æœæ‰“ç®—ä»ä¸€ä¸ªç€è‰²å™¨å‘å¦ä¸€ä¸ªç€è‰²å™¨å‘é€æ•°æ®ï¼Œå¿…é¡»åœ¨å‘é€æ–¹ç€è‰²å™¨ä¸­å£°æ˜ä¸€ä¸ªè¾“å‡ºï¼Œåœ¨æ¥æ”¶æ–¹ç€è‰²å™¨ä¸­å£°æ˜ä¸€ä¸ªç±»ä¼¼çš„è¾“å…¥ã€‚</strong></p><h3 id="é¡¶ç‚¹ç€è‰²å™¨"><a href="#é¡¶ç‚¹ç€è‰²å™¨" class="headerlink" title="é¡¶ç‚¹ç€è‰²å™¨"></a><strong>é¡¶ç‚¹ç€è‰²å™¨</strong></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#version 330 core</span><br><span class="line">layout (location &#x3D; 0) in vec3 aPos; &#x2F;&#x2F; ä½ç½®å˜é‡çš„å±æ€§ä½ç½®å€¼ä¸º0</span><br><span class="line"></span><br><span class="line">out vec4 vertexColor; &#x2F;&#x2F; ä¸ºç‰‡æ®µç€è‰²å™¨æŒ‡å®šä¸€ä¸ªé¢œè‰²è¾“å‡º</span><br><span class="line"></span><br><span class="line">void main()</span><br><span class="line">&#123;</span><br><span class="line">    gl_Position &#x3D; vec4(aPos, 1.0);</span><br><span class="line">    vertexColor &#x3D; vec4(0.5, 0.0, 0.0, 1.0);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç‰‡æ®µç€è‰²å™¨"><a href="#ç‰‡æ®µç€è‰²å™¨" class="headerlink" title="ç‰‡æ®µç€è‰²å™¨"></a><strong>ç‰‡æ®µç€è‰²å™¨</strong></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#version 330 core</span><br><span class="line">out vec4 FragColor;</span><br><span class="line"></span><br><span class="line">in vec4 vertexColor; &#x2F;&#x2F; ä»é¡¶ç‚¹ç€è‰²å™¨ä¼ æ¥çš„è¾“å…¥å˜é‡ï¼ˆåç§°ç›¸åŒã€ç±»å‹ç›¸åŒï¼‰</span><br><span class="line"></span><br><span class="line">void main()</span><br><span class="line">&#123;</span><br><span class="line">    FragColor &#x3D; vertexColor;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Uniform"><a href="#Uniform" class="headerlink" title="Uniform"></a><strong>Uniform</strong></h3><p>uniform æ˜¯ä¸€ç§ä» CPU ä¸­çš„åº”ç”¨å‘ GPU ä¸­çš„ç€è‰²å™¨å‘é€æ•°æ®çš„æ–¹å¼ã€‚</p><p>uniform æ˜¯å…¨å±€çš„ï¼Œå…¨å±€æ„å‘³ç€ uniform å˜é‡ï¼š</p><ul><li>å¿…é¡»åœ¨æ¯ä¸ªç€è‰²å™¨ç¨‹åºå¯¹è±¡ä¸­éƒ½æ˜¯ç‹¬ä¸€æ— äºŒçš„</li><li>å®ƒå¯ä»¥è¢«ç€è‰²å™¨ç¨‹åºçš„ä»»æ„ç€è‰²å™¨åœ¨ä»»æ„é˜¶æ®µè®¿é—®</li><li>æ— è®º uniform è¢«è®¾ç½®ä¸ºä»€ä¹ˆï¼Œuniform ä¼šä¸€ç›´ä¿å­˜å®ƒä»¬çš„æ•°æ®ï¼Œç›´åˆ°å®ƒä»¬è¢«é‡ç½®æˆ–è€…æ›´æ–°ã€‚</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#version 330 core</span><br><span class="line">out vec4 FragColor;</span><br><span class="line"></span><br><span class="line">uniform vec4 ourColor;</span><br><span class="line">void main()&#123;</span><br><span class="line">FragColor &#x3D; ourColor;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å£°æ˜ä¸€ä¸ª uniform vec4 çš„ourColor å…¨å±€å˜é‡ï¼Œå¹¶åœ¨ç‰‡æ®µç€è‰²å™¨çš„è¾“å‡ºé¢œè‰²è®¾ç½®ä¸º uniform çš„å€¼ã€‚</p><p><strong>å› ä¸º uniform æ˜¯å…¨å±€å˜é‡ï¼Œè€Œæ— éœ€é€šè¿‡é¡¶ç‚¹ç€è‰²å™¨ä½œä¸ºä¸­ä»‹</strong></p><p><strong>å¦‚æœå£°æ˜äº† uniformå´æœªæ›¾ä½¿ç”¨ï¼Œç¼–è¯‘å™¨ä¼šé»˜è®¤ç§»é™¤æ­¤å˜é‡ï¼Œå¯¼è‡´æœ€åç¼–è¯‘å‡ºçš„ç‰ˆæœ¬ä¸­ä¸ä¼šåŒ…å«å®ƒ</strong></p><p><strong>ç»™ç€è‰²å™¨ä¸­çš„ uniform å±æ€§æ·»åŠ ç´¢å¼•/ä½ç½®ï¼Œå’Œæ•°æ®</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">float timeValue &#x3D; glfwGetTime();</span><br><span class="line">float greenValue &#x3D; (sin(timeValue) &#x2F; 2.0f) + 0.5f;</span><br><span class="line">int vertexColorLocation &#x3D; glGetUniformLocation(shaderProgram, &quot;ourColor&quot;);</span><br><span class="line">glUseProgram(shaderProgram);</span><br><span class="line">glUniform4f(vertexColorLocation, 0.0f, greenValue, 0.0f, 1.0f);</span><br></pre></td></tr></table></figure><p><code>glfwGetTime()</code>è·å–è¿è¡Œçš„ç§’æ•°ã€‚</p><p><code>glGetUniformLocation</code> æŸ¥è¯¢ uniform ä¸­  <code>ourColor</code> çš„ä½ç½®å€¼ï¼Œå¦‚æœè¿”å› -1 ä»£è¡¨æ²¡æœ‰æ‰¾åˆ°è¿™ä¸ªå€¼ã€‚</p><p><code>glUniform4f</code> å‡½æ•°è®¾ç½® uniform çš„å€¼ã€‚</p><p><strong>æ³¨æ„ï¼šåœ¨æ›´æ–° uniform ä¹‹å‰å¿…é¡»é¦–å…ˆä½¿ç”¨æ­¤ç€è‰²å™¨ç¨‹åºï¼Œé€šè¿‡è°ƒç”¨<code>glUseProgram</code> </strong></p><p><strong>å®ä¾‹</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">while(!glfwWindowShouldClose(window))</span><br><span class="line">&#123;</span><br><span class="line">&#x2F;&#x2F;input</span><br><span class="line">processInput(window);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;render</span><br><span class="line">&#x2F;&#x2F; clear color buffer</span><br><span class="line">glClearColor(0.2f, 0.3f, 0.3f, 1.0f);</span><br><span class="line">glClear(GL_COLOR_BUFFER_BIT);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;activate shader</span><br><span class="line">glUseProgram(shaderProgram);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;update uniform color</span><br><span class="line">float timeValue &#x3D; glfwGetTime();</span><br><span class="line">float greenValue &#x3D; sin(timeValue) &#x2F; 2.0f + 0.5f;</span><br><span class="line">int vertexColorLocation &#x3D; glGetUniformLocation(shaderProgram, &quot;ourColor&quot;);</span><br><span class="line">glUnifrom4f(vertexColorLocation, 0.0f, greenValue, 0.0f, 1.0f);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;draw triangle</span><br><span class="line">glBindVertexArray(VAO);</span><br><span class="line">glDrawArrays(GL_TRIANGLES, 0, 3);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;exchange buffer and look up IO event</span><br><span class="line">glfwSwapBuffers(window);</span><br><span class="line">glfwPollEvents();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å¤šä¸ªå±æ€§"><a href="#å¤šä¸ªå±æ€§" class="headerlink" title="å¤šä¸ªå±æ€§"></a>å¤šä¸ªå±æ€§</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">float vertices[] &#x3D; &#123;</span><br><span class="line">&#x2F;&#x2F; ä½ç½®              &#x2F;&#x2F; é¢œè‰²</span><br><span class="line">     0.5f, -0.5f, 0.0f,  1.0f, 0.0f, 0.0f,   &#x2F;&#x2F; å³ä¸‹</span><br><span class="line">    -0.5f, -0.5f, 0.0f,  0.0f, 1.0f, 0.0f,   &#x2F;&#x2F; å·¦ä¸‹</span><br><span class="line">     0.0f,  0.5f, 0.0f,  0.0f, 0.0f, 1.0f    &#x2F;&#x2F; é¡¶éƒ¨</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è®¾ç½® <code>layout</code> æ ‡è¯†ç¬¦å°† aColor å±æ€§ä½ç½®è®¾ç½®ä¸º1</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#version 330 core</span><br><span class="line">layout(location &#x3D; 0) in vec3 aPos;&#x2F;&#x2F;ä½ç½®å˜é‡å±æ€§ä½ç½®å€¼ä¸º0</span><br><span class="line">layout(location &#x3D; 1) in vec3 aColor;&#x2F;&#x2F;é¢œè‰²å˜é‡å±æ€§ä½ç½®ä¸º1</span><br><span class="line"></span><br><span class="line">out vec3 ourColor; &#x2F;&#x2F; å‘ç‰‡æ®µç€è‰²å™¨è¾“å‡ºä¸€ä¸ªé¢œè‰²</span><br><span class="line"></span><br><span class="line">void main()</span><br><span class="line">&#123;</span><br><span class="line">    gl_Position &#x3D; vec4(aPos, 1.0);</span><br><span class="line">    ourColor &#x3D; aColor; &#x2F;&#x2F; å°†ourColorè®¾ç½®ä¸ºæˆ‘ä»¬ä»é¡¶ç‚¹æ•°æ®é‚£é‡Œå¾—åˆ°çš„è¾“å…¥é¢œè‰²</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20210404230945377.png" alt="image-20210404230945377"></p><p><strong>glVertexAttribPointer æ¥æ›´æ–°é¡¶ç‚¹æ ¼å¼</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;position property</span><br><span class="line">glVertexAttribPointer(0, 3, GL_FLOAT, GL_FALSE, 6*sizeof(float), (void*)0);</span><br><span class="line">glEnableVertexAttribArray(0);</span><br><span class="line">&#x2F;&#x2F;color property</span><br><span class="line">glVertexAttribPointer(1, 3, GL_FLOAT, GL_FALSE, 6*sizeof(float), (void*)(3*sizeof(float)));</span><br><span class="line">glEnableVertexAttribArray(1);</span><br></pre></td></tr></table></figure><p>è‡ªå·±çš„ç€è‰²å™¨</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">#ifndef SHADER_H</span><br><span class="line">#define SHADER_H</span><br><span class="line"></span><br><span class="line">#include &lt;glad&#x2F;glad.h&gt;; &#x2F;&#x2F; åŒ…å«gladæ¥è·å–æ‰€æœ‰çš„å¿…é¡»OpenGLå¤´æ–‡ä»¶</span><br><span class="line"></span><br><span class="line">#include &lt;string&gt;</span><br><span class="line">#include &lt;fstream&gt;</span><br><span class="line">#include &lt;sstream&gt;</span><br><span class="line">#include &lt;iostream&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">class Shader</span><br><span class="line">&#123;</span><br><span class="line">public:</span><br><span class="line">    &#x2F;&#x2F; ç¨‹åºID</span><br><span class="line">    unsigned int ID;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; æ„é€ å™¨è¯»å–å¹¶æ„å»ºç€è‰²å™¨</span><br><span class="line">    Shader(const GLchar* vertexPath, const GLchar* fragmentPath);</span><br><span class="line">    &#x2F;&#x2F; ä½¿ç”¨&#x2F;æ¿€æ´»ç¨‹åº</span><br><span class="line">    void use();</span><br><span class="line">    &#x2F;&#x2F; uniformå·¥å…·å‡½æ•°</span><br><span class="line">    void setBool(const std::string &amp;name, bool value) const;</span><br><span class="line">    void setInt(const std::string &amp;name, int value) const;</span><br><span class="line">    void setFloat(const std::string &amp;name, float value) const;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">#endif</span><br></pre></td></tr></table></figure><p>å·¥å…·å‡½æ•°ï¼šuse æ¥æ¿€æ´»ç€è‰²å™¨ç¨‹åºï¼Œset å‡½æ•°èƒ½å¤ŸæŸ¥è¯¢ä¸€ä¸ª unform çš„ä½ç½®å¹¶è®¾ç½®å®ƒçš„å€¼ã€‚</p><h3 id="ä»æ–‡ä»¶è¯»å–"><a href="#ä»æ–‡ä»¶è¯»å–" class="headerlink" title="ä»æ–‡ä»¶è¯»å–"></a>ä»æ–‡ä»¶è¯»å–</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">Shader(const char* vertexPath, const char* fragmentPath)</span><br><span class="line">&#123;</span><br><span class="line">    &#x2F;&#x2F; 1. ä»æ–‡ä»¶è·¯å¾„ä¸­è·å–é¡¶ç‚¹&#x2F;ç‰‡æ®µç€è‰²å™¨</span><br><span class="line">    std::string vertexCode;</span><br><span class="line">    std::string fragmentCode;</span><br><span class="line">    std::ifstream vShaderFile;</span><br><span class="line">    std::ifstream fShaderFile;</span><br><span class="line">    &#x2F;&#x2F; ä¿è¯ifstreamå¯¹è±¡å¯ä»¥æŠ›å‡ºå¼‚å¸¸ï¼š</span><br><span class="line">    vShaderFile.exceptions (std::ifstream::failbit | std::ifstream::badbit);</span><br><span class="line">    fShaderFile.exceptions (std::ifstream::failbit | std::ifstream::badbit);</span><br><span class="line">    try</span><br><span class="line">    &#123;</span><br><span class="line">        &#x2F;&#x2F; æ‰“å¼€æ–‡ä»¶</span><br><span class="line">        vShaderFile.open(vertexPath);</span><br><span class="line">        fShaderFile.open(fragmentPath);</span><br><span class="line">        std::stringstream vShaderStream, fShaderStream;</span><br><span class="line">        &#x2F;&#x2F; è¯»å–æ–‡ä»¶çš„ç¼“å†²å†…å®¹åˆ°æ•°æ®æµä¸­</span><br><span class="line">        vShaderStream &lt;&lt; vShaderFile.rdbuf();</span><br><span class="line">        fShaderStream &lt;&lt; fShaderFile.rdbuf();</span><br><span class="line">        &#x2F;&#x2F; å…³é—­æ–‡ä»¶å¤„ç†å™¨</span><br><span class="line">        vShaderFile.close();</span><br><span class="line">        fShaderFile.close();</span><br><span class="line">        &#x2F;&#x2F; è½¬æ¢æ•°æ®æµåˆ°string</span><br><span class="line">        vertexCode   &#x3D; vShaderStream.str();</span><br><span class="line">        fragmentCode &#x3D; fShaderStream.str();</span><br><span class="line">    &#125;</span><br><span class="line">    catch(std::ifstream::failure e)</span><br><span class="line">    &#123;</span><br><span class="line">        std::cout &lt;&lt; &quot;ERROR::SHADER::FILE_NOT_SUCCESFULLY_READ&quot; &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">    &#x2F;&#x2F; vertexCode è½¬ä¸º char *</span><br><span class="line">    &#x2F;&#x2F; c_str()</span><br><span class="line">    const char* vShaderCode &#x3D; vertexCode.c_str();</span><br><span class="line">    const char* fShaderCode &#x3D; fragmentCode.c_str();</span><br><span class="line">    [...]</span><br></pre></td></tr></table></figure><p><strong>ç¼–è¯‘å’Œé“¾æ¥ç€è‰²å™¨</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 2. ç¼–è¯‘ç€è‰²å™¨</span></span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">int</span> vertex, fragment;</span><br><span class="line"><span class="keyword">int</span> success;</span><br><span class="line"><span class="keyword">char</span> infoLog[<span class="number">512</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// é¡¶ç‚¹ç€è‰²å™¨</span></span><br><span class="line">vertex = glCreateShader(GL_VERTEX_SHADER);</span><br><span class="line"></span><br><span class="line">glShaderSource(vertex, <span class="number">1</span>, &amp;vShaderCode, <span class="literal">NULL</span>);</span><br><span class="line">glCompileShader(vertex);</span><br><span class="line"><span class="comment">// æ‰“å°ç¼–è¯‘é”™è¯¯ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰</span></span><br><span class="line">glGetShaderiv(vertex, GL_COMPILE_STATUS, &amp;success);</span><br><span class="line"><span class="keyword">if</span>(!success)</span><br><span class="line">&#123;</span><br><span class="line">    glGetShaderInfoLog(vertex, <span class="number">512</span>, <span class="literal">NULL</span>, infoLog);</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"ERROR::SHADER::VERTEX::COMPILATION_FAILED\n"</span> &lt;&lt; infoLog &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç‰‡æ®µç€è‰²å™¨ä¹Ÿç±»ä¼¼</span></span><br><span class="line">[...]</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç€è‰²å™¨ç¨‹åº</span></span><br><span class="line">ID = glCreateProgram();</span><br><span class="line">glAttachShader(ID, vertex);</span><br><span class="line">glAttachShader(ID, fragment);</span><br><span class="line">glLinkProgram(ID);</span><br><span class="line"><span class="comment">// æ‰“å°è¿æ¥é”™è¯¯ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰</span></span><br><span class="line">glGetProgramiv(ID, GL_LINK_STATUS, &amp;success);</span><br><span class="line"><span class="keyword">if</span>(!success)</span><br><span class="line">&#123;</span><br><span class="line">    glGetProgramInfoLog(ID, <span class="number">512</span>, <span class="literal">NULL</span>, infoLog);</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"ERROR::SHADER::PROGRAM::LINKING_FAILED\n"</span> &lt;&lt; infoLog &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ é™¤ç€è‰²å™¨ï¼Œå®ƒä»¬å·²ç»é“¾æ¥åˆ°æˆ‘ä»¬çš„ç¨‹åºä¸­äº†ï¼Œå·²ç»ä¸å†éœ€è¦äº†</span></span><br><span class="line">glDeleteShader(vertex);</span><br><span class="line">glDeleteShader(fragment);</span><br></pre></td></tr></table></figure><h2 id="çº¹ç†"><a href="#çº¹ç†" class="headerlink" title="çº¹ç†"></a>çº¹ç†</h2><p>æˆ‘ä»¬å¯ä»¥ä¸ºæ¯ä¸ªé¡¶ç‚¹æ·»åŠ é¢œè‰²æ¥å¢åŠ å›¾å½¢ç»†èŠ‚ï¼Œä½†æ˜¯å¦‚æœæƒ³è¦æŒ‡å®šè¶³å¤Ÿå¤šçš„é¡¶ç‚¹ï¼Œå°±éœ€è¦è¶³å¤Ÿå¤šçš„é¢œè‰²ï¼Œå¼€é”€ä¼šå¾ˆå¤§ã€‚</p><p><strong>çº¹ç†ç¯ç»•æ–¹å¼</strong></p><div class="table-container"><table><thead><tr><th style="text-align:left">ç¯ç»•æ–¹å¼</th><th style="text-align:left">æè¿°</th></tr></thead><tbody><tr><td style="text-align:left">GL_REPEAT</td><td style="text-align:left">å¯¹çº¹ç†çš„é»˜è®¤è¡Œä¸ºã€‚é‡å¤çº¹ç†å›¾åƒã€‚</td></tr><tr><td style="text-align:left">GL_MIRRORED_REPEAT</td><td style="text-align:left">å’ŒGL_REPEATä¸€æ ·ï¼Œä½†æ¯æ¬¡é‡å¤å›¾ç‰‡æ˜¯é•œåƒæ”¾ç½®çš„ã€‚</td></tr><tr><td style="text-align:left">GL_CLAMP_TO_EDGE</td><td style="text-align:left">çº¹ç†åæ ‡ä¼šè¢«çº¦æŸåœ¨0åˆ°1ä¹‹é—´ï¼Œè¶…å‡ºçš„éƒ¨åˆ†ä¼šé‡å¤çº¹ç†åæ ‡çš„è¾¹ç¼˜ï¼Œäº§ç”Ÿä¸€ç§è¾¹ç¼˜è¢«æ‹‰ä¼¸çš„æ•ˆæœã€‚</td></tr><tr><td style="text-align:left">GL_CLAMP_TO_BORDER</td><td style="text-align:left">è¶…å‡ºçš„åæ ‡ä¸ºç”¨æˆ·æŒ‡å®šçš„è¾¹ç¼˜é¢œè‰²ã€‚</td></tr></tbody></table></div><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-04-10%20at%2022.31.44.png" alt="Screen Shot 2021-04-10 at 22.31.44"></p><h3 id="çº¹ç†åŠ è½½ä½¿ç”¨stb-image-håº“è¿›è¡ŒåŠ è½½"><a href="#çº¹ç†åŠ è½½ä½¿ç”¨stb-image-håº“è¿›è¡ŒåŠ è½½" class="headerlink" title="çº¹ç†åŠ è½½ä½¿ç”¨stb_image.håº“è¿›è¡ŒåŠ è½½"></a>çº¹ç†åŠ è½½ä½¿ç”¨stb_image.håº“è¿›è¡ŒåŠ è½½</h3><p>è¦ä½¿ç”¨stb_image.håŠ è½½å›¾ç‰‡ï¼Œéœ€è¦ä½¿ç”¨å®ƒçš„stbi_loadå‡½æ•°ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">int width, height, nrChannels;</span><br><span class="line">unsigned char *data &#x3D; stbi_load(&quot;image.jpg&quot;, &amp;width, &amp;height, &amp;nrChannels, 0);</span><br></pre></td></tr></table></figure><h3 id="ç”Ÿæˆçº¹ç†"><a href="#ç”Ÿæˆçº¹ç†" class="headerlink" title="ç”Ÿæˆçº¹ç†"></a>ç”Ÿæˆçº¹ç†</h3><p>ä¸ç”Ÿæˆçš„OpenGLå¯¹è±¡ä¸€æ ·ï¼Œçº¹ç†ä¹Ÿæ˜¯ä½¿ç”¨IDè¿›è¡Œå¼•ç”¨çš„</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">unsigned int texture;</span><br><span class="line">glGenTextures(1, &amp;texture);</span><br></pre></td></tr></table></figure><p>ä¹‹åå°±æ˜¯ç»‘å®šçº¹ç†ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">glBindTexture(GL_TEXTURE_2D, texture);</span><br></pre></td></tr></table></figure><p>ç„¶åä½¿ç”¨ä¹‹å‰è½½å…¥çš„å›¾ç‰‡æ•°æ®ç”Ÿæˆä¸€ä¸ªçº¹ç†ï¼Œçº¹ç†å¯ä»¥é€šè¿‡glTexImage2Dæ¥ç”Ÿæˆï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">glTexImage2D(GL_TEXTURE2D, 0, GL_RGB, width, height, 0, GL_RGB,GL_UNSIGNED_BYTE,data);</span><br><span class="line">glGenerateMipmap(GL_TEXTURE_2D);</span><br></pre></td></tr></table></figure><p>å‚æ•°å«ä¹‰ï¼š</p><ul><li>æŒ‡å®šçº¹ç†ç›®æ ‡</li><li>ä¸ºçº¹ç†ç½®é¡¶å¤šçº§æ¸è¿œçº¹ç†çš„çº§åˆ«ï¼Œ0ä¸ºåŸºæœ¬çº§åˆ«</li><li>å‘Šè¯‰OpenGLæˆ‘ä»¬å¸Œæœ›çº¹ç†å‚¨å­˜ä¸ºä½•ç§æ ¼å¼ï¼Œæˆ‘ä»¬çš„å›¾åƒä¸ºRGBå€¼æ ¼å¼</li><li>å®½</li><li>é«˜</li><li>å›¾æºæ ¼å¼å’Œæ•°æ®ç±»å‹ï¼Œå¹¶æŠŠå®ƒä»¬å‚¨å­˜ä¸º char(byte) æ•°ç»„</li><li>çœŸæ­£çš„å›¾åƒæ•°æ®</li></ul><p>ç”Ÿæˆäº†çº¹ç†å’Œç›¸åº”çš„å¤šçº§æ¸è¿œçº¹ç†åï¼Œé‡Šæ”¾å›¾åƒçš„å†…å­˜æ˜¯ä¸€ä¸ªå¥½çš„ä¹ æƒ¯ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">stbi_image_free(data);</span><br></pre></td></tr></table></figure><h3 id="å®Œæ•´çš„çº¹ç†ç”Ÿæˆä»£ç "><a href="#å®Œæ•´çš„çº¹ç†ç”Ÿæˆä»£ç " class="headerlink" title="å®Œæ•´çš„çº¹ç†ç”Ÿæˆä»£ç "></a>å®Œæ•´çš„çº¹ç†ç”Ÿæˆä»£ç </h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">unsigned int texture;</span><br><span class="line">glGenTextures(1, &amp;texture);</span><br><span class="line">glBindTexture(GL_TEXTURE_2D, texture);</span><br><span class="line">&#x2F;&#x2F; ä¸ºå½“å‰ç»‘å®šçš„çº¹ç†å¯¹è±¡è®¾ç½®ç¯ç»•ã€è¿‡æ»¤æ–¹å¼</span><br><span class="line">glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_REPEAT);</span><br><span class="line">glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_REPEAT);</span><br><span class="line">glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR);</span><br><span class="line">glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR);</span><br><span class="line">&#x2F;&#x2F; åŠ è½½å¹¶ç”Ÿæˆçº¹ç†</span><br><span class="line">int width, height, nrChannels;</span><br><span class="line">unsigned char *data &#x3D; stbi_load(&quot;container.jpg&quot;, &amp;width, &amp;height, &amp;nrChannels, 0);</span><br><span class="line">if (data)</span><br><span class="line">&#123;</span><br><span class="line">    glTexImage2D(GL_TEXTURE_2D, 0, GL_RGB, width, height, 0, GL_RGB, GL_UNSIGNED_BYTE, data);</span><br><span class="line">    glGenerateMipmap(GL_TEXTURE_2D);</span><br><span class="line">&#125;</span><br><span class="line">else</span><br><span class="line">&#123;</span><br><span class="line">    std::cout &lt;&lt; &quot;Failed to load texture&quot; &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br><span class="line">stbi_image_free(data);</span><br></pre></td></tr></table></figure><h2 id="å˜æ¢"><a href="#å˜æ¢" class="headerlink" title="å˜æ¢"></a>å˜æ¢</h2><h3 id="å‰ä¹˜"><a href="#å‰ä¹˜" class="headerlink" title="å‰ä¹˜"></a>å‰ä¹˜</h3><p>å‰ä¹˜åªåœ¨3Dç©ºé—´ä¸­æœ‰å®šä¹‰ï¼Œå®ƒéœ€è¦ä¸¤ä¸ªä¸å¹³è¡Œå‘é‡ä½œä¸ºè¾“å…¥ï¼Œç”Ÿæˆä¸€ä¸ªæ­£äº¤äºä¸¤ä¸ªè¾“å…¥å‘é‡çš„ç¬¬ä¸‰ä¸ªå‘é‡ã€‚å¦‚æœè¾“å…¥çš„ä¸¤ä¸ªå‘é‡ä¹Ÿæ˜¯æ­£äº¤çš„ï¼Œé‚£ä¹ˆå‰ä¹˜ä¹‹åå°†ä¼šäº§ç”Ÿ3ä¸ªäº’ç›¸æ­£äº¤çš„å‘é‡ã€‚</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-04-12%20at%2023.34.50.png" alt="Screen Shot 2021-04-12 at 23.34.50"></p><p>å‘é‡Aå’ŒBçš„å‰ç§¯ï¼š</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20210412233726028.png" alt="image-20210412233726028"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;ç€è‰²å™¨&quot;&gt;&lt;a href=&quot;#ç€è‰²å™¨&quot; class=&quot;headerlink&quot; title=&quot;ç€è‰²å™¨&quot;&gt;&lt;/a&gt;ç€è‰²å™¨&lt;/h2&gt;&lt;p&gt;é¡¶ç‚¹ç€è‰²å™¨&lt;/p&gt;
&lt;p&gt;vertex shader&lt;/p&gt;
&lt;p&gt;å¦‚æœæˆ‘ä»¬æ‰“ç®—åšæ¸²æŸ“çš„è¯ï¼Œç°ä»£OpenGLéœ€è¦æˆ‘ä»¬è‡³å°‘è®¾ç½®ä¸€ä¸ªé¡¶ç‚¹
      
    
    </summary>
    
    
    
      <category term="learning-note" scheme="https://github.com/liysky/liysky.github.io.git/tags/learning-note/"/>
    
  </entry>
  
  <entry>
    <title>Analysis of &quot;Dual Attention Network for Scene Segmentation&quot;</title>
    <link href="https://github.com/liysky/liysky.github.io.git/2021/03/29/Analysis-of-Dual-Attention-Network-for-Scene-Segmentation/"/>
    <id>https://github.com/liysky/liysky.github.io.git/2021/03/29/Analysis-of-Dual-Attention-Network-for-Scene-Segmentation/</id>
    <published>2021-03-28T16:06:29.000Z</published>
    <updated>2021-04-19T07:31:48.228Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Dual-Attention-Network-for-Scene-Segmentation"><a href="#Dual-Attention-Network-for-Scene-Segmentation" class="headerlink" title="Dual Attention Network for Scene Segmentation"></a><a href="https://arxiv.org/abs/1809.02983" target="_blank" rel="noopener">Dual Attention Network for Scene Segmentation</a></h1><h2 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h2><p>Unlike previous works that capture contexts by multi-scale feature fusion.</p><p>Author propose Dual attention:</p><ul><li><p>adaptively integrate local fetures with their global dependecies</p></li><li><p>two types of attention model</p><ul><li><p>spatial dimension</p><p>selectively aggregates the feature at each position by a weighted sum of the features at all positions.</p><p>é€šè¿‡å¯¹æ‰€æœ‰ä½ç½®ä¸Šçš„ç‰¹å¾è¿›è¡ŒåŠ æƒå’Œï¼Œæ¥é€‰æ‹©æ€§åœ°èšåˆæ¯ä¸ªä½ç½®ä¸Šçš„ç‰¹å¾ã€‚</p></li><li><p>channel dimension</p><p>selectively emphasizes interdependent channel maps by integrating associated features among all channel maps.</p><p>é€šè¿‡æ•´åˆæ‰€æœ‰é€šé“å›¾ä¸­çš„ç›¸å…³ç‰¹å¾ï¼Œé€‰æ‹©æ€§åœ°å¼ºè°ƒç›¸äº’ä¾èµ–çš„é€šé“å›¾ã€‚</p></li></ul></li></ul><p>åœ¨å…¬å¼€çš„æœ‰æŒ‘æˆ˜æ€§çš„ä¸‰ä¸ªæ•°æ®é›†ä¸Šè·å¾—äº† state-of-the-art çš„æ°´å¹³ï¼š</p><ul><li>Cityscapes</li><li>PASCAL Context</li><li>COCO Stuff dataset</li></ul><h2 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h2><p>ï¼ˆéœ€æ±‚ï¼‰</p><p>åœºæ™¯åˆ†å‰²ç›®æ ‡å°±æ˜¯è¿›è¡Œè§£æä¸åŒçš„å›¾åƒåŒºåŸŸï¼ŒåŒ…æ‹¬è¿ç»­çš„ç‰©ä½“ï¼ˆå¤©ç©ºã€é“è·¯ã€è‰åœ°ï¼‰å’Œç¦»æ•£çš„ç‰©ä½“ï¼ˆäººã€æ±½è½¦ã€è‡ªè¡Œè½¦ï¼‰ã€‚</p><p><strong>å‰äººå·¥ä½œ</strong></p><ul><li><p>CNN æ–¹æ³•åœ¨è¿™ä¸Šé¢çš„è¡¨ç°</p><p>é€šè¿‡ç»“åˆä¸åŒçš„æ‰©å¼ å·ç§¯å’Œæ± åŒ–æ“ä½œç”Ÿæˆçš„ç‰¹å¾å›¾æ¥èšåˆå¤šå°ºåº¦ä¸Šä¸‹æ–‡ã€‚</p><p>é€šè¿‡æ‰©å¤§å·ç§¯æ ¸ï¼Œç¼–è§£ç å™¨ç»“æ„èåˆä¸­é«˜å±‚è¯­ä¹‰ç‰¹å¾ã€‚</p><p>ä»–ä»¬å¯ä»¥è¿›è¡Œç›®æ ‡æ£€æµ‹ï¼Œä½†ç¼ºç‚¹ï¼š</p><p>å®ƒä»¬ä¸èƒ½åœ¨å…¨å±€è¯•å›¾ä¸­åˆ©ç”¨å¯¹è±¡æˆ–è€…è§†å›¾ä¹‹é—´çš„å…³ç³»ï¼Œè¿™ä¹Ÿæ˜¯åœºæ™¯åˆ†å‰²çš„å¿…è¦æ¡ä»¶ã€‚</p></li><li><p>RNN æ–¹é¢</p><p>æé«˜äº†åœºæ™¯åˆ†å‰²ç²¾åº¦ã€‚åˆ©ç”¨äº† 2D é•¿çŸ­æœŸè®°å¿† LSTM ç½‘ç»œæ¥æ•æ‰æ ‡ç­¾å¤æ‚çš„ç©ºé—´ä¾èµ–å…³ç³»ã€‚ç”¨å®šå‘æ— ç¯å›¾çš„å¾ªç¯ç¥ç»ç½‘ç»œæ¥æ•æ‰å±€éƒ¨ç‰¹å¾ä¸Šä¸°å¯Œçš„ä¸Šä¸‹æ–‡ä¾èµ–æ€§ã€‚</p><p>ç¼ºç‚¹ï¼šè¿™äº›æ–¹æ³•æ•æ‰çš„å…¨å±€å…³ç³»éšå«åœ¨å¾ªç¯ç¥ç»ç½‘ç»œä¸­ï¼Œå…¶æœ‰æ•ˆæ€§ä¾èµ–äºé•¿æœŸè®°å¿†çš„å­¦ä¹ ç»“æœã€‚</p><p>RNN</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20210328223755548.png" alt="image-20210328223755548"></p><p><strong>RNN ç¼ºç‚¹ï¼š</strong></p><p>æ¢¯åº¦æ¶ˆå¤±</p><ul><li>è¯¯å·®åå‘ä¼ æ’­æ—¶å¾ˆå®¹æ˜“æ¶ˆå¤±</li><li>ç‰¹å¾æ­£å‘ä¼ æ’­æ—¶ä¹Ÿå®¹æ˜“æ¶ˆå¤±</li></ul><p>æ¢¯åº¦çˆ†ç‚¸</p><ul><li>ç›´æ¥æŠŠæ•´ä¸ªç½‘ç»œæç¿»è½¦äº†</li></ul></li></ul><p><strong>è§£å†³æ–¹æ³•</strong></p><p>åŒæ³¨æ„åŠ›ç½‘ç»œ</p><p>é‡ç‚¹æ˜¯ä½¿ç”¨äº†æ³¨æ„åŠ›æœºåˆ¶ï¼Œæ³¨æ„åŠ›æœºåˆ¶åœ¨ CNN å’Œ RNN ä¸­ä¹Ÿæœ‰ï¼Œä½†æ˜¯å…·ä½“æ¥è¯´å®ƒä»¬çš„æ³¨æ„åŠ›æœºåˆ¶å¤ªå¼±äº†ã€‚ä¸å¤ŸæŠŠæ¡å®è§‚å¤§å±€ï¼Œåœ¨ç»†åˆ†å±€éƒ¨æŠŠæ¡ä¸Šä¹Ÿå…·æœ‰ä¸€å®šçš„è·ç¦»ç­‰çš„å±€é™æ€§ã€‚</p><ul><li><p>ä½ç½®æ³¨æ„åŠ›æ¨¡å—</p><p>æ•æ‰ä»»æ„ä¸¤ä¸ªä½ç½®ä¹‹é—´çš„ä¾èµ–å…³ç³»ã€‚</p><p>å¯¹æŸä¸ªä½ç½®çš„ç‰¹å¾ï¼Œé€šè¿‡å¯¹æ‰€æœ‰ä½ç½®çš„ç‰¹å¾è¿›è¡ŒåŠ æƒæ±‚å’Œèšåˆæ›´æ–°ï¼Œæƒé‡ç”±å¯¹åº”ä¸¤ä¸ªä½ç½®ä¹‹é—´çš„ç‰¹å¾ç›¸ä¼¼åº¦å†³å®šã€‚</p><p>ä»»æ„ä¸¤ä¸ªä½ç½®éƒ½å¯ä»¥è¿›è¡Œç›¸äº’æ”¹å–„ï¼Œä¸å¿…è€ƒè™‘å®ƒä»¬åœ¨ç©ºé—´ç»´åº¦ä¸Šçš„è·ç¦»ã€‚</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20210328225301495.png" alt="image-20210328225301495"></p><p>ä¸å¿…è€ƒè™‘ç©ºé—´è·ç¦»ä¸Šçš„å…³ç³»ï¼Œè¿™ä¹Ÿæ˜¯ attention æœºåˆ¶æ‰€å…·æœ‰çš„ç‰¹ç‚¹ã€‚</p></li></ul><ul><li><p>é€šé“æ³¨æ„åŠ›æ¨¡å—</p><p>ä½¿ç”¨ç›¸ä¼¼çš„è‡ªæ³¨æ„åŠ›æœºåˆ¶æ•æ‰ä»»æ„ä¸¤ä¸ªé€šé“å›¾ä¹‹é—´çš„é€šé“ä¾èµ–æ€§ï¼Œå¹¶ä»¥æ‰€æœ‰é€šé“å›¾çš„åŠ æƒå’Œæ›´æ–°æ¯ä¸ªé€šé“å›¾ã€‚</p></li></ul><p><strong>æœ€åå°†ä¸Šé¢çš„ä¸¤ä¸ªæ³¨æ„åŠ›æ¨¡å—çš„è¾“å‡ºè¿›è¡Œèåˆï¼Œè¿›ä¸€æ­¥å¢å¼ºç‰¹å¾è¡¨ç¤ºã€‚</strong></p><p>åœ¨å¤„ç†å¤æ‚åœºæ™¯æ—¶æ¯”å‰äººå·¥ä½œæ›´å¥½ã€‚</p><p>å¯¹äºä¸æ˜æ˜¾çš„å¯¹è±¡çš„ç‰¹å¾æå–ä¼šæ›´å¥½ï¼ˆä¾‹å¦‚çªå‡ºå¯¹è±¡ï¼ˆæ±½è½¦ã€å»ºç­‘ï¼‰çš„ä¸Šä¸‹æ–‡ä¼šæŸå®³ä¸æ˜æ˜¾å¯¹è±¡çš„æ ‡ç­¾ï¼‰ï¼Œæ³¨æ„åŠ›æœºåˆ¶æœ‰é€‰æ‹©çš„èšåˆä¸æ˜æ˜¾å¯¹è±¡çš„ç›¸ä¼¼ç‰¹å¾ï¼Œæ¥çªå‡ºå…¶ç‰¹å¾çš„è¡¨ç°ï¼Œé¿å…çªå‡ºå¯¹è±¡å¯¹å…¶çš„å½±å“ï¼Œä»¥è‡³äºå…¶ç‰¹å¾ä¼šè¢«å¿½ç•¥æ‰ã€‚</p><p>ä¸åŒä½ç½®çš„ç‰¹å¾åº”è¯¥å¯¹äºˆä»¥ç›¸åŒå¯¹å¾…ã€‚</p><p>æ¨¡å‹å¯¹äºä»»ä½•å°ºåº¦çš„ç›¸ä¼¼ç‰¹å¾ä»å…¨å±€ä¸Šäºˆä»¥é€‚åº”æ€§çš„æ•´åˆã€‚</p><p>å°†ç©ºé—´å’Œé€šé“ç›¸å…³è¡Œäºˆä»¥æ•´åˆè€ƒè™‘ï¼Œåœºæ™¯èƒ½å¤Ÿåœ¨é•¿è·ç¦»çš„ä¾èµ–ä¸­è·åˆ©ã€‚</p><p><strong>ä¸»è¦è´¡çŒ®æ€»ç»“</strong></p><ul><li>æå‡ºäº†åŒæ³¨æ„åŠ›æœºåˆ¶ï¼Œç©ºé—´ä¸Šçš„å’Œé€šé“ä¸Šçš„ï¼Œæé«˜åœºæ™¯çš„ç‰¹å¾åŒºåˆ†åº¦èƒ½åŠ›ã€‚</li><li><p>ä½ç½®æ³¨æ„åŠ›æ¨¡å—é€šè¿‡å¯¹äºç©ºé—´å’Œé€šé“æ¨¡å—çš„ç‰¹å¾æå–ï¼Œå¯¹äºé€šè¿‡æ¨¡å‹çš„ä¸°å¯Œçš„ä¸Šä¸‹æ–‡ä¾èµ–è¿›è¡Œå±€éƒ¨ç‰¹å¾æå–ï¼Œæ˜¾è‘—æé«˜åˆ†å‰²çš„ç»“æœã€‚</p></li><li><p>åœ¨æµè¡Œçš„æ•°æ®é›†ä¸Šå–å¾—äº† state-of-the-art çš„ç»“æœã€‚</p></li></ul><h2 id="ç›¸å…³å·¥ä½œ"><a href="#ç›¸å…³å·¥ä½œ" class="headerlink" title="ç›¸å…³å·¥ä½œ"></a>ç›¸å…³å·¥ä½œ</h2><p>CNN åœ¨è¯­ä¹‰åˆ†å‰²æ–¹é¢å–å¾—çš„å·¨å¤§è¿›å±•ã€‚</p><p>å¯¹äºå¢å¼ºä¸Šä¸‹æ–‡çš„å·²æœ‰æ¨¡å‹ï¼š</p><ul><li><p>Deeplab2/3 æå‡ºçš„ç©ºé—´é‡‘å­—å¡”æ± åŒ–ï¼Œç”±ä¸åŒçš„æ‰©å¼ ç‡çš„å¹³è¡Œæ‰©å¼ å·ç§¯ç»„æˆã€‚</p></li><li><p>PSP-Net è®¾è®¡äº†é‡‘å­—å¡”æ± åŒ–æ¨¡å—æ¥æ”¶é›†æœ‰æ•ˆçš„ä¸Šä¸‹æ–‡å…ˆå¯¼ï¼ŒåŒ…å«ä¸åŒå°ºåº¦çš„ä¿¡æ¯ã€‚</p></li><li><p>ç¼–è§£ç å™¨ç»“æ„èåˆäº†ä¸­é«˜æ°´å¹³çš„è¯­ä¹‰ç‰¹å¾è·å–ä¸åŒå°ºåº¦çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚</p></li><li><p>DAG-RNN ç”¨å¾ªç¯ç¥ç»ç½‘ç»œå»ºç«‹æœ‰å‘æ— ç¯å›¾æ¨¡å‹ï¼Œæ•æ‰äº†ä¸°å¯Œçš„ä¸Šä¸‹æ–‡ä¾èµ–æ€§ã€‚</p></li><li><p>PSANet é€šè¿‡å·æœºå±‚å’Œç©ºé—´ç»´åº¦çš„ç›¸å¯¹ä½ç½®ä¿¡æ¯æ¥æ•è·åƒç´ é—´çš„å…³ç³»ã€‚</p></li><li><p>OCNet é‡‡ç”¨äº†å…·æœ‰ ASPP çš„è‡ªæ³¨æ„åŠ›æœºåˆ¶æ¢ç´¢ä¸Šä¸‹æ–‡çš„ä¾èµ–æ€§ã€‚</p></li><li><p>EncNet å¼•å…¥äº†é€šé“æ³¨æ„åŠ›æœºåˆ¶æ¥æ•è·å…¨å±€ä¸Šä¸‹æ–‡ã€‚</p></li></ul><p><strong>è‡ªæ³¨æ„åŠ›æœºåˆ¶</strong></p><p>Google çš„ <strong>Attention is all you need </strong> å°† attention æœºåˆ¶å‘æ‰¬å…‰å¤§ã€‚</p><p>GAN ç”Ÿæˆå¼å¯¹æŠ—ç½‘ç»œå¯¹äº attention æœºåˆ¶çš„åº”ç”¨å­¦ä¹ æœ‰äº†æ›´å¥½çš„å›¾åƒç”Ÿæˆå™¨ã€‚</p><p>Non-Local Neural Networks ä¸attention ç›¸å…³çš„å·¥ä½œï¼Œæ¢ç´¢äº†è§†é¢‘å’Œå›¾åƒåœ¨æ—¶ç©ºç»´åº¦ä¸Šéå±€éƒ¨æ“ä½œçš„æœ‰æ•ˆæ€§ã€‚</p><h2 id="Dual-Attention-Network-åŒé‡æ³¨æ„åŠ›ç½‘ç»œ"><a href="#Dual-Attention-Network-åŒé‡æ³¨æ„åŠ›ç½‘ç»œ" class="headerlink" title="Dual Attention Network åŒé‡æ³¨æ„åŠ›ç½‘ç»œ"></a>Dual Attention Network åŒé‡æ³¨æ„åŠ›ç½‘ç»œ</h2><p>æ­¤ä»½å·¥ä½œæ³¨æ„æ˜¯åœ¨è¯­ä¹‰åˆ†å‰²é¢†åŸŸå¯¹äº attention æœºåˆ¶çš„åº”ç”¨ï¼Œåœ¨ç©ºé—´å’Œé€šé“ç»´åº¦ä¸Šå¯¹äºæ›´é•¿çš„ä¸Šä¸‹æ–‡ä¿¡æ¯è·å–ï¼Œé¦–æ¬¡æå‡ºäº†ä¸€ä¸ªé€šç”¨çš„ç½‘ç»œæ¶æ„ã€‚</p><p>å¼•ç”¨è‡ªæ³¨æ„åŠ›æœºåˆ¶è§£å†³ä¼ ç»Ÿçš„ CNN å·æœºç½‘ç»œå¯¹äº receptive field å±€éƒ¨æ¥å—åœºåœ¨ç›¸åŒæ ‡ç­¾çš„åƒç´ ä¸Šæ‰€å¯¹åº”çš„ç‰¹å¾å¯èƒ½ä¼šäº§ç”Ÿå·®å¼‚çš„é—®é¢˜ï¼Œå³ CNN ä¸èƒ½å¾ˆå¥½çš„æŠŠæ¡ç›¸åŒçš„å±€éƒ¨ä¿¡æ¯ï¼Œè¿™ä¼šå½±å“æŸäº›æƒ…å†µä¸‹çš„è¯†åˆ«ç²¾åº¦ã€‚</p><p>é€šè¿‡æ³¨æ„åŠ›æœºåˆ¶å°†ç‰¹å¾å°†å…¨å±€ä¸Šä¸‹æ–‡ä¿¡æ¯è¿›è¡Œè”ç³»ï¼Œæé«˜äº†é€‚åº”æ€§å¢å¼ºé•¿èŒƒå›´çš„ä¸Šä¸‹æ–‡ä¿¡æ¯çš„èƒ½åŠ›ï¼Œæé«˜äº†å¯¹äºè¯­ä¹‰è¯†åˆ«çš„ç‰¹å¾ä»£è¡¨ã€‚</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20210329065204740.png" alt="image-20210329065204740"></p><p>é¦–å…ˆå¯¹å›¾ç‰‡è¿›è¡Œä¸€ä¸ªæœ‰æ‰€æ”¹è¿›çš„å°½å¯èƒ½ä¿ç•™äº†æ›´å¤šç»†èŠ‚çš„æ®‹å·®ç½‘ç»œ RESnet ç”Ÿæˆå¯¹äºåƒç´ çº§çš„é¢„æµ‹ç‰¹å¾ï¼Œç„¶ååˆ†åˆ«è¿›å…¥ä¸¤ä¸ªæ³¨æ„åŠ›æœºåˆ¶æ¨¡å—ï¼Œåœ¨ä¸¤ä¸ªæ¨¡å—é‡Œè¿›è¡Œäº†å¦‚ä¸‹æ“ä½œï¼š</p><ul><li>é¦–å…ˆè¿›è¡Œå·æœºå±‚è·å¾—å†æ¬¡é™ç»´çš„ç‰¹å¾</li><li>è¿›è¡Œç©ºé—´è¡°å‡çŸ©é˜µæ“ä½œï¼Œå°±æ˜¯å°†ç‰¹å¾ä¸­ä»»æ„ä¸¤ä¸ªåƒç´ ä¹‹é—´çš„ç©ºé—´å…³ç³»è¿›è¡Œå»ºæ¨¡</li><li>æ³¨æ„åŠ›ç”ŸæˆçŸ©é˜µä¸åŸå§‹ç‰¹å¾çŸ©é˜µä½œä¹˜æ³•</li><li>å¯¹ä¸Šè¿°ç”Ÿæˆçš„çŸ©é˜µå’ŒåŸå§‹ç‰¹å¾çŸ©é˜µè¿›è¡Œå…ƒç´ æ±‚å’Œè¿ç®—</li></ul><p><strong>å¾—åˆ°äº†é•¿èŒƒå›´ä¸Šä¸‹æ–‡çš„æœ€ç»ˆè¡¨ç°</strong></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20210329213518412.png" alt="image-20210329213518412"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20210329213616073.png" alt="image-20210329213616073"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20210329213630370.png" alt="image-20210329213630370"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Dual-Attention-Network-for-Scene-Segmentation&quot;&gt;&lt;a href=&quot;#Dual-Attention-Network-for-Scene-Segmentation&quot; class=&quot;headerlink&quot; title=&quot;Du
      
    
    </summary>
    
    
    
      <category term="Paper-reading" scheme="https://github.com/liysky/liysky.github.io.git/tags/Paper-reading/"/>
    
  </entry>
  
  <entry>
    <title>Important Conception In CG</title>
    <link href="https://github.com/liysky/liysky.github.io.git/2021/03/23/Important-Conception-In-CG/"/>
    <id>https://github.com/liysky/liysky.github.io.git/2021/03/23/Important-Conception-In-CG/</id>
    <published>2021-03-23T13:50:57.000Z</published>
    <updated>2021-03-23T13:52:10.634Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-22%20at%2017.06.20.png" alt="Screen Shot 2021-03-23 at 15.26.53"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-23%20at%2015.26.53.png" alt="Screen Shot 2021-03-23 at 15.26.53"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;img src=&quot;https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-22%20at%2017.06.20.png&quot; alt=&quot;Screen Shot 2
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>Docker notes</title>
    <link href="https://github.com/liysky/liysky.github.io.git/2021/03/21/Docker-notes/"/>
    <id>https://github.com/liysky/liysky.github.io.git/2021/03/21/Docker-notes/</id>
    <published>2021-03-21T15:18:15.000Z</published>
    <updated>2021-06-25T13:54:07.154Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Docker"><a href="#Docker" class="headerlink" title="Docker"></a>Docker</h1><h2 id="åŸºæœ¬æ¦‚å¿µ"><a href="#åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="åŸºæœ¬æ¦‚å¿µ"></a>åŸºæœ¬æ¦‚å¿µ</h2><h3 id="é•œåƒ"><a href="#é•œåƒ" class="headerlink" title="é•œåƒ"></a>é•œåƒ</h3><p>æ“ä½œç³»ç»Ÿåˆ†ä¸º <strong>å†…æ ¸</strong> å’Œ <strong>ç”¨æˆ·ç©ºé™</strong>ã€‚Linux ç³»ç»Ÿå†…æ ¸å¯åŠ¨åï¼Œä¼šæŒ‚è½½ root æ–‡ä»¶ç³»ç»Ÿä¸ºå…¶æä¾›ç”¨æˆ·ç©ºé—´æ”¯æŒã€‚</p><p>Docker é•œåƒç›¸å½“äºä¸€ä¸ª root æ–‡ä»¶ç³»ç»Ÿï¼Œå¦‚ å®˜æ–¹é•œåƒ ubuntu:18:04 å°±åŒ…å«äº†å®Œæ•´çš„ä¸€å¥— ubuntu18.04æœ€å°ç³»ç»Ÿ root æ–‡ä»¶ç³»ç»Ÿã€‚</p><p>Docker é•œåƒæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æ–‡ä»¶ç³»ç»Ÿï¼Œé™¤äº†æä¾›å®¹å™¨è¿è¡Œæ—¶æ‰€éœ€è¦çš„ç¨‹åºã€åº“ã€èµ„æºã€é…ç½®ç­‰æ–‡ä»¶å¤–ï¼Œè¿˜åŒ…å«äº†ä¸€äº›ä¸ºè¿è¡Œæ—¶å‡†å¤‡çš„ä¸€äº›é…ç½®å‚æ•°ï¼ˆåŒ¿åå·ã€ç¯å¢ƒå˜é‡ã€ç”¨æˆ·ç­‰ï¼‰ã€‚é•œåƒ ä¸åŒ…å« ä»»ä½•åŠ¨æ€æ•°æ®ï¼Œå…¶å†…å®¹åœ¨æ„å»ºä¹‹åä¹Ÿä¸ä¼šè¢«æ”¹å˜ã€‚</p><p>é•œåƒåªæ˜¯ä¸€ä¸ªè™šæ‹Ÿçš„æ¦‚å¿µï¼Œå…¶å®é™…ä½“ç°å¹¶éç”±ä¸€ä¸ªæ–‡ä»¶ç»„æˆï¼Œè€Œæ˜¯ç”±ä¸€ç»„æ–‡ä»¶ç³»ç»Ÿç»„æˆï¼Œæˆ–è€…è¯´æ˜¯ç”±å¤šå±‚æ–‡ä»¶ç³»ç»Ÿè”åˆç»„æˆã€‚</p><h3 id="å®¹å™¨"><a href="#å®¹å™¨" class="headerlink" title="å®¹å™¨"></a>å®¹å™¨</h3><p>é•œåƒï¼ˆ<code>Image</code>ï¼‰å’Œå®¹å™¨ï¼ˆ<code>Container</code>ï¼‰çš„å…³ç³»ï¼Œå°±åƒæ˜¯é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡ä¸­çš„ <code>ç±»</code> å’Œ <code>å®ä¾‹</code> ä¸€æ ·ï¼Œé•œåƒæ˜¯é™æ€çš„å®šä¹‰ï¼Œå®¹å™¨æ˜¯é•œåƒè¿è¡Œæ—¶çš„å®ä½“ã€‚å®¹å™¨å¯ä»¥è¢«åˆ›å»ºã€å¯åŠ¨ã€åœæ­¢ã€åˆ é™¤ã€æš‚åœç­‰ã€‚</p><p>å®¹å™¨çš„å®è´¨æ˜¯è¿›ç¨‹ï¼Œä½†æ˜¯ä¸ç›´æ¥åœ¨å®¿ä¸»æ‰§è¡Œçš„è¿›ç¨‹ä¸åŒï¼Œå®¹å™¨è¿›ç¨‹è¿è¡Œäºå±äºè‡ªå·±çš„ç‹¬ç«‹çš„å‘½åç©ºé—´ã€‚</p><p>å®¹å™¨å¯ä»¥æ‹¥æœ‰è‡ªå·±çš„ root æ–‡ä»¶ç³»ç»Ÿã€è‡ªå·±çš„ç½‘ç»œé…ç½®ã€è‡ªå·±çš„è¿›ç¨‹ç©ºé—´ï¼Œè‡ªå·±çš„ç”¨æˆ· ID ç©ºé—´ã€‚</p><p>å®¹å™¨å†…çš„è¿›ç¨‹æ˜¯è¿è¡Œåœ¨ä¸€ä¸ªéš”ç¦»çš„ç¯å¢ƒé‡Œï¼Œä½¿ç”¨èµ·æ¥ï¼Œå°±å¥½åƒæ˜¯åœ¨ä¸€ä¸ªç‹¬ç«‹äºå®¿ä¸»çš„ç³»ç»Ÿä¸‹æ“ä½œä¸€æ ·ã€‚</p><p>æ¯ä¸€ä¸ªå®¹å™¨è¿è¡Œæ—¶ï¼Œæ˜¯ä»¥é•œåƒä¸ºåŸºç¡€å±‚ï¼Œåœ¨å…¶ä¸Šåˆ›å»ºä¸€ä¸ªå½“å‰å®¹å™¨çš„å­˜å‚¨å±‚ï¼Œæˆ‘ä»¬å¯ä»¥ç§°è¿™ä¸ªä¸ºå®¹å™¨è¿è¡Œæ—¶è¯»å†™è€Œå‡†å¤‡çš„å­˜å‚¨å±‚ä¸º <strong>å®¹å™¨å­˜å‚¨å±‚</strong>ã€‚</p><p>å®¹å™¨å­˜å‚¨å±‚çš„ç”Ÿå­˜å‘¨æœŸå’Œå®¹å™¨ä¸€æ ·ï¼Œå®¹å™¨æ¶ˆäº¡æ—¶ï¼Œå®¹å™¨å­˜å‚¨å±‚ä¹Ÿéšä¹‹æ¶ˆäº¡ï¼Œæ‰€ä»¥ä»»ä½•ä¿å­˜äºå®¹å™¨å­˜å‚¨å±‚çš„ä¿¡æ¯éƒ½ä¼šéšç€å®¹å™¨çš„åˆ é™¤è€Œåˆ é™¤ã€‚</p><p>æŒ‰ç…§ Docker æœ€ä½³å®è·µçš„è¦æ±‚ï¼Œå®¹å™¨ä¸åº”è¯¥å‘å…¶å­˜å‚¨å±‚å†…å†™å…¥ä»»ä½•æ•°æ®ï¼Œå®¹å™¨å­˜å‚¨å±‚è¦ä¿æŒæ— çŠ¶æ€åŒ–ã€‚æ‰€æœ‰çš„æ–‡ä»¶å†™å…¥æ“ä½œï¼Œéƒ½åº”è¯¥ä½¿ç”¨ <a href="">æ•°æ®å·ï¼ˆVolumeï¼‰</a>ã€æˆ–è€… <a href="">ç»‘å®šå®¿ä¸»ç›®å½•</a>ï¼Œåœ¨è¿™äº›ä½ç½®çš„è¯»å†™ä¼šè·³è¿‡å®¹å™¨å­˜å‚¨å±‚ï¼Œç›´æ¥å¯¹å®¿ä¸»ï¼ˆæˆ–ç½‘ç»œå­˜å‚¨ï¼‰å‘ç”Ÿè¯»å†™ï¼Œå…¶æ€§èƒ½å’Œç¨³å®šæ€§æ›´é«˜ã€‚</p><ul><li><p>æ•°æ®å·ï¼š</p><ul><li>æ•°æ®å·å¯ä»¥åœ¨å®¹å™¨ä¹‹é—´å…±äº«å’Œé‡ç”¨</li><li>å¯¹æ•°æ®å·çš„ä¿®æ”¹ä¼šç«‹é©¬ç”Ÿæ•ˆ</li><li>å¯¹æ•°æ®å·çš„æ›´æ–°ï¼Œä¸ä¼šå½±å“é•œåƒ</li><li>æ•°æ®å·é»˜è®¤ä¼šä¸€ç›´å­˜åœ¨ï¼Œå³ä½¿å®¹å™¨è¢«åˆ é™¤</li></ul><p>æ•°æ®å·çš„ä½¿ç”¨ï¼Œç±»ä¼¼äº Linux ä¸‹å¯¹ç›®å½•æˆ–æ–‡ä»¶è¿›è¡Œ mountï¼Œé•œåƒä¸­è¢«ç½®é¡¶ä¸ºæŒ‚è½½ç‚¹çš„ç›®å½•ä¸­çš„æ–‡ä»¶ä¼šå¤åˆ¶åˆ°æ•°æ®å·ä¸­ï¼ˆä»…æ•°æ®å·ä¸ºç©ºæ—¶ä¼šè¢«å¤åˆ¶ï¼‰ã€‚</p><ul><li><p>åˆ›å»ºæ•°æ®å·<br><code>docker volume create my-vol</code></p><p>æŸ¥çœ‹æ‰€æœ‰ <code>æ•°æ®å·</code></p><p><code>docker volume ls</code></p><p>åœ¨ä¸»æœºé‡Œä½¿ç”¨ä¸€ä¸‹å‘½ä»¤å¯ä»¥æŸ¥çœ‹æŒ‡å®šçš„ æ•°æ®å· çš„ä¿¡æ¯</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ docker volume inspect my-vol</span><br><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;Driver&quot;: &quot;local&quot;,</span><br><span class="line">        &quot;Labels&quot;: &#123;&#125;,</span><br><span class="line">        &quot;Mountpoint&quot;: &quot;&#x2F;var&#x2F;lib&#x2F;docker&#x2F;volumes&#x2F;my-vol&#x2F;_data&quot;,</span><br><span class="line">        &quot;Name&quot;: &quot;my-vol&quot;,</span><br><span class="line">        &quot;Options&quot;: &#123;&#125;,</span><br><span class="line">        &quot;Scope&quot;: &quot;local&quot;</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure></li></ul></li></ul><pre><code>*   å¯åŠ¨ä¸€ä¸ªæŒ‚è½½æ•°æ®å·çš„å®¹å™¨    åœ¨ç”¨ `docker run` å‘½ä»¤æ—¶ï¼Œä½¿ç”¨ `--mount ` æ ‡è®°æ¥å°† æ•°æ®å·æŒ‚è½½åˆ°å®¹å™¨é‡Œï¼Œåœ¨ä¸€æ¬¡ `docker run` ä¸­å¯ä»¥æŒ‚è½½å¤šä¸ª æ•°æ®å·ã€‚</code></pre><p>æ•°æ®å·çš„ç”Ÿå­˜å‘¨æœŸç‹¬ç«‹äºå®¹å™¨ï¼Œå®¹å™¨æ¶ˆäº¡ï¼Œæ•°æ®å·ä¸ä¼šæ¶ˆäº¡ã€‚å› æ­¤ï¼Œä½¿ç”¨æ•°æ®å·åï¼Œå®¹å™¨åˆ é™¤æˆ–è€…é‡æ–°è¿è¡Œä¹‹åï¼Œæ•°æ®å´ä¸ä¼šä¸¢å¤±ã€‚</p><h3 id="ä»“åº“"><a href="#ä»“åº“" class="headerlink" title="ä»“åº“"></a>ä»“åº“</h3><p>Docker Registry å°±æ˜¯ä¸€ä¸ªé›†ä¸­çš„å­˜å‚¨ã€åˆ†å‘é•œåƒçš„æœåŠ¡ã€‚</p><p>é€šå¸¸ï¼Œä¸€ä¸ªä»“åº“ä¼šåŒ…å«åŒä¸€ä¸ªè½¯ä»¶ä¸åŒç‰ˆæœ¬çš„é•œåƒï¼Œè€Œæ ‡ç­¾å°±å¸¸ç”¨äºå¯¹åº”è¯¥è½¯ä»¶çš„å„ä¸ªç‰ˆæœ¬ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>&lt;ä»“åº“å&gt;:&lt;æ ‡ç­¾&gt;</code> çš„æ ¼å¼æ¥æŒ‡å®šå…·ä½“æ˜¯è¿™ä¸ªè½¯ä»¶å“ªä¸ªç‰ˆæœ¬çš„é•œåƒã€‚å¦‚æœä¸ç»™å‡ºæ ‡ç­¾ï¼Œå°†ä»¥ <code>latest</code> ä½œä¸ºé»˜è®¤æ ‡ç­¾ã€‚</p><p>æœ€å¸¸ä½¿ç”¨çš„ Registry å…¬å¼€æœåŠ¡æ˜¯å®˜æ–¹çš„ <a href="https://hub.docker.com/" target="_blank" rel="noopener">Docker Hub</a>ï¼Œè¿™ä¹Ÿæ˜¯é»˜è®¤çš„ Registryï¼Œå¹¶æ‹¥æœ‰å¤§é‡çš„é«˜è´¨é‡çš„ <a href="https://hub.docker.com/search?q=&amp;type=image&amp;image_filter=official" target="_blank" rel="noopener">å®˜æ–¹é•œåƒ</a>ã€‚é™¤æ­¤ä»¥å¤–ï¼Œè¿˜æœ‰ Red Hat çš„ <a href="https://quay.io/repository/" target="_blank" rel="noopener">Quay.io</a>ï¼›Google çš„ <a href="https://cloud.google.com/container-registry/" target="_blank" rel="noopener">Google Container Registry</a>ï¼Œ<a href="https://kubernetes.io/" target="_blank" rel="noopener">Kubernetes</a> çš„é•œåƒä½¿ç”¨çš„å°±æ˜¯è¿™ä¸ªæœåŠ¡ï¼›ä»£ç æ‰˜ç®¡å¹³å° <a href="https://github.com/">GitHub</a> æ¨å‡ºçš„ <a href="https://docs.github.com/cn/packages/guides/about-github-container-registry" target="_blank" rel="noopener">ghcr.io</a>ã€‚</p><p>å›½å†…çš„ä¸€äº›äº‘æœåŠ¡å•†æä¾›äº†é’ˆå¯¹ Docker Hub çš„é•œåƒæœåŠ¡ï¼ˆ<code>Registry Mirror</code>ï¼‰ï¼Œè¿™äº›é•œåƒæœåŠ¡è¢«ç§°ä¸º <strong>åŠ é€Ÿå™¨</strong>ã€‚å¸¸è§çš„æœ‰ <a href="https://www.aliyun.com/product/acr?source=5176.11533457&amp;userCode=8lx5zmtu" target="_blank" rel="noopener">é˜¿é‡Œäº‘åŠ é€Ÿå™¨</a>ã€<a href="https://www.daocloud.io/mirror#accelerator-doc" target="_blank" rel="noopener">DaoCloud åŠ é€Ÿå™¨</a> ç­‰ã€‚ä½¿ç”¨åŠ é€Ÿå™¨ä¼šç›´æ¥ä»å›½å†…çš„åœ°å€ä¸‹è½½ Docker Hub çš„é•œåƒï¼Œæ¯”ç›´æ¥ä» Docker Hub ä¸‹è½½é€Ÿåº¦ä¼šæé«˜å¾ˆå¤šã€‚</p><p>é™¤æ­¤ä¹‹å¤–ï¼ŒDocker è¿˜æä¾›æ­å»ºç§æœ‰ä»“åº“ã€‚</p><h2 id="å®‰è£…-Docker"><a href="#å®‰è£…-Docker" class="headerlink" title="å®‰è£… Docker"></a>å®‰è£… Docker</h2><h3 id="Ubuntu"><a href="#Ubuntu" class="headerlink" title="Ubuntu"></a>Ubuntu</h3><p>é¦–å…ˆå¸è½½æ—§ç‰ˆæœ¬</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-get remove docker \</span><br><span class="line">               docker-engine \</span><br><span class="line">               docker.io</span><br></pre></td></tr></table></figure><p>å¯ä»¥ä½¿ç”¨ APT å®‰è£…ï¼Œæ•´ä¸ªè¿‡ç¨‹ç”± apt ä½¿ç”¨ https ç¡®ä¿ä¸‹è½½è¿‡ç¨‹ä¸­ä¸è¢«ç¯¡æ”¹ã€‚</p><p>å½“ç„¶æœ€ä¾¿æ·çš„æ–¹æ³•æ˜¯ä½¿ç”¨ Docker å®˜æ–¹æä¾›çš„è„šæœ¬è¿›è¡Œå®‰è£…ç®€åŒ–æµç¨‹ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># $ curl -fsSL test.docker.com -o get-docker.sh</span><br><span class="line">$ curl -fsSL get.docker.com -o get-docker.sh</span><br><span class="line">$ sudo sh get-docker.sh --mirror Aliyun</span><br><span class="line"># $ sudo sh get-docker.sh --mirror AzureChinaCloud</span><br></pre></td></tr></table></figure><h4 id="å¯åŠ¨-Docker"><a href="#å¯åŠ¨-Docker" class="headerlink" title="å¯åŠ¨ Docker"></a>å¯åŠ¨ Docker</h4><p><code>$ sudo systemctl enable docker$ sudo systemctl start docker</code></p><h4 id="å»ºç«‹-Docker-ç”¨æˆ·ç»„"><a href="#å»ºç«‹-Docker-ç”¨æˆ·ç»„" class="headerlink" title="å»ºç«‹ Docker ç”¨æˆ·ç»„"></a>å»ºç«‹ Docker ç”¨æˆ·ç»„</h4><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>docker</code> å‘½ä»¤ä¼šä½¿ç”¨ <a href="https://en.wikipedia.org/wiki/Unix_domain_socket" target="_blank" rel="noopener">Unix socket</a> ä¸ Docker å¼•æ“é€šè®¯ã€‚è€Œåªæœ‰ <code>root</code> ç”¨æˆ·å’Œ <code>docker</code> ç»„çš„ç”¨æˆ·æ‰å¯ä»¥è®¿é—® Docker å¼•æ“çš„ Unix socketã€‚å‡ºäºå®‰å…¨è€ƒè™‘ï¼Œä¸€èˆ¬ Linux ç³»ç»Ÿä¸Šä¸ä¼šç›´æ¥ä½¿ç”¨ <code>root</code> ç”¨æˆ·ã€‚å› æ­¤ï¼Œæ›´å¥½åœ°åšæ³•æ˜¯å°†éœ€è¦ä½¿ç”¨ <code>docker</code> çš„ç”¨æˆ·åŠ å…¥ <code>docker</code> ç”¨æˆ·ç»„ã€‚</p><p><strong>å»ºç«‹ docker ç”¨æˆ·ç»„</strong></p><p><code>$ sudo groupadd docker</code></p><p><strong>å°†å½“å‰ç”¨æˆ·åŠ å…¥ docker ç»„</strong></p><p><code>$ sudo usermod -aG docker $USER</code></p><h3 id="Mac"><a href="#Mac" class="headerlink" title="Mac"></a>Mac</h3><ul><li>ä½¿ç”¨ Homebrew</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install --cask docker</span><br></pre></td></tr></table></figure><ul><li>æ‰‹åŠ¨ä¸‹è½½ package è¿›è¡Œå®‰è£…ï¼Œä¸‹è½½<a href="https://desktop.docker.com/mac/stable/Docker.dmg" target="_blank" rel="noopener">é“¾æ¥</a></li></ul><p>æ£€æŸ¥ Docker ç‰ˆæœ¬</p><p><code>docker --version</code></p><p>å®‰è£… Nginx æµ‹è¯• Docker æœåŠ¡</p><p><code>$ docker run -d -p 80:80 --name webserver nginx</code></p><p>ä¹‹åè®¿é—® <a href="http://localhost" target="_blank" rel="noopener">http://localhost</a> å³å¯è¿›å…¥åˆ° nginx</p><p>åœæ­¢ Nginx å¹¶åˆ é™¤å‘½ä»¤</p><p><code>$ docker stop webserver</code></p><p><code>$ docker rm webserver</code></p><h2 id="è·å–é•œåƒ"><a href="#è·å–é•œåƒ" class="headerlink" title="è·å–é•œåƒ"></a>è·å–é•œåƒ</h2><p>è·å–é•œåƒå‘½ä»¤ <code>docker pull</code></p><p><code>$ docker pull [é€‰é¡¹] [Docker Registry åœ°å€[:ç«¯å£å·]/]ä»“åº“å[:æ ‡ç­¾]</code></p><p>Docker é•œåƒä»“åº“åœ°å€ï¼šåœ°å€çš„æ ¼å¼ä¸€èˆ¬æ˜¯ <code>&lt;åŸŸå/IP&gt;[:ç«¯å£å·]</code>ã€‚é»˜è®¤åœ°å€æ˜¯ Docker Hub(<code>docker.io</code>)ã€‚</p><p>ä»“åº“åï¼šå¦‚ä¹‹å‰æ‰€è¯´ï¼Œè¿™é‡Œçš„ä»“åº“åæ˜¯ä¸¤æ®µå¼åç§°ï¼Œå³ <code>&lt;ç”¨æˆ·å&gt;/&lt;è½¯ä»¶å&gt;</code>ã€‚å¯¹äº Docker Hubï¼Œå¦‚æœä¸ç»™å‡ºç”¨æˆ·åï¼Œåˆ™é»˜è®¤ä¸º <code>library</code>ï¼Œä¹Ÿå°±æ˜¯å®˜æ–¹é•œåƒã€‚</p><h4 id="è¿è¡Œ"><a href="#è¿è¡Œ" class="headerlink" title="è¿è¡Œ"></a>è¿è¡Œ</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">$ docker run -it --rm ubuntu:18.04 bash</span><br><span class="line"></span><br><span class="line">root@e7009c6ce357:&#x2F;# cat &#x2F;etc&#x2F;os-release</span><br><span class="line">NAME&#x3D;&quot;Ubuntu&quot;</span><br><span class="line">VERSION&#x3D;&quot;18.04.1 LTS (Bionic Beaver)&quot;</span><br><span class="line">ID&#x3D;ubuntu</span><br><span class="line">ID_LIKE&#x3D;debian</span><br><span class="line">PRETTY_NAME&#x3D;&quot;Ubuntu 18.04.1 LTS&quot;</span><br><span class="line">VERSION_ID&#x3D;&quot;18.04&quot;</span><br><span class="line">HOME_URL&#x3D;&quot;https:&#x2F;&#x2F;www.ubuntu.com&#x2F;&quot;</span><br><span class="line">SUPPORT_URL&#x3D;&quot;https:&#x2F;&#x2F;help.ubuntu.com&#x2F;&quot;</span><br><span class="line">BUG_REPORT_URL&#x3D;&quot;https:&#x2F;&#x2F;bugs.launchpad.net&#x2F;ubuntu&#x2F;&quot;</span><br><span class="line">PRIVACY_POLICY_URL&#x3D;&quot;https:&#x2F;&#x2F;www.ubuntu.com&#x2F;legal&#x2F;terms-and-policies&#x2F;privacy-policy&quot;</span><br><span class="line">VERSION_CODENAME&#x3D;bionic</span><br><span class="line">UBUNTU_CODENAME&#x3D;bionic</span><br></pre></td></tr></table></figure><h2 id="è¿è¡Œå®¹å™¨"><a href="#è¿è¡Œå®¹å™¨" class="headerlink" title="è¿è¡Œå®¹å™¨"></a>è¿è¡Œå®¹å™¨</h2><p><code>docker run</code> æ¥åˆ›å»ºå®¹å™¨æ—¶ï¼Œdocker åœ¨åå°è¿è¡Œçš„æ ‡å‡†æ“ä½œåŒ…æ‹¬ï¼š</p><ul><li>æ£€æŸ¥æœ¬åœ°æ˜¯å¦å­˜åœ¨æŒ‡å®šé•œåƒï¼Œä¸å­˜åœ¨å°±ä» registry ä¸‹è½½</li><li>åˆ©ç”¨é•œåƒåˆ›å»ºå¹¶å¯åŠ¨ä¸€ä¸ªå®¹å™¨</li><li>åˆ†é…ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿï¼Œå¹¶åœ¨åªè¯»çš„é•œåƒå±‚å¤–é¢æŒ‚è½½ä¸€å±‚å¯è¯»å†™å±‚</li><li>ä»å®¿ä¸»ä¸»æœºé…ç½®çš„ç½‘æ¡¥æ¥å£ä¸­<strong>æ¡¥æ¥</strong>ä¸€ä¸ªè™šæ‹Ÿæ¥å£åˆ°å®¹å™¨ä¸­</li><li>ä»åœ°å€æ± åˆ†é…ä¸€ä¸ª IPåœ°å€ç»™å®¹å™¨</li><li>æ‰§è¡Œç”¨æˆ·æŒ‡å®šåº”ç”¨ç¨‹åº</li><li>æ‰§è¡Œå®Œæ¯•å®¹å™¨ç»ˆæ­¢</li></ul><h3 id="å¯åŠ¨å·²ç»ç»ˆæ­¢å®¹å™¨"><a href="#å¯åŠ¨å·²ç»ç»ˆæ­¢å®¹å™¨" class="headerlink" title="å¯åŠ¨å·²ç»ç»ˆæ­¢å®¹å™¨"></a>å¯åŠ¨å·²ç»ç»ˆæ­¢å®¹å™¨</h3><p>åˆ©ç”¨ <code>docker container start</code> å‘½ä»¤ï¼Œç›´æ¥å°†ä¸€ä¸ªå·²ç»ç»ˆæ­¢ exited çš„å®¹å™¨å¯åŠ¨è¿è¡Œã€‚</p><p>å¯ä»¥åœ¨å®¹å™¨ä¸­ä½¿ç”¨ <code>ps</code> å‘½ä»¤æŸ¥çœ‹è¿›ç¨‹ä¿¡æ¯ã€‚</p><h3 id="å®ˆæŠ¤æ€è¿è¡Œ"><a href="#å®ˆæŠ¤æ€è¿è¡Œ" class="headerlink" title="å®ˆæŠ¤æ€è¿è¡Œ"></a>å®ˆæŠ¤æ€è¿è¡Œ</h3><p>å¯ä»¥ä½¿ç”¨ <code>-d</code> å‚æ•°æ¥å®ç° Docker åº”ç”¨åå°è¿è¡Œï¼Œè€Œä¸æ˜¯å°†æ‰§è¡Œå‘½ä»¤çš„ç»“æœè¾“å‡ºåœ¨å½“å‰çš„å®¿ä¸»æœºä¸‹ã€‚</p><p>å†æ¬¡é€šè¿‡ <code>docker container logs [container ID or NAMES]</code> æ¥è¿›è¡ŒæŸ¥çœ‹è¾“å‡ºä¿¡æ¯ã€‚</p><h3 id="ç»ˆæ­¢å®¹å™¨"><a href="#ç»ˆæ­¢å®¹å™¨" class="headerlink" title="ç»ˆæ­¢å®¹å™¨"></a>ç»ˆæ­¢å®¹å™¨</h3><p>ä½¿ç”¨ <code>docker container stop [container ID or NAMES]</code> ç»ˆæ­¢è¿è¡Œä¸­çš„å®¹å™¨ã€‚</p><p>ä½¿ç”¨ <code>docker container ls -a</code> æŸ¥çœ‹è¢«ç»ˆæ­¢çš„å®¹å™¨ã€‚</p><h3 id="è¿›å…¥å®¹å™¨"><a href="#è¿›å…¥å®¹å™¨" class="headerlink" title="è¿›å…¥å®¹å™¨"></a>è¿›å…¥å®¹å™¨</h3><p>attach å®¹å™¨åå­—ï¼Œå¯ä»¥è¿›å…¥ï¼Œä½†æ˜¯exitåä¼šå¯¼è‡´å®¹å™¨åœæ­¢ã€‚</p><p>-i -t å‚æ•°å¯ä»¥çœ‹åˆ°ç†Ÿæ‚‰çš„ Linux å‘½ä»¤æç¤ºç¬¦ã€‚</p><h3 id="å¯¼å‡ºå®¹å™¨"><a href="#å¯¼å‡ºå®¹å™¨" class="headerlink" title="å¯¼å‡ºå®¹å™¨"></a>å¯¼å‡ºå®¹å™¨</h3><p>ä½¿ç”¨ <code>docker export</code></p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ docker container ls -a</span><br><span class="line">CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                    PORTS               NAMES</span><br><span class="line"><span class="number">7691</span>a814370e        ubuntu:<span class="number">18.04</span>        <span class="string">"/bin/bash"</span>         <span class="number">36</span> <span class="function">hours ago        <span class="title">Exited</span> <span class="params">(<span class="number">0</span>)</span> 21 hours ago                       test</span></span><br><span class="line">$ docker export 7691a814370e &gt; ubuntu.tar</span><br></pre></td></tr></table></figure><h3 id="å¯¼å…¥å®¹å™¨å¿«ç…§"><a href="#å¯¼å…¥å®¹å™¨å¿«ç…§" class="headerlink" title="å¯¼å…¥å®¹å™¨å¿«ç…§"></a>å¯¼å…¥å®¹å™¨å¿«ç…§</h3><p>ä½¿ç”¨ <code>docker import</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ cat ubuntu.tar | docker <span class="keyword">import</span> - test/ubuntu:v1<span class="number">.0</span></span><br><span class="line">$ docker <span class="built_in">image</span> ls</span><br><span class="line">REPOSITORY          TAG                 IMAGE ID            CREATED              VIRTUAL SIZE</span><br><span class="line">test/ubuntu         v1<span class="number">.0</span>                <span class="number">9</span>d37a6082e97        About a minute ago   <span class="number">171.3</span> MB</span><br></pre></td></tr></table></figure><p>é€šè¿‡æŒ‡å®š URL æˆ–è€…æŸä¸ªç›®å½•æ¥å¯¼å…¥</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker <span class="keyword">import</span> http:<span class="comment">//example.com/exampleimage.tgz example/imagerepo</span></span><br></pre></td></tr></table></figure><h3 id="åˆ—å‡ºé•œåƒ"><a href="#åˆ—å‡ºé•œåƒ" class="headerlink" title="åˆ—å‡ºé•œåƒ"></a>åˆ—å‡ºé•œåƒ</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker ps</span><br><span class="line">docker image ls</span><br></pre></td></tr></table></figure><p>docker image ls åˆ—è¡¨ä¸­çš„é•œåƒæåŠæ€»å’Œå¹¶éæ˜¯æ‰€æœ‰é•œåƒæ—¶æœºç¡¬ç›˜æ¶ˆè€—ï¼Œç”±äºdockerçš„å¤šå±‚å­˜å‚¨ç»“æ„ï¼Œå¹¶å¯ä»¥ç»§æ‰¿ã€å¤ç”¨ï¼Œå› æ­¤ä¸åŒé•œåƒå¯èƒ½ä¼šå› ä¸ºä½¿ç”¨ç›¸åŒçš„åŸºç¡€é•œåƒä»è€Œæ‹¥æœ‰å…±åŒçš„å±‚ã€‚å› æ­¤å®é™…ç¡¬ç›˜ç©ºé—´å¯èƒ½è¦æ¯”åˆ—è¡¨é•œåƒå¤§å°æ€»å’Œå°å¾ˆå¤šã€‚</p><p><code>docker system df</code> å¯ä»¥ä¾¿æ·çš„æŸ¥çœ‹é•œåƒã€å®¹å™¨ã€æ•°æ®å·æ‰€å ç”¨çš„ç©ºé—´</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-04-15%20at%2023.22.28.png" alt="Screen Shot 2021-04-15 at 23.22.28"></p><h3 id="è™šæ‚¬é•œåƒ"><a href="#è™šæ‚¬é•œåƒ" class="headerlink" title="è™šæ‚¬é•œåƒ"></a>è™šæ‚¬é•œåƒ</h3><p>å½“è¿›è¡Œ <code>docker pull xxx</code> æ›´æ–°æŸä¸ªé•œåƒçš„æ—¶å€™ï¼Œæˆ–è€…<code>docker build</code> ä¼šå¯¼è‡´æ›´æ–°çš„é•œåƒä½¿ç”¨åŸæœ‰çš„åå­—ï¼Œè€çš„é•œåƒè¢«å–æ¶ˆåç§°ï¼Œè¿™å°±æ˜¯ <code>dangling image</code> è™šæ‚¬é•œåƒï¼Œå¯ä»¥ç”¨ <code>docker image prune</code> æ¥è¿›è¡Œåˆ é™¤ï¼Œè™šæ‚¬é•œåƒå¤±å»å­˜åœ¨çš„ä»·å€¼äº†ã€‚</p><h3 id="åˆ é™¤é•œåƒ"><a href="#åˆ é™¤é•œåƒ" class="headerlink" title="åˆ é™¤é•œåƒ"></a>åˆ é™¤é•œåƒ</h3><p><code>docker image ls</code></p><p>ç„¶åä½¿ç”¨</p><p><code>docker image rm **</code></p><h3 id="æ“ä½œå®¹å™¨"><a href="#æ“ä½œå®¹å™¨" class="headerlink" title="æ“ä½œå®¹å™¨"></a>æ“ä½œå®¹å™¨</h3><p><code>docker run -it ubuntu:18.04 /bin/sh</code></p><p>-t è®©dockå„¿åˆ†é…ä¸€ä¸ªä¼ªç»ˆç«¯ï¼Œå¹¶ç»‘å®šåˆ°å®¹å™¨çš„æ ‡å‡†è¾“å…¥ä¸Šï¼Œ-i åˆ™è®©å®¹å™¨çš„æ ‡å‡†è¾“å…¥ä¿æŒæ‰“å¼€ã€‚</p><p>docker run åˆ›å»ºå®¹å™¨æ—¶ï¼ŒDocker åå°è¿è¡Œæ“ä½œåŒ…æ‹¬ï¼š</p><ul><li>æ£€æŸ¥æœ¬åœ°æ˜¯å¦å­˜åœ¨æŒ‡å®šé•œåƒï¼Œå¦‚æœä¸å­˜åœ¨å°±ä» registry ä¸Šä¸‹è½½</li></ul><h2 id="è®¿é—®ä»“åº“"><a href="#è®¿é—®ä»“åº“" class="headerlink" title="è®¿é—®ä»“åº“"></a>è®¿é—®ä»“åº“</h2><p> <a href="https://hub.docker.com" target="_blank" rel="noopener">Docker Hub</a> æ˜¯å®˜æ–¹ç»´æŠ¤çš„ä¸€ä¸ªå…¬å…±ä»“åº“ï¼Œå¯ä»¥ç”¨æ¥ä¸‹è½½é•œåƒã€‚</p><p><code>docker search</code> ç”¨æ¥æŸ¥æ‰¾å®˜æ–¹ä»“åº“ä¸­çš„é•œåƒï¼Œ<code>docker pull</code> æ¥å°†é•œåƒä¸‹è½½åˆ°æœ¬åœ°ã€‚</p><h3 id="æ¨é€é•œåƒ"><a href="#æ¨é€é•œåƒ" class="headerlink" title="æ¨é€é•œåƒ"></a>æ¨é€é•œåƒ</h3><p>ç”¨æˆ·ç™»é™†åå¯ä»¥é€šè¿‡ docker push å‘½ä»¤å°†è‡ªå·±çš„é•œåƒæ¨é€åˆ° Docker Hub</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$docker tag ubuntu:<span class="number">18.04</span> username/ubuntu:<span class="number">18.04</span></span><br><span class="line"></span><br><span class="line">$docker image ls</span><br><span class="line"></span><br><span class="line">$docker push username/ubuntu:<span class="number">18.04</span></span><br><span class="line"></span><br><span class="line">$docker search username</span><br></pre></td></tr></table></figure><h3 id="Docker-ç§æœ‰ä»“åº“"><a href="#Docker-ç§æœ‰ä»“åº“" class="headerlink" title="Docker ç§æœ‰ä»“åº“"></a>Docker ç§æœ‰ä»“åº“</h3><p>docker-registry æ˜¯å®˜æ–¹æä¾›çš„å·¥å…·ï¼Œå¯ä»¥ç”¨äºæ„å»ºç§æœ‰çš„é•œåƒä»“åº“ã€‚</p><p><strong>å®‰è£… Docker-registry</strong></p><p>ä½¿ç”¨å®˜æ–¹çš„ registry é•œåƒè¿è¡Œï¼š</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker <span class="keyword">run</span><span class="bash"> -d -p 5000:5000 --restart=always --name registry registry</span></span><br></pre></td></tr></table></figure><p>é»˜è®¤ä»“åº“ä¼šè¢«åˆ›å»ºåœ¨å®¹å™¨çš„ /var/lib/registry ç›®å½•ä¸‹ã€‚å¯ä»¥ä½¿ç”¨ -v å‚æ•°æ¥ä¿®æ”¹æŒ‡å®šè·¯å¾„ã€‚</p><h3 id="ç§æœ‰ä»“åº“ä¸Šä¼ ã€æœç´¢ã€ä¸‹è½½é•œåƒ"><a href="#ç§æœ‰ä»“åº“ä¸Šä¼ ã€æœç´¢ã€ä¸‹è½½é•œåƒ" class="headerlink" title="ç§æœ‰ä»“åº“ä¸Šä¼ ã€æœç´¢ã€ä¸‹è½½é•œåƒ"></a>ç§æœ‰ä»“åº“ä¸Šä¼ ã€æœç´¢ã€ä¸‹è½½é•œåƒ</h3><p>ä½¿ç”¨ <code>docker tag</code> å°† <code>ubuntu:latest</code>é•œåƒæ ‡è®°ä¸º <code>127.0.0.1:5000/ubuntu:latest</code></p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ docker tag ubuntu:latest <span class="number">127.0</span>.<span class="number">0.1</span>:<span class="number">5000</span>/ubuntu:latest</span><br><span class="line">$ docker image ls</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ <code>docker push</code> ä¸Šä¼ æ ‡è®°çš„é•œåƒ</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker push <span class="number">127.0</span>.<span class="number">0.1</span>:<span class="number">5000</span>/ubuntu:latest</span><br></pre></td></tr></table></figure><h2 id="å¤–éƒ¨è®¿é—®å®¹å™¨"><a href="#å¤–éƒ¨è®¿é—®å®¹å™¨" class="headerlink" title="å¤–éƒ¨è®¿é—®å®¹å™¨"></a>å¤–éƒ¨è®¿é—®å®¹å™¨</h2><p>å®¹å™¨ä¸­å¯ä»¥è¿è¡Œç½‘ç»œåº”ç”¨ï¼Œå¦‚æœæƒ³è¦å¤–éƒ¨å¯ä»¥è®¿é—®è¿™äº›åº”ç”¨ï¼Œå¯ä»¥é€šè¿‡ -p å‚æ•°æ¥æŒ‡å®šç«¯å£æ˜ å°„ã€‚</p><p>å½“ä½¿ç”¨ -P æ ‡è®°æ—¶ï¼ŒDocker ä¼šéšæœºæ˜ å°„ä¸€ä¸ªç«¯å£åˆ°å†…éƒ¨å®¹å™¨å¼€æ”¾çš„ç½‘ç»œç«¯å£ã€‚</p><p>ä½¿ç”¨ <code>docker container ls</code>å¯ä»¥çœ‹åˆ°æŸä¸€å®¹å™¨çš„ç«¯å£å·ä¸æœ¬åœ°ä¸»æœºä¹‹é—´çš„æ˜ å°„å…³ç³»ï¼Œå‰é¢æ˜¯æœ¬åœ°ä¸»æœºåé¢æ˜¯å®¹å™¨çš„ç«¯å£å·ã€‚è®¿é—®æœ¬æœºçš„ç«¯å£å³å¯è®¿é—®å®¹å™¨çš„é¡µé¢ã€‚</p><h3 id="æ˜ å°„åˆ°æŒ‡å®šåœ°å€çš„æŒ‡å®šç«¯å£"><a href="#æ˜ å°„åˆ°æŒ‡å®šåœ°å€çš„æŒ‡å®šç«¯å£" class="headerlink" title="æ˜ å°„åˆ°æŒ‡å®šåœ°å€çš„æŒ‡å®šç«¯å£"></a>æ˜ å°„åˆ°æŒ‡å®šåœ°å€çš„æŒ‡å®šç«¯å£</h3><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="keyword">run</span><span class="bash"> -d -p 127.0.0.1:80:80 nginx:alpine</span></span><br></pre></td></tr></table></figure><h3 id="æŸ¥çœ‹ç«¯å£è®¿é—®è®°å½•"><a href="#æŸ¥çœ‹ç«¯å£è®¿é—®è®°å½•" class="headerlink" title="æŸ¥çœ‹ç«¯å£è®¿é—®è®°å½•"></a>æŸ¥çœ‹ç«¯å£è®¿é—®è®°å½•</h3><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker logs fa</span><br></pre></td></tr></table></figure><h3 id="æŸ¥çœ‹æ˜ å°„ç«¯å£çš„é…ç½®"><a href="#æŸ¥çœ‹æ˜ å°„ç«¯å£çš„é…ç½®" class="headerlink" title="æŸ¥çœ‹æ˜ å°„ç«¯å£çš„é…ç½®"></a>æŸ¥çœ‹æ˜ å°„ç«¯å£çš„é…ç½®</h3><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker port fa <span class="number">80</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥ç”¨æ¥æŸ¥çœ‹å½“å‰æ˜ å°„çš„ç«¯å£é…ç½®ï¼ŒæŸ¥çœ‹ç»‘å®šçš„åœ°å€ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Docker&quot;&gt;&lt;a href=&quot;#Docker&quot; class=&quot;headerlink&quot; title=&quot;Docker&quot;&gt;&lt;/a&gt;Docker&lt;/h1&gt;&lt;h2 id=&quot;åŸºæœ¬æ¦‚å¿µ&quot;&gt;&lt;a href=&quot;#åŸºæœ¬æ¦‚å¿µ&quot; class=&quot;headerlink&quot; title=&quot;åŸº
      
    
    </summary>
    
    
    
      <category term="learning-note" scheme="https://github.com/liysky/liysky.github.io.git/tags/learning-note/"/>
    
  </entry>
  
  <entry>
    <title>Hongyi-Lee Machine Learning Spring 2021 Mandarin</title>
    <link href="https://github.com/liysky/liysky.github.io.git/2021/03/17/Self-Learning-OF-Hongyi-Lee-Machine-Learning-Spring-Mandarin/"/>
    <id>https://github.com/liysky/liysky.github.io.git/2021/03/17/Self-Learning-OF-Hongyi-Lee-Machine-Learning-Spring-Mandarin/</id>
    <published>2021-03-17T14:17:21.000Z</published>
    <updated>2021-04-29T16:35:05.027Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Hongyi-Lee-Machine-Learning-Spring-Mandarin-â€”Notes"><a href="#Hongyi-Lee-Machine-Learning-Spring-Mandarin-â€”Notes" class="headerlink" title="Hongyi-Lee Machine Learning Spring Mandarin â€”Notes"></a>Hongyi-Lee Machine Learning Spring Mandarin â€”Notes</h1><h2 id="Lesson-1Basic-Conceptions-OF-ML"><a href="#Lesson-1Basic-Conceptions-OF-ML" class="headerlink" title="Lesson 1Basic Conceptions OF ML"></a>Lesson 1Basic Conceptions OF ML</h2><h3 id="Different-type-of-Functions"><a href="#Different-type-of-Functions" class="headerlink" title="Different type of Functions"></a>Different type of Functions</h3><p><strong>Regression: The function outputs a scalar</strong></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-16%20at%2023.45.08.png" alt="Screen Shot 2021-03-16 at 23.45.08"></p><p><strong>Classification: Given options(classes), the function outputs the correct one.</strong></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-16%20at%2023.46.21.png" alt="Screen Shot 2021-03-16 at 23.46.21"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-16%20at%2023.47.04.png" alt="Screen Shot 2021-03-16 at 23.47.04"></p><h3 id="How-to-find-the-Function"><a href="#How-to-find-the-Function" class="headerlink" title="How to find the Function"></a>How to find the Function</h3><h4 id="Three-steps"><a href="#Three-steps" class="headerlink" title="Three steps"></a>Three steps</h4><ul><li><p>Function with Unknown Parameters</p></li><li><p>Define Loss from Training Data</p><ul><li>Loss is a function of parameters: L( b,w )</li><li>Loss: how good a set of value is.</li></ul><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20210317214832354.png" alt="image-20210317214832354"></p><p>Loss:  $L = \frac{1}{N}\sum<em>{n}e</em>{n}$</p><p><strong>Types of Loss</strong></p><ul><li>MAE: L is mean absolute error(MAE)  $e = |y-\hat{y}|$</li><li>MSE: L is mean square error(MSE) $e = (y-\hat{y})^{2}$</li><li>if y and $\hat{y}$ both probability distributons â€”&gt; Cross-entropy</li></ul><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20210317220111124.png" alt="image-20210317220111124"></p></li><li><p>Optimization</p><p>the way to find a best w<em> and b</em>: gradient descent</p><ul><li><p>randomly pick a initial value of w0</p></li><li><p>compute $\frac{\partial{L}}{\partial{w}}|_{w=w^0}$</p><ul><li>Negative â€”&gt; increase w</li><li>Positiive â€”&gt; decrease w</li><li>learn rate : hyperparameters â€”&gt; can modify be human</li></ul><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-17%20at%2022.12.31.png" alt="Screen Shot 2021-03-17 at 22.12.31"></p></li><li><p>update w iteratively</p></li></ul></li></ul><p>disadvantage of gradient descent: may sometimes can not find the absolutely right best w* â€”&gt; local minima</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-17%20at%2022.21.45.png" alt="Screen Shot 2021-03-17 at 22.21.45"></p><p><strong>Same steps of the finding of b* </strong></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20210317222343212.png" alt="image-20210317222343212" style="zoom:50%;" /></p><p><strong>Above summary is called Train</strong></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20210317222734598.png" alt="image-20210317222734598"></p><h3 id="Gradually-considering-more-days-of-a-circle-to-compute-the-best-w-different-models"><a href="#Gradually-considering-more-days-of-a-circle-to-compute-the-best-w-different-models" class="headerlink" title="Gradually considering more days of a circle to compute the best w* (different models)"></a><strong>Gradually considering more days of a circle to compute the best w* (different models)</strong></h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20210317223404414.png" alt="image-20210317223404414"></p><h2 id="Less2-Basic-Conceptions-OF-ML-second"><a href="#Less2-Basic-Conceptions-OF-ML-second" class="headerlink" title="Less2 Basic Conceptions OF ML (second)"></a>Less2 Basic Conceptions OF ML (second)</h2><p><strong>Model Bias</strong></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-18%20at%2022.22.58.png" alt="Screen Shot 2021-03-18 at 22.22.58"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-19%20at%2023.51.31.png" alt="Screen Shot 2021-03-19 at 23.51.31"></p><p>Approximate cotinuous curve by a piecewise linear curve.</p><p>To have good approximation, we need sufficient pices.</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-20%20at%2000.05.44.png" alt="Screen Shot 2021-03-20 at 00.05.44"></p><p><strong>using multiple lines to fitting the red curve</strong></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210320213544357.png" alt="image-20210320213544357"></p><p><strong>New Model: more Features</strong></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210320214505891.png" alt="image-20210320214505891"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210320214758772.png" alt="image-20210320214758772"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210320214859012.png" alt="image-20210320214859012"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210320214918567.png" alt="image-20210320214918567"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210320215011501.png" alt="image-20210320215011501"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210320215055365.png" alt="image-20210320215055365"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210320215133654.png" alt="image-20210320215133654"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210320215154173.png" alt="image-20210320215154173"></p><h3 id="using-theta-to-represent-all-unknow-parameters"><a href="#using-theta-to-represent-all-unknow-parameters" class="headerlink" title="using /theta to represent all unknow parameters"></a>using /theta to represent all unknow parameters</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210320215325887.png" alt="image-20210320215325887"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210320215704989.png" alt="image-20210320215704989"></p><h3 id="Loss"><a href="#Loss" class="headerlink" title="Loss"></a>Loss</h3><p>Loss is a function of parameters  $L\theta$</p><p>Loss means how good a set of values is.</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210320221049011.png" alt="image-20210320221049011"></p><h3 id="Optimization-of-New-Model"><a href="#Optimization-of-New-Model" class="headerlink" title="Optimization of New Model"></a>Optimization of New Model</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210320221457139.png" alt="image-20210320221457139"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210320221533290.png" alt="image-20210320221533290"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210320221732179.png" alt="image-20210320221732179"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210320222205683.png" alt="image-20210320222205683"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210320222432506.png" alt="image-20210320222432506"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210320222441121.png" alt="image-20210320222441121"></p><h3 id="Activation-function"><a href="#Activation-function" class="headerlink" title="Activation function"></a>Activation function</h3><p>ReLU = 2 times Sigmoid</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210320222528754.png" alt="image-20210320222528754"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210320222836306.png" alt="image-20210320222836306"></p><h3 id="complexity-model"><a href="#complexity-model" class="headerlink" title="complexity model"></a>complexity model</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210320222718395.png" alt="image-20210320222718395"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210320222803883.png" alt="image-20210320222803883"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210320223632708.png" alt="image-20210320223632708"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210320223709586.png" alt="image-20210320223709586"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210320223736747.png" alt="image-20210320223736747"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210320223801600.png" alt="image-20210320223801600"></p><h3 id="Why-donâ€™t-we-go-deeper-â€”â€”-Overfitting"><a href="#Why-donâ€™t-we-go-deeper-â€”â€”-Overfitting" class="headerlink" title="Why donâ€™t we go deeper?  â€”â€” Overfitting"></a>Why donâ€™t we go deeper?  â€”â€” Overfitting</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210320224030451.png" alt="image-20210320224030451"></p><h2 id="Less3-Mission-Strategy-OF-ML"><a href="#Less3-Mission-Strategy-OF-ML" class="headerlink" title="Less3 Mission Strategy OF ML"></a>Less3 Mission Strategy OF ML</h2><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-18%20at%2022.17.31.png" alt="Screen Shot 2021-03-18 at 22.17.31"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-21%20at%2016.38.10.png" alt="Screen Shot 2021-03-21 at 16.38.10"></p><p><strong>how to improve the currection</strong></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-21%20at%2016.39.41.png" alt="Screen Shot 2021-03-21 at 16.39.41"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-21%20at%2016.44.55.png" alt="Screen Shot 2021-03-21 at 16.44.55"></p><p>56-layer can do the things 20-layer do</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-21%20at%2016.49.46.png" alt="Screen Shot 2021-03-21 at 16.49.46"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-21%20at%2016.51.26.png" alt="Screen Shot 2021-03-21 at 16.51.26"></p><p>The way to solve overfitting</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-21%20at%2016.53.15.png" alt="Screen Shot 2021-03-21 at 16.53.15"></p><p>constrained model to solve overfitting</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-21%20at%2016.54.48.png" alt="Screen Shot 2021-03-21 at 16.54.48"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-21%20at%2016.56.10.png" alt="Screen Shot 2021-03-21 at 16.56.10"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-21%20at%2016.58.42.png" alt="Screen Shot 2021-03-21 at 16.58.42"></p><h3 id="Bias-Complexity"><a href="#Bias-Complexity" class="headerlink" title="Bias-Complexity"></a>Bias-Complexity</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-21%20at%2017.13.34.png" alt="Screen Shot 2021-03-21 at 17.13.34"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-21%20at%2017.24.52.png" alt="Screen Shot 2021-03-21 at 17.24.52"></p><h3 id="good-way-to-improve-currection"><a href="#good-way-to-improve-currection" class="headerlink" title="good way to improve currection"></a>good way to improve currection</h3><p><strong>Split Training Set into Training Set and Validation Set</strong></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-21%20at%2018.01.28.png" alt="Screen Shot 2021-03-21 at 18.01.28"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-21%20at%2018.03.57.png" alt="Screen Shot 2021-03-21 at 18.03.57"></p><h3 id="Mismatch"><a href="#Mismatch" class="headerlink" title="Mismatch"></a>Mismatch</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-21%20at%2018.06.38.png" alt="Screen Shot 2021-03-21 at 18.06.38"></p><h2 id="Lesson4-local-minima-saddle-point"><a href="#Lesson4-local-minima-saddle-point" class="headerlink" title="Lesson4 local minima saddle point"></a>Lesson4 local minima saddle point</h2><p><strong>Critical point</strong></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210322124818350.png" alt="image-20210322124818350"></p><p><strong>using Tayler Series Approximation to approximately represent the Loss Function</strong></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210322125244588.png" alt="image-20210322125244588"></p><p>$(\theta-\theta^{â€˜})^T g $ will disappear when Loss is at critical point</p><p> <img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210322130418466.png" alt="image-20210322130418466"></p><h4 id="eigen-value"><a href="#eigen-value" class="headerlink" title="eigen value"></a><strong>eigen value</strong></h4><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210322130924505.png" alt="image-20210322130924505"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210322130913155.png" alt="image-20210322130913155"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210322131430124.png" alt="image-20210322131430124"></p><p><strong>Example</strong></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210322131550636.png" alt="image-20210322131550636"></p><h3 id="Higher-Dimension"><a href="#Higher-Dimension" class="headerlink" title="Higher Dimension"></a>Higher Dimension</h3><p>saddle point in higher dimension</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210322203114110.png" alt="image-20210322203114110"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210322203719848.png" alt="image-20210322203719848"></p><h2 id="Lesson5-Batch-amp-amp-momentum"><a href="#Lesson5-Batch-amp-amp-momentum" class="headerlink" title="Lesson5 Batch &amp;&amp; momentum"></a>Lesson5 Batch &amp;&amp; momentum</h2><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210322210323144.png" alt="image-20210322210323144"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210322211258840.png" alt="image-20210322211258840"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210322211559760.png" alt="image-20210322211559760"></p><p>Large Batch need smaller time for one epoch while Small Batch need more time for one epoch</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210322211838918.png" alt="image-20210322211838918"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210322212553416.png" alt="image-20210322212553416"></p><p><strong>Whatâ€™s wrong with large batch size? â€”&gt; Optimization Fails</strong></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210322212810837.png" alt="image-20210322212810837"></p><p><strong>Small batch:  when one batch cracked in a critical point, another somehow will over come it.</strong></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210322213134958.png" alt="image-20210322213134958"></p><p><strong>small batch is better on test data. </strong></p><p><strong>small batch is worse on test data. â€”&gt; overfitting</strong></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210322213445078.png" alt="image-20210322213445078"></p><p><strong>Many differences on Small Batch V.S. Large Batch</strong></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210322214258723.png" alt="image-20210322214258723"></p><h3 id="Momentum"><a href="#Momentum" class="headerlink" title="Momentum"></a>Momentum</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210322214716830.png" alt="image-20210322214716830"></p><p><strong>Obey the inverse orientation of Gradient Descent to update the Next New Gradient</strong></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210322214829989.png" alt="image-20210322214829989"></p><p> <img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210322215300968.png" alt="image-20210322215300968"></p><h2 id="Lesson6-Learn-rate-Error-surface-is-rugged"><a href="#Lesson6-Learn-rate-Error-surface-is-rugged" class="headerlink" title="Lesson6 Learn rate (Error surface is rugged)"></a>Lesson6 Learn rate (Error surface is rugged)</h2><p>Tips for training: Adaptive Learning Rate.</p><h3 id="Training-stuck-Small-Gradient"><a href="#Training-stuck-Small-Gradient" class="headerlink" title="Training stuck != Small Gradient"></a>Training stuck != Small Gradient</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20210325094650916.png" alt="image-20210325094650916"></p><p> Error surface is left side of above pic.</p><p>we can see the gradient vibrate between the two peak.</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20210325095419288.png" alt="image-20210325095419288"></p><p>Learning rate too big or too small.</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-25%20at%2010.32.12.png" alt="Screen Shot 2021-03-25 at 10.32.12"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-25%20at%2010.42.42.png" alt="Screen Shot 2021-03-25 at 10.42.42"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-25%20at%2010.43.55.png" alt="Screen Shot 2021-03-25 at 10.43.55"></p><h3 id="Learning-rate-adapts-dynamically"><a href="#Learning-rate-adapts-dynamically" class="headerlink" title="Learning rate adapts dynamically"></a>Learning rate adapts dynamically</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-25%20at%2010.45.01.png" alt="Screen Shot 2021-03-25 at 10.45.01"></p><p>RMSProp is unpublished optimization algorithm designed for neural networks, first proposed by Geoff Hinton in lecture 6 of online course.</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-25%20at%2010.50.49.png" alt="Screen Shot 2021-03-25 at 10.50.49"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-25%20at%2010.52.27.png" alt="Screen Shot 2021-03-25 at 10.52.27"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-25%20at%2010.52.56.png" alt="Screen Shot 2021-03-25 at 10.52.56"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-25%20at%2011.02.06.png" alt="Screen Shot 2021-03-25 at 11.02.06"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-25%20at%2011.04.22.png" alt="Screen Shot 2021-03-25 at 11.04.22"></p><h3 id="Learning-Rate-Scheduling"><a href="#Learning-Rate-Scheduling" class="headerlink" title="Learning Rate Scheduling"></a>Learning Rate Scheduling</h3><ul><li>Decay</li><li>Warm up</li></ul><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-25%20at%2011.05.33.png" alt="Screen Shot 2021-03-25 at 11.05.33"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-25%20at%2011.18.04.png" alt="Screen Shot 2021-03-25 at 11.18.04"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-25%20at%2011.19.27.png" alt="Screen Shot 2021-03-25 at 11.19.27"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-25%20at%2011.22.35.png" alt="Screen Shot 2021-03-25 at 11.22.35"></p><h2 id="Lesson-7-Loss-Function-Influence"><a href="#Lesson-7-Loss-Function-Influence" class="headerlink" title="Lesson 7  Loss Function Influence"></a>Lesson 7  Loss Function Influence</h2><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-25%20at%2013.01.23.png" alt="Screen Shot 2021-03-25 at 13.01.23"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-25%20at%2013.01.44.png" alt="Screen Shot 2021-03-25 at 13.01.44"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-25%20at%2013.05.14.png" alt="Screen Shot 2021-03-25 at 13.05.14"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-25%20at%2013.06.17.png" alt="Screen Shot 2021-03-25 at 13.06.17"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-25%20at%2013.07.45.png" alt="Screen Shot 2021-03-25 at 13.07.45"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-25%20at%2013.11.46.png" alt="Screen Shot 2021-03-25 at 13.11.46"></p><h3 id="Mean-Square-Error-MSE-VS-Cross-entropy"><a href="#Mean-Square-Error-MSE-VS-Cross-entropy" class="headerlink" title="Mean Square Error(MSE)  VS  Cross-entropy"></a>Mean Square Error(MSE)  VS  Cross-entropy</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-25%20at%2013.16.52.png" alt="Screen Shot 2021-03-25 at 13.16.52"></p><h2 id="Lesson8-CNN-Image-Classification"><a href="#Lesson8-CNN-Image-Classification" class="headerlink" title="Lesson8 CNN - Image Classification"></a>Lesson8 CNN - Image Classification</h2><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-26%20at%2021.12.20.png" alt="Screen Shot 2021-03-26 at 21.12.20"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-26%20at%2021.23.33.png" alt="Screen Shot 2021-03-26 at 21.23.33"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-26%20at%2021.29.28.png" alt="Screen Shot 2021-03-26 at 21.29.28"></p><p><strong>All weight == input x kernal x out</strong>.</p><p><strong>Identifying some critical patterns to ensure a certain object.</strong></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20210326213233416.png" alt="image-20210326213233416"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-26%20at%2021.37.56.png" alt="Screen Shot 2021-03-26 at 21.37.56"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-26%20at%2021.47.26.png" alt="Screen Shot 2021-03-26 at 21.47.26"></p><h3 id="Receptive-field-design"><a href="#Receptive-field-design" class="headerlink" title="Receptive field design"></a>Receptive field design</h3><ul><li>can different neurons have different sizes of receptive field.</li><li>cover only some channels.</li><li>not square receptive field.</li></ul><h3 id="Typical-Setting-of-Receptive-neural"><a href="#Typical-Setting-of-Receptive-neural" class="headerlink" title="Typical Setting of Receptive neural"></a>Typical Setting of Receptive neural</h3><ul><li>kernal size usually is 3x3</li><li><p>one receptive neural typically has 64 neurons</p></li><li><p>stride</p></li><li>overlap</li><li>padding: when over the whole image</li></ul><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-26%20at%2021.57.52.png" alt="Screen Shot 2021-03-26 at 21.57.52"></p><h3 id="The-same-patterns-appear-in-different-regions"><a href="#The-same-patterns-appear-in-different-regions" class="headerlink" title="The same patterns appear in different regions."></a>The same patterns appear in different regions.</h3><h3 id="does-every-region-need-a-pattern-detection"><a href="#does-every-region-need-a-pattern-detection" class="headerlink" title="does every region need a pattern detection?"></a>does every region need a pattern detection?</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-26%20at%2021.59.40.png" alt="Screen Shot 2021-03-26 at 21.59.40"></p><p><strong>Solution to above issue ==&gt; Parameter Sharing</strong></p><p><strong>same weight in different regions</strong></p><p><strong>different weight in two neurons with the same receptive field == two neurons with the same receptive field would not share parameters.</strong></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-26%20at%2022.03.48.png" alt="Screen Shot 2021-03-26 at 22.03.48"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-26%20at%2022.10.09.png" alt="Screen Shot 2021-03-26 at 22.10.09"></p><h3 id="Benefit-of-Convolutional-Layer"><a href="#Benefit-of-Convolutional-Layer" class="headerlink" title="Benefit of Convolutional Layer"></a>Benefit of Convolutional Layer</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-26%20at%2022.12.56.png" alt="Screen Shot 2021-03-26 at 22.12.56"></p><h3 id="Another-good-story-to-describe-Convolutional-Layer"><a href="#Another-good-story-to-describe-Convolutional-Layer" class="headerlink" title="Another good story to describe Convolutional Layer"></a>Another good story to describe Convolutional Layer</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20210326221441500.png" alt="image-20210326221441500"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-26%20at%2022.16.50.png" alt="Screen Shot 2021-03-26 at 22.16.50"></p><h3 id="Feature-Map"><a href="#Feature-Map" class="headerlink" title="Feature Map"></a><strong>Feature Map</strong></h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-26%20at%2022.17.49.png" alt="Screen Shot 2021-03-26 at 22.17.49"></p><p>1channel x 64 filter â€”&gt; â€œimageâ€ with 64 channels x  3x3x64 filter â€”&gt; â€œimageâ€ with 64x3x3x64 channels â€”&gt;â€¦</p><p>When with deeper Convolutional Layers.</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-26%20at%2022.24.21.png" alt="Screen Shot 2021-03-26 at 22.24.21"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-26%20at%2022.29.13.png" alt="Screen Shot 2021-03-26 at 22.29.13"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-26%20at%2022.29.48.png" alt="Screen Shot 2021-03-26 at 22.29.48"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-26%20at%2022.30.37.png" alt="Screen Shot 2021-03-26 at 22.30.37"></p><h3 id="Pooling"><a href="#Pooling" class="headerlink" title="Pooling"></a>Pooling</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-26%20at%2022.31.40.png" alt="Screen Shot 2021-03-26 at 22.31.40"></p><p>Max pooling: select the max num of a receptive filed.</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-26%20at%2022.33.07.png" alt="Screen Shot 2021-03-26 at 22.33.07"></p><p>pooling: do the things that makes the image smaller.</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-26%20at%2022.34.44.png" alt="Screen Shot 2021-03-26 at 22.34.44"></p><p>pooling: sometimes make some damages in the result of Image Identification.</p><h3 id="The-Whole-CNN"><a href="#The-Whole-CNN" class="headerlink" title="The Whole CNN"></a>The Whole CNN</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-26%20at%2022.36.52.png" alt="Screen Shot 2021-03-26 at 22.36.52"></p><p>Flatten: makes the latter matrix like vector.</p><p>Then do with a softmax.</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-26%20at%2022.41.46.png" alt="Screen Shot 2021-03-26 at 22.41.46"></p><p>Why CNN for Go Playing?</p><ul><li>some patterns are much smaller the the whole image</li><li>The same patterns apear in different regions.</li></ul><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-26%20at%2022.43.10.png" alt="Screen Shot 2021-03-26 at 22.43.10"></p><p>Alpha Go does not use Poolingâ€¦</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-26%20at%2022.46.49.png" alt="Screen Shot 2021-03-26 at 22.46.49"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-26%20at%2022.49.30.png" alt="Screen Shot 2021-03-26 at 22.49.30"></p><p>CNN need data augmentation in Image Identification work.</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-26%20at%2022.51.40.png" alt="Screen Shot 2021-03-26 at 22.51.40"></p><h2 id="Lesson9-Self-Attention-part1"><a href="#Lesson9-Self-Attention-part1" class="headerlink" title="Lesson9 Self-Attention (part1)"></a>Lesson9 Self-Attention (part1)</h2><p><strong>è´§æ‹‰æ‹‰æ‹‰ä¸æ‹‰æ‹‰å¸ƒæ‹‰å¤šçŠ¬å‘¢</strong></p><p>When the input is a set of vectors ( not one vector )</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2011.01.38.png" alt="Screen Shot 2021-03-28 at 11.01.38"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2011.04.11.png" alt="Screen Shot 2021-03-28 at 11.04.11"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2011.05.53.png" alt="Screen Shot 2021-03-28 at 11.05.53"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2011.06.52.png" alt="Screen Shot 2021-03-28 at 11.06.52"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2011.07.42.png" alt="Screen Shot 2021-03-28 at 11.07.42"></p><h3 id="What-is-the-output"><a href="#What-is-the-output" class="headerlink" title="What is the output?"></a>What is the output?</h3><p><strong>N to N</strong></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2011.09.58.png" alt="Screen Shot 2021-03-28 at 11.09.58"></p><p><strong>N to One</strong></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2011.11.38.png" alt="Screen Shot 2021-03-28 at 11.11.38"></p><p><strong>N to somewhat. seq2seq</strong></p><p><strong>seq2seq: </strong></p><ul><li>translate</li><li>speech recognization</li></ul><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2011.12.37.png" alt="Screen Shot 2021-03-28 at 11.12.37"></p><h3 id="Sequence-Labeling-N2N"><a href="#Sequence-Labeling-N2N" class="headerlink" title="Sequence Labeling: N2N"></a>Sequence Labeling: N2N</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2011.56.56.png" alt="Screen Shot 2021-03-28 at 11.56.56"></p><h3 id="Self-attention"><a href="#Self-attention" class="headerlink" title="Self-attention"></a>Self-attention</h3><p><strong>Attention is all you need. </strong></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20210328232756703.png" alt="image-20210328232756703"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2012.04.56.png" alt="Screen Shot 2021-03-28 at 12.04.56"></p><p>First of all, input into a self-attention layer; then it will output a series of different vectors; a series of different vectors input into Full Connection Layers.</p><p>FC and self-attention can be traded off to use. ( alternate use )</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2012.07.53.png" alt="Screen Shot 2021-03-28 at 12.07.53"></p><p>input of Self-attention can be either input or a hidden layer.</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2012.11.06.png" alt="Screen Shot 2021-03-28 at 12.11.06"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2012.14.22.png" alt="Screen Shot 2021-03-28 at 12.14.22"></p><p>how to calculate alpha</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2012.16.56.png" alt="Screen Shot 2021-03-28 at 12.16.56"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2012.32.30.png" alt="Screen Shot 2021-03-28 at 12.32.30"></p><p><img src="/Users/guoxinli/Library/Application Support/typora-user-images/Screen Shot 2021-03-28 at 12.33.46.png" alt="Screen Shot 2021-03-28 at 12.33.46"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2012.35.30.png" alt="Screen Shot 2021-03-28 at 12.35.30"></p><p>One of the input vector ( V ) will be more sammilar to the result ( b ), if its attention is the biggest one.</p><h2 id="Lesson10-Self-Attention-part2"><a href="#Lesson10-Self-Attention-part2" class="headerlink" title="Lesson10 Self-Attention ( part2 )"></a>Lesson10 Self-Attention ( part2 )</h2><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2012.38.21.png" alt="Screen Shot 2021-03-28 at 12.38.21"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2012.41.25.png" alt="Screen Shot 2021-03-28 at 12.41.25"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2012.43.08.png" alt="Screen Shot 2021-03-28 at 12.43.08"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2012.45.16.png" alt="Screen Shot 2021-03-28 at 12.45.16"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2012.48.52.png" alt="Screen Shot 2021-03-28 at 12.48.52"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2012.50.35.png" alt="Screen Shot 2021-03-28 at 12.50.35"></p><p><strong>Multi-head Self-attention</strong></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20210328125717534.png" alt="image-20210328125717534"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2012.53.36.png" alt="Screen Shot 2021-03-28 at 12.53.36"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2012.58.02.png" alt="Screen Shot 2021-03-28 at 12.58.02"></p><h3 id="Positional-Encoding"><a href="#Positional-Encoding" class="headerlink" title="Positional Encoding"></a>Positional Encoding</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2013.01.23.png" alt="Screen Shot 2021-03-28 at 13.01.23"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2013.02.37.png" alt="Screen Shot 2021-03-28 at 13.02.37"></p><h3 id="Self-attention-for-Speech"><a href="#Self-attention-for-Speech" class="headerlink" title="Self-attention for Speech"></a><strong>Self-attention for Speech</strong></h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2013.04.27.png" alt="Screen Shot 2021-03-28 at 13.04.27"></p><h3 id="Self-attention-for-image"><a href="#Self-attention-for-image" class="headerlink" title="Self-attention for image"></a>Self-attention for image</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2013.05.56.png" alt="Screen Shot 2021-03-28 at 13.05.56"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2013.06.40.png" alt="Screen Shot 2021-03-28 at 13.06.40"></p><h3 id="Self-attention-V-S-CNN"><a href="#Self-attention-V-S-CNN" class="headerlink" title="Self-attention V.S. CNN"></a>Self-attention V.S. CNN</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2013.08.32.png" alt="Screen Shot 2021-03-28 at 13.08.32"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2013.09.27.png" alt="Screen Shot 2021-03-28 at 13.09.27"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2013.12.16.png" alt="Screen Shot 2021-03-28 at 13.12.16"></p><h3 id="Self-attention-V-S-RNN"><a href="#Self-attention-V-S-RNN" class="headerlink" title="Self-attention V.S. RNN"></a><strong>Self-attention V.S. RNN</strong></h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20210328131639631.png" alt="image-20210328131639631"></p><h3 id="Self-attention-for-Graph"><a href="#Self-attention-for-Graph" class="headerlink" title="Self-attention for Graph"></a>Self-attention for Graph</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2013.18.35.png" alt="Screen Shot 2021-03-28 at 13.18.35"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-28%20at%2013.20.39.png" alt="Screen Shot 2021-03-28 at 13.20.39"></p><h2 id="Lesson11-Transformer-1"><a href="#Lesson11-Transformer-1" class="headerlink" title="Lesson11 Transformer 1"></a>Lesson11 Transformer 1</h2><p>transformer å°±æ˜¯ä¸€ä¸ª sequence to sequence çš„model</p><p>å³ Seq2seq</p><p>å°±æ˜¯è¯´åœ¨ input ä¸€ä¸ª sequence ä¹‹åå†è¾“å‡ºä¸€ä¸ª sequenceï¼Œè¿™ä¸ª output çš„ sequence çš„é•¿åº¦æ˜¯ç”±æ¨¡å‹æ‰€å†³å®šçš„ï¼Œæ˜¯ä¸çŸ¥é“å¤šé•¿çš„ã€‚</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-04-22%20at%2010.51.15.png" alt="Screen Shot 2021-04-22 at 10.51.15"></p><p>è¯­éŸ³åˆæˆï¼šText to Speech TTS</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-04-22%20at%2012.24.54.png" alt="Screen Shot 2021-04-22 at 12.24.54"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-04-22%20at%2012.29.06.png" alt="Screen Shot 2021-04-22 at 12.29.06"></p><h2 id="Lesson12-Transformer2"><a href="#Lesson12-Transformer2" class="headerlink" title="Lesson12 Transformer2"></a>Lesson12 Transformer2</h2><h3 id="Sequence-to-Sequence-çš„-Encoder"><a href="#Sequence-to-Sequence-çš„-Encoder" class="headerlink" title="Sequence to Sequence çš„ Encoder"></a>Sequence to Sequence çš„ Encoder</h3><p>encoder é¦–å…ˆè¦æ„ä¹‰å°±æ˜¯ input ä¸€æ’å‘é‡ï¼Œç„¶åè¾“å‡ºä¸€æ’å‘é‡ã€‚å¯ä»¥ä½¿ç”¨ self-attention æˆ–è€… RNN ã€CNN</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-04-22%20at%2012.34.14.png" alt="Screen Shot 2021-04-22 at 12.34.14"></p><p>ç®€å•åŒ–æ¨¡å‹ï¼š</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-04-22%20at%2012.36.29.png" alt="Screen Shot 2021-04-22 at 12.36.29"></p><p>transformer ä¸­</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20210422124156322.png" alt="image-20210422124156322"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-04-22%20at%2012.43.20.png" alt="Screen Shot 2021-04-22 at 12.43.20"></p><h3 id="Decoder-autoregressive-decoder"><a href="#Decoder-autoregressive-decoder" class="headerlink" title="Decoder. autoregressive decoder"></a>Decoder. autoregressive decoder</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20210422130533582.png" alt="image-20210422130533582"></p><p>decoder ä¼šæŠŠè‡ªå·±çš„è¾“å‡ºå½“ä½œä¸‹ä¸€ä¸ªè¾“å…¥</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-04-22%20at%2013.06.35.png" alt="Screen Shot 2021-04-22 at 13.06.35"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-04-29%20at%2023.55.15.png" alt="Screen Shot 2021-04-29 at 23.55.15"></p><p><strong>Encoder ä¸ Decoder çš„æ¯”è¾ƒ</strong></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-04-29%20at%2023.55.52.png" alt="Screen Shot 2021-04-29 at 23.55.52"></p><p>Masked çš„åŒºåˆ«åœ¨äºï¼š</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-04-29%20at%2023.58.01.png" alt="Screen Shot 2021-04-29 at 23.58.01"></p><p>äº§ç”Ÿ b1 çš„æ—¶å€™ä¸è€ƒè™‘åé¢çš„ a2ï¼Œa3ï¼Œa4ï¼ŒåŒç†äº§ç”Ÿ b2ï¼Œb3ï¼Œb4.</p><p>éœ€è¦æ·»åŠ ç‰¹æ®Šç¬¦å·æ¥ä½¿ decoder åœæ­¢</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20210430000228745.png" alt="image-20210430000228745"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-04-30%20at%2000.02.46.png" alt="Screen Shot 2021-04-30 at 00.02.46"></p><p>Auto regression ä¸ Non-Auto regression</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20210430000657115.png" alt="image-20210430000657115"></p><h3 id="encoder-ä¸-decoder-æ€æ ·ä¼ é€’èµ„è®¯"><a href="#encoder-ä¸-decoder-æ€æ ·ä¼ é€’èµ„è®¯" class="headerlink" title="encoder ä¸ decoder æ€æ ·ä¼ é€’èµ„è®¯"></a>encoder ä¸ decoder æ€æ ·ä¼ é€’èµ„è®¯</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20210430000825225.png" alt="image-20210430000825225"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-04-30%20at%2000.10.14.png" alt="Screen Shot 2021-04-30 at 00.10.14"></p><h3 id="Training"><a href="#Training" class="headerlink" title="Training"></a>Training</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20210430001619998.png" alt="image-20210430001619998"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20210430001657890.png" alt="image-20210430001657890"></p><p>æœ€å°åŒ– æ‰€æœ‰çš„ cross entropy çš„æ€»å’Œã€‚</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-04-30%20at%2000.18.13.png" alt="Screen Shot 2021-04-30 at 00.18.13"></p><p>decoder çš„æ—¶å€™ä¼šè¾“å…¥æ­£ç¡®çš„ä¿¡æ¯ã€‚</p><h3 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-04-30%20at%2000.20.05.png" alt="Screen Shot 2021-04-30 at 00.20.05"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-04-30%20at%2000.25.43.png" alt="Screen Shot 2021-04-30 at 00.25.43"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-04-30%20at%2000.28.13.png" alt="Screen Shot 2021-04-30 at 00.28.13"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20210430003215351.png" alt="image-20210430003215351"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-04-30%20at%2000.32.53.png" alt="Screen Shot 2021-04-30 at 00.32.53"></p><p>è¿™ç§ä¸€ç§æ–¹æ³•æ˜¯ç»™ decoder çš„è¾“å…¥åŠ å…¥ä¸€äº›é”™è¯¯çš„ä¸œè¥¿ã€‚å³ä½¿ç”¨ scheduled sampling.</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20210430003349640.png" alt="image-20210430003349640"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Hongyi-Lee-Machine-Learning-Spring-Mandarin-â€”Notes&quot;&gt;&lt;a href=&quot;#Hongyi-Lee-Machine-Learning-Spring-Mandarin-â€”Notes&quot; class=&quot;headerlink&quot;
      
    
    </summary>
    
    
    
      <category term="learning-note" scheme="https://github.com/liysky/liysky.github.io.git/tags/learning-note/"/>
    
  </entry>
  
  <entry>
    <title>CPP refresh</title>
    <link href="https://github.com/liysky/liysky.github.io.git/2021/02/22/CPP-refresh/"/>
    <id>https://github.com/liysky/liysky.github.io.git/2021/02/22/CPP-refresh/</id>
    <published>2021-02-22T14:32:46.000Z</published>
    <updated>2021-04-28T14:05:07.371Z</updated>
    
    <content type="html"><![CDATA[<h1 id="CPP-refresh"><a href="#CPP-refresh" class="headerlink" title="CPP refresh"></a>CPP refresh</h1><h2 id="å†…å­˜æ¨¡å‹"><a href="#å†…å­˜æ¨¡å‹" class="headerlink" title="å†…å­˜æ¨¡å‹"></a>å†…å­˜æ¨¡å‹</h2><h3 id="ä»£ç åŒº"><a href="#ä»£ç åŒº" class="headerlink" title="ä»£ç åŒº"></a>ä»£ç åŒº</h3><p>å­˜æ”¾å‡½æ•°ä½“çš„äºŒè¿›åˆ¶ä»£ç ï¼Œç”±æ“ä½œç³»ç»Ÿè¿›è¡Œç®¡ç†</p><h3 id="å…¨å±€åŒº"><a href="#å…¨å±€åŒº" class="headerlink" title="å…¨å±€åŒº"></a>å…¨å±€åŒº</h3><p>å­˜æ”¾å…¨å±€å˜é‡å’Œé™æ€å˜é‡ä»¥åŠå¸¸é‡.</p><h3 id="æ ˆåŒº"><a href="#æ ˆåŒº" class="headerlink" title="æ ˆåŒº"></a>æ ˆåŒº</h3><ul><li>ç”±ç¼–è¯‘å™¨è‡ªåŠ¨åˆ†é…é‡Šæ”¾</li><li>å­˜æ”¾å‡½æ•°çš„å‚æ•°å€¼</li><li>å­˜æ”¾å±€éƒ¨å˜é‡</li></ul><h3 id="å †åŒº"><a href="#å †åŒº" class="headerlink" title="å †åŒº"></a>å †åŒº</h3><p>ç”±ç¨‹åºå‘˜åˆ†é…å’Œé‡Šæ”¾ï¼Œè‹¥ä¸æ‰‹åŠ¨é‡Šæ”¾ï¼Œæœ€åå°†ç”±æ“ä½œç³»ç»Ÿå›æ”¶</p><h3 id="ç¨‹åºè¿è¡Œå‰"><a href="#ç¨‹åºè¿è¡Œå‰" class="headerlink" title="ç¨‹åºè¿è¡Œå‰"></a>ç¨‹åºè¿è¡Œå‰</h3><p><em>ç¨‹åºç¼–è¯‘åï¼Œç”Ÿæˆ exe å¯æ‰§è¡Œç¨‹åºï¼Œæœªæ‰§è¡Œè¯¥ç¨‹åºå‰åˆ†ä¸ºä¸¤ä¸ªåŒºåŸŸ</em></p><ul><li>ä»£ç åŒºï¼š<ul><li>å­˜æ”¾ CPU æ‰§è¡Œçš„æœºå™¨æŒ‡ä»¤</li><li>ä»£ç åŒºæ˜¯å…±äº«çš„ï¼Œå…±äº«çš„çš„ç›®çš„æ˜¯å¯¹äºé¢‘ç¹è¢«æ‰§è¡Œçš„ç¨‹åºï¼Œåªéœ€è¦åœ¨å†…å­˜ä¸­ç”±ä¸€ä»½ä»£ç å³å¯</li><li>ä»£ç åŒºä¸º <strong>åªè¯»</strong>ï¼Œé˜²æ­¢ç¨‹åºæ„å¤–åœ°ä¿®æ”¹äº†å®ƒçš„æŒ‡ä»¤</li></ul></li><li>å…¨å±€åŒº<ul><li>å…¨å±€å˜é‡å’Œé™æ€å˜é‡å­˜æ”¾åœ¨æ­¤</li><li>å¸¸é‡åŒº</li><li>å­—ç¬¦ä¸²</li><li>å…¶ä»–å¸¸é‡</li></ul></li></ul><p>==è¯¥åŒºåŸŸçš„æ•°æ®åœ¨ç¨‹åºç»“æŸåç”±æ“ä½œç³»ç»Ÿé‡Šæ”¾==</p><h3 id="ç¨‹åºè¿è¡Œå"><a href="#ç¨‹åºè¿è¡Œå" class="headerlink" title="ç¨‹åºè¿è¡Œå"></a>ç¨‹åºè¿è¡Œå</h3><p>æ ˆåŒºï¼šç”±ç¼–è¯‘å™¨è‡ªåŠ¨åˆ†é…é‡Šæ”¾ï¼Œå­˜æ”¾å‡½æ•°å‚æ•°å€¼ï¼Œå±€éƒ¨å˜é‡</p><p>æ³¨æ„äº‹é¡¹ï¼šä¸è¦è¿”å›å±€éƒ¨å˜é‡çš„åœ°å€ï¼Œæ ˆåŒºå¼€è¾Ÿçš„æ•°æ®ç”±ç¼–è¯‘å™¨è‡ªåŠ¨é‡Šæ”¾</p><h3 id="new-æ“ä½œç¬¦"><a href="#new-æ“ä½œç¬¦" class="headerlink" title="new æ“ä½œç¬¦"></a>new æ“ä½œç¬¦</h3><p>CPP åˆ©ç”¨ new æ“ä½œç¬¦åœ¨å †åŒºå¼€è¾Ÿæ•°æ®</p><p>è¯­æ³•ï¼š<code>new æ•°æ®ç±»å‹</code></p><p>==åˆ©ç”¨ new åˆ›å»ºçš„æ•°æ®ï¼Œä¼šè¿”å›è¯¥æ•°æ®å¯¹åº”çš„ç±»å‹çš„æŒ‡é’ˆ==</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span>* <span class="title">func</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span>* a = <span class="keyword">new</span> <span class="keyword">int</span>(<span class="number">10</span>);</span><br><span class="line"><span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span>** argv)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> *p = func();</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; *p &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; *p &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; *p &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">delete</span> p;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>å¼€è¾Ÿæ•°ç»„</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å †åŒºå¼€è¾Ÿæ•°ç»„</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span>* arr = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">10</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">arr[i] = i + <span class="number">100</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; arr[i] &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//é‡Šæ”¾æ•°ç»„ delete ååŠ  []</span></span><br><span class="line"><span class="keyword">delete</span>[] arr;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å¼•ç”¨"><a href="#å¼•ç”¨" class="headerlink" title="å¼•ç”¨"></a>å¼•ç”¨</h2><p>å¼•ç”¨æ˜¯å¯ä»¥ä½œä¸ºå‡½æ•°è¿”å›å€¼å­˜åœ¨çš„</p><p>æ³¨æ„ä¸è¦è¿”å›å±€éƒ¨å˜é‡å¼•ç”¨</p><p>å‡½æ•°å˜é‡å¯ä»¥ä½œä¸ºå·¦å€¼ï¼Œåˆ™å¿…é¡»ä¸ºè¿”å›å¼•ç”¨ç±»å‹ï¼ˆæŒ‡é’ˆï¼‰</p><h3 id="å¼•ç”¨å¯ä»¥ä½œä¸ºå‡½æ•°çš„è¿”å›å€¼å­˜åœ¨"><a href="#å¼•ç”¨å¯ä»¥ä½œä¸ºå‡½æ•°çš„è¿”å›å€¼å­˜åœ¨" class="headerlink" title="å¼•ç”¨å¯ä»¥ä½œä¸ºå‡½æ•°çš„è¿”å›å€¼å­˜åœ¨"></a>å¼•ç”¨å¯ä»¥ä½œä¸ºå‡½æ•°çš„è¿”å›å€¼å­˜åœ¨</h3><p>âš ï¸ï¼šä¸è¦åœ¨å‡½æ•°é‡Œè¿”å›å±€éƒ¨å˜é‡</p><p><strong>å¦‚æœå‡½æ•°ä½œä¸ºå·¦å€¼ï¼Œåˆ™æ­¤è¢«ä½œä¸ºå·¦å€¼çš„å‡½æ•°å¿…é¡»è¿”å›ä¸ºå¼•ç”¨ç±»å‹</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span>&amp; <span class="title">quoteTest</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">static</span> <span class="keyword">int</span> a = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">return</span> a;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å¦‚æœå‡½æ•°ä½œä¸ºå·¦å€¼ï¼Œåˆ™æ­¤è¢«ä½œä¸ºå·¦å€¼çš„å‡½æ•°å¿…é¡»è¿”å›ä¸ºå¼•ç”¨ç±»å‹</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span>** argv)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span>&amp; ret = quoteTest();</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">"a: "</span>&lt;&lt; ret&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">"a: "</span>&lt;&lt; ret&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">quoteTest() = <span class="number">1000</span>;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">"modified ret: "</span>&lt;&lt; ret&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">"modified ret: "</span>&lt;&lt; ret&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å¼•ç”¨çš„æœ¬è´¨"><a href="#å¼•ç”¨çš„æœ¬è´¨" class="headerlink" title="å¼•ç”¨çš„æœ¬è´¨"></a>å¼•ç”¨çš„æœ¬è´¨</h3><p><strong>æœ¬è´¨ï¼šå¼•ç”¨çš„æœ¬è´¨åœ¨ C++ å†…éƒ¨å®ç°æ˜¯ä¸€ä¸ªæŒ‡é’ˆå¸¸é‡</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å‘ç°æ˜¯å¼•ç”¨ï¼Œè½¬æ¢ä¸º int* const ref = &amp;a;</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">(<span class="keyword">int</span>&amp; ref)</span></span>&#123;</span><br><span class="line">ref = <span class="number">100</span>; <span class="comment">// refæ˜¯å¼•ç”¨ï¼Œè½¬æ¢ä¸º*ref = 100</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> a = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è‡ªåŠ¨è½¬æ¢ä¸º int* const ref = &amp;a; æŒ‡é’ˆå¸¸é‡æ˜¯æŒ‡é’ˆæŒ‡å‘ä¸å¯æ”¹ï¼Œä¹Ÿè¯´æ˜ä¸ºä»€ä¹ˆå¼•ç”¨ä¸å¯æ›´æ”¹</span></span><br><span class="line"><span class="keyword">int</span>&amp; ref = a;</span><br><span class="line">ref = <span class="number">20</span>; <span class="comment">//å†…éƒ¨å‘ç°refæ˜¯å¼•ç”¨ï¼Œè‡ªåŠ¨å¸®æˆ‘ä»¬è½¬æ¢ä¸º: *ref = 20;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"a:"</span> &lt;&lt; a &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"ref:"</span> &lt;&lt; ref &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">func(a);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å¸¸é‡å¼•ç”¨"><a href="#å¸¸é‡å¼•ç”¨" class="headerlink" title="å¸¸é‡å¼•ç”¨"></a>å¸¸é‡å¼•ç”¨</h3><p>==å¸¸é‡å¼•ç”¨ä¸»è¦ç”¨æ¥ä¿®é¥°å½¢å‚ï¼Œé˜²æ­¢è¯¯æ“ä½œ==</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">showValue</span><span class="params">(<span class="keyword">const</span> <span class="keyword">int</span> &amp; val)</span></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; val &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span>** argv)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> temp = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span>&amp; test = temp;</span><br><span class="line">showValue(temp);</span><br><span class="line">showValue(test);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å‡½æ•°æé«˜"><a href="#å‡½æ•°æé«˜" class="headerlink" title="å‡½æ•°æé«˜"></a>å‡½æ•°æé«˜</h2><h3 id="å‡½æ•°å ä½å‚æ•°ç¤ºä¾‹"><a href="#å‡½æ•°å ä½å‚æ•°ç¤ºä¾‹" class="headerlink" title="å‡½æ•°å ä½å‚æ•°ç¤ºä¾‹"></a>å‡½æ•°å ä½å‚æ•°ç¤ºä¾‹</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span>)</span> </span>&#123;</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt;<span class="string">"pass"</span>&lt;&lt;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span>**argv)</span></span>&#123;</span><br><span class="line">  func(<span class="number">10</span>, <span class="number">10</span>);<span class="comment">//å ä½ç¬¦å‚æ•°å¿…é¡»è¿›è¡Œå¡«è¡¥</span></span><br><span class="line"></span><br><span class="line">  returen <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å‡½æ•°é‡è½½"><a href="#å‡½æ•°é‡è½½" class="headerlink" title="å‡½æ•°é‡è½½"></a>å‡½æ•°é‡è½½</h3><p>å‡½æ•°åå­—å¯ä»¥ç›¸åŒï¼Œæé«˜å¤ç”¨æ€§ã€‚</p><p>é‡è½½æ»¡è¶³æ¡ä»¶ï¼š</p><ul><li>åŒä¸€ä¸ªä½œç”¨åŸŸä¸‹</li><li>å‡½æ•°åç§°ç›¸åŒ</li><li>å‡½æ•°çš„å‚æ•°ç±»å‹ä¸åŒï¼Œæˆ–è€…ä¸ªæ•°ä¸åŒï¼Œæˆ–è€…é¡ºåºä¸åŒ</li></ul><p><strong>æ³¨æ„ï¼šå‡½æ•°çš„è¿”å›å€¼ä¸å¯ä»¥ä½œä¸ºå‡½æ•°é‡è½½çš„æ¡ä»¶</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å‡½æ•°é‡è½½éœ€è¦å‡½æ•°éƒ½åœ¨åŒä¸€ä¸ªä½œç”¨åŸŸä¸‹</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"func çš„è°ƒç”¨ï¼"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">(<span class="keyword">int</span> a)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"func (int a) çš„è°ƒç”¨ï¼"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">(<span class="keyword">double</span> a)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"func (double a)çš„è°ƒç”¨ï¼"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">(<span class="keyword">int</span> a ,<span class="keyword">double</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"func (int a ,double b) çš„è°ƒç”¨ï¼"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">(<span class="keyword">double</span> a ,<span class="keyword">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"func (double a ,int b)çš„è°ƒç”¨ï¼"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å‡½æ•°è¿”å›å€¼ä¸å¯ä»¥ä½œä¸ºå‡½æ•°é‡è½½æ¡ä»¶</span></span><br><span class="line"><span class="comment">//int func(double a, int b)</span></span><br><span class="line"><span class="comment">//&#123;</span></span><br><span class="line"><span class="comment">//cout &lt;&lt; "func (double a ,int b)çš„è°ƒç”¨ï¼" &lt;&lt; endl;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">func();</span><br><span class="line">func(<span class="number">10</span>);</span><br><span class="line">func(<span class="number">3.14</span>);</span><br><span class="line">func(<span class="number">10</span>,<span class="number">3.14</span>);</span><br><span class="line">func(<span class="number">3.14</span> , <span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å‡½æ•°é‡è½½æ³¨æ„äº‹é¡¹"><a href="#å‡½æ•°é‡è½½æ³¨æ„äº‹é¡¹" class="headerlink" title="å‡½æ•°é‡è½½æ³¨æ„äº‹é¡¹"></a>å‡½æ•°é‡è½½æ³¨æ„äº‹é¡¹</h3><ul><li>å¼•ç”¨ä½œä¸ºé‡è½½æ¡ä»¶</li><li>å‡½æ•°é‡è½½ç¢°åˆ°å‡½æ•°é»˜è®¤å‚æ•°</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// 1. å¼•ç”¨ä½œä¸ºé‡è½½æ¡ä»¶</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">(<span class="keyword">int</span> &amp;a)</span><span class="comment">// int &amp;a = 10 ä¸åˆæ³•</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">"func (int &amp;a)"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">(<span class="keyword">const</span> <span class="keyword">int</span> &amp;a)</span> <span class="comment">//const int &amp;a = 10 åˆæ³•</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">"func(const int &amp;a)"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. å‡½æ•°é‡è½½ç¢°åˆ°å‡½æ•°é»˜è®¤å‚æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">funcc</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b = <span class="number">10</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">"..."</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">funcc</span><span class="params">(<span class="keyword">int</span> a )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">"..."</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">  <span class="keyword">int</span> a = <span class="number">10</span>;</span><br><span class="line">  <span class="comment">// 1.</span></span><br><span class="line">  func(a);<span class="comment">// è°ƒç”¨æ—  const</span></span><br><span class="line">  func(<span class="number">10</span>);<span class="comment">// è°ƒç”¨æœ‰ const</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// 2.</span></span><br><span class="line">  <span class="comment">// funcc(100); //äº§ç”Ÿæ­§ä¹‰</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ç±»å’Œå¯¹è±¡"><a href="#ç±»å’Œå¯¹è±¡" class="headerlink" title="ç±»å’Œå¯¹è±¡"></a>ç±»å’Œå¯¹è±¡</h2><p>==å°è£…ã€ç»§æ‰¿ã€å¤šæ€==</p><p><strong>è®¾è®¡ä¸€ä¸ªåœ†ï¼Œæ±‚åœ†çš„å‘¨é•¿</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">double</span> PI = <span class="number">3.1415926535</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Circle</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">int</span> radius;</span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">calculatePT</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="number">2</span> * PI * radius;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  Circle cl;</span><br><span class="line">  cl.radius = <span class="number">10</span>;</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">"perimeter is: "</span> &lt;&lt; cl.calculatePT()&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>è®¾è®¡ä¸€ä¸ªå­¦ç”Ÿç±»ï¼Œæœ‰å§“åå’Œå­¦å·ï¼Œå¯ä»¥ç»™å§“åå’Œå­¦å·èµ‹å€¼ï¼Œæ˜¾ç¤ºå­¦ç”Ÿå§“åå’Œå­¦å·</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">setName</span><span class="params">(<span class="keyword">String</span> name)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>-&gt;name = name;</span><br><span class="line">    &#125;</span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">setId</span><span class="params">(<span class="keyword">int</span> id)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>-&gt;id = id;</span><br><span class="line">    &#125;</span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">showStudent</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">      <span class="built_in">cout</span> &lt;&lt; <span class="string">"name: "</span>&lt;&lt; name &lt;&lt; <span class="string">"id: "</span>&lt;&lt; id&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  <span class="keyword">String</span> name;</span><br><span class="line">  <span class="keyword">int</span> id;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  Student stu;</span><br><span class="line">  stu.setName(<span class="string">"nike"</span>);</span><br><span class="line">  stu.setId(<span class="number">123</span>);</span><br><span class="line">  stu.showStudent();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å°è£…æƒé™ï¼š"><a href="#å°è£…æƒé™ï¼š" class="headerlink" title="å°è£…æƒé™ï¼š"></a>å°è£…æƒé™ï¼š</h3><p>public ï¼šå…¬å…±æƒé™ï¼Œç±»å†…å¯ä»¥è®¿é—®ï¼Œç±»å¤–ä¹Ÿå¯ä»¥è®¿é—®</p><p>protectedï¼šä¿æŠ¤æƒé™ï¼Œç±»å†…å¯ä»¥è®¿é—®ï¼Œç±»å¤–ä¸å¯ä»¥è®¿é—®</p><p>privateï¼šç§æœ‰æƒé™ï¼Œç±»å†…å¯ä»¥è®¿é—®ï¼Œç±»å¤–ä¸å¯ä»¥è®¿é—®</p><h3 id="struct-ä¸-class-åŒºåˆ«"><a href="#struct-ä¸-class-åŒºåˆ«" class="headerlink" title="struct ä¸ class  åŒºåˆ«"></a>struct ä¸ class  åŒºåˆ«</h3><p>äºŒè€…çš„å”¯ä¸€åŒºåˆ«åœ¨äºé»˜è®¤çš„è®¿é—®æƒé™çš„ä¸åŒ</p><ul><li>struct ä¸ºé»˜è®¤å…¬å…±</li><li>class ä¸ºé»˜è®¤ç§æœ‰</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C1</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">int</span>  m_A; <span class="comment">//é»˜è®¤æ˜¯ç§æœ‰æƒé™</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">C2</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">int</span> m_A;  <span class="comment">//é»˜è®¤æ˜¯å…¬å…±æƒé™</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">C1 c1;</span><br><span class="line">c1.m_A = <span class="number">10</span>; <span class="comment">//é”™è¯¯ï¼Œè®¿é—®æƒé™æ˜¯ç§æœ‰</span></span><br><span class="line"></span><br><span class="line">C2 c2;</span><br><span class="line">c2.m_A = <span class="number">10</span>; <span class="comment">//æ­£ç¡®ï¼Œè®¿é—®æƒé™æ˜¯å…¬å…±</span></span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å¯¹è±¡çš„åˆå§‹åŒ–å’Œæ¸…ç†"><a href="#å¯¹è±¡çš„åˆå§‹åŒ–å’Œæ¸…ç†" class="headerlink" title="å¯¹è±¡çš„åˆå§‹åŒ–å’Œæ¸…ç†"></a>å¯¹è±¡çš„åˆå§‹åŒ–å’Œæ¸…ç†</h3><p>C++ åˆ©ç”¨æ„é€ å‡½æ•°å’Œææ„å‡½æ•°è§£å†³å¯¹è±¡çš„åˆå§‹åŒ–å’Œæ¸…ç†ä¸¤ä¸ªé‡è¦é—®é¢˜ã€‚</p><p><strong>å¦‚æœä¸æ‰‹åŠ¨æä¾›æ„é€ å‡½æ•°å’Œææ„å‡½æ•°ï¼Œç¼–è¯‘å™¨ä¼šæä¾›</strong></p><p>æ„é€ å‡½æ•°è¯­æ³•ï¼š<code>ç±»å(){}</code></p><ul><li>æ„é€ å‡½æ•°ï¼Œæ²¡æœ‰è¿”å›å€¼ï¼Œä¸å†™void</li><li>å‡½æ•°åç§°ä¸ç±»åç§°ç›¸åŒ</li><li>æ„é€ å‡½æ•°å¯ä»¥æœ‰å‚æ•°ï¼Œå¯ä»¥å‘ç”Ÿé‡è½½</li><li>ç¨‹åºåœ¨è°ƒç”¨å¯¹è±¡æ—¶å€™ä¼šè‡ªåŠ¨è°ƒç”¨æ„é€ ï¼Œä¸”åªè°ƒç”¨ä¸€æ¬¡</li></ul><p>ææ„å‡½æ•°è¯­æ³•ï¼š<code>ï½ç±»å(){}</code></p><ul><li>ææ„å‡½æ•°æ²¡æœ‰è¿”å›å€¼ä¸å†™void</li><li>å‡½æ•°åä¸ç±»åç›¸åŒï¼Œå‰åŠ  ï½</li><li>ææ„å‡½æ•°ä¸å¯ä»¥æœ‰å‚æ•°ï¼Œä¸å‘ç”Ÿé‡è½½</li><li>ç¨‹åºåœ¨å¯¹è±¡é”€æ¯å‰è‡ªåŠ¨è°ƒç”¨ææ„ï¼Œæ— éœ€æ‰‹åŠ¨è°ƒç”¨ï¼Œä¸”åªè°ƒç”¨ä¸€æ¬¡</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="comment">//æ„é€ å‡½æ•°</span></span><br><span class="line">Person()</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"Personçš„æ„é€ å‡½æ•°è°ƒç”¨"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//ææ„å‡½æ•°</span></span><br><span class="line">~Person()</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"Personçš„ææ„å‡½æ•°è°ƒç”¨"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Person p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ„é€ å‡½æ•°ä¸­çš„æ‹·è´æ„é€ å‡½æ•°"><a href="#æ„é€ å‡½æ•°ä¸­çš„æ‹·è´æ„é€ å‡½æ•°" class="headerlink" title="æ„é€ å‡½æ•°ä¸­çš„æ‹·è´æ„é€ å‡½æ•°"></a>æ„é€ å‡½æ•°ä¸­çš„æ‹·è´æ„é€ å‡½æ•°</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>&#123;</span></span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  Person(<span class="keyword">const</span> Person&amp; p)</span><br><span class="line">    &#123;</span><br><span class="line">      age = p.age;</span><br><span class="line">      <span class="built_in">cout</span> &lt;&lt; <span class="string">"æ‹·è´æ„é€ å‡½æ•°"</span>&lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  <span class="keyword">int</span> age;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>//æ³¨æ„1ï¼šè°ƒç”¨æ— å‚æ„é€ å‡½æ•°ä¸èƒ½åŠ æ‹¬å·ï¼Œå¦‚æœåŠ äº†ç¼–è¯‘å™¨è®¤ä¸ºè¿™æ˜¯ä¸€ä¸ªå‡½æ•°å£°æ˜</p><p>//æ³¨æ„2ï¼šä¸èƒ½åˆ©ç”¨ æ‹·è´æ„é€ å‡½æ•° åˆå§‹åŒ–åŒ¿åå¯¹è±¡ ç¼–è¯‘å™¨è®¤ä¸ºæ˜¯å¯¹è±¡å£°æ˜</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1ã€æ„é€ å‡½æ•°åˆ†ç±»</span></span><br><span class="line"><span class="comment">// æŒ‰ç…§å‚æ•°åˆ†ç±»åˆ†ä¸º æœ‰å‚å’Œæ— å‚æ„é€    æ— å‚åˆç§°ä¸ºé»˜è®¤æ„é€ å‡½æ•°</span></span><br><span class="line"><span class="comment">// æŒ‰ç…§ç±»å‹åˆ†ç±»åˆ†ä¸º æ™®é€šæ„é€ å’Œæ‹·è´æ„é€ </span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="comment">//æ— å‚ï¼ˆé»˜è®¤ï¼‰æ„é€ å‡½æ•°</span></span><br><span class="line">Person() &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"æ— å‚æ„é€ å‡½æ•°!"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æœ‰å‚æ„é€ å‡½æ•°</span></span><br><span class="line">Person(<span class="keyword">int</span> a) &#123;</span><br><span class="line">age = a;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"æœ‰å‚æ„é€ å‡½æ•°!"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æ‹·è´æ„é€ å‡½æ•°</span></span><br><span class="line">Person(<span class="keyword">const</span> Person&amp; p) &#123;</span><br><span class="line">age = p.age;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"æ‹·è´æ„é€ å‡½æ•°!"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//ææ„å‡½æ•°</span></span><br><span class="line">~Person() &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"ææ„å‡½æ•°!"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="keyword">int</span> age;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//2ã€æ„é€ å‡½æ•°çš„è°ƒç”¨</span></span><br><span class="line"><span class="comment">//è°ƒç”¨æ— å‚æ„é€ å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span> </span>&#123;</span><br><span class="line">Person p; <span class="comment">//è°ƒç”¨æ— å‚æ„é€ å‡½æ•°</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è°ƒç”¨æœ‰å‚çš„æ„é€ å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test02</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//2.1  æ‹¬å·æ³•ï¼Œå¸¸ç”¨</span></span><br><span class="line"><span class="function">Person <span class="title">p1</span><span class="params">(<span class="number">10</span>)</span></span>;</span><br><span class="line"><span class="comment">//æ³¨æ„1ï¼šè°ƒç”¨æ— å‚æ„é€ å‡½æ•°ä¸èƒ½åŠ æ‹¬å·ï¼Œå¦‚æœåŠ äº†ç¼–è¯‘å™¨è®¤ä¸ºè¿™æ˜¯ä¸€ä¸ªå‡½æ•°å£°æ˜</span></span><br><span class="line"><span class="comment">//Person p2();</span></span><br><span class="line"><span class="comment">//Person p3(p2);</span></span><br><span class="line"><span class="comment">//2.2 æ˜¾å¼æ³•</span></span><br><span class="line">Person p2 = Person(<span class="number">10</span>);</span><br><span class="line">Person p3 = Person(p2);</span><br><span class="line">Person(<span class="number">10</span>)<span class="comment">//å•ç‹¬å†™å°±æ˜¯åŒ¿åå¯¹è±¡  å½“å‰è¡Œç»“æŸä¹‹åï¼Œé©¬ä¸Šææ„</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//2.3 éšå¼è½¬æ¢æ³•</span></span><br><span class="line">Person p4 = <span class="number">10</span>; <span class="comment">// Person p4 = Person(10);</span></span><br><span class="line">Person p5 = p4; <span class="comment">// Person p5 = Person(p4);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//æ³¨æ„2ï¼šä¸èƒ½åˆ©ç”¨ æ‹·è´æ„é€ å‡½æ•° åˆå§‹åŒ–åŒ¿åå¯¹è±¡ ç¼–è¯‘å™¨è®¤ä¸ºæ˜¯å¯¹è±¡å£°æ˜</span></span><br><span class="line"><span class="comment">//Person p5(p4);</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"><span class="comment">//test02();</span></span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ‹·è´æ„é€ å‡½æ•°è°ƒç”¨æ—¶æœº"><a href="#æ‹·è´æ„é€ å‡½æ•°è°ƒç”¨æ—¶æœº" class="headerlink" title="æ‹·è´æ„é€ å‡½æ•°è°ƒç”¨æ—¶æœº"></a>æ‹·è´æ„é€ å‡½æ•°è°ƒç”¨æ—¶æœº</h3><ul><li><p>ä½¿ç”¨ä¸€ä¸ªå·²ç»åˆ›å»ºå®Œæ¯•çš„å¯¹è±¡æ¥åˆå§‹åŒ–ä¸€ä¸ªæ–°å¯¹è±¡</p></li><li><p>å€¼ä¼ é€’çš„æ–¹å¼ç»™å‡½æ•°å‚æ•°ä¼ å€¼</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//2. å€¼ä¼ é€’çš„æ–¹å¼ç»™å‡½æ•°å‚æ•°ä¼ å€¼</span></span><br><span class="line"><span class="comment">//ç›¸å½“äºPerson p1 = p;</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">doWork</span><span class="params">(Person p1)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test02</span><span class="params">()</span> </span>&#123;</span><br><span class="line">Person p; <span class="comment">//æ— å‚æ„é€ å‡½æ•°</span></span><br><span class="line">doWork(p);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>ä»¥å€¼æ–¹å¼è¿”å›å±€éƒ¨å¯¹è±¡</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//3. ä»¥å€¼æ–¹å¼è¿”å›å±€éƒ¨å¯¹è±¡</span></span><br><span class="line"><span class="function">Person <span class="title">doWork2</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Person p1;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; (<span class="keyword">int</span> *)&amp;p1 &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">return</span> p1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test03</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Person p = doWork2();</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; (<span class="keyword">int</span> *)&amp;p &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-01%20at%2019.22.52.png" alt="Screen Shot 2021-03-01 at 19.22.52"></p><h3 id="æ„é€ å‡½æ•°è°ƒç”¨è§„åˆ™"><a href="#æ„é€ å‡½æ•°è°ƒç”¨è§„åˆ™" class="headerlink" title="æ„é€ å‡½æ•°è°ƒç”¨è§„åˆ™"></a>æ„é€ å‡½æ•°è°ƒç”¨è§„åˆ™</h3><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œc++ç¼–è¯‘å™¨è‡³å°‘ç»™ä¸€ä¸ªç±»æ·»åŠ 3ä¸ªå‡½æ•°</p><p>1ï¼é»˜è®¤æ„é€ å‡½æ•°(æ— å‚ï¼Œå‡½æ•°ä½“ä¸ºç©º)</p><p>2ï¼é»˜è®¤ææ„å‡½æ•°(æ— å‚ï¼Œå‡½æ•°ä½“ä¸ºç©º)</p><p>3ï¼é»˜è®¤æ‹·è´æ„é€ å‡½æ•°ï¼Œå¯¹å±æ€§è¿›è¡Œå€¼æ‹·è´</p><p>æ„é€ å‡½æ•°è°ƒç”¨è§„åˆ™å¦‚ä¸‹ï¼š</p><ul><li>å¦‚æœç”¨æˆ·å®šä¹‰æœ‰å‚æ„é€ å‡½æ•°ï¼Œc++ä¸åœ¨æä¾›é»˜è®¤æ— å‚æ„é€ ï¼Œä½†æ˜¯ä¼šæä¾›é»˜è®¤æ‹·è´æ„é€ </li></ul><ul><li>å¦‚æœç”¨æˆ·å®šä¹‰æ‹·è´æ„é€ å‡½æ•°ï¼Œc++ä¸ä¼šå†æä¾›å…¶ä»–æ„é€ å‡½æ•°</li></ul><h3 id="æ·±æ‹·è´ä¸æµ…æ‹·è´"><a href="#æ·±æ‹·è´ä¸æµ…æ‹·è´" class="headerlink" title="æ·±æ‹·è´ä¸æµ…æ‹·è´"></a>æ·±æ‹·è´ä¸æµ…æ‹·è´</h3><p>æµ…æ‹·è´ï¼šç®€å•çš„èµ‹å€¼æ‹·è´</p><p>æ·±æ‹·è´ï¼šåœ¨å †åŒºé‡æ–°ç”³è¯·ç©ºé—´ï¼Œè¿›è¡Œæ‹·è´æ“ä½œ</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="comment">//æ— å‚ï¼ˆé»˜è®¤ï¼‰æ„é€ å‡½æ•°</span></span><br><span class="line">Person() &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"æ— å‚æ„é€ å‡½æ•°!"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æœ‰å‚æ„é€ å‡½æ•°</span></span><br><span class="line">Person(<span class="keyword">int</span> age ,<span class="keyword">int</span> <span class="built_in">height</span>) &#123;</span><br><span class="line"></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"æœ‰å‚æ„é€ å‡½æ•°!"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">m_age = age;</span><br><span class="line">m_height = <span class="keyword">new</span> <span class="keyword">int</span>(<span class="built_in">height</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æ‹·è´æ„é€ å‡½æ•°</span></span><br><span class="line">Person(<span class="keyword">const</span> Person&amp; p) &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"æ‹·è´æ„é€ å‡½æ•°!"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="comment">//å¦‚æœä¸åˆ©ç”¨æ·±æ‹·è´åœ¨å †åŒºåˆ›å»ºæ–°å†…å­˜ï¼Œä¼šå¯¼è‡´æµ…æ‹·è´å¸¦æ¥çš„é‡å¤é‡Šæ”¾å †åŒºé—®é¢˜</span></span><br><span class="line">m_age = p.m_age;</span><br><span class="line">    <span class="comment">//m_Height = p.m_Height ç¼–è¯‘å™¨é»˜è®¤åˆ›å»ºçš„æ‹·è´å‡½æ•°ä¸­çš„å¯¹äºæŒ‡é’ˆ m_height çš„å€¼æ‹·è´</span></span><br><span class="line">m_height = <span class="keyword">new</span> <span class="keyword">int</span>(*p.m_height);<span class="comment">//è‡ªå·±å®ç°çš„åœ¨å †åŒºé‡æ–°å¼€è¾Ÿç©ºé—´æ‹·è´</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ææ„å‡½æ•°</span></span><br><span class="line">~Person() &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"ææ„å‡½æ•°!"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">if</span> (m_height != <span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">delete</span> m_height;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="keyword">int</span> m_age;</span><br><span class="line"><span class="keyword">int</span>* m_height;<span class="comment">//ä½¿ç”¨æŒ‡é’ˆè¿›è¡Œå­˜å‚¨ï¼Œå°†èº«é«˜çš„æ•°æ®å¼€è¾Ÿåˆ°å †åŒº</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="function">Person <span class="title">p1</span><span class="params">(<span class="number">18</span>, <span class="number">180</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function">Person <span class="title">p2</span><span class="params">(p1)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"p1çš„å¹´é¾„ï¼š "</span> &lt;&lt; p1.m_age &lt;&lt; <span class="string">" èº«é«˜ï¼š "</span> &lt;&lt; *p1.m_height &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"p2çš„å¹´é¾„ï¼š "</span> &lt;&lt; p2.m_age &lt;&lt; <span class="string">" èº«é«˜ï¼š "</span> &lt;&lt; *p2.m_height &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20210301201817114.png" alt="image-20210301201817114"></p><p><strong>æ€»ç»“ï¼šå¦‚æœå±æ€§æœ‰åœ¨ å †åŒº å¼€è¾Ÿçš„ï¼Œä¸€å®šè¦è‡ªå·±æä¾›æ‹·è´å‡½æ•°ï¼Œé˜²æ­¢æµ…æ‹·è´å¸¦æ¥çš„é—®é¢˜</strong></p><h3 id="åˆå§‹åŒ–åˆ—è¡¨"><a href="#åˆå§‹åŒ–åˆ—è¡¨" class="headerlink" title="åˆå§‹åŒ–åˆ—è¡¨"></a>åˆå§‹åŒ–åˆ—è¡¨</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åˆå§‹åŒ–åˆ—è¡¨æ–¹å¼åˆå§‹åŒ–</span></span><br><span class="line">Person(<span class="keyword">int</span> a, <span class="keyword">int</span> b, <span class="keyword">int</span> c) :m_A(a), m_B(b), m_C(c) &#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">PrintPerson</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"mA:"</span> &lt;&lt; m_A &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"mB:"</span> &lt;&lt; m_B &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"mC:"</span> &lt;&lt; m_C &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="keyword">int</span> m_A;</span><br><span class="line"><span class="keyword">int</span> m_B;</span><br><span class="line"><span class="keyword">int</span> m_C;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-02%20at%2000.12.47.png" alt="Screen Shot 2021-03-02 at 00.12.47"></p><h3 id="ç±»å¯¹è±¡ä½œä¸ºç±»æˆå‘˜"><a href="#ç±»å¯¹è±¡ä½œä¸ºç±»æˆå‘˜" class="headerlink" title="ç±»å¯¹è±¡ä½œä¸ºç±»æˆå‘˜"></a>ç±»å¯¹è±¡ä½œä¸ºç±»æˆå‘˜</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Phone</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Phone(<span class="built_in">string</span> name)</span><br><span class="line">&#123;</span><br><span class="line">m_PhoneName = name;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"Phoneæ„é€ "</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">~Phone()</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"Phoneææ„"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">string</span> m_PhoneName;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆå§‹åŒ–åˆ—è¡¨å¯ä»¥å‘Šè¯‰ç¼–è¯‘å™¨è°ƒç”¨å“ªä¸€ä¸ªæ„é€ å‡½æ•°</span></span><br><span class="line">Person(<span class="built_in">string</span> name, <span class="built_in">string</span> pName) :m_Name(name), m_Phone(pName)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"Personæ„é€ "</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">~Person()</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"Personææ„"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">playGame</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; m_Name &lt;&lt; <span class="string">" ä½¿ç”¨"</span> &lt;&lt; m_Phone.m_PhoneName &lt;&lt; <span class="string">" ç‰Œæ‰‹æœº! "</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">string</span> m_Name;</span><br><span class="line">Phone m_Phone;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//å½“ç±»ä¸­æˆå‘˜æ˜¯å…¶ä»–ç±»å¯¹è±¡æ—¶ï¼Œæˆ‘ä»¬ç§°è¯¥æˆå‘˜ä¸º å¯¹è±¡æˆå‘˜</span></span><br><span class="line"><span class="comment">//æ„é€ çš„é¡ºåºæ˜¯ ï¼šå…ˆè°ƒç”¨å¯¹è±¡æˆå‘˜çš„æ„é€ ï¼Œå†è°ƒç”¨æœ¬ç±»æ„é€ </span></span><br><span class="line"><span class="comment">//ææ„é¡ºåºä¸æ„é€ ç›¸å</span></span><br><span class="line"><span class="function">Person <span class="title">p</span><span class="params">(<span class="string">"å¼ ä¸‰"</span> , <span class="string">"è‹¹æœX"</span>)</span></span>;</span><br><span class="line">p.playGame();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><pre><code>//åˆå§‹åŒ–åˆ—è¡¨å¯ä»¥å‘Šè¯‰ç¼–è¯‘å™¨è°ƒç”¨å“ªä¸€ä¸ªæ„é€ å‡½æ•°Person(string name, string pName) :m_Name(name), m_Phone(pName){    cout &lt;&lt; &quot;Personæ„é€ &quot; &lt;&lt; endl;}Phone m_Phone;</code></pre><p>ä»¥ä¸Šä¸¤å¤„ï¼Œæ„é€ å‡½æ•°ä¸­ pName ä¸º string ç±»å‹ï¼Œ m_Phone ä¸º Phone å¯¹è±¡ç±»å‹ï¼Œå…¶å®æ˜¯æ„é€ å‡½æ•°çš„éšå¼è°ƒç”¨</p><p>// Phone m_Phone = pName;</p><p>ç­‰ä»·äºä»¥ä¸‹ï¼š</p><p>// Phone m_Phone = Phone(pName);</p><h3 id="é™æ€æˆå‘˜"><a href="#é™æ€æˆå‘˜" class="headerlink" title="é™æ€æˆå‘˜"></a>é™æ€æˆå‘˜</h3><p>é™æ€æˆå‘˜å°±æ˜¯åœ¨æˆå‘˜å˜é‡å’Œæˆå‘˜å‡½æ•°å‰åŠ ä¸Šå…³é”®å­—staticï¼Œç§°ä¸ºé™æ€æˆå‘˜</p><p>é™æ€æˆå‘˜åˆ†ä¸ºï¼š</p><ul><li>é™æ€æˆå‘˜å˜é‡<ul><li>æ‰€æœ‰å¯¹è±¡å…±äº«åŒä¸€ä»½æ•°æ®</li><li>åœ¨ç¼–è¯‘é˜¶æ®µåˆ†é…å†…å­˜</li><li>ç±»å†…å£°æ˜ï¼Œç±»å¤–åˆå§‹åŒ–</li></ul></li><li>é™æ€æˆå‘˜å‡½æ•°<ul><li>æ‰€æœ‰å¯¹è±¡å…±äº«åŒä¸€ä¸ªå‡½æ•°</li><li>é™æ€æˆå‘˜å‡½æ•°åªèƒ½è®¿é—®é™æ€æˆå‘˜å˜é‡</li></ul></li></ul><p><strong>é™æ€æˆå‘˜å˜é‡ï¼š</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">int</span> m_A; <span class="comment">//é™æ€æˆå‘˜å˜é‡</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//é™æ€æˆå‘˜å˜é‡ç‰¹ç‚¹ï¼š</span></span><br><span class="line"><span class="comment">//1 åœ¨ç¼–è¯‘é˜¶æ®µåˆ†é…å†…å­˜</span></span><br><span class="line"><span class="comment">//2 ç±»å†…å£°æ˜ï¼Œç±»å¤–åˆå§‹åŒ–</span></span><br><span class="line"><span class="comment">//3 æ‰€æœ‰å¯¹è±¡å…±äº«åŒä¸€ä»½æ•°æ®</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="keyword">static</span> <span class="keyword">int</span> m_B; <span class="comment">//é™æ€æˆå‘˜å˜é‡ä¹Ÿæ˜¯æœ‰è®¿é—®æƒé™çš„</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">int</span> Person::m_A = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">int</span> Person::m_B = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//é™æ€æˆå‘˜å˜é‡ä¸¤ç§è®¿é—®æ–¹å¼</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//1ã€é€šè¿‡å¯¹è±¡</span></span><br><span class="line">Person p1;</span><br><span class="line">p1.m_A = <span class="number">100</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"p1.m_A = "</span> &lt;&lt; p1.m_A &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">Person p2;</span><br><span class="line">p2.m_A = <span class="number">200</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"p1.m_A = "</span> &lt;&lt; p1.m_A &lt;&lt; <span class="built_in">endl</span>; <span class="comment">//å…±äº«åŒä¸€ä»½æ•°æ®</span></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"p2.m_A = "</span> &lt;&lt; p2.m_A &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//2ã€é€šè¿‡ç±»å</span></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"m_A = "</span> &lt;&lt; Person::m_A &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//cout &lt;&lt; "m_B = " &lt;&lt; Person::m_B &lt;&lt; endl; //ç§æœ‰æƒé™è®¿é—®ä¸åˆ°</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>é™æ€æˆå‘˜å‡½æ•°ï¼š</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"></span><br><span class="line"><span class="comment">//é™æ€æˆå‘˜å‡½æ•°ç‰¹ç‚¹ï¼š</span></span><br><span class="line"><span class="comment">//1 ç¨‹åºå…±äº«ä¸€ä¸ªå‡½æ•°</span></span><br><span class="line"><span class="comment">//2 é™æ€æˆå‘˜å‡½æ•°åªèƒ½è®¿é—®é™æ€æˆå‘˜å˜é‡</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">func</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"funcè°ƒç”¨"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">m_A = <span class="number">100</span>;</span><br><span class="line"><span class="comment">//m_B = 100; //é”™è¯¯ï¼Œä¸å¯ä»¥è®¿é—®éé™æ€æˆå‘˜å˜é‡</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">int</span> m_A; <span class="comment">//é™æ€æˆå‘˜å˜é‡</span></span><br><span class="line"><span class="keyword">int</span> m_B; <span class="comment">//</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"></span><br><span class="line"><span class="comment">//é™æ€æˆå‘˜å‡½æ•°ä¹Ÿæ˜¯æœ‰è®¿é—®æƒé™çš„</span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">func2</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"func2è°ƒç”¨"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">int</span> Person::m_A = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//é™æ€æˆå‘˜å˜é‡ä¸¤ç§è®¿é—®æ–¹å¼</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//1ã€é€šè¿‡å¯¹è±¡</span></span><br><span class="line">Person p1;</span><br><span class="line">p1.func();</span><br><span class="line"></span><br><span class="line"><span class="comment">//2ã€é€šè¿‡ç±»å</span></span><br><span class="line">Person::func();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//Person::func2(); //ç§æœ‰æƒé™è®¿é—®ä¸åˆ°</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="this-æŒ‡é’ˆæŒ‡å‘è¢«è°ƒç”¨çš„æˆå‘˜å‡½æ•°æ‰€å±çš„å¯¹è±¡"><a href="#this-æŒ‡é’ˆæŒ‡å‘è¢«è°ƒç”¨çš„æˆå‘˜å‡½æ•°æ‰€å±çš„å¯¹è±¡" class="headerlink" title="this æŒ‡é’ˆæŒ‡å‘è¢«è°ƒç”¨çš„æˆå‘˜å‡½æ•°æ‰€å±çš„å¯¹è±¡"></a>this æŒ‡é’ˆæŒ‡å‘è¢«è°ƒç”¨çš„æˆå‘˜å‡½æ•°æ‰€å±çš„å¯¹è±¡</h3><p><strong>this æŒ‡é’ˆçš„ç”¨é€”</strong></p><ul><li>==å½“å½¢å‚å’Œå˜é‡åç›¸åŒæ—¶ï¼Œå¯ç”¨ this æ¥è¿›è¡ŒåŒºåˆ†ï¼Œå…¶æŒ‡å‘ç±»æ‰€æœ‰çš„æˆå‘˜å˜é‡==</li><li>==åœ¨ç±»çš„éé™æ€æˆå‘˜å‡½æ•°ä¸­è¿”å›å¯¹è±¡æœ¬èº«ï¼Œå¯ä»¥ä½¿ç”¨ return *this==`</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Person(<span class="keyword">int</span> age) &#123;</span><br><span class="line"><span class="keyword">this</span>-&gt;age = age;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">Person&amp; <span class="title">PersonAddPerson</span><span class="params">(Person p)</span> </span>&#123;</span><br><span class="line"><span class="keyword">this</span>-&gt;age += p.age;</span><br><span class="line"><span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="keyword">int</span> age;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="function">Person <span class="title">p1</span><span class="params">(<span class="number">10</span>)</span></span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"p1.age= "</span> &lt;&lt; p1.age &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="function">Person <span class="title">p2</span><span class="params">(<span class="number">10</span>)</span></span>;</span><br><span class="line">p2.PersonAddPerson(p1).PersonAddPerson(p1).PersonAddPerson(p1);</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"after add, the value of p2= "</span> &lt;&lt; p2.age &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç©ºæŒ‡é’ˆè®¿é—®æˆå‘˜å‡½æ•°"><a href="#ç©ºæŒ‡é’ˆè®¿é—®æˆå‘˜å‡½æ•°" class="headerlink" title="ç©ºæŒ‡é’ˆè®¿é—®æˆå‘˜å‡½æ•°"></a>ç©ºæŒ‡é’ˆè®¿é—®æˆå‘˜å‡½æ•°</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç©ºæŒ‡é’ˆè®¿é—®æˆå‘˜å‡½æ•°</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">ShowClassName</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"æˆ‘æ˜¯Personç±»!"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">ShowPerson</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">this</span> == <span class="literal">NULL</span>) &#123;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; mAge &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="keyword">int</span> mAge;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Person * p = <span class="literal">NULL</span>;</span><br><span class="line">p-&gt;ShowClassName(); <span class="comment">//ç©ºæŒ‡é’ˆï¼Œå¯ä»¥è°ƒç”¨æˆå‘˜å‡½æ•°</span></span><br><span class="line">p-&gt;ShowPerson();  <span class="comment">//ä½†æ˜¯å¦‚æœæˆå‘˜å‡½æ•°ä¸­ç”¨åˆ°äº†thisæŒ‡é’ˆï¼Œå°±ä¸å¯ä»¥äº†</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="const-ä¿®é¥°æˆå‘˜å‡½æ•°"><a href="#const-ä¿®é¥°æˆå‘˜å‡½æ•°" class="headerlink" title="const ä¿®é¥°æˆå‘˜å‡½æ•°"></a>const ä¿®é¥°æˆå‘˜å‡½æ•°</h3><p><strong>å¸¸å‡½æ•°</strong></p><ul><li>æˆå‘˜å‡½æ•°ååŠ  const å³ä¸ºå¸¸å‡½æ•°</li><li>å¸¸å‡½æ•°å†…ä¸å¯ä»¥è¿›è¡Œä¿®æ”¹æˆå‘˜å±æ€§</li><li>æˆå‘˜å±æ€§å£°æ˜æ—¶åŠ å…³é”®å­— mutable åï¼Œå¸¸å‡½æ•°ä¸­ä¾ç„¶å¯ä»¥è¿›è¡Œä¿®æ”¹</li></ul><p><strong>å¸¸å¯¹è±¡</strong></p><ul><li>å£°æ˜å¯¹è±¡å‰åŠ  const ç§°è¯¥å¯¹è±¡ä¸ºå¸¸å¯¹è±¡</li><li>å¸¸å¯¹è±¡åªèƒ½è°ƒç”¨å¸¸å‡½æ•°</li></ul><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210302195757835.png" alt="image-20210302195757835"></p><h2 id="å‹å…ƒ"><a href="#å‹å…ƒ" class="headerlink" title="å‹å…ƒ"></a>å‹å…ƒ</h2><p>å‹å…ƒçš„å…³é”®å­—ä¸º ==friend==</p><p><strong>å‹å…ƒçš„ä¸‰ç§å®ç°</strong></p><ul><li><p>å…¨å±€å‡½æ•°ä½œå‹å…ƒ</p><p>é‡è¦çš„æ˜¯ï¼Œåœ¨ç±»æœ€ä¸Šæ–¹ä½¿ç”¨ friend å…³é”®å­—æ¥å£°æ˜å…¨å±€å‡½æ•°ï¼ˆå°±åƒ C ä¸­çš„å‡½æ•°éœ€è¦æå‰å£°æ˜ä¸€æ ·ï¼‰</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Building</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="comment">//å‘Šè¯‰ç¼–è¯‘å™¨ goodGayå…¨å±€å‡½æ•° æ˜¯ Buildingç±»çš„å¥½æœ‹å‹ï¼Œå¯ä»¥è®¿é—®ç±»ä¸­çš„ç§æœ‰å†…å®¹</span></span><br><span class="line"><span class="function"><span class="keyword">friend</span> <span class="keyword">void</span> <span class="title">goodGay</span><span class="params">(Building * building)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"></span><br><span class="line">Building()</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">this</span>-&gt;m_SittingRoom = <span class="string">"å®¢å…"</span>;</span><br><span class="line"><span class="keyword">this</span>-&gt;m_BedRoom = <span class="string">"å§å®¤"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">string</span> m_SittingRoom; <span class="comment">//å®¢å…</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="built_in">string</span> m_BedRoom; <span class="comment">//å§å®¤</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">goodGay</span><span class="params">(Building * building)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"å¥½åŸºå‹æ­£åœ¨è®¿é—®ï¼š "</span> &lt;&lt; building-&gt;m_SittingRoom &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"å¥½åŸºå‹æ­£åœ¨è®¿é—®ï¼š "</span> &lt;&lt; building-&gt;m_BedRoom &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Building b;</span><br><span class="line">goodGay(&amp;b);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><ul><li><p>ç±»åšå‹å…ƒ</p><p>å°†ä¸€ä¸ªç±»ä½œä¸ºå¦ä¸€ä¸ªç±»çš„å‹å…ƒï¼Œå³å¯ä»¥è®¿é—®ç±»ä¸­çš„ç§æœ‰æˆå‘˜ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Building</span>;</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">goodGay</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"></span><br><span class="line">goodGay();</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">visit</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">Building *building;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Building</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="comment">//å‘Šè¯‰ç¼–è¯‘å™¨ goodGayç±»æ˜¯Buildingç±»çš„å¥½æœ‹å‹ï¼Œå¯ä»¥è®¿é—®åˆ°Buildingç±»ä¸­ç§æœ‰å†…å®¹</span></span><br><span class="line"><span class="keyword">friend</span> <span class="class"><span class="keyword">class</span> <span class="title">goodGay</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Building();</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">string</span> m_SittingRoom; <span class="comment">//å®¢å…</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="built_in">string</span> m_BedRoom;<span class="comment">//å§å®¤</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åœ¨ç±»å¤–å†™æˆå‘˜å‡½æ•°</span></span><br><span class="line">Building::Building()</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">this</span>-&gt;m_SittingRoom = <span class="string">"å®¢å…"</span>;</span><br><span class="line"><span class="keyword">this</span>-&gt;m_BedRoom = <span class="string">"å§å®¤"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">goodGay::goodGay()</span><br><span class="line">&#123;</span><br><span class="line">building = <span class="keyword">new</span> Building;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">goodGay::visit</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"å¥½åŸºå‹æ­£åœ¨è®¿é—®"</span> &lt;&lt; building-&gt;m_SittingRoom &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"å¥½åŸºå‹æ­£åœ¨è®¿é—®"</span> &lt;&lt; building-&gt;m_BedRoom &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">goodGay gg;</span><br><span class="line">gg.visit();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><ul><li><p>æˆå‘˜å‡½æ•°ä½œå‹å…ƒ</p><p>é‡è¦ç‚¹å°±åœ¨äºï¼šfriend void goodGay::visit();</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Building</span>;</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">goodGay</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"></span><br><span class="line">goodGay();</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">visit</span><span class="params">()</span></span>; <span class="comment">//åªè®©visitå‡½æ•°ä½œä¸ºBuildingçš„å¥½æœ‹å‹ï¼Œå¯ä»¥å‘è®¿é—®Buildingä¸­ç§æœ‰å†…å®¹</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">visit2</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">Building *building;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Building</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="comment">//å‘Šè¯‰ç¼–è¯‘å™¨  goodGayç±»ä¸­çš„visitæˆå‘˜å‡½æ•° æ˜¯Buildingå¥½æœ‹å‹ï¼Œå¯ä»¥è®¿é—®ç§æœ‰å†…å®¹</span></span><br><span class="line"><span class="function"><span class="keyword">friend</span> <span class="keyword">void</span> <span class="title">goodGay::visit</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Building();</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">string</span> m_SittingRoom; <span class="comment">//å®¢å…</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="built_in">string</span> m_BedRoom;<span class="comment">//å§å®¤</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Building::Building()</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">this</span>-&gt;m_SittingRoom = <span class="string">"å®¢å…"</span>;</span><br><span class="line"><span class="keyword">this</span>-&gt;m_BedRoom = <span class="string">"å§å®¤"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">goodGay::goodGay()</span><br><span class="line">&#123;</span><br><span class="line">building = <span class="keyword">new</span> Building;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">goodGay::visit</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"å¥½åŸºå‹æ­£åœ¨è®¿é—®"</span> &lt;&lt; building-&gt;m_SittingRoom &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"å¥½åŸºå‹æ­£åœ¨è®¿é—®"</span> &lt;&lt; building-&gt;m_BedRoom &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">goodGay::visit2</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"å¥½åŸºå‹æ­£åœ¨è®¿é—®"</span> &lt;&lt; building-&gt;m_SittingRoom &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="comment">//cout &lt;&lt; "å¥½åŸºå‹æ­£åœ¨è®¿é—®" &lt;&lt; building-&gt;m_BedRoom &lt;&lt; endl;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">goodGay  gg;</span><br><span class="line">gg.visit();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p>å‹å…ƒæ€»ç»“ï¼šæˆä¸ºå…¶ä»–ç±»æˆ–å‡½æ•°çš„æœ‹å‹ï¼Œå°±å¯ä»¥è®¿é—®å…¶ç§æœ‰æˆå‘˜ã€‚</p><h3 id="åŠ å·è¿ç®—ç¬¦é‡è½½"><a href="#åŠ å·è¿ç®—ç¬¦é‡è½½" class="headerlink" title="åŠ å·è¿ç®—ç¬¦é‡è½½"></a>åŠ å·è¿ç®—ç¬¦é‡è½½</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Person() &#123;&#125;;</span><br><span class="line">Person(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">this</span>-&gt;m_A = a;</span><br><span class="line"><span class="keyword">this</span>-&gt;m_B = b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æˆå‘˜å‡½æ•°å®ç° + å·è¿ç®—ç¬¦é‡è½½</span></span><br><span class="line">Person <span class="keyword">operator</span>+(<span class="keyword">const</span> Person&amp; p) &#123;</span><br><span class="line">Person temp;</span><br><span class="line">temp.m_A = <span class="keyword">this</span>-&gt;m_A + p.m_A;</span><br><span class="line">temp.m_B = <span class="keyword">this</span>-&gt;m_B + p.m_B;</span><br><span class="line"><span class="keyword">return</span> temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="keyword">int</span> m_A;</span><br><span class="line"><span class="keyword">int</span> m_B;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å…¨å±€å‡½æ•°å®ç° + å·è¿ç®—ç¬¦é‡è½½</span></span><br><span class="line"><span class="comment">//Person operator+(const Person&amp; p1, const Person&amp; p2) &#123;</span></span><br><span class="line"><span class="comment">//Person temp(0, 0);</span></span><br><span class="line"><span class="comment">//temp.m_A = p1.m_A + p2.m_A;</span></span><br><span class="line"><span class="comment">//temp.m_B = p1.m_B + p2.m_B;</span></span><br><span class="line"><span class="comment">//return temp;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//è¿ç®—ç¬¦é‡è½½ å¯ä»¥å‘ç”Ÿå‡½æ•°é‡è½½</span></span><br><span class="line">Person <span class="keyword">operator</span>+(<span class="keyword">const</span> Person&amp; p2, <span class="keyword">int</span> val)</span><br><span class="line">&#123;</span><br><span class="line">Person temp;</span><br><span class="line">temp.m_A = p2.m_A + val;</span><br><span class="line">temp.m_B = p2.m_B + val;</span><br><span class="line"><span class="keyword">return</span> temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function">Person <span class="title">p1</span><span class="params">(<span class="number">10</span>, <span class="number">10</span>)</span></span>;</span><br><span class="line"><span class="function">Person <span class="title">p2</span><span class="params">(<span class="number">20</span>, <span class="number">20</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æˆå‘˜å‡½æ•°æ–¹å¼</span></span><br><span class="line">Person p3 = p2 + p1;  <span class="comment">//ç›¸å½“äº p2.operaor+(p1)</span></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"mA:"</span> &lt;&lt; p3.m_A &lt;&lt; <span class="string">" mB:"</span> &lt;&lt; p3.m_B &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Person p4 = p3 + <span class="number">10</span>; <span class="comment">//ç›¸å½“äº operator+(p3,10)</span></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"mA:"</span> &lt;&lt; p4.m_A &lt;&lt; <span class="string">" mB:"</span> &lt;&lt; p4.m_B &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>å¯¹äºå†…ç½®çš„æ•°æ®ç±»å‹çš„è¡¨è¾¾å¼çš„è¿ç®—ç¬¦ä¸èƒ½è¢«æ”¹å˜ï¼Œå¦‚ int, double, float ä½†æ˜¯è‡ªå®šä¹‰çš„æ˜¯å¯ä»¥è¿›è¡Œæ›´æ”¹çš„ã€‚</li></ul><h3 id="å·¦ç§»è¿ç®—ç¬¦-lt-lt-é‡è½½"><a href="#å·¦ç§»è¿ç®—ç¬¦-lt-lt-é‡è½½" class="headerlink" title="å·¦ç§»è¿ç®—ç¬¦ &lt;&lt;  é‡è½½"></a>å·¦ç§»è¿ç®—ç¬¦ &lt;&lt;  é‡è½½</h3><p><strong>é€šå¸¸ä¸ä¼šåˆ©ç”¨æˆå‘˜å‡½æ•°é‡è½½ &lt;&lt; è¿ç®—ç¬¦ï¼Œå› ä¸ºæ— æ³•å®ç° cout åœ¨å·¦ä¾§</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> &#123;</span></span><br><span class="line"><span class="keyword">friend</span> ostream&amp; <span class="keyword">operator</span>&lt;&lt;(ostream&amp; out, Person&amp; p);</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"></span><br><span class="line">Person(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">this</span>-&gt;m_A = a;</span><br><span class="line"><span class="keyword">this</span>-&gt;m_B = b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æˆå‘˜å‡½æ•° å®ç°ä¸äº†  p &lt;&lt; cout ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœ</span></span><br><span class="line"><span class="comment">//void operator&lt;&lt;(Person&amp; p)&#123;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="keyword">int</span> m_A;</span><br><span class="line"><span class="keyword">int</span> m_B;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å…¨å±€å‡½æ•°å®ç°å·¦ç§»é‡è½½</span></span><br><span class="line"><span class="comment">//ostreamå¯¹è±¡åªèƒ½æœ‰ä¸€ä¸ª</span></span><br><span class="line">ostream&amp; <span class="keyword">operator</span>&lt;&lt;(ostream&amp; <span class="built_in">cout</span>, Person&amp; p) &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"a:"</span> &lt;&lt; p.m_A &lt;&lt; <span class="string">" b:"</span> &lt;&lt; p.m_B;</span><br><span class="line"><span class="keyword">return</span> out;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function">Person <span class="title">p1</span><span class="params">(<span class="number">10</span>, <span class="number">20</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; p1 &lt;&lt; <span class="string">"hello world"</span> &lt;&lt; <span class="built_in">endl</span>; <span class="comment">//é“¾å¼ç¼–ç¨‹</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="é€’å¢è¿ç®—ç¬¦é‡è½½"><a href="#é€’å¢è¿ç®—ç¬¦é‡è½½" class="headerlink" title="é€’å¢è¿ç®—ç¬¦é‡è½½"></a>é€’å¢è¿ç®—ç¬¦é‡è½½</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyInteger</span> &#123;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">friend</span> ostream&amp; <span class="keyword">operator</span>&lt;&lt;(ostream&amp; out, MyInteger myint);</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">MyInteger() &#123;</span><br><span class="line">m_Num = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å‰ç½®++</span></span><br><span class="line">MyInteger&amp; <span class="keyword">operator</span>++() &#123;</span><br><span class="line"><span class="comment">//å…ˆ++</span></span><br><span class="line">m_Num++;</span><br><span class="line"><span class="comment">//å†è¿”å›</span></span><br><span class="line"><span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å‰ç½®--</span></span><br><span class="line">MyInteger&amp; <span class="keyword">operator</span>--() &#123;</span><br><span class="line"><span class="comment">//å…ˆ--</span></span><br><span class="line">m_Num--;</span><br><span class="line"><span class="comment">//å†è¿”å›</span></span><br><span class="line"><span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åç½®++</span></span><br><span class="line">MyInteger <span class="keyword">operator</span>++(<span class="keyword">int</span>) &#123;</span><br><span class="line"><span class="comment">//å…ˆè¿”å›</span></span><br><span class="line">MyInteger temp = *<span class="keyword">this</span>; <span class="comment">//è®°å½•å½“å‰æœ¬èº«çš„å€¼ï¼Œç„¶åè®©æœ¬èº«çš„å€¼åŠ 1ï¼Œä½†æ˜¯è¿”å›çš„æ˜¯ä»¥å‰çš„å€¼ï¼Œè¾¾åˆ°å…ˆè¿”å›å++ï¼›</span></span><br><span class="line">m_Num++;</span><br><span class="line"><span class="keyword">return</span> temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åç½®--</span></span><br><span class="line">MyInteger <span class="keyword">operator</span>--(<span class="keyword">int</span>) &#123;</span><br><span class="line"><span class="comment">//å…ˆè¿”å›</span></span><br><span class="line">MyInteger temp = *<span class="keyword">this</span>; <span class="comment">//è®°å½•å½“å‰æœ¬èº«çš„å€¼ï¼Œç„¶åè®©æœ¬èº«çš„å€¼-1ï¼Œä½†æ˜¯è¿”å›çš„æ˜¯ä»¥å‰çš„å€¼ï¼Œè¾¾åˆ°å…ˆè¿”å›å--ï¼›</span></span><br><span class="line">m_Num--;</span><br><span class="line"><span class="keyword">return</span> temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="keyword">int</span> m_Num;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ostream&amp; <span class="keyword">operator</span>&lt;&lt;(ostream&amp; out, MyInteger myint) &#123;</span><br><span class="line">out &lt;&lt; myint.m_Num;</span><br><span class="line"><span class="keyword">return</span> out;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//å‰ç½®++ å…ˆ++ å†è¿”å›</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span> </span>&#123;</span><br><span class="line">MyInteger myInt;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; ++myInt &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; myInt &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åç½®++ å…ˆè¿”å› å†++</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test02</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">MyInteger myInt;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; myInt++ &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; myInt &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test03</span><span class="params">()</span> </span>&#123;</span><br><span class="line">MyInteger myInt;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; myInt-- &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test04</span><span class="params">()</span> </span>&#123;</span><br><span class="line">MyInteger myInt;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; --myInt &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//test01();</span></span><br><span class="line"><span class="comment">//test02();</span></span><br><span class="line"><span class="comment">//test03();</span></span><br><span class="line">test04();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>å‰ç½®é€’å¢è¿”å›çš„æ˜¯å¼•ç”¨ï¼Œåç½®é€’å¢è¿”å›çš„æ˜¯å€¼ï¼ˆç”±äºæå‰ return ä¼šç»“æŸå½“å‰å‡½æ•°ï¼Œæ‰€ä»¥åç½®é€’å¢æ—¶ï¼Œå…ˆç”¨ temp æ¥å—å½“å‰å€¼ï¼Œç„¶åé€’å¢å®Œï¼Œè¿”å› temp çš„å€¼ï¼‰</strong></p><h3 id="èµ‹å€¼è¿ç®—ç¬¦ï¼ˆ-ï¼‰çš„é‡è½½"><a href="#èµ‹å€¼è¿ç®—ç¬¦ï¼ˆ-ï¼‰çš„é‡è½½" class="headerlink" title="èµ‹å€¼è¿ç®—ç¬¦ï¼ˆ=ï¼‰çš„é‡è½½"></a>èµ‹å€¼è¿ç®—ç¬¦ï¼ˆ=ï¼‰çš„é‡è½½</h3><p>C++ ç¼–è¯‘å™¨è‡³å°‘ç»™ä¸€ä¸ªç±»æ·»åŠ 4ä¸ªå‡½æ•°</p><ul><li>é»˜è®¤æ„é€ å‡½æ•°ï¼ˆæ— å‚æ•°ï¼Œå‡½æ•°ä½“ä¸ºç©ºï¼‰</li><li>é»˜è®¤ææ„å‡½æ•°ï¼ˆæ— å‚æ•°ï¼Œå‡½æ•°ä½“ä¸ºç©ºï¼‰</li><li>é»˜è®¤æ‹·è´æ„é€ å‡½æ•°ï¼Œå¯¹å±æ€§è¿›è¡Œå€¼æ‹·è´</li><li>èµ‹å€¼è¿ç®—ç¬¦ operator= ï¼Œå¯¹å±æ€§è¿›è¡Œå€¼æ‹·è´</li></ul><p>é—®é¢˜æ‰€åœ¨ï¼š</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210303223519840.png" alt="image-20210303223519840"></p><p>è§£å†³æ–¹æ¡ˆï¼š</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210303224140308.png" alt="image-20210303224140308"></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"></span><br><span class="line">Person(<span class="keyword">int</span> age)</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//å°†å¹´é¾„æ•°æ®å¼€è¾Ÿåˆ°å †åŒº</span></span><br><span class="line">m_Age = <span class="keyword">new</span> <span class="keyword">int</span>(age);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//é‡è½½èµ‹å€¼è¿ç®—ç¬¦</span></span><br><span class="line">Person&amp; <span class="keyword">operator</span>=(Person &amp;p)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (m_Age != <span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">delete</span> m_Age;</span><br><span class="line">m_Age = <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//ç¼–è¯‘å™¨é»˜è®¤æä¾›çš„ä»£ç æ˜¯æµ…æ‹·è´</span></span><br><span class="line"><span class="comment">//m_Age = p.m_Age;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//æä¾›æ·±æ‹·è´ è§£å†³æµ…æ‹·è´çš„é—®é¢˜</span></span><br><span class="line">m_Age = <span class="keyword">new</span> <span class="keyword">int</span>(*p.m_Age);</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¿”å›è‡ªèº«</span></span><br><span class="line"><span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">~Person()</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (m_Age != <span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">delete</span> m_Age;</span><br><span class="line">m_Age = <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¹´é¾„çš„æŒ‡é’ˆ</span></span><br><span class="line"><span class="keyword">int</span> *m_Age;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="function">Person <span class="title">p1</span><span class="params">(<span class="number">18</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function">Person <span class="title">p2</span><span class="params">(<span class="number">20</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function">Person <span class="title">p3</span><span class="params">(<span class="number">30</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">p3 = p2 = p1; <span class="comment">//èµ‹å€¼æ“ä½œ</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"p1çš„å¹´é¾„ä¸ºï¼š"</span> &lt;&lt; *p1.m_Age &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"p2çš„å¹´é¾„ä¸ºï¼š"</span> &lt;&lt; *p2.m_Age &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"p3çš„å¹´é¾„ä¸ºï¼š"</span> &lt;&lt; *p3.m_Age &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line"><span class="comment">//int a = 10;</span></span><br><span class="line"><span class="comment">//int b = 20;</span></span><br><span class="line"><span class="comment">//int c = 30;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//c = b = a;</span></span><br><span class="line"><span class="comment">//cout &lt;&lt; "a = " &lt;&lt; a &lt;&lt; endl;</span></span><br><span class="line"><span class="comment">//cout &lt;&lt; "b = " &lt;&lt; b &lt;&lt; endl;</span></span><br><span class="line"><span class="comment">//cout &lt;&lt; "c = " &lt;&lt; c &lt;&lt; endl;</span></span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å…³ç³»è¿ç®—ç¬¦ï¼ˆ-ï¼‰é‡è½½"><a href="#å…³ç³»è¿ç®—ç¬¦ï¼ˆ-ï¼‰é‡è½½" class="headerlink" title="å…³ç³»è¿ç®—ç¬¦ï¼ˆ==ï¼‰é‡è½½"></a>å…³ç³»è¿ç®—ç¬¦ï¼ˆ==ï¼‰é‡è½½</h3><p><strong>ä½œç”¨ï¼šé‡è½½å…³ç³»è¿ç®—ç¬¦ï¼Œå¯ä»¥è®©ä¸¤ä¸ªè‡ªå®šä¹‰ç±»å‹å¯¹è±¡è¿›è¡Œå¯¹æ¯”æ“ä½œ</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Person(<span class="built_in">string</span> name, <span class="keyword">int</span> age)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">this</span>-&gt;m_Name = name;</span><br><span class="line"><span class="keyword">this</span>-&gt;m_Age = age;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">bool</span> <span class="keyword">operator</span>==(Person &amp; p)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">this</span>-&gt;m_Name == p.m_Name &amp;&amp; <span class="keyword">this</span>-&gt;m_Age == p.m_Age)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">bool</span> <span class="keyword">operator</span>!=(Person &amp; p)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">this</span>-&gt;m_Name == p.m_Name &amp;&amp; <span class="keyword">this</span>-&gt;m_Age == p.m_Age)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">string</span> m_Name;</span><br><span class="line"><span class="keyword">int</span> m_Age;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//int a = 0;</span></span><br><span class="line"><span class="comment">//int b = 0;</span></span><br><span class="line"></span><br><span class="line"><span class="function">Person <span class="title">a</span><span class="params">(<span class="string">"å­™æ‚Ÿç©º"</span>, <span class="number">18</span>)</span></span>;</span><br><span class="line"><span class="function">Person <span class="title">b</span><span class="params">(<span class="string">"å­™æ‚Ÿç©º"</span>, <span class="number">18</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (a == b)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"aå’Œbç›¸ç­‰"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"aå’Œbä¸ç›¸ç­‰"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (a != b)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"aå’Œbä¸ç›¸ç­‰"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"aå’Œbç›¸ç­‰"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å‡½æ•°è°ƒç”¨è¿ç®—ç¬¦-é‡è½½"><a href="#å‡½æ•°è°ƒç”¨è¿ç®—ç¬¦-é‡è½½" class="headerlink" title="å‡½æ•°è°ƒç”¨è¿ç®—ç¬¦ () é‡è½½"></a>å‡½æ•°è°ƒç”¨è¿ç®—ç¬¦ () é‡è½½</h3><ul><li>å‡½æ•°è°ƒç”¨è¿ç®—ç¬¦ï¼ˆï¼‰ä¹Ÿå¯ä»¥é‡è½½</li><li>ç”±äºé‡è½½åä½¿ç”¨çš„æ–¹å¼éå¸¸åƒå‡½æ•°è°ƒç”¨ï¼Œå› æ­¤ç§°ä¸ºä»¿å‡½æ•°</li><li>ä»¿å‡½æ•°æ²¡æœ‰å›ºå®šå†™æ³•ï¼Œéå¸¸çµæ´»</li></ul><p>å³ä¸ºå¯¹ä¸€ä¸ªç±»çš„å¯¹è±¡åä½¿ç”¨ï¼ˆï¼‰è¿›è¡Œç±»ä¼¼äºå‡½æ•°å¼çš„è°ƒç”¨</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyPrint</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="built_in">string</span> <span class="built_in">text</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="built_in">text</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//é‡è½½çš„ï¼ˆï¼‰æ“ä½œç¬¦ ä¹Ÿç§°ä¸ºä»¿å‡½æ•°</span></span><br><span class="line">MyPrint myFunc;</span><br><span class="line">myFunc(<span class="string">"hello world"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyAdd</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="keyword">int</span> v1, <span class="keyword">int</span> v2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> v1 + v2;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test02</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">MyAdd add;</span><br><span class="line"><span class="keyword">int</span> ret = add(<span class="number">10</span>, <span class="number">10</span>);</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"ret = "</span> &lt;&lt; ret &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åŒ¿åå¯¹è±¡è°ƒç”¨</span></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"MyAdd()(100,100) = "</span> &lt;&lt; MyAdd()(<span class="number">100</span>, <span class="number">100</span>) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line">test02();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ç»§æ‰¿"><a href="#ç»§æ‰¿" class="headerlink" title="ç»§æ‰¿"></a>ç»§æ‰¿</h2><p>è¯­æ³•ï¼š <code>class</code>   <code>å­ç±»</code>  <code>:</code>  <code>ç»§æ‰¿æ–¹å¼</code>  <code>çˆ¶ç±»</code></p><p>å­ç±»ï¼šæ´¾ç”Ÿç±»</p><p>çˆ¶ç±»ï¼šåŸºç±»</p><p>æƒé™ï¼šå…¬å…±ã€ä¿æŠ¤ã€ç§æœ‰</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210304151734286.png" alt="image-20210304151734286"></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Base1</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="keyword">int</span> m_A;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line"><span class="keyword">int</span> m_B;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="keyword">int</span> m_C;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å…¬å…±ç»§æ‰¿</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Son1</span> :</span><span class="keyword">public</span> Base1</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">m_A; <span class="comment">//å¯è®¿é—® publicæƒé™</span></span><br><span class="line">m_B; <span class="comment">//å¯è®¿é—® protectedæƒé™</span></span><br><span class="line"><span class="comment">//m_C; //ä¸å¯è®¿é—®</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">myClass</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Son1 s1;</span><br><span class="line">s1.m_A; <span class="comment">//å…¶ä»–ç±»åªèƒ½è®¿é—®åˆ°å…¬å…±æƒé™</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä¿æŠ¤ç»§æ‰¿</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Base2</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="keyword">int</span> m_A;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line"><span class="keyword">int</span> m_B;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="keyword">int</span> m_C;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Son2</span>:</span><span class="keyword">protected</span> Base2</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">m_A; <span class="comment">//å¯è®¿é—® protectedæƒé™</span></span><br><span class="line">m_B; <span class="comment">//å¯è®¿é—® protectedæƒé™</span></span><br><span class="line"><span class="comment">//m_C; //ä¸å¯è®¿é—®</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">myClass2</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Son2 s;</span><br><span class="line"><span class="comment">//s.m_A; //ä¸å¯è®¿é—®</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç§æœ‰ç»§æ‰¿</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Base3</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="keyword">int</span> m_A;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line"><span class="keyword">int</span> m_B;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="keyword">int</span> m_C;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Son3</span>:</span><span class="keyword">private</span> Base3</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">m_A; <span class="comment">//å¯è®¿é—® privateæƒé™</span></span><br><span class="line">m_B; <span class="comment">//å¯è®¿é—® privateæƒé™</span></span><br><span class="line"><span class="comment">//m_C; //ä¸å¯è®¿é—®</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">GrandSon3</span> :</span><span class="keyword">public</span> Son3</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//Son3æ˜¯ç§æœ‰ç»§æ‰¿ï¼Œæ‰€ä»¥ç»§æ‰¿Son3çš„å±æ€§åœ¨GrandSon3ä¸­éƒ½æ— æ³•è®¿é—®åˆ°</span></span><br><span class="line"><span class="comment">//m_A;</span></span><br><span class="line"><span class="comment">//m_B;</span></span><br><span class="line"><span class="comment">//m_C;</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="ç»§æ‰¿ä¸­çš„å¯¹è±¡æ¨¡å‹"><a href="#ç»§æ‰¿ä¸­çš„å¯¹è±¡æ¨¡å‹" class="headerlink" title="ç»§æ‰¿ä¸­çš„å¯¹è±¡æ¨¡å‹"></a>ç»§æ‰¿ä¸­çš„å¯¹è±¡æ¨¡å‹</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Base</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="keyword">int</span> m_A;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line"><span class="keyword">int</span> m_B;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="keyword">int</span> m_C; <span class="comment">//ç§æœ‰æˆå‘˜åªæ˜¯è¢«éšè—äº†ï¼Œä½†æ˜¯è¿˜æ˜¯ä¼šç»§æ‰¿ä¸‹å»</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å…¬å…±ç»§æ‰¿</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Son</span> :</span><span class="keyword">public</span> Base</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="keyword">int</span> m_D;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"sizeof Son = "</span> &lt;&lt; <span class="keyword">sizeof</span>(Son) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> <strong>çˆ¶ç±»ä¸­ç§æœ‰æˆå‘˜ä¹Ÿæ˜¯è¢«å­ç±»ç»§æ‰¿ä¸‹å»äº†ï¼Œåªæ˜¯ç”±ç¼–è¯‘å™¨ç»™éšè—åè®¿é—®ä¸åˆ°</strong></p><h3 id="ç»§æ‰¿ä¸­æ„é€ å’Œææ„é¡ºåº"><a href="#ç»§æ‰¿ä¸­æ„é€ å’Œææ„é¡ºåº" class="headerlink" title="ç»§æ‰¿ä¸­æ„é€ å’Œææ„é¡ºåº"></a>ç»§æ‰¿ä¸­æ„é€ å’Œææ„é¡ºåº</h3><ul><li>æ„é€ é¡ºåºæ˜¯å…ˆçˆ¶åå­</li><li>ææ„é¡ºåºæ˜¯å…ˆå­åçˆ¶</li></ul><h3 id="ç»§æ‰¿ä¸­åŒåæˆå‘˜çš„å¤„ç†æ–¹å¼"><a href="#ç»§æ‰¿ä¸­åŒåæˆå‘˜çš„å¤„ç†æ–¹å¼" class="headerlink" title="ç»§æ‰¿ä¸­åŒåæˆå‘˜çš„å¤„ç†æ–¹å¼"></a>ç»§æ‰¿ä¸­åŒåæˆå‘˜çš„å¤„ç†æ–¹å¼</h3><ul><li>è®¿é—®å­ç±»åŒåæˆå‘˜ï¼Œç›´æ¥è®¿é—®</li><li>è®¿é—®çˆ¶ç±»åŒåæˆå‘˜ï¼Œéœ€è¦åŠ ä½œç”¨åŸŸ</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Base</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Base()</span><br><span class="line">&#123;</span><br><span class="line">m_A = <span class="number">100</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"Base - func()è°ƒç”¨"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">(<span class="keyword">int</span> a)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"Base - func(int a)è°ƒç”¨"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="keyword">int</span> m_A;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Son</span> :</span> <span class="keyword">public</span> Base &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Son()</span><br><span class="line">&#123;</span><br><span class="line">m_A = <span class="number">200</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å½“å­ç±»ä¸çˆ¶ç±»æ‹¥æœ‰åŒåçš„æˆå‘˜å‡½æ•°ï¼Œå­ç±»ä¼šéšè—çˆ¶ç±»ä¸­æ‰€æœ‰ç‰ˆæœ¬çš„åŒåæˆå‘˜å‡½æ•°</span></span><br><span class="line"><span class="comment">//å¦‚æœæƒ³è®¿é—®çˆ¶ç±»ä¸­è¢«éšè—çš„åŒåæˆå‘˜å‡½æ•°ï¼Œéœ€è¦åŠ çˆ¶ç±»çš„ä½œç”¨åŸŸ</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"Son - func()è°ƒç”¨"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="keyword">int</span> m_A;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Son s;</span><br><span class="line"></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"Sonä¸‹çš„m_A = "</span> &lt;&lt; s.m_A &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"Baseä¸‹çš„m_A = "</span> &lt;&lt; s.Base::m_A &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">s.func();</span><br><span class="line">s.Base::func();</span><br><span class="line">s.Base::func(<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"><span class="keyword">return</span> EXIT_SUCCESS;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><pre><code>//å½“å­ç±»ä¸çˆ¶ç±»æ‹¥æœ‰åŒåçš„æˆå‘˜å‡½æ•°ï¼Œå­ç±»ä¼šéšè—çˆ¶ç±»ä¸­æ‰€æœ‰ç‰ˆæœ¬çš„åŒåæˆå‘˜å‡½æ•°//å¦‚æœæƒ³è®¿é—®çˆ¶ç±»ä¸­è¢«éšè—çš„åŒåæˆå‘˜å‡½æ•°ï¼Œéœ€è¦åŠ çˆ¶ç±»çš„ä½œç”¨åŸŸ</code></pre><p>æ€»ç»“ï¼šæƒ³è¦è®¿é—®çˆ¶ç±»ä¸­è¢«é‡å¤çš„å¯¹è±¡ï¼Œæ·»åŠ ä½œç”¨åŸŸæ‰å¯è®¿é—®åˆ°ã€‚</p><h3 id="ç»§æ‰¿åŒåé™æ€æˆå‘˜å¤„ç†æ–¹å¼"><a href="#ç»§æ‰¿åŒåé™æ€æˆå‘˜å¤„ç†æ–¹å¼" class="headerlink" title="ç»§æ‰¿åŒåé™æ€æˆå‘˜å¤„ç†æ–¹å¼"></a>ç»§æ‰¿åŒåé™æ€æˆå‘˜å¤„ç†æ–¹å¼</h3><ul><li>è®¿é—®å­ç±»åŒåæˆå‘˜ï¼Œç›´æ¥è®¿é—®å³å¯</li><li>è®¿é—®çˆ¶ç±»åŒåæˆå‘˜ï¼Œéœ€è¦å¤©æœºå•Šä½œç”¨åŸŸ</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Base</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">func</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"Base - static void func()"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">func</span><span class="params">(<span class="keyword">int</span> a)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"Base - static void func(int a)"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">int</span> m_A;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> Base::m_A = <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Son</span> :</span> <span class="keyword">public</span> Base &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">func</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"Son - static void func()"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">static</span> <span class="keyword">int</span> m_A;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> Son::m_A = <span class="number">200</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åŒåæˆå‘˜å±æ€§</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//é€šè¿‡å¯¹è±¡è®¿é—®</span></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"é€šè¿‡å¯¹è±¡è®¿é—®ï¼š "</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">Son s;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"Son  ä¸‹ m_A = "</span> &lt;&lt; s.m_A &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"Base ä¸‹ m_A = "</span> &lt;&lt; s.Base::m_A &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//é€šè¿‡ç±»åè®¿é—®</span></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"é€šè¿‡ç±»åè®¿é—®ï¼š "</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"Son  ä¸‹ m_A = "</span> &lt;&lt; Son::m_A &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"Base ä¸‹ m_A = "</span> &lt;&lt; Son::Base::m_A &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åŒåæˆå‘˜å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test02</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//é€šè¿‡å¯¹è±¡è®¿é—®</span></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"é€šè¿‡å¯¹è±¡è®¿é—®ï¼š "</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">Son s;</span><br><span class="line">s.func();</span><br><span class="line">s.Base::func();</span><br><span class="line"></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"é€šè¿‡ç±»åè®¿é—®ï¼š "</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">Son::func();</span><br><span class="line">Son::Base::func();</span><br><span class="line"><span class="comment">//å‡ºç°åŒåï¼Œå­ç±»ä¼šéšè—æ‰çˆ¶ç±»ä¸­æ‰€æœ‰åŒåæˆå‘˜å‡½æ•°ï¼Œéœ€è¦åŠ ä½œä½œç”¨åŸŸè®¿é—®</span></span><br><span class="line">Son::Base::func(<span class="number">100</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//test01();</span></span><br><span class="line">test02();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å¤šç»§æ‰¿è¯­æ³•"><a href="#å¤šç»§æ‰¿è¯­æ³•" class="headerlink" title="å¤šç»§æ‰¿è¯­æ³•"></a>å¤šç»§æ‰¿è¯­æ³•</h2><p>C++ å…è®¸ä¸€ä¸ªç±»ç»§æ‰¿å¤šä¸ªç±»</p><p><strong>è¯­æ³•ï¼š</strong> <code>class</code> <code>å­ç±»</code> ï¼š<code>ç»§æ‰¿æ–¹å¼</code> <code>çˆ¶ç±»1</code>ï¼Œ <code>ç»§æ‰¿æ–¹å¼</code> <code>çˆ¶ç±»2</code></p><p>å¤šç»§æ‰¿å¯èƒ½ä¼šå¼•å‘çˆ¶ç±»ä¸­æœ‰åŒåæˆå‘˜å‡ºç°ï¼Œ<strong>éœ€è¦åŠ ä½œç”¨åŸŸåŒºåˆ†</strong></p><p><strong>C++ å®é™…å¼€å‘ä¸­ä¸å»ºè®®ç”¨å¤šç»§æ‰¿</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Base1</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Base1()</span><br><span class="line">&#123;</span><br><span class="line">m_A = <span class="number">100</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="keyword">int</span> m_A;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Base2</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Base2()</span><br><span class="line">&#123;</span><br><span class="line">m_A = <span class="number">200</span>;  <span class="comment">//å¼€å§‹æ˜¯m_B ä¸ä¼šå‡ºé—®é¢˜ï¼Œä½†æ˜¯æ”¹ä¸ºmAå°±ä¼šå‡ºç°ä¸æ˜ç¡®</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="keyword">int</span> m_A;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¯­æ³•ï¼šclass å­ç±»ï¼šç»§æ‰¿æ–¹å¼ çˆ¶ç±»1 ï¼Œç»§æ‰¿æ–¹å¼ çˆ¶ç±»2</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Son</span> :</span> <span class="keyword">public</span> Base2, <span class="keyword">public</span> Base1</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Son()</span><br><span class="line">&#123;</span><br><span class="line">m_C = <span class="number">300</span>;</span><br><span class="line">m_D = <span class="number">400</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="keyword">int</span> m_C;</span><br><span class="line"><span class="keyword">int</span> m_D;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//å¤šç»§æ‰¿å®¹æ˜“äº§ç”Ÿæˆå‘˜åŒåçš„æƒ…å†µ</span></span><br><span class="line"><span class="comment">//é€šè¿‡ä½¿ç”¨ç±»åä½œç”¨åŸŸå¯ä»¥åŒºåˆ†è°ƒç”¨å“ªä¸€ä¸ªåŸºç±»çš„æˆå‘˜</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Son s;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"sizeof Son = "</span> &lt;&lt; <span class="keyword">sizeof</span>(s) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; s.Base1::m_A &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; s.Base2::m_A &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="è±å½¢ç»§æ‰¿é—®é¢˜çš„è§£å†³æ–¹å¼"><a href="#è±å½¢ç»§æ‰¿é—®é¢˜çš„è§£å†³æ–¹å¼" class="headerlink" title="è±å½¢ç»§æ‰¿é—®é¢˜çš„è§£å†³æ–¹å¼"></a>è±å½¢ç»§æ‰¿é—®é¢˜çš„è§£å†³æ–¹å¼</h3><p>è±å½¢ç»§æ‰¿å³ï¼Œå¤šç»§æ‰¿äº†çˆ¶ç±»çš„ç›¸åŒåŒåå±æ€§ï¼Œå¸¦æ¥çš„ä¸»è¦é—®é¢˜æ˜¯å­ç±»ç»§æ‰¿ä¸¤ä»½ç›¸åŒçš„æ•°æ®ï¼Œå¯¼è‡´èµ„æºæµªè´¹ä»¥åŠæ¯«æ— æ„ä¹‰</p><p>åœ¨ç»§æ‰¿ä¹‹å‰ï¼Œæ·»åŠ å…³é”®å­— <code>virtual</code> å˜ä¸ºè™šç»§æ‰¿</p><p><code>class Sheep : virtual public Animal{};</code></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20210305004227323.png" alt="image-20210305004227323"></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="keyword">int</span> m_Age;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç»§æ‰¿å‰åŠ virtualå…³é”®å­—åï¼Œå˜ä¸ºè™šç»§æ‰¿</span></span><br><span class="line"><span class="comment">//æ­¤æ—¶å…¬å…±çš„çˆ¶ç±»Animalç§°ä¸ºè™šåŸºç±»</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Sheep</span> :</span> <span class="keyword">virtual</span> <span class="keyword">public</span> Animal &#123;&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Tuo</span>   :</span> <span class="keyword">virtual</span> <span class="keyword">public</span> Animal &#123;&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SheepTuo</span> :</span> <span class="keyword">public</span> Sheep, <span class="keyword">public</span> Tuo &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">SheepTuo st;</span><br><span class="line">st.Sheep::m_Age = <span class="number">100</span>;</span><br><span class="line">st.Tuo::m_Age = <span class="number">200</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"st.Sheep::m_Age = "</span> &lt;&lt; st.Sheep::m_Age &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"st.Tuo::m_Age = "</span> &lt;&lt;  st.Tuo::m_Age &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"st.m_Age = "</span> &lt;&lt; st.m_Age &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å¤šæ€"><a href="#å¤šæ€" class="headerlink" title="å¤šæ€"></a>å¤šæ€</h2><ul><li><p>é™æ€å¤šæ€: å‡½æ•°é‡è½½ å’Œ è¿ç®—ç¬¦é‡è½½å±äºé™æ€å¤šæ€ï¼Œå¤ç”¨å‡½æ•°å</p><p>  å‡½æ•°åœ°å€åœ¨ç¼–è¯‘é˜¶æ®µå°±èƒ½ç¡®å®šï¼Œé™æ€è”ç¼–</p></li></ul><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-05%20at%2015.07.53.png" alt="Screen Shot 2021-03-05 at 15.07.53"></p><ul><li><p>==åŠ¨æ€å¤šæ€: æ´¾ç”Ÿç±»å’Œè™šå‡½æ•°å®ç°è¿è¡Œæ—¶å¤šæ€==</p><p>  å‡½æ•°åœ°å€åœ¨è¿è¡Œé˜¶æ®µæ‰èƒ½ç¡®å®šï¼Œå°±æ˜¯åŠ¨æ€è”ç¼–</p></li></ul><p>é™æ€å¤šæ€å’ŒåŠ¨æ€å¤šæ€åŒºåˆ«ï¼š</p><ul><li><p>é™æ€å¤šæ€çš„å‡½æ•°åœ°å€æ—©ç»‘å®š  -  ç¼–è¯‘é˜¶æ®µç¡®å®šå‡½æ•°åœ°å€</p></li><li><p>åŠ¨æ€å¤šæ€çš„å‡½æ•°åœ°å€æ™šç»‘å®š  -  è¿è¡Œé˜¶æ®µç¡®å®šå‡½æ•°åœ°å€</p><p>(åŠ¨æ€åœ°å€é€šè¿‡åœ¨çˆ¶ç±»å‡½æ•°ä¸­ä½¿ç”¨ virtual æ¥è¿›è¡Œè™šå‡½æ•°)</p></li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="comment">//Speakå‡½æ•°å°±æ˜¯è™šå‡½æ•°</span></span><br><span class="line"><span class="comment">//å‡½æ•°å‰é¢åŠ ä¸Švirtualå…³é”®å­—ï¼Œå˜æˆè™šå‡½æ•°ï¼Œé‚£ä¹ˆç¼–è¯‘å™¨åœ¨ç¼–è¯‘çš„æ—¶å€™å°±ä¸èƒ½ç¡®å®šå‡½æ•°è°ƒç”¨äº†ã€‚</span></span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">speak</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"åŠ¨ç‰©åœ¨è¯´è¯"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span> :</span><span class="keyword">public</span> Animal</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">speak</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"å°çŒ«åœ¨è¯´è¯"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> :</span><span class="keyword">public</span> Animal</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">speak</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"å°ç‹—åœ¨è¯´è¯"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//æˆ‘ä»¬å¸Œæœ›ä¼ å…¥ä»€ä¹ˆå¯¹è±¡ï¼Œé‚£ä¹ˆå°±è°ƒç”¨ä»€ä¹ˆå¯¹è±¡çš„å‡½æ•°</span></span><br><span class="line"><span class="comment">//å¦‚æœå‡½æ•°åœ°å€åœ¨ç¼–è¯‘é˜¶æ®µå°±èƒ½ç¡®å®šï¼Œé‚£ä¹ˆé™æ€è”ç¼–</span></span><br><span class="line"><span class="comment">//å¦‚æœå‡½æ•°åœ°å€åœ¨è¿è¡Œé˜¶æ®µæ‰èƒ½ç¡®å®šï¼Œå°±æ˜¯åŠ¨æ€è”ç¼–</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DoSpeak</span><span class="params">(Animal &amp; animal)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">animal.speak();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//å¤šæ€æ»¡è¶³æ¡ä»¶ï¼š</span></span><br><span class="line"><span class="comment">//1ã€æœ‰ç»§æ‰¿å…³ç³»</span></span><br><span class="line"><span class="comment">//2ã€å­ç±»é‡å†™çˆ¶ç±»ä¸­çš„è™šå‡½æ•°</span></span><br><span class="line"><span class="comment">//å¤šæ€ä½¿ç”¨ï¼š</span></span><br><span class="line"><span class="comment">//çˆ¶ç±»æŒ‡é’ˆæˆ–å¼•ç”¨æŒ‡å‘å­ç±»å¯¹è±¡</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Cat cat;</span><br><span class="line">DoSpeak(cat);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Dog dog;</span><br><span class="line">DoSpeak(dog);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="çº¯è™šå‡½æ•°å’ŒæŠ½è±¡ç±»"><a href="#çº¯è™šå‡½æ•°å’ŒæŠ½è±¡ç±»" class="headerlink" title="çº¯è™šå‡½æ•°å’ŒæŠ½è±¡ç±»"></a>çº¯è™šå‡½æ•°å’ŒæŠ½è±¡ç±»</h3><p>çˆ¶ç±»ä¸­çš„è™šå‡½æ•°å®ç°å¤§å¤šæ•°æ—¶å€™æ˜¯æ¯«æ— æ„ä¹‰çš„ï¼Œé€šå¸¸éƒ½æ˜¯åˆ©ç”¨å­ç±»ä¸­è¿›è¡Œè°ƒç”¨å­ç±»çš„é‡å†™çš„å†…å®¹ã€‚</p><p>å­ç±»å¿…é¡»é‡å†™çˆ¶ç±»ä¸­çš„çº¯è™šå‡½æ•°ï¼ˆJavaæ¥å£åŒï¼‰</p><p>å½“ç±»ä¸­æœ‰äº†çº¯è™šå‡½æ•°ï¼Œé‚£ä¹ˆè¿™ä¸ªç±»å°±ç§°ä¸º==æŠ½è±¡ç±»==</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Base</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="comment">//çº¯è™šå‡½æ•°</span></span><br><span class="line"><span class="comment">//ç±»ä¸­åªè¦æœ‰ä¸€ä¸ªçº¯è™šå‡½æ•°å°±ç§°ä¸ºæŠ½è±¡ç±»</span></span><br><span class="line"><span class="comment">//æŠ½è±¡ç±»æ— æ³•å®ä¾‹åŒ–å¯¹è±¡</span></span><br><span class="line"><span class="comment">//å­ç±»å¿…é¡»é‡å†™çˆ¶ç±»ä¸­çš„çº¯è™šå‡½æ•°ï¼Œå¦åˆ™ä¹Ÿå±äºæŠ½è±¡ç±»</span></span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">func</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Son</span> :</span><span class="keyword">public</span> Base</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">func</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"funcè°ƒç”¨"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Base * base = <span class="literal">NULL</span>;</span><br><span class="line"><span class="comment">//base = new Base; // é”™è¯¯ï¼ŒæŠ½è±¡ç±»æ— æ³•å®ä¾‹åŒ–å¯¹è±¡</span></span><br><span class="line">base = <span class="keyword">new</span> Son;</span><br><span class="line">base-&gt;func();</span><br><span class="line"><span class="keyword">delete</span> base;<span class="comment">//è®°å¾—é”€æ¯</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å¤šæ€æ¡ˆä¾‹ï¼Œåˆ¶ä½œé¥®å“"><a href="#å¤šæ€æ¡ˆä¾‹ï¼Œåˆ¶ä½œé¥®å“" class="headerlink" title="å¤šæ€æ¡ˆä¾‹ï¼Œåˆ¶ä½œé¥®å“"></a>å¤šæ€æ¡ˆä¾‹ï¼Œåˆ¶ä½œé¥®å“</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Abstractdrinking</span>&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">HeatWater</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Brew</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">PourIn</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">AddSup</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">MakeDrinking</span><span class="params">()</span></span>&#123;</span><br><span class="line">        HeatWater();</span><br><span class="line">        Brew();</span><br><span class="line">        PourIn();</span><br><span class="line">        AddSup();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Coffee</span>:</span> <span class="keyword">public</span> Abstractdrinking&#123;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">HeatWater</span><span class="params">()</span></span>&#123;</span><br><span class="line">       <span class="built_in">cout</span>&lt;&lt;<span class="string">"Heat NongF Water."</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Brew</span><span class="params">()</span></span>&#123;</span><br><span class="line">       <span class="built_in">cout</span>&lt;&lt;<span class="string">"brew coffee."</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">PourIn</span><span class="params">()</span></span>&#123;</span><br><span class="line">       <span class="built_in">cout</span>&lt;&lt;<span class="string">"Pour in NongF Water for Coffee."</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">AddSup</span><span class="params">()</span></span>&#123;</span><br><span class="line">       <span class="built_in">cout</span>&lt;&lt;<span class="string">"Add support milk &amp; sugar."</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Tea</span>:</span> <span class="keyword">public</span> Abstractdrinking&#123;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">HeatWater</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"Heat Quan Water."</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Brew</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"brew tea."</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">PourIn</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"Pour in Quan Water for tea."</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">AddSup</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"Add support lemon."</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">doWork</span><span class="params">(Abstractdrinking &amp;abstractdrinking)</span></span>&#123;</span><br><span class="line">    abstractdrinking.MakeDrinking();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">doWork</span><span class="params">(Abstractdrinking *abstractdrinking)</span></span>&#123;</span><br><span class="line">    abstractdrinking-&gt;MakeDrinking();</span><br><span class="line">    <span class="keyword">delete</span> abstractdrinking;</span><br><span class="line">    abstractdrinking = <span class="literal">nullptr</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span>&#123;</span><br><span class="line">    Abstractdrinking *coffee = <span class="keyword">new</span> Coffee();</span><br><span class="line">    doWork(*coffee);</span><br><span class="line">    <span class="keyword">delete</span> coffee;</span><br><span class="line">    coffee = <span class="literal">nullptr</span>;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"---------------------------------"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    Abstractdrinking *tea = <span class="keyword">new</span> Tea();</span><br><span class="line">    doWork(*tea);</span><br><span class="line">    <span class="keyword">delete</span> tea;</span><br><span class="line">    tea = <span class="literal">nullptr</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test02</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"doWork with test02 using point."</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    doWork(<span class="keyword">new</span> Coffee());</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"---------------------------------"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    doWork(<span class="keyword">new</span> Tea());</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    test01();</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"================================="</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    test02();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20210305181452990.png" alt="image-20210305181452990"></p><h3 id="è™šææ„å’Œçº¯è™šææ„"><a href="#è™šææ„å’Œçº¯è™šææ„" class="headerlink" title="è™šææ„å’Œçº¯è™šææ„"></a>è™šææ„å’Œçº¯è™šææ„</h3><p>çˆ¶ç±»æŒ‡é’ˆåœ¨ææ„çš„æ—¶å€™ï¼Œä¸ä¼šè°ƒç”¨å­ç±»ä¸­ææ„å‡½æ•°ï¼Œå¯¼è‡´å­ç±»å¦‚æœæœ‰å †åŒºå±æ€§ï¼Œä¼šå‡ºç°å†…å­˜æ³„æ¼çš„æƒ…å†µ</p><p>åˆ©ç”¨è™šææ„å¯ä»¥è§£å†³çˆ¶ç±»æŒ‡é’ˆé‡Šæ”¾å­ç±»å¯¹è±¡æ—¶ä¸å¹²å‡€çš„é—®é¢˜</p><p><code>virtual ~Animal(){cout&lt;&lt;&quot;destruct&quot;&lt;&lt;endl;}</code></p><p>==çº¯è™šææ„éœ€è¦å£°æ˜ä¹Ÿéœ€è¦å®ç°==</p><p>è™šææ„å’Œçº¯è™šææ„å…±æ€§ï¼š</p><ul><li>å¯ä»¥è§£å†³çˆ¶ç±»æŒ‡é’ˆé‡Šæ”¾å­ç±»å¯¹è±¡</li><li>éƒ½éœ€è¦æœ‰å…·ä½“çš„å‡½æ•°å®ç°</li></ul><p>è™šææ„å’Œçº¯è™šææ„åŒºåˆ«ï¼š</p><ul><li>å¦‚æœæ˜¯çº¯è™šææ„ï¼Œè¯¥ç±»å±äºæŠ½è±¡ç±»ï¼Œæ— æ³•å®ä¾‹åŒ–å¯¹è±¡</li></ul><p>è™šææ„è¯­æ³•ï¼š</p><p><code>virtual ~ç±»å(){}</code></p><p>çº¯è™šææ„è¯­æ³•ï¼š</p><p><code>virtual ~ç±»å()=0</code></p><p><code>ç±»å::~ç±»å(){}</code> (ç±»å†…å£°æ˜ï¼Œç±»å¤–å®ç°)</p><p>æ€»ç»“ï¼š</p><p>â€‹    1. è™šææ„æˆ–çº¯è™šææ„å°±æ˜¯ç”¨æ¥è§£å†³é€šè¿‡çˆ¶ç±»æŒ‡é’ˆé‡Šæ”¾å­ç±»å¯¹è±¡</p><p>â€‹    2. å¦‚æœå­ç±»ä¸­æ²¡æœ‰å †åŒºæ•°æ®ï¼Œå¯ä»¥ä¸å†™ä¸ºè™šææ„æˆ–çº¯è™šææ„</p><pre><code>3. æ‹¥æœ‰çº¯è™šææ„å‡½æ•°çš„ç±»ä¹Ÿå±äºæŠ½è±¡ç±»ï¼ˆæŠ½è±¡ç±»æ— æ³•å®ä¾‹åŒ–å¯¹è±¡ï¼‰</code></pre><h3 id="å¤šæ€æ¡ˆä¾‹ï¼šç”µè„‘ç»„è£…"><a href="#å¤šæ€æ¡ˆä¾‹ï¼šç”µè„‘ç»„è£…" class="headerlink" title="å¤šæ€æ¡ˆä¾‹ï¼šç”µè„‘ç»„è£…"></a>å¤šæ€æ¡ˆä¾‹ï¼šç”µè„‘ç»„è£…</h3><p><strong>æ¡ˆä¾‹æè¿°ï¼š</strong></p><p>ç”µè„‘ä¸»è¦ç»„æˆéƒ¨ä»¶ä¸º CPUï¼ˆç”¨äºè®¡ç®—ï¼‰ï¼Œæ˜¾å¡ï¼ˆç”¨äºæ˜¾ç¤ºï¼‰ï¼Œå†…å­˜æ¡ï¼ˆç”¨äºå­˜å‚¨ï¼‰</p><p>å°†æ¯ä¸ªé›¶ä»¶å°è£…å‡ºæŠ½è±¡åŸºç±»ï¼Œå¹¶ä¸”æä¾›ä¸åŒçš„å‚å•†ç”Ÿäº§ä¸åŒçš„é›¶ä»¶ï¼Œä¾‹å¦‚Intelå‚å•†å’ŒLenovoå‚å•†</p><p>åˆ›å»ºç”µè„‘ç±»æä¾›è®©ç”µè„‘å·¥ä½œçš„å‡½æ•°ï¼Œå¹¶ä¸”è°ƒç”¨æ¯ä¸ªé›¶ä»¶å·¥ä½œçš„æ¥å£</p><p>æµ‹è¯•æ—¶ç»„è£…ä¸‰å°ä¸åŒçš„ç”µè„‘è¿›è¡Œå·¥ä½œ</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æŠ½è±¡CPUç±»</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CPU</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="comment">//æŠ½è±¡çš„è®¡ç®—å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">calculate</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æŠ½è±¡æ˜¾å¡ç±»</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">VideoCard</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="comment">//æŠ½è±¡çš„æ˜¾ç¤ºå‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">display</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æŠ½è±¡å†…å­˜æ¡ç±»</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Memory</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="comment">//æŠ½è±¡çš„å­˜å‚¨å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">storage</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç”µè„‘ç±»</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Computer</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Computer(CPU * cpu, VideoCard * vc, Memory * mem)</span><br><span class="line">&#123;</span><br><span class="line">m_cpu = cpu;</span><br><span class="line">m_vc = vc;</span><br><span class="line">m_mem = mem;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æä¾›å·¥ä½œçš„å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">work</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//è®©é›¶ä»¶å·¥ä½œèµ·æ¥ï¼Œè°ƒç”¨æ¥å£</span></span><br><span class="line">m_cpu-&gt;calculate();</span><br><span class="line"></span><br><span class="line">m_vc-&gt;<span class="built_in">display</span>();</span><br><span class="line"></span><br><span class="line">m_mem-&gt;storage();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æä¾›ææ„å‡½æ•° é‡Šæ”¾3ä¸ªç”µè„‘é›¶ä»¶</span></span><br><span class="line">~Computer()</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//é‡Šæ”¾CPUé›¶ä»¶</span></span><br><span class="line"><span class="keyword">if</span> (m_cpu != <span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">delete</span> m_cpu;</span><br><span class="line">m_cpu = <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//é‡Šæ”¾æ˜¾å¡é›¶ä»¶</span></span><br><span class="line"><span class="keyword">if</span> (m_vc != <span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">delete</span> m_vc;</span><br><span class="line">m_vc = <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//é‡Šæ”¾å†…å­˜æ¡é›¶ä»¶</span></span><br><span class="line"><span class="keyword">if</span> (m_mem != <span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">delete</span> m_mem;</span><br><span class="line">m_mem = <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"></span><br><span class="line">CPU * m_cpu; <span class="comment">//CPUçš„é›¶ä»¶æŒ‡é’ˆ</span></span><br><span class="line">VideoCard * m_vc; <span class="comment">//æ˜¾å¡é›¶ä»¶æŒ‡é’ˆ</span></span><br><span class="line">Memory * m_mem; <span class="comment">//å†…å­˜æ¡é›¶ä»¶æŒ‡é’ˆ</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å…·ä½“å‚å•†</span></span><br><span class="line"><span class="comment">//Intelå‚å•†</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">IntelCPU</span> :</span><span class="keyword">public</span> CPU</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">calculate</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"Intelçš„CPUå¼€å§‹è®¡ç®—äº†ï¼"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">IntelVideoCard</span> :</span><span class="keyword">public</span> VideoCard</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">display</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"Intelçš„æ˜¾å¡å¼€å§‹æ˜¾ç¤ºäº†ï¼"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">IntelMemory</span> :</span><span class="keyword">public</span> Memory</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">storage</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"Intelçš„å†…å­˜æ¡å¼€å§‹å­˜å‚¨äº†ï¼"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Lenovoå‚å•†</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LenovoCPU</span> :</span><span class="keyword">public</span> CPU</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">calculate</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"Lenovoçš„CPUå¼€å§‹è®¡ç®—äº†ï¼"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LenovoVideoCard</span> :</span><span class="keyword">public</span> VideoCard</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">display</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"Lenovoçš„æ˜¾å¡å¼€å§‹æ˜¾ç¤ºäº†ï¼"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LenovoMemory</span> :</span><span class="keyword">public</span> Memory</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">storage</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"Lenovoçš„å†…å­˜æ¡å¼€å§‹å­˜å‚¨äº†ï¼"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//ç¬¬ä¸€å°ç”µè„‘é›¶ä»¶</span></span><br><span class="line">CPU * intelCpu = <span class="keyword">new</span> IntelCPU;</span><br><span class="line">VideoCard * intelCard = <span class="keyword">new</span> IntelVideoCard;</span><br><span class="line">Memory * intelMem = <span class="keyword">new</span> IntelMemory;</span><br><span class="line"></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"ç¬¬ä¸€å°ç”µè„‘å¼€å§‹å·¥ä½œï¼š"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="comment">//åˆ›å»ºç¬¬ä¸€å°ç”µè„‘</span></span><br><span class="line">Computer * computer1 = <span class="keyword">new</span> Computer(intelCpu, intelCard, intelMem);</span><br><span class="line">computer1-&gt;work();</span><br><span class="line"><span class="keyword">delete</span> computer1;</span><br><span class="line"></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"-----------------------"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"ç¬¬äºŒå°ç”µè„‘å¼€å§‹å·¥ä½œï¼š"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="comment">//ç¬¬äºŒå°ç”µè„‘ç»„è£…</span></span><br><span class="line">Computer * computer2 = <span class="keyword">new</span> Computer(<span class="keyword">new</span> LenovoCPU, <span class="keyword">new</span> LenovoVideoCard, <span class="keyword">new</span> LenovoMemory);;</span><br><span class="line">computer2-&gt;work();</span><br><span class="line"><span class="keyword">delete</span> computer2;</span><br><span class="line"></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"-----------------------"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"ç¬¬ä¸‰å°ç”µè„‘å¼€å§‹å·¥ä½œï¼š"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="comment">//ç¬¬ä¸‰å°ç”µè„‘ç»„è£…</span></span><br><span class="line">Computer * computer3 = <span class="keyword">new</span> Computer(<span class="keyword">new</span> LenovoCPU, <span class="keyword">new</span> IntelVideoCard, <span class="keyword">new</span> LenovoMemory);;</span><br><span class="line">computer3-&gt;work();</span><br><span class="line"><span class="keyword">delete</span> computer3;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ–‡ä»¶æ“ä½œ"><a href="#æ–‡ä»¶æ“ä½œ" class="headerlink" title="æ–‡ä»¶æ“ä½œ"></a>æ–‡ä»¶æ“ä½œ</h2><p>æ–‡ä»¶ç±»å‹ï¼š</p><ul><li>æ–‡æœ¬æ–‡ä»¶ - ä»¥æ–‡æœ¬çš„ ASCII ç å½¢å¼å­˜å‚¨åœ¨è®¡ç®—æœºä¸­</li><li>ä»¥äºŒè¿›åˆ¶å½¢å¼å­˜å‚¨åœ¨è®¡ç®—æœºä¸­ï¼Œä¸€èˆ¬ç”¨æˆ·ä¸èƒ½ç›´æ¥è¯»æ‡‚</li></ul><p>==åŒ…å«å¤´æ–‡ä»¶ #include\<fstream\>==</p><p>æ“ä½œæ–‡ä»¶çš„ä¸‰å¤§ç±»ï¼š</p><ul><li>ofstreamï¼šå†™æ“ä½œ</li><li>ifstreamï¼šè¯»æ“ä½œ</li><li>fstreamï¼šè¯»å†™æ“ä½œ</li></ul><div class="table-container"><table><thead><tr><th>æ‰“å¼€æ–¹å¼</th><th>è§£é‡Š</th></tr></thead><tbody><tr><td>ios::in</td><td>ä¸ºè¯»æ–‡ä»¶è€Œæ‰“å¼€æ–‡ä»¶</td></tr><tr><td>ios::out</td><td>ä¸ºå†™æ–‡ä»¶è€Œæ‰“å¼€æ–‡ä»¶</td></tr><tr><td>ios::ate</td><td>åˆå§‹ä½ç½®ï¼šæ–‡ä»¶å°¾</td></tr><tr><td>ios::app</td><td>è¿½åŠ æ–¹å¼å†™æ–‡ä»¶</td></tr><tr><td>ios::trunc</td><td>å¦‚æœæ–‡ä»¶å­˜åœ¨å…ˆåˆ é™¤ï¼Œå†åˆ›å»º</td></tr><tr><td>ios::binary</td><td>äºŒè¿›åˆ¶æ–¹å¼</td></tr></tbody></table></div><p>åˆ©ç”¨ ï½œ æ“ä½œç¬¦å¯ä»¥è®¾ç½®äºŒè¿›åˆ¶æ–¹å¼å†™æ–‡ä»¶ <code>ios::binary | ios::out</code></p><h3 id="å†™æ–‡ä»¶"><a href="#å†™æ–‡ä»¶" class="headerlink" title="å†™æ–‡ä»¶"></a>å†™æ–‡ä»¶</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;fstream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">ofstream ofs;</span><br><span class="line">ofs.<span class="built_in">open</span>(<span class="string">"test.txt"</span>, ios::out);</span><br><span class="line"></span><br><span class="line">ofs &lt;&lt; <span class="string">"å§“åï¼šå¼ ä¸‰"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">ofs &lt;&lt; <span class="string">"æ€§åˆ«ï¼šç”·"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">ofs &lt;&lt; <span class="string">"å¹´é¾„ï¼š18"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">ofs.<span class="built_in">close</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>æ–‡ä»¶æ“ä½œå¿…é¡»åŒ…å«å¤´æ–‡ä»¶ fstream</li><li>è¯»æ–‡ä»¶å¯ä»¥åˆ©ç”¨ ofstream  ï¼Œæˆ–è€…fstreamç±»</li><li>æ‰“å¼€æ–‡ä»¶æ—¶å€™éœ€è¦æŒ‡å®šæ“ä½œæ–‡ä»¶çš„è·¯å¾„ï¼Œä»¥åŠæ‰“å¼€æ–¹å¼</li><li>åˆ©ç”¨&lt;&lt;å¯ä»¥å‘æ–‡ä»¶ä¸­å†™æ•°æ®</li><li>æ“ä½œå®Œæ¯•ï¼Œè¦å…³é—­æ–‡ä»¶</li></ul><h3 id="è¯»æ–‡ä»¶"><a href="#è¯»æ–‡ä»¶" class="headerlink" title="è¯»æ–‡ä»¶"></a>è¯»æ–‡ä»¶</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">ifstream ifs;</span><br><span class="line">ifs.<span class="built_in">open</span>(<span class="string">"test.txt"</span>, ios::in);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (!ifs.is_open())</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"æ–‡ä»¶æ‰“å¼€å¤±è´¥"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç¬¬ä¸€ç§æ–¹å¼</span></span><br><span class="line"><span class="comment">//char buf[1024] = &#123; 0 &#125;;</span></span><br><span class="line"><span class="comment">//while (ifs &gt;&gt; buf)</span></span><br><span class="line"><span class="comment">//&#123;</span></span><br><span class="line"><span class="comment">//cout &lt;&lt; buf &lt;&lt; endl;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//ç¬¬äºŒç§</span></span><br><span class="line"><span class="comment">//char buf[1024] = &#123; 0 &#125;;</span></span><br><span class="line"><span class="comment">//while (ifs.getline(buf,sizeof(buf)))</span></span><br><span class="line"><span class="comment">//&#123;</span></span><br><span class="line"><span class="comment">//cout &lt;&lt; buf &lt;&lt; endl;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//ç¬¬ä¸‰ç§</span></span><br><span class="line"><span class="comment">//string buf;</span></span><br><span class="line"><span class="comment">//while (getline(ifs, buf))</span></span><br><span class="line"><span class="comment">//&#123;</span></span><br><span class="line"><span class="comment">//cout &lt;&lt; buf &lt;&lt; endl;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">//ç¬¬å››ç§</span></span><br><span class="line">  <span class="comment">//char c;</span></span><br><span class="line">  <span class="comment">//while( (c = ifs.get()) != EOF )</span></span><br><span class="line">  <span class="comment">//&#123;</span></span><br><span class="line">  <span class="comment">//  cout &lt;&lt; c;</span></span><br><span class="line">  <span class="comment">//&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">char</span> c;</span><br><span class="line"><span class="keyword">while</span> ((c = ifs.<span class="built_in">get</span>()) != EOF)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; c;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ifs.<span class="built_in">close</span>();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>is_open å¯ä»¥åˆ¤æ–­æ–‡ä»¶æ˜¯å¦æ‰“å¼€æˆåŠŸ</code></p><h3 id="äºŒè¿›åˆ¶æ–‡ä»¶"><a href="#äºŒè¿›åˆ¶æ–‡ä»¶" class="headerlink" title="äºŒè¿›åˆ¶æ–‡ä»¶"></a>äºŒè¿›åˆ¶æ–‡ä»¶</h3><p><strong>å†™æ–‡ä»¶</strong></p><p>å‡½æ•°åŸå‹ï¼š</p><p><code>ostream&amp; write(const char * buffer, int len);</code></p><p>buffer æŒ‡å‘å†…å­˜ä¸­ä¸€æ®µå­˜å‚¨ç©ºé—´ï¼Œlen æ˜¯è¯»å†™çš„å­—èŠ‚æ•°</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="keyword">char</span> m_Name[<span class="number">64</span>];</span><br><span class="line"><span class="keyword">int</span> m_Age;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//äºŒè¿›åˆ¶æ–‡ä»¶  å†™æ–‡ä»¶</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//1ã€åŒ…å«å¤´æ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//2ã€åˆ›å»ºè¾“å‡ºæµå¯¹è±¡</span></span><br><span class="line"><span class="function">ofstream <span class="title">ofs</span><span class="params">(<span class="string">"person.txt"</span>, ios::out | ios::binary)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//3ã€æ‰“å¼€æ–‡ä»¶</span></span><br><span class="line"><span class="comment">//ofs.open("person.txt", ios::out | ios::binary);</span></span><br><span class="line"></span><br><span class="line">Person p = &#123;<span class="string">"å¼ ä¸‰"</span>  , <span class="number">18</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//4ã€å†™æ–‡ä»¶</span></span><br><span class="line">  <span class="comment">// (const char *)&amp;p çš„åŸå› æ˜¯ *&amp;p å–å‡ºæ¥çš„æ˜¯ *p ç±»å‹ï¼Œéœ€è¦è½¬æ¢ä¸º char * ç±»å‹</span></span><br><span class="line">ofs.<span class="built_in">write</span>((<span class="keyword">const</span> <span class="keyword">char</span> *)&amp;p, <span class="keyword">sizeof</span>(p));</span><br><span class="line"></span><br><span class="line"><span class="comment">//5ã€å…³é—­æ–‡ä»¶</span></span><br><span class="line">ofs.<span class="built_in">close</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>è¯»æ–‡ä»¶</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="keyword">char</span> m_Name[<span class="number">64</span>];</span><br><span class="line"><span class="keyword">int</span> m_Age;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="function">ifstream <span class="title">ifs</span><span class="params">(<span class="string">"person.txt"</span>, ios::in | ios::binary)</span></span>;</span><br><span class="line"><span class="keyword">if</span> (!ifs.is_open())</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"æ–‡ä»¶æ‰“å¼€å¤±è´¥"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Person p;</span><br><span class="line">ifs.<span class="built_in">read</span>((<span class="keyword">char</span> *)&amp;p, <span class="keyword">sizeof</span>(p));</span><br><span class="line"></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"å§“åï¼š "</span> &lt;&lt; p.m_Name &lt;&lt; <span class="string">" å¹´é¾„ï¼š "</span> &lt;&lt; p.m_Age &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="C-æ³›å‹æ¦‚å¿µï¼ˆæ¨¡æ¿ï¼‰"><a href="#C-æ³›å‹æ¦‚å¿µï¼ˆæ¨¡æ¿ï¼‰" class="headerlink" title="C++ æ³›å‹æ¦‚å¿µï¼ˆæ¨¡æ¿ï¼‰"></a>C++ æ³›å‹æ¦‚å¿µï¼ˆæ¨¡æ¿ï¼‰</h2><p>æ¨¡æ¿ç‰¹ç‚¹ï¼š</p><ul><li><p>æ¨¡æ¿ä¸å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œå®ƒä½œä¸ºä¸€ä¸ªæ¡†æ¶</p></li><li><p>æ¨¡æ¿ä¸æ˜¯ä¸‡èƒ½é€šç”¨çš„</p></li></ul><p><strong>å‡½æ•°æ¨¡æ¿å’Œç±»æ¨¡æ¿</strong></p><h3 id="å‡½æ•°æ¨¡æ¿è¯­æ³•"><a href="#å‡½æ•°æ¨¡æ¿è¯­æ³•" class="headerlink" title="å‡½æ•°æ¨¡æ¿è¯­æ³•"></a>å‡½æ•°æ¨¡æ¿è¯­æ³•</h3><p>å‡½æ•°æ¨¡æ¿ä½œç”¨ï¼š</p><p>å»ºç«‹ä¸€ä¸ªé€šç”¨å‡½æ•°ï¼Œå…¶å‡½æ•°è¿”å›å€¼ç±»å‹å’Œå½¢å‚ç±»å‹å¯ä»¥ä¸å…·ä½“åˆ¶å®šï¼Œç”¨ä¸€ä¸ª<strong>è™šæ‹Ÿçš„ç±»å‹</strong>æ¥ä»£è¡¨ã€‚</p><p><strong>è¯­æ³•ï¼š</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line">å‡½æ•°å£°æ˜æˆ–å®šä¹‰</span><br></pre></td></tr></table></figure><p><strong>è§£é‡Šï¼š</strong></p><p>template  â€”-  å£°æ˜åˆ›å»ºæ¨¡æ¿</p><p>typename  â€”- è¡¨é¢å…¶åé¢çš„ç¬¦å·æ˜¯ä¸€ç§æ•°æ®ç±»å‹ï¼Œå¯ä»¥ç”¨classä»£æ›¿ï¼ˆå³ä¸ºç±»æ¨¡æ¿ï¼‰</p><p>T    â€”-   é€šç”¨çš„æ•°æ®ç±»å‹ï¼Œåç§°å¯ä»¥æ›¿æ¢ï¼Œé€šå¸¸ä¸ºå¤§å†™å­—æ¯</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//äº¤æ¢æ•´å‹å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">swapInt</span><span class="params">(<span class="keyword">int</span>&amp; a, <span class="keyword">int</span>&amp; b)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> temp = a;</span><br><span class="line">a = b;</span><br><span class="line">b = temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//äº¤æ¢æµ®ç‚¹å‹å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">swapDouble</span><span class="params">(<span class="keyword">double</span>&amp; a, <span class="keyword">double</span>&amp; b)</span> </span>&#123;</span><br><span class="line"><span class="keyword">double</span> temp = a;</span><br><span class="line">a = b;</span><br><span class="line">b = temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ©ç”¨æ¨¡æ¿æä¾›é€šç”¨çš„äº¤æ¢å‡½æ•°</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">mySwap</span><span class="params">(T&amp; a, T&amp; b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">T temp = a;</span><br><span class="line">a = b;</span><br><span class="line">b = temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> a = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">int</span> b = <span class="number">20</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//swapInt(a, b);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ©ç”¨æ¨¡æ¿å®ç°äº¤æ¢</span></span><br><span class="line"><span class="comment">//1ã€è‡ªåŠ¨ç±»å‹æ¨å¯¼</span></span><br><span class="line">mySwap(a, b);</span><br><span class="line"></span><br><span class="line"><span class="comment">//2ã€æ˜¾ç¤ºæŒ‡å®šç±»å‹</span></span><br><span class="line">mySwap&lt;<span class="keyword">int</span>&gt;(a, b);</span><br><span class="line"></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"a = "</span> &lt;&lt; a &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"b = "</span> &lt;&lt; b &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ€»ç»“ï¼š</p><ul><li><p>å‡½æ•°æ¨¡æ¿æœ‰ä¸¤ç§ä½¿ç”¨æ–¹å¼ï¼šè‡ªåŠ¨ç±»å‹æ¨å¯¼ã€æ˜¾ç¤ºæŒ‡å®šç±»å‹</p></li><li><p>æ¨¡æ¿çš„ç›®çš„æ˜¯ä¸ºäº†æé«˜å¤ç”¨æ€§ï¼Œå°†ç±»å‹å‚æ•°åŒ–</p></li></ul><h4 id="å‡½æ•°æ¨¡æ¿æ³¨æ„äº‹é¡¹"><a href="#å‡½æ•°æ¨¡æ¿æ³¨æ„äº‹é¡¹" class="headerlink" title="å‡½æ•°æ¨¡æ¿æ³¨æ„äº‹é¡¹"></a>å‡½æ•°æ¨¡æ¿æ³¨æ„äº‹é¡¹</h4><p>æ³¨æ„äº‹é¡¹ï¼š</p><ul><li>è‡ªåŠ¨ç±»å‹æ¨å¯¼ï¼Œå¿…é¡»æ¨å¯¼å‡ºä¸€è‡´çš„æ•°æ®ç±»å‹T,æ‰å¯ä»¥ä½¿ç”¨</li></ul><ul><li>æ¨¡æ¿å¿…é¡»è¦ç¡®å®šå‡ºTçš„æ•°æ®ç±»å‹ï¼Œæ‰å¯ä»¥ä½¿ç”¨</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åˆ©ç”¨æ¨¡æ¿æä¾›é€šç”¨çš„äº¤æ¢å‡½æ•°</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">void</span> <span class="title">mySwap</span>(<span class="title">T</span>&amp; <span class="title">a</span>, <span class="title">T</span>&amp; <span class="title">b</span>)</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">T temp = a;</span><br><span class="line">a = b;</span><br><span class="line">b = temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 1ã€è‡ªåŠ¨ç±»å‹æ¨å¯¼ï¼Œå¿…é¡»æ¨å¯¼å‡ºä¸€è‡´çš„æ•°æ®ç±»å‹T,æ‰å¯ä»¥ä½¿ç”¨</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> a = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">int</span> b = <span class="number">20</span>;</span><br><span class="line"><span class="keyword">char</span> c = <span class="string">'c'</span>;</span><br><span class="line"></span><br><span class="line">mySwap(a, b); <span class="comment">// æ­£ç¡®ï¼Œå¯ä»¥æ¨å¯¼å‡ºä¸€è‡´çš„T</span></span><br><span class="line"><span class="comment">//mySwap(a, c); // é”™è¯¯ï¼Œæ¨å¯¼ä¸å‡ºä¸€è‡´çš„Tç±»å‹</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 2ã€æ¨¡æ¿å¿…é¡»è¦ç¡®å®šå‡ºTçš„æ•°æ®ç±»å‹ï¼Œæ‰å¯ä»¥ä½¿ç”¨</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">void</span> <span class="title">func</span>()</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"func è°ƒç”¨"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test02</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//func(); //é”™è¯¯ï¼Œæ¨¡æ¿ä¸èƒ½ç‹¬ç«‹ä½¿ç”¨ï¼Œå¿…é¡»ç¡®å®šå‡ºTçš„ç±»å‹</span></span><br><span class="line">func&lt;<span class="keyword">int</span>&gt;(); <span class="comment">//åˆ©ç”¨æ˜¾ç¤ºæŒ‡å®šç±»å‹çš„æ–¹å¼ï¼Œç»™Tä¸€ä¸ªç±»å‹ï¼Œæ‰å¯ä»¥ä½¿ç”¨è¯¥æ¨¡æ¿</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line">test02();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ä½¿ç”¨æ¨¡æ¿æ—¶å¿…é¡»ç¡®å®šå‡ºé€šç”¨æ•°æ®ç±»å‹ T ï¼Œå¹¶ä¸”èƒ½å¤Ÿæ¨å¯¼å‡ºä¸€è‡´çš„ç±»å‹</strong></p><h4 id="å‡½æ•°æ¨¡æ¿æ¡ˆä¾‹ï¼šé€‰æ‹©æ’åº"><a href="#å‡½æ•°æ¨¡æ¿æ¡ˆä¾‹ï¼šé€‰æ‹©æ’åº" class="headerlink" title="å‡½æ•°æ¨¡æ¿æ¡ˆä¾‹ï¼šé€‰æ‹©æ’åº"></a>å‡½æ•°æ¨¡æ¿æ¡ˆä¾‹ï¼šé€‰æ‹©æ’åº</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">mySwap</span><span class="params">(T &amp;a, T &amp;b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    T temp = a;</span><br><span class="line">    a = b;</span><br><span class="line">    b = temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">void</span> <span class="title">mySort</span>(<span class="title">T</span> <span class="title">arr</span>[], <span class="title">T</span> <span class="title">len</span>)</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> <span class="built_in">max</span> = i;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = i+<span class="number">1</span>; j &lt; len; j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(arr[j] &gt; <span class="built_in">max</span>)&#123;</span><br><span class="line">                <span class="built_in">max</span> = j;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">max</span> != i)&#123;</span><br><span class="line">            mySwap(arr[<span class="built_in">max</span>], arr[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printArray</span><span class="params">(T arr[], <span class="keyword">int</span> len)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; arr[i] &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//æµ‹è¯•charæ•°ç»„</span></span><br><span class="line"><span class="keyword">char</span> charArr[] = <span class="string">"bdcfeagh"</span>;</span><br><span class="line"><span class="comment">//int num = sizeof(charArr) / sizeof(char);</span></span><br><span class="line"><span class="comment">//mySort(charArr, num);</span></span><br><span class="line">mySort(charArr, <span class="keyword">sizeof</span>(charArr)/<span class="keyword">sizeof</span>(<span class="keyword">char</span>) );</span><br><span class="line"><span class="comment">//printArray(charArr, num);</span></span><br><span class="line">printArray(charArr, <span class="keyword">sizeof</span>(charArr)/<span class="keyword">sizeof</span>(<span class="keyword">char</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test02</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//æµ‹è¯•intæ•°ç»„</span></span><br><span class="line"><span class="keyword">int</span> intArr[] = &#123; <span class="number">7</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">9</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span> &#125;;</span><br><span class="line"><span class="keyword">int</span> num = <span class="keyword">sizeof</span>(intArr) / <span class="keyword">sizeof</span>(<span class="keyword">int</span>);</span><br><span class="line">mySort(intArr, num);</span><br><span class="line">printArray(intArr, num);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line">test02();</span><br><span class="line"></span><br><span class="line"><span class="comment">//system("pause");</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æ™®é€šå‡½æ•°ä¸å‡½æ•°æ¨¡æ¿çš„åŒºåˆ«"><a href="#æ™®é€šå‡½æ•°ä¸å‡½æ•°æ¨¡æ¿çš„åŒºåˆ«" class="headerlink" title="æ™®é€šå‡½æ•°ä¸å‡½æ•°æ¨¡æ¿çš„åŒºåˆ«"></a>æ™®é€šå‡½æ•°ä¸å‡½æ•°æ¨¡æ¿çš„åŒºåˆ«</h4><p><strong>æ™®é€šå‡½æ•°ä¸å‡½æ•°æ¨¡æ¿åŒºåˆ«ï¼š</strong></p><ul><li>æ™®é€šå‡½æ•°è°ƒç”¨æ—¶å¯ä»¥å‘ç”Ÿè‡ªåŠ¨ç±»å‹è½¬æ¢ï¼ˆéšå¼ç±»å‹è½¬æ¢ï¼‰</li><li>å‡½æ•°æ¨¡æ¿è°ƒç”¨æ—¶ï¼Œå¦‚æœåˆ©ç”¨è‡ªåŠ¨ç±»å‹æ¨å¯¼ï¼Œä¸ä¼šå‘ç”Ÿéšå¼ç±»å‹è½¬æ¢</li><li>å¦‚æœåˆ©ç”¨<strong>æ˜¾ç¤ºæŒ‡å®šç±»å‹çš„æ–¹å¼ï¼Œå¯ä»¥å‘ç”Ÿéšå¼ç±»å‹è½¬æ¢</strong></li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ™®é€šå‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">myAdd01</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å‡½æ•°æ¨¡æ¿</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">T</span> <span class="title">myAdd02</span>(<span class="title">T</span> <span class="title">a</span>, <span class="title">T</span> <span class="title">b</span>)</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä½¿ç”¨å‡½æ•°æ¨¡æ¿æ—¶ï¼Œå¦‚æœç”¨è‡ªåŠ¨ç±»å‹æ¨å¯¼ï¼Œä¸ä¼šå‘ç”Ÿè‡ªåŠ¨ç±»å‹è½¬æ¢,å³éšå¼ç±»å‹è½¬æ¢</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> a = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">int</span> b = <span class="number">20</span>;</span><br><span class="line"><span class="keyword">char</span> c = <span class="string">'c'</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; myAdd01(a, c) &lt;&lt; <span class="built_in">endl</span>; <span class="comment">//æ­£ç¡®ï¼Œå°†charç±»å‹çš„'c'éšå¼è½¬æ¢ä¸ºintç±»å‹  'c' å¯¹åº” ASCIIç  99</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//myAdd02(a, c); // æŠ¥é”™ï¼Œä½¿ç”¨è‡ªåŠ¨ç±»å‹æ¨å¯¼æ—¶ï¼Œä¸ä¼šå‘ç”Ÿéšå¼ç±»å‹è½¬æ¢</span></span><br><span class="line"></span><br><span class="line">myAdd02&lt;<span class="keyword">int</span>&gt;(a, c); <span class="comment">//æ­£ç¡®ï¼Œå¦‚æœç”¨æ˜¾ç¤ºæŒ‡å®šç±»å‹ï¼Œå¯ä»¥å‘ç”Ÿéšå¼ç±»å‹è½¬æ¢</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æ¨¡æ¿çš„å±€é™æ€§"><a href="#æ¨¡æ¿çš„å±€é™æ€§" class="headerlink" title="æ¨¡æ¿çš„å±€é™æ€§"></a>æ¨¡æ¿çš„å±€é™æ€§</h4><p>å±€é™æ€§åœ¨äºï¼šå¯¹äºæ¨¡æ¿ä¸­çš„ T è¿™ä¸ªæ•°æ®ç±»å‹æ¥è¯´ï¼Œæœ‰äº›æ—¶å€™å®ƒæ¨å¯¼ä¸å‡ºæ¥ T å±äºä»€ä¹ˆç±»å‹ ï¼Œè¿™æ˜¯æœ€å¤§çš„å±€é™æ€§</p><p><strong>ä¾‹å¦‚ï¼š</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">void</span> <span class="title">f</span>(<span class="title">T</span> <span class="title">a</span>, <span class="title">T</span> <span class="title">b</span>)</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">   a = b;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><p>åœ¨ä¸Šè¿°ä»£ç ä¸­æä¾›çš„èµ‹å€¼æ“ä½œï¼Œå¦‚æœä¼ å…¥çš„aå’Œbæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå°±æ— æ³•å®ç°äº†</p><p>å†ä¾‹å¦‚ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">void</span> <span class="title">f</span>(<span class="title">T</span> <span class="title">a</span>, <span class="title">T</span> <span class="title">b</span>)</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">   <span class="keyword">if</span>(a &gt; b) &#123; ... &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><p>åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œå¦‚æœTçš„æ•°æ®ç±»å‹ä¼ å…¥çš„æ˜¯åƒPersonè¿™æ ·çš„è‡ªå®šä¹‰æ•°æ®ç±»å‹ï¼Œä¹Ÿæ— æ³•æ­£å¸¸è¿è¡Œ</p><p>å› æ­¤C++ä¸ºäº†è§£å†³è¿™ç§é—®é¢˜ï¼Œæä¾›æ¨¡æ¿çš„é‡è½½ï¼Œå¯ä»¥ä¸ºè¿™äº›<strong>ç‰¹å®šçš„ç±»å‹</strong>æä¾›<strong>å…·ä½“åŒ–çš„æ¨¡æ¿</strong></p><p><strong>å…·ä½“åŒ–çš„æ¨¡æ¿</strong></p><p>è¯­æ³•ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å…·ä½“åŒ–ï¼Œæ˜¾ç¤ºå…·ä½“åŒ–çš„åŸå‹å’Œå®šæ„æ€ä»¥template&lt;&gt;å¼€å¤´ï¼Œå¹¶é€šè¿‡åç§°æ¥æŒ‡å‡ºç±»å‹</span></span><br><span class="line"><span class="comment">//å…·ä½“åŒ–ä¼˜å…ˆäºå¸¸è§„æ¨¡æ¿</span></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;&gt; <span class="keyword">bool</span> <span class="title">myCompare</span><span class="params">(Person &amp;p1, Person &amp;p2)</span></span></span><br></pre></td></tr></table></figure><p>å¯¹æ¯”äºï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">void</span> <span class="title">myTest</span>(<span class="title">int</span> <span class="title">a</span>, <span class="title">int</span> <span class="title">b</span>)&#123;</span></span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç±»æ¨¡æ¿"><a href="#ç±»æ¨¡æ¿" class="headerlink" title="ç±»æ¨¡æ¿"></a>ç±»æ¨¡æ¿</h3><p>æ³¨æ„ï¼š</p><ul><li>ç±»æ¨¡æ¿åªèƒ½ç”¨æ˜¾ç¤ºæŒ‡å®šç±»å‹æ–¹å¼</li><li>ç±»æ¨¡æ¿ä¸­æ¨¡æ¿å‚æ•°åˆ—è¡¨å¯ä»¥æœ‰é»˜è®¤å‚æ•°</li></ul><p>è¯­æ³•ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">className</span>&#123;</span>&#125;;</span><br></pre></td></tr></table></figure><p><strong>åœ¨ç±»æ¨¡æ¿ä¸­ï¼Œå£°æ˜æ¨¡æ¿ template åé¢åŠ ç±»</strong></p><h3 id="ç±»æ¨¡æ¿ä¸å‡½æ•°æ¨¡æ¿åŒºåˆ«"><a href="#ç±»æ¨¡æ¿ä¸å‡½æ•°æ¨¡æ¿åŒºåˆ«" class="headerlink" title="ç±»æ¨¡æ¿ä¸å‡½æ•°æ¨¡æ¿åŒºåˆ«"></a>ç±»æ¨¡æ¿ä¸å‡½æ•°æ¨¡æ¿åŒºåˆ«</h3><ul><li>ç±»æ¨¡æ¿æ²¡æœ‰è‡ªåŠ¨ç±»å‹æ¨å¯¼çš„ä½¿ç”¨æ–¹å¼</li><li>ç±»æ¨¡æ¿ä½¿ç”¨åªèƒ½ç”¨æ˜¾ç¤ºæŒ‡å®šç±»å‹æ–¹å¼</li><li>ç±»æ¨¡æ¿åœ¨æ¨¡æ¿å‚æ•°åˆ—è¡¨ä¸­æœ‰é»˜è®¤å‚æ•°</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="comment">//ç±»æ¨¡æ¿</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">NameType</span>, <span class="title">class</span> <span class="title">AgeType</span> = <span class="title">int</span>&gt; //è®¾ç½®çš„é»˜è®¤å‚æ•° <span class="title">int</span></span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">Person</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Person(NameType name, AgeType age)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">this</span>-&gt;mName = name;</span><br><span class="line"><span class="keyword">this</span>-&gt;mAge = age;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">showPerson</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"name: "</span> &lt;&lt; <span class="keyword">this</span>-&gt;mName &lt;&lt; <span class="string">" age: "</span> &lt;&lt; <span class="keyword">this</span>-&gt;mAge &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">NameType mName;</span><br><span class="line">AgeType mAge;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//1ã€ç±»æ¨¡æ¿æ²¡æœ‰è‡ªåŠ¨ç±»å‹æ¨å¯¼çš„ä½¿ç”¨æ–¹å¼</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">// Person p("å­™æ‚Ÿç©º", 1000); // é”™è¯¯ ç±»æ¨¡æ¿ä½¿ç”¨æ—¶å€™ï¼Œä¸å¯ä»¥ç”¨è‡ªåŠ¨ç±»å‹æ¨å¯¼</span></span><br><span class="line">Person &lt;<span class="built_in">string</span> ,<span class="keyword">int</span>&gt;p(<span class="string">"å­™æ‚Ÿç©º"</span>, <span class="number">1000</span>); <span class="comment">//å¿…é¡»ä½¿ç”¨æ˜¾ç¤ºæŒ‡å®šç±»å‹çš„æ–¹å¼ï¼Œä½¿ç”¨ç±»æ¨¡æ¿</span></span><br><span class="line">p.showPerson();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//2ã€ç±»æ¨¡æ¿åœ¨æ¨¡æ¿å‚æ•°åˆ—è¡¨ä¸­å¯ä»¥æœ‰é»˜è®¤å‚æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test02</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Person &lt;<span class="built_in">string</span>&gt; p(<span class="string">"çŒªå…«æˆ’"</span>, <span class="number">999</span>); <span class="comment">//ç±»æ¨¡æ¿ä¸­çš„æ¨¡æ¿å‚æ•°åˆ—è¡¨ å¯ä»¥æŒ‡å®šé»˜è®¤å‚æ•°</span></span><br><span class="line">p.showPerson();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">test02();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç±»æ¨¡æ¿ä¸­æˆå‘˜å‡½æ•°åˆ›å»ºæ—¶æœº"><a href="#ç±»æ¨¡æ¿ä¸­æˆå‘˜å‡½æ•°åˆ›å»ºæ—¶æœº" class="headerlink" title="ç±»æ¨¡æ¿ä¸­æˆå‘˜å‡½æ•°åˆ›å»ºæ—¶æœº"></a>ç±»æ¨¡æ¿ä¸­æˆå‘˜å‡½æ•°åˆ›å»ºæ—¶æœº</h3><ul><li>æ™®é€šç±»ä¸­çš„æˆå‘˜å‡½æ•°ä¸€å¼€å§‹å°±å¯ä»¥åˆ›å»º</li><li>ç±»æ¨¡æ¿ä¸­çš„æˆå‘˜å‡½æ•°åœ¨è°ƒç”¨æ—¶æ‰åˆ›å»º</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person1</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">showPerson1</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"Person1 show"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person2</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">showPerson2</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"Person2 show"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">MyClass</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">T obj;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç±»æ¨¡æ¿ä¸­çš„æˆå‘˜å‡½æ•°ï¼Œå¹¶ä¸æ˜¯ä¸€å¼€å§‹å°±åˆ›å»ºçš„ï¼Œè€Œæ˜¯åœ¨æ¨¡æ¿è°ƒç”¨æ—¶å†ç”Ÿæˆ</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">fun1</span><span class="params">()</span> </span>&#123; obj.showPerson1(); &#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">fun2</span><span class="params">()</span> </span>&#123; obj.showPerson2(); &#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">MyClass&lt;Person1&gt; m;</span><br><span class="line"></span><br><span class="line">m.fun1();</span><br><span class="line"></span><br><span class="line"><span class="comment">//m.fun2();//ç¼–è¯‘ä¼šå‡ºé”™ï¼Œè¯´æ˜å‡½æ•°è°ƒç”¨æ‰ä¼šå»åˆ›å»ºæˆå‘˜å‡½æ•°</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç±»æ¨¡æ¿å¯¹è±¡ä½œå‡½æ•°å‚æ•°"><a href="#ç±»æ¨¡æ¿å¯¹è±¡ä½œå‡½æ•°å‚æ•°" class="headerlink" title="ç±»æ¨¡æ¿å¯¹è±¡ä½œå‡½æ•°å‚æ•°"></a>ç±»æ¨¡æ¿å¯¹è±¡ä½œå‡½æ•°å‚æ•°</h3><ol><li><strong>æŒ‡å®šä¼ å…¥çš„ç±»å‹   â€”- ç›´æ¥æ˜¾ç¤ºå¯¹è±¡çš„æ•°æ®ç±»å‹</strong></li><li>å‚æ•°æ¨¡æ¿åŒ–           â€”- å°†å¯¹è±¡ä¸­çš„å‚æ•°å˜ä¸ºæ¨¡æ¿è¿›è¡Œä¼ é€’</li><li>æ•´ä¸ªç±»æ¨¡æ¿åŒ–       â€”- å°†è¿™ä¸ªå¯¹è±¡ç±»å‹ æ¨¡æ¿åŒ–è¿›è¡Œä¼ é€’</li></ol><p>å…¶ä¸­æŒ‡å®šæ•°æ®ç±»å‹æ˜¯ä½¿ç”¨æœ€å¹¿æ³›çš„</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="comment">//ç±»æ¨¡æ¿</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">NameType</span>, <span class="title">class</span> <span class="title">AgeType</span> = <span class="title">int</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">Person</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Person(NameType name, AgeType age)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">this</span>-&gt;mName = name;</span><br><span class="line"><span class="keyword">this</span>-&gt;mAge = age;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">showPerson</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"name: "</span> &lt;&lt; <span class="keyword">this</span>-&gt;mName &lt;&lt; <span class="string">" age: "</span> &lt;&lt; <span class="keyword">this</span>-&gt;mAge &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">NameType mName;</span><br><span class="line">AgeType mAge;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//1ã€æŒ‡å®šä¼ å…¥çš„ç±»å‹</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printPerson1</span><span class="params">(Person&lt;<span class="built_in">string</span>, <span class="keyword">int</span>&gt; &amp;p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">p.showPerson();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Person &lt;<span class="built_in">string</span>, <span class="keyword">int</span> &gt;p(<span class="string">"å­™æ‚Ÿç©º"</span>, <span class="number">100</span>);</span><br><span class="line">printPerson1(p);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//2ã€å‚æ•°æ¨¡æ¿åŒ–</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="class"><span class="keyword">class</span> <span class="title">T1</span>, <span class="title">class</span> <span class="title">T2</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">void</span> <span class="title">printPerson2</span>(<span class="title">Person</span>&lt;T1, T2&gt;&amp;<span class="title">p</span>)</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">p.showPerson();</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"T1çš„ç±»å‹ä¸ºï¼š "</span> &lt;&lt; <span class="keyword">typeid</span>(T1).name() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"T2çš„ç±»å‹ä¸ºï¼š "</span> &lt;&lt; <span class="keyword">typeid</span>(T2).name() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test02</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Person &lt;<span class="built_in">string</span>, <span class="keyword">int</span> &gt;p(<span class="string">"çŒªå…«æˆ’"</span>, <span class="number">90</span>);</span><br><span class="line">printPerson2(p);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//3ã€æ•´ä¸ªç±»æ¨¡æ¿åŒ–</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">void</span> <span class="title">printPerson3</span>(<span class="title">T</span> &amp; <span class="title">p</span>)</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"Tçš„ç±»å‹ä¸ºï¼š "</span> &lt;&lt; <span class="keyword">typeid</span>(T).name() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">p.showPerson();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test03</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Person &lt;<span class="built_in">string</span>, <span class="keyword">int</span> &gt;p(<span class="string">"å”åƒ§"</span>, <span class="number">30</span>);</span><br><span class="line">printPerson3(p);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line">test02();</span><br><span class="line">test03();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç±»æ¨¡æ¿ä¸ç»§æ‰¿"><a href="#ç±»æ¨¡æ¿ä¸ç»§æ‰¿" class="headerlink" title="ç±»æ¨¡æ¿ä¸ç»§æ‰¿"></a>ç±»æ¨¡æ¿ä¸ç»§æ‰¿</h3><ul><li>å½“å­ç±»ç»§æ‰¿çš„çˆ¶ç±»æ˜¯ä¸€ä¸ªç±»æ¨¡æ¿æ—¶ï¼Œå­ç±»åœ¨å£°æ˜çš„æ—¶å€™ï¼Œè¦æŒ‡å®šå‡ºçˆ¶ç±»ä¸­ T çš„ç±»å‹</li><li>å¦‚æœä¸æŒ‡å®šï¼Œç¼–è¯‘å™¨æ— æ³•ç»™å­ç±»åˆ†é…å†…å­˜</li><li>å¦‚æœæƒ³çµæ´»æŒ‡å®šå‡ºçˆ¶ç±»ä¸­Tçš„ç±»å‹ï¼Œå­ç±»ä¹Ÿéœ€å˜ä¸ºç±»æ¨¡æ¿</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">Base</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">T m;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//class Son:public Base  //é”™è¯¯ï¼Œc++ç¼–è¯‘éœ€è¦ç»™å­ç±»åˆ†é…å†…å­˜ï¼Œå¿…é¡»çŸ¥é“çˆ¶ç±»ä¸­Tçš„ç±»å‹æ‰å¯ä»¥å‘ä¸‹ç»§æ‰¿</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Son</span> :</span><span class="keyword">public</span> Base&lt;<span class="keyword">int</span>&gt; <span class="comment">//å¿…é¡»æŒ‡å®šä¸€ä¸ªç±»å‹</span></span><br><span class="line">&#123;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Son c;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç±»æ¨¡æ¿ç»§æ‰¿ç±»æ¨¡æ¿ ,å¯ä»¥ç”¨T2æŒ‡å®šçˆ¶ç±»ä¸­çš„Tç±»å‹</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">T1</span>, <span class="title">class</span> <span class="title">T2</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">Son2</span> :</span><span class="keyword">public</span> Base&lt;T2&gt;</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Son2()</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="keyword">typeid</span>(T1).name() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="keyword">typeid</span>(T2).name() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test02</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Son2&lt;<span class="keyword">int</span>, <span class="keyword">char</span>&gt; child1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">test02();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç±»æ¨¡æ¿æˆå‘˜å‡½æ•°ä¸ç±»å¤–å®ç°"><a href="#ç±»æ¨¡æ¿æˆå‘˜å‡½æ•°ä¸ç±»å¤–å®ç°" class="headerlink" title="ç±»æ¨¡æ¿æˆå‘˜å‡½æ•°ä¸ç±»å¤–å®ç°"></a>ç±»æ¨¡æ¿æˆå‘˜å‡½æ•°ä¸ç±»å¤–å®ç°</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//ç±»æ¨¡æ¿ä¸­æˆå‘˜å‡½æ•°ç±»å¤–å®ç°</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">T1</span>, <span class="title">class</span> <span class="title">T2</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">Person</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="comment">//æˆå‘˜å‡½æ•°ç±»å†…å£°æ˜</span></span><br><span class="line">Person(T1 name, T2 age);</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">showPerson</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">T1 m_Name;</span><br><span class="line">T2 m_Age;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ„é€ å‡½æ•° ç±»å¤–å®ç°</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">T1</span>, <span class="title">class</span> <span class="title">T2</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">Person</span>&lt;T1, T2&gt;:</span>:Person(T1 name, T2 age) &#123;</span><br><span class="line"><span class="keyword">this</span>-&gt;m_Name = name;</span><br><span class="line"><span class="keyword">this</span>-&gt;m_Age = age;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æˆå‘˜å‡½æ•° ç±»å¤–å®ç°</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">T1</span>, <span class="title">class</span> <span class="title">T2</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">void</span> <span class="title">Person</span>&lt;T1, T2&gt;:</span>:showPerson() &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"å§“å: "</span> &lt;&lt; <span class="keyword">this</span>-&gt;m_Name &lt;&lt; <span class="string">" å¹´é¾„:"</span> &lt;&lt; <span class="keyword">this</span>-&gt;m_Age &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Person&lt;string, int&gt; p("Tom", 20);</span><br><span class="line">p.showPerson();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç±»å¤–å®ç°éœ€è¦æ·»åŠ æ¨¡æ¿å‚æ•°åˆ—è¡¨</p><h3 id="ç±»æ¨¡æ¿åˆ†æ–‡ä»¶ç¼–å†™"><a href="#ç±»æ¨¡æ¿åˆ†æ–‡ä»¶ç¼–å†™" class="headerlink" title="ç±»æ¨¡æ¿åˆ†æ–‡ä»¶ç¼–å†™"></a>ç±»æ¨¡æ¿åˆ†æ–‡ä»¶ç¼–å†™</h3><p><code>#pragma onceé˜²æ­¢å¤´æ–‡ä»¶é‡å¤ç¼–è¯‘ï¼Œä¸€èˆ¬å†™åœ¨.hå¤´æ–‡ä»¶ä¸­</code></p><p>é—®é¢˜ï¼š</p><ul><li>ç±»æ¨¡æ¿ä¸­æˆå‘˜å‡½æ•°åˆ›å»ºæ—¶æœºæ˜¯åœ¨è°ƒç”¨é˜¶æ®µï¼Œå¯¼è‡´åˆ†æ–‡ä»¶ç¼–å†™æ—¶é“¾æ¥ä¸åˆ°</li></ul><p>è§£å†³ï¼š</p><ul><li>è§£å†³æ–¹å¼1ï¼šç›´æ¥åŒ…å«åœ¨.cppæºæ–‡ä»¶</li><li>è§£å†³æ–¹å¼2ï¼šåªå°†ç±»æ¨¡æ¿çš„å£°æ˜å’Œå®ç°å†™åˆ°åŒä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œå¹¶æ›´æ”¹åç¼€åä¸º.hppï¼Œhppæ˜¯çº¦å®šçš„åç§°ï¼Œå¹¶ä¸æ˜¯å¼ºåˆ¶</li></ul><p><strong>person.hpp</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> once</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">T1</span>, <span class="title">class</span> <span class="title">T2</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">Person</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Person(T1 name, T2 age);</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">showPerson</span><span class="params">()</span></span>;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">T1 m_Name;</span><br><span class="line">T2 m_Age;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ„é€ å‡½æ•° ç±»å¤–å®ç°</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">T1</span>, <span class="title">class</span> <span class="title">T2</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">Person</span>&lt;T1, T2&gt;:</span>:Person(T1 name, T2 age) &#123;</span><br><span class="line"><span class="keyword">this</span>-&gt;m_Name = name;</span><br><span class="line"><span class="keyword">this</span>-&gt;m_Age = age;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æˆå‘˜å‡½æ•° ç±»å¤–å®ç°</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">T1</span>, <span class="title">class</span> <span class="title">T2</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">void</span> <span class="title">Person</span>&lt;T1, T2&gt;:</span>:showPerson() &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"å§“å: "</span> &lt;&lt; <span class="keyword">this</span>-&gt;m_Name &lt;&lt; <span class="string">" å¹´é¾„:"</span> &lt;&lt; <span class="keyword">this</span>-&gt;m_Age &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>main.cpp</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//#include "person.h"</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"person.cpp"</span> <span class="comment">//è§£å†³æ–¹å¼1ï¼ŒåŒ…å«cppæºæ–‡ä»¶</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//è§£å†³æ–¹å¼2ï¼Œå°†å£°æ˜å’Œå®ç°å†™åˆ°ä¸€èµ·ï¼Œæ–‡ä»¶åç¼€åæ”¹ä¸º.hpp</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"person.hpp"</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Person&lt;string, int&gt; p("Tom", 10);</span><br><span class="line">p.showPerson();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç±»æ¨¡æ¿æ¡ˆä¾‹"><a href="#ç±»æ¨¡æ¿æ¡ˆä¾‹" class="headerlink" title="ç±»æ¨¡æ¿æ¡ˆä¾‹"></a>ç±»æ¨¡æ¿æ¡ˆä¾‹</h3><ul><li>å¯ä»¥å¯¹å†…ç½®æ•°æ®ç±»å‹ä»¥åŠè‡ªå®šä¹‰æ•°æ®ç±»å‹çš„æ•°æ®è¿›è¡Œå­˜å‚¨</li><li>å°†æ•°ç»„ä¸­çš„æ•°æ®å­˜å‚¨åˆ°å †åŒº</li><li>æ„é€ å‡½æ•°ä¸­å¯ä»¥ä¼ å…¥æ•°ç»„çš„å®¹é‡</li><li>æä¾›å¯¹åº”çš„æ‹·è´æ„é€ å‡½æ•°ä»¥åŠoperator=é˜²æ­¢æµ…æ‹·è´é—®é¢˜</li><li>æä¾›å°¾æ’æ³•å’Œå°¾åˆ æ³•å¯¹æ•°ç»„ä¸­çš„æ•°æ®è¿›è¡Œå¢åŠ å’Œåˆ é™¤</li><li>å¯ä»¥é€šè¿‡ä¸‹æ ‡çš„æ–¹å¼è®¿é—®æ•°ç»„ä¸­çš„å…ƒç´ </li><li>å¯ä»¥è·å–æ•°ç»„ä¸­å½“å‰å…ƒç´ ä¸ªæ•°å’Œæ•°ç»„çš„å®¹é‡</li></ul><p><strong>myArr.hpp</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> once</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">MyArray</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ„é€ å‡½æ•°</span></span><br><span class="line">MyArray(<span class="keyword">int</span> capacity)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">this</span>-&gt;m_Capacity = capacity;</span><br><span class="line"><span class="keyword">this</span>-&gt;m_Size = <span class="number">0</span>;</span><br><span class="line">pAddress = <span class="keyword">new</span> T[<span class="keyword">this</span>-&gt;m_Capacity];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ‹·è´æ„é€ </span></span><br><span class="line">MyArray(<span class="keyword">const</span> MyArray &amp; arr)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">this</span>-&gt;m_Capacity = arr.m_Capacity;</span><br><span class="line"><span class="keyword">this</span>-&gt;m_Size = arr.m_Size;</span><br><span class="line"><span class="keyword">this</span>-&gt;pAddress = <span class="keyword">new</span> T[<span class="keyword">this</span>-&gt;m_Capacity];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>-&gt;m_Size; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//å¦‚æœTä¸ºå¯¹è±¡ï¼Œè€Œä¸”è¿˜åŒ…å«æŒ‡é’ˆï¼Œå¿…é¡»éœ€è¦é‡è½½ = æ“ä½œç¬¦ï¼Œå› ä¸ºè¿™ä¸ªç­‰å·ä¸æ˜¯ æ„é€  è€Œæ˜¯èµ‹å€¼ï¼Œ</span></span><br><span class="line"><span class="comment">// æ™®é€šç±»å‹å¯ä»¥ç›´æ¥= ä½†æ˜¯æŒ‡é’ˆç±»å‹éœ€è¦æ·±æ‹·è´</span></span><br><span class="line"><span class="keyword">this</span>-&gt;pAddress[i] = arr.pAddress[i];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//é‡è½½= æ“ä½œç¬¦  é˜²æ­¢æµ…æ‹·è´é—®é¢˜</span></span><br><span class="line">MyArray&amp; <span class="keyword">operator</span>=(<span class="keyword">const</span> MyArray&amp; myarray) &#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">this</span>-&gt;pAddress != <span class="literal">NULL</span>) &#123;</span><br><span class="line"><span class="keyword">delete</span>[] <span class="keyword">this</span>-&gt;pAddress;</span><br><span class="line"><span class="keyword">this</span>-&gt;m_Capacity = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">this</span>-&gt;m_Size = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">this</span>-&gt;m_Capacity = myarray.m_Capacity;</span><br><span class="line"><span class="keyword">this</span>-&gt;m_Size = myarray.m_Size;</span><br><span class="line"><span class="keyword">this</span>-&gt;pAddress = <span class="keyword">new</span> T[<span class="keyword">this</span>-&gt;m_Capacity];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>-&gt;m_Size; i++) &#123;</span><br><span class="line"><span class="keyword">this</span>-&gt;pAddress[i] = myarray[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//é‡è½½[] æ“ä½œç¬¦  arr[0]</span></span><br><span class="line">T&amp; <span class="keyword">operator</span> [](<span class="keyword">int</span> index)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">this</span>-&gt;pAddress[index]; <span class="comment">//ä¸è€ƒè™‘è¶Šç•Œï¼Œç”¨æˆ·è‡ªå·±å»å¤„ç†</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å°¾æ’æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Push_back</span><span class="params">(<span class="keyword">const</span> T &amp; val)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">this</span>-&gt;m_Capacity == <span class="keyword">this</span>-&gt;m_Size)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">this</span>-&gt;pAddress[<span class="keyword">this</span>-&gt;m_Size] = val;</span><br><span class="line"><span class="keyword">this</span>-&gt;m_Size++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å°¾åˆ æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Pop_back</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">this</span>-&gt;m_Size == <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">this</span>-&gt;m_Size--;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è·å–æ•°ç»„å®¹é‡</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getCapacity</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">this</span>-&gt;m_Capacity;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è·å–æ•°ç»„å¤§å°</span></span><br><span class="line"><span class="function"><span class="keyword">int</span><span class="title">getSize</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">this</span>-&gt;m_Size;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//ææ„</span></span><br><span class="line">~MyArray()</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">this</span>-&gt;pAddress != <span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">delete</span>[] <span class="keyword">this</span>-&gt;pAddress;</span><br><span class="line"><span class="keyword">this</span>-&gt;pAddress = <span class="literal">NULL</span>;</span><br><span class="line"><span class="keyword">this</span>-&gt;m_Capacity = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">this</span>-&gt;m_Size = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">T * pAddress;  <span class="comment">//æŒ‡å‘ä¸€ä¸ªå †ç©ºé—´ï¼Œè¿™ä¸ªç©ºé—´å­˜å‚¨çœŸæ­£çš„æ•°æ®</span></span><br><span class="line"><span class="keyword">int</span> m_Capacity; <span class="comment">//å®¹é‡</span></span><br><span class="line"><span class="keyword">int</span> m_Size;   <span class="comment">// å¤§å°</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><strong>main.cpp</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"myArr.hpp"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printIntArray</span><span class="params">(MyArray&lt;<span class="keyword">int</span>&gt;&amp; arr)</span> </span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; arr.getSize(); i++) &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; arr[i] &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æµ‹è¯•å†…ç½®æ•°æ®ç±»å‹</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="function">MyArray&lt;<span class="keyword">int</span>&gt; <span class="title">array1</span><span class="params">(<span class="number">10</span>)</span></span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">array1.Push_back(i);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"array1æ‰“å°è¾“å‡ºï¼š"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">printIntArray(array1);</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"array1çš„å¤§å°ï¼š"</span> &lt;&lt; array1.getSize() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"array1çš„å®¹é‡ï¼š"</span> &lt;&lt; array1.getCapacity() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"--------------------------"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="function">MyArray&lt;<span class="keyword">int</span>&gt; <span class="title">array2</span><span class="params">(array1)</span></span>;</span><br><span class="line">array2.Pop_back();</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"array2æ‰“å°è¾“å‡ºï¼š"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">printIntArray(array2);</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"array2çš„å¤§å°ï¼š"</span> &lt;&lt; array2.getSize() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"array2çš„å®¹é‡ï¼š"</span> &lt;&lt; array2.getCapacity() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æµ‹è¯•è‡ªå®šä¹‰æ•°æ®ç±»å‹</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Person() &#123;&#125;</span><br><span class="line">Person(<span class="built_in">string</span> name, <span class="keyword">int</span> age) &#123;</span><br><span class="line"><span class="keyword">this</span>-&gt;m_Name = name;</span><br><span class="line"><span class="keyword">this</span>-&gt;m_Age = age;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">string</span> m_Name;</span><br><span class="line"><span class="keyword">int</span> m_Age;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printPersonArray</span><span class="params">(MyArray&lt;Person&gt;&amp; personArr)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; personArr.getSize(); i++) &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"å§“åï¼š"</span> &lt;&lt; personArr[i].m_Name &lt;&lt; <span class="string">" å¹´é¾„ï¼š "</span> &lt;&lt; personArr[i].m_Age &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test02</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//åˆ›å»ºæ•°ç»„</span></span><br><span class="line"><span class="function">MyArray&lt;Person&gt; <span class="title">pArray</span><span class="params">(<span class="number">10</span>)</span></span>;</span><br><span class="line"><span class="function">Person <span class="title">p1</span><span class="params">(<span class="string">"å­™æ‚Ÿç©º"</span>, <span class="number">30</span>)</span></span>;</span><br><span class="line"><span class="function">Person <span class="title">p2</span><span class="params">(<span class="string">"éŸ©ä¿¡"</span>, <span class="number">20</span>)</span></span>;</span><br><span class="line"><span class="function">Person <span class="title">p3</span><span class="params">(<span class="string">"å¦²å·±"</span>, <span class="number">18</span>)</span></span>;</span><br><span class="line"><span class="function">Person <span class="title">p4</span><span class="params">(<span class="string">"ç‹æ˜­å›"</span>, <span class="number">15</span>)</span></span>;</span><br><span class="line"><span class="function">Person <span class="title">p5</span><span class="params">(<span class="string">"èµµäº‘"</span>, <span class="number">24</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ’å…¥æ•°æ®</span></span><br><span class="line">pArray.Push_back(p1);</span><br><span class="line">pArray.Push_back(p2);</span><br><span class="line">pArray.Push_back(p3);</span><br><span class="line">pArray.Push_back(p4);</span><br><span class="line">pArray.Push_back(p5);</span><br><span class="line"></span><br><span class="line">printPersonArray(pArray);</span><br><span class="line"></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"pArrayçš„å¤§å°ï¼š"</span> &lt;&lt; pArray.getSize() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"pArrayçš„å®¹é‡ï¼š"</span> &lt;&lt; pArray.getCapacity() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//test01();</span></span><br><span class="line"></span><br><span class="line">test02();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="STL"><a href="#STL" class="headerlink" title="STL"></a>STL</h2><ul><li>æ ‡å‡†æ¨¡æ¿åº“</li><li><p>å®¹å™¨containerã€ç®—æ³•algorithmã€è¿­ä»£å™¨iterator</p></li><li><p>å®¹å™¨å’Œç®—æ³•ä¹‹é—´é€šè¿‡è¿­ä»£å™¨è¿›è¡Œæ— ç¼è¿æ¥</p></li><li>STL å‡ ä¹æ‰€æœ‰ä»£ç éƒ½é‡‡ç”¨äº†æ¨¡æ¿ç±»æˆ–æ¨¡æ¿å‡½æ•°</li></ul><p>STLå¤§ä½“åˆ†ä¸ºå…­å¤§ç»„ä»¶ï¼Œåˆ†åˆ«æ˜¯:<strong>å®¹å™¨ã€ç®—æ³•ã€è¿­ä»£å™¨ã€ä»¿å‡½æ•°ã€é€‚é…å™¨ï¼ˆé…æ¥å™¨ï¼‰ã€ç©ºé—´é…ç½®å™¨</strong></p><ol><li>å®¹å™¨ï¼šå„ç§æ•°æ®ç»“æ„ï¼Œå¦‚vectorã€listã€dequeã€setã€mapç­‰,ç”¨æ¥å­˜æ”¾æ•°æ®ã€‚</li><li>ç®—æ³•ï¼šå„ç§å¸¸ç”¨çš„ç®—æ³•ï¼Œå¦‚sortã€findã€copyã€for_eachç­‰</li><li>è¿­ä»£å™¨ï¼šæ‰®æ¼”äº†å®¹å™¨ä¸ç®—æ³•ä¹‹é—´çš„èƒ¶åˆå‰‚ã€‚</li><li>ä»¿å‡½æ•°ï¼šè¡Œä¸ºç±»ä¼¼å‡½æ•°ï¼Œå¯ä½œä¸ºç®—æ³•çš„æŸç§ç­–ç•¥ã€‚</li><li>é€‚é…å™¨ï¼šä¸€ç§ç”¨æ¥ä¿®é¥°å®¹å™¨æˆ–è€…ä»¿å‡½æ•°æˆ–è¿­ä»£å™¨æ¥å£çš„ä¸œè¥¿ã€‚</li><li>ç©ºé—´é…ç½®å™¨ï¼šè´Ÿè´£ç©ºé—´çš„é…ç½®ä¸ç®¡ç†ã€‚</li></ol><ul><li><p>å®¹å™¨ï¼šç½®ç‰©ä¹‹æ‰€ä¹Ÿï¼Œå¸¸ç”¨æ•°æ®ç»“æ„ï¼šæ•°ç»„ï¼Œé“¾è¡¨ï¼Œæ ‘ï¼Œæ ˆï¼Œé˜Ÿåˆ—ï¼Œé›†åˆï¼Œæ˜ å°„è¡¨</p><p><strong>åºåˆ—å¼å®¹å™¨</strong>:å¼ºè°ƒå€¼çš„æ’åºï¼Œåºåˆ—å¼å®¹å™¨ä¸­çš„æ¯ä¸ªå…ƒç´ å‡æœ‰å›ºå®šçš„ä½ç½®ã€‚</p><pre><code>**å…³è”å¼å®¹å™¨**:äºŒå‰æ ‘ç»“æ„ï¼Œå„å…ƒç´ ä¹‹é—´æ²¡æœ‰ä¸¥æ ¼çš„ç‰©ç†ä¸Šçš„é¡ºåºå…³ç³»</code></pre></li><li><p>ç®—æ³•ï¼šè´¨å˜ç®—æ³•ï¼šæ˜¯æŒ‡è¿ç®—è¿‡ç¨‹ä¸­ä¼šæ›´æ”¹åŒºé—´å†…çš„å…ƒç´ çš„å†…å®¹ã€‚ä¾‹å¦‚æ‹·è´ï¼Œæ›¿æ¢ï¼Œåˆ é™¤ç­‰ç­‰</p><p>éè´¨å˜ç®—æ³•ï¼šæ˜¯æŒ‡è¿ç®—è¿‡ç¨‹ä¸­ä¸ä¼šæ›´æ”¹åŒºé—´å†…çš„å…ƒç´ å†…å®¹ï¼Œä¾‹å¦‚æŸ¥æ‰¾ã€è®¡æ•°ã€éå†ã€å¯»æ‰¾æå€¼ç­‰ç­‰</p></li><li><p>è¿­ä»£å™¨ï¼šæä¾›ä¸€ç§æ–¹æ³•ï¼Œä½¿ä¹‹èƒ½å¤Ÿä¾åºå¯»è®¿æŸä¸ªå®¹å™¨æ‰€å«çš„å„ä¸ªå…ƒç´ ï¼Œè€Œåˆæ— éœ€æš´éœ²è¯¥å®¹å™¨çš„å†…éƒ¨è¡¨ç¤ºæ–¹å¼ã€‚</p></li></ul><h2 id="vector"><a href="#vector" class="headerlink" title="vector"></a>vector</h2><p>é€šè¿‡è¿­ä»£å™¨è®¿é—®å®¹å™¨ vector ä¸­çš„æ•°æ®</p><p><code>vector&lt;int&gt;::iterator itBegin = v.begin();</code> èµ·å§‹è¿­ä»£å™¨ï¼ŒæŒ‡å‘å®¹å™¨ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ </p><p><code>vector&lt;int&gt;::iterator itBegin = v.end(); ç»“æŸè¿­ä»£å™¨ï¼ŒæŒ‡å‘å®¹å™¨ä¸­æœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ªä½ç½®</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v;</span><br><span class="line">v.push_back(<span class="number">10</span>);</span><br><span class="line">v.push_back(<span class="number">11</span>);</span><br><span class="line">v.push_back(<span class="number">12</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;::iterator itBegin = v.<span class="built_in">begin</span>();</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;::iterator itEnd = v.<span class="built_in">end</span>();</span><br><span class="line"><span class="keyword">while</span>(itBegin != itEnd)&#123;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; *itBegin++&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//for circle</span></span><br><span class="line"><span class="keyword">for</span>(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;::iterator it = v.<span class="built_in">begin</span>(); it != v.<span class="built_in">end</span>; it++)&#123;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;*it&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//for-each</span></span><br><span class="line"><span class="comment">// é¦–å…ˆéœ€è¦åŒ…å«å¤´æ–‡ä»¶ #include &lt;algorithm&gt;</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">myPrint</span><span class="params">(<span class="keyword">int</span> val)</span></span>&#123;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt; val &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line">for_each(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), myPrint);</span><br></pre></td></tr></table></figure><h3 id="vectorå®¹å™¨ä¸­å­˜æ”¾è‡ªå®šä¹‰æ•°æ®ç±»å‹"><a href="#vectorå®¹å™¨ä¸­å­˜æ”¾è‡ªå®šä¹‰æ•°æ®ç±»å‹" class="headerlink" title="vectorå®¹å™¨ä¸­å­˜æ”¾è‡ªå®šä¹‰æ•°æ®ç±»å‹"></a>vectorå®¹å™¨ä¸­å­˜æ”¾è‡ªå®šä¹‰æ•°æ®ç±»å‹</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//è‡ªå®šä¹‰æ•°æ®ç±»å‹</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Person(<span class="built_in">string</span> name, <span class="keyword">int</span> age) &#123;</span><br><span class="line">mName = name;</span><br><span class="line">mAge = age;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">string</span> mName;</span><br><span class="line"><span class="keyword">int</span> mAge;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//å­˜æ”¾å¯¹è±¡</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;Person&gt; v;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ›å»ºæ•°æ®</span></span><br><span class="line"><span class="function">Person <span class="title">p1</span><span class="params">(<span class="string">"aaa"</span>, <span class="number">10</span>)</span></span>;</span><br><span class="line"><span class="function">Person <span class="title">p2</span><span class="params">(<span class="string">"bbb"</span>, <span class="number">20</span>)</span></span>;</span><br><span class="line"><span class="function">Person <span class="title">p3</span><span class="params">(<span class="string">"ccc"</span>, <span class="number">30</span>)</span></span>;</span><br><span class="line"><span class="function">Person <span class="title">p4</span><span class="params">(<span class="string">"ddd"</span>, <span class="number">40</span>)</span></span>;</span><br><span class="line"><span class="function">Person <span class="title">p5</span><span class="params">(<span class="string">"eee"</span>, <span class="number">50</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">v.push_back(p1);</span><br><span class="line">v.push_back(p2);</span><br><span class="line">v.push_back(p3);</span><br><span class="line">v.push_back(p4);</span><br><span class="line">v.push_back(p5);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">vector</span>&lt;Person&gt;::iterator it = v.<span class="built_in">begin</span>(); it != v.<span class="built_in">end</span>(); it++) &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"Name:"</span> &lt;&lt; (*it).mName &lt;&lt; <span class="string">" Age:"</span> &lt;&lt; (*it).mAge &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//æ”¾å¯¹è±¡æŒ‡é’ˆ</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test02</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;Person*&gt; v;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ›å»ºæ•°æ®</span></span><br><span class="line"><span class="function">Person <span class="title">p1</span><span class="params">(<span class="string">"aaa"</span>, <span class="number">10</span>)</span></span>;</span><br><span class="line"><span class="function">Person <span class="title">p2</span><span class="params">(<span class="string">"bbb"</span>, <span class="number">20</span>)</span></span>;</span><br><span class="line"><span class="function">Person <span class="title">p3</span><span class="params">(<span class="string">"ccc"</span>, <span class="number">30</span>)</span></span>;</span><br><span class="line"><span class="function">Person <span class="title">p4</span><span class="params">(<span class="string">"ddd"</span>, <span class="number">40</span>)</span></span>;</span><br><span class="line"><span class="function">Person <span class="title">p5</span><span class="params">(<span class="string">"eee"</span>, <span class="number">50</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">v.push_back(&amp;p1);</span><br><span class="line">v.push_back(&amp;p2);</span><br><span class="line">v.push_back(&amp;p3);</span><br><span class="line">v.push_back(&amp;p4);</span><br><span class="line">v.push_back(&amp;p5);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">vector</span>&lt;Person*&gt;::iterator it = v.<span class="built_in">begin</span>(); it != v.<span class="built_in">end</span>(); it++) &#123;</span><br><span class="line">Person * p = (*it);</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"Name:"</span> &lt;&lt; p-&gt;mName &lt;&lt; <span class="string">" Age:"</span> &lt;&lt; (*it)-&gt;mAge &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">test02();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="vector-å®¹å™¨åµŒå¥—å®¹å™¨"><a href="#vector-å®¹å™¨åµŒå¥—å®¹å™¨" class="headerlink" title="vector å®¹å™¨åµŒå¥—å®¹å™¨"></a>vector å®¹å™¨åµŒå¥—å®¹å™¨</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; v;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v1;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v2;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v3;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v4;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>( <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;::iterator it = v.<span class="built_in">begin</span>(); it != v.<span class="built_in">end</span>(); it++ )&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;::iterator vit = (*it).<span class="built_in">begin</span>(); vit != (*it).<span class="built_in">end</span>(); (*it)++ )&#123;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt; *vit &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ’å…¥å’Œåˆ é™¤"><a href="#æ’å…¥å’Œåˆ é™¤" class="headerlink" title="æ’å…¥å’Œåˆ é™¤"></a>æ’å…¥å’Œåˆ é™¤</h3><p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p><ul><li>å¯¹vectorå®¹å™¨è¿›è¡Œæ’å…¥ã€åˆ é™¤æ“ä½œ</li></ul><p><strong>å‡½æ•°åŸå‹ï¼š</strong></p><ul><li><code>push_back(ele);</code>                                         //å°¾éƒ¨æ’å…¥å…ƒç´ ele</li><li><code>pop_back();</code>                                                //åˆ é™¤æœ€åä¸€ä¸ªå…ƒç´ </li><li><code>insert(const_iterator pos, ele);</code>        //è¿­ä»£å™¨æŒ‡å‘ä½ç½®posæ’å…¥å…ƒç´ ele</li><li><code>insert(const_iterator pos, int count,ele);</code>//è¿­ä»£å™¨æŒ‡å‘ä½ç½®posæ’å…¥countä¸ªå…ƒç´ ele</li><li><code>erase(const_iterator pos);</code>                     //åˆ é™¤è¿­ä»£å™¨æŒ‡å‘çš„å…ƒç´ </li><li><code>erase(const_iterator start, const_iterator end);</code>//åˆ é™¤è¿­ä»£å™¨ä»startåˆ°endä¹‹é—´çš„å…ƒç´ </li><li><code>clear();</code>                                                        //åˆ é™¤å®¹å™¨ä¸­æ‰€æœ‰å…ƒç´ </li></ul><h3 id="swap"><a href="#swap" class="headerlink" title="swap"></a>swap</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">myPrint</span><span class="params">(<span class="keyword">int</span> val)</span></span>&#123;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt; val &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v1 = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v2 = &#123;<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>&#125;;</span><br><span class="line">    for_each(v1.<span class="built_in">begin</span>(), v1.<span class="built_in">end</span>(), myPrint );</span><br><span class="line">    for_each(v2.<span class="built_in">begin</span>(), v2.<span class="built_in">end</span>(), myPrint );</span><br><span class="line">v1.swap(v2);</span><br><span class="line">    for_each(v1.<span class="built_in">begin</span>(), v1.<span class="built_in">end</span>(), myPrint );</span><br><span class="line">    for_each(v2.<span class="built_in">begin</span>(), v2.<span class="built_in">end</span>(), myPrint );</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>==swap å¯ä»¥ç”¨æ¥è¿›è¡Œä¸€ä¸ªæ”¶ç¼©å†…å­˜çš„æ•ˆæœï¼švector\<int\>(v).swap(v);==</p><h3 id="åˆ©ç”¨-reserve-é¢„ç•™ç©ºé—´"><a href="#åˆ©ç”¨-reserve-é¢„ç•™ç©ºé—´" class="headerlink" title="åˆ©ç”¨ reserve é¢„ç•™ç©ºé—´"></a>åˆ©ç”¨ reserve é¢„ç•™ç©ºé—´</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v;</span><br><span class="line"></span><br><span class="line"><span class="comment">//é¢„ç•™ç©ºé—´</span></span><br><span class="line">v.reserve(<span class="number">100000</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> num = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span>* p = <span class="literal">NULL</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100000</span>; i++) &#123;</span><br><span class="line">v.push_back(i);</span><br><span class="line"><span class="keyword">if</span> (p != &amp;v[<span class="number">0</span>]) &#123;</span><br><span class="line">p = &amp;v[<span class="number">0</span>];</span><br><span class="line">num++;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"num:"</span> &lt;&lt; num &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="String"><a href="#String" class="headerlink" title="String"></a>String</h2><p><strong>String çš„æœ¬è´¨æ˜¯ä¸€ä¸ªç±»</strong></p><p>string ä¸ char * çš„åŒºåˆ«ï¼š</p><ul><li>char *  æ˜¯ä¸€ä¸ªæŒ‡é’ˆ</li><li>string æ˜¯ä¸€ä¸ªç±»ï¼Œç±»å†…éƒ¨å°è£…äº† char * ï¼Œç®¡ç†æ•´ä¸ªå­—ç¬¦ä¸²ï¼Œæ˜¯ä¸€ä¸ª char * å‹çš„å®¹å™¨</li></ul><p>æ„é€ å‡½æ•°ï¼š</p><ul><li><code>string();</code>                          //åˆ›å»ºä¸€ä¸ªç©ºçš„å­—ç¬¦ä¸² ä¾‹å¦‚: string str;<br><code>string(const char* s);</code>            //ä½¿ç”¨å­—ç¬¦ä¸²såˆå§‹åŒ–</li><li><code>string(const string&amp; str);</code>    //ä½¿ç”¨ä¸€ä¸ªstringå¯¹è±¡åˆå§‹åŒ–å¦ä¸€ä¸ªstringå¯¹è±¡</li><li><code>string(int n, char c);</code>           //ä½¿ç”¨nä¸ªå­—ç¬¦cåˆå§‹åŒ–</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="comment">//stringæ„é€ </span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">string</span> s1; <span class="comment">//åˆ›å»ºç©ºå­—ç¬¦ä¸²ï¼Œè°ƒç”¨æ— å‚æ„é€ å‡½æ•°</span></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"str1 = "</span> &lt;&lt; s1 &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">char</span>* str = <span class="string">"hello world"</span>;</span><br><span class="line"><span class="function"><span class="built_in">string</span> <span class="title">s2</span><span class="params">(str)</span></span>; <span class="comment">//æŠŠc_stringè½¬æ¢æˆäº†string</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"str2 = "</span> &lt;&lt; s2 &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="built_in">string</span> <span class="title">s3</span><span class="params">(s2)</span></span>; <span class="comment">//è°ƒç”¨æ‹·è´æ„é€ å‡½æ•°</span></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"str3 = "</span> &lt;&lt; s3 &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="built_in">string</span> <span class="title">s4</span><span class="params">(<span class="number">10</span>, <span class="string">'a'</span>)</span></span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"str3 = "</span> &lt;&lt; s3 &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="stringèµ‹å€¼æ“ä½œ"><a href="#stringèµ‹å€¼æ“ä½œ" class="headerlink" title="stringèµ‹å€¼æ“ä½œ"></a>stringèµ‹å€¼æ“ä½œ</h3><p>åŠŸèƒ½æè¿°ï¼š</p><ul><li>ç»™stringå­—ç¬¦ä¸²è¿›è¡Œèµ‹å€¼</li></ul><p>èµ‹å€¼çš„å‡½æ•°åŸå‹ï¼š</p><ul><li><code>string&amp; operator=(const char* s);</code>             //char*ç±»å‹å­—ç¬¦ä¸² èµ‹å€¼ç»™å½“å‰çš„å­—ç¬¦ä¸²</li><li><code>string&amp; operator=(const string &amp;s);</code>         //æŠŠå­—ç¬¦ä¸²sèµ‹ç»™å½“å‰çš„å­—ç¬¦ä¸²</li><li><code>string&amp; operator=(char c);</code>                          //å­—ç¬¦èµ‹å€¼ç»™å½“å‰çš„å­—ç¬¦ä¸²</li><li><code>string&amp; assign(const char *s);</code>                  //æŠŠå­—ç¬¦ä¸²sèµ‹ç»™å½“å‰çš„å­—ç¬¦ä¸²</li><li><code>string&amp; assign(const char *s, int n);</code>     //æŠŠå­—ç¬¦ä¸²sçš„å‰nä¸ªå­—ç¬¦èµ‹ç»™å½“å‰çš„å­—ç¬¦ä¸²</li><li><code>string&amp; assign(const string &amp;s);</code>              //æŠŠå­—ç¬¦ä¸²sèµ‹ç»™å½“å‰å­—ç¬¦ä¸²</li><li><code>string&amp; assign(int n, char c);</code>                  //ç”¨nä¸ªå­—ç¬¦cèµ‹ç»™å½“å‰å­—ç¬¦ä¸²</li></ul><h3 id="stringå­—ç¬¦ä¸²æ‹¼æ¥"><a href="#stringå­—ç¬¦ä¸²æ‹¼æ¥" class="headerlink" title="stringå­—ç¬¦ä¸²æ‹¼æ¥"></a>stringå­—ç¬¦ä¸²æ‹¼æ¥</h3><p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p><ul><li>å®ç°åœ¨å­—ç¬¦ä¸²æœ«å°¾æ‹¼æ¥å­—ç¬¦ä¸²</li></ul><p><strong>å‡½æ•°åŸå‹ï¼š</strong></p><ul><li><code>string&amp; operator+=(const char* str);</code>                   //é‡è½½+=æ“ä½œç¬¦</li><li><code>string&amp; operator+=(const char c);</code>                         //é‡è½½+=æ“ä½œç¬¦</li><li><code>string&amp; operator+=(const string&amp; str);</code>                //é‡è½½+=æ“ä½œç¬¦</li><li><code>string&amp; append(const char *s);</code>                               //æŠŠå­—ç¬¦ä¸²sè¿æ¥åˆ°å½“å‰å­—ç¬¦ä¸²ç»“å°¾</li><li><code>string&amp; append(const char *s, int n);</code>                 //æŠŠå­—ç¬¦ä¸²sçš„å‰nä¸ªå­—ç¬¦è¿æ¥åˆ°å½“å‰å­—ç¬¦ä¸²ç»“å°¾</li><li><code>string&amp; append(const string &amp;s);</code>                           //åŒoperator+=(const string&amp; str)</li><li><code>string&amp; append(const string &amp;s, int pos, int n);</code>//å­—ç¬¦ä¸²sä¸­ä»poså¼€å§‹çš„nä¸ªå­—ç¬¦è¿æ¥åˆ°å­—ç¬¦ä¸²ç»“å°¾</li></ul><h3 id="stringæŸ¥æ‰¾å’Œæ›¿æ¢"><a href="#stringæŸ¥æ‰¾å’Œæ›¿æ¢" class="headerlink" title="stringæŸ¥æ‰¾å’Œæ›¿æ¢"></a>stringæŸ¥æ‰¾å’Œæ›¿æ¢</h3><p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p><ul><li>æŸ¥æ‰¾ï¼šæŸ¥æ‰¾æŒ‡å®šå­—ç¬¦ä¸²æ˜¯å¦å­˜åœ¨</li><li>æ›¿æ¢ï¼šåœ¨æŒ‡å®šçš„ä½ç½®æ›¿æ¢å­—ç¬¦ä¸²</li></ul><p><strong>å‡½æ•°åŸå‹ï¼š</strong></p><ul><li><code>int find(const string&amp; str, int pos = 0) const;</code>              //æŸ¥æ‰¾strç¬¬ä¸€æ¬¡å‡ºç°ä½ç½®,ä»poså¼€å§‹æŸ¥æ‰¾</li><li><code>int find(const char* s, int pos = 0) const;</code>                     //æŸ¥æ‰¾sç¬¬ä¸€æ¬¡å‡ºç°ä½ç½®,ä»poså¼€å§‹æŸ¥æ‰¾</li><li><code>int find(const char* s, int pos, int n) const;</code>               //ä»posä½ç½®æŸ¥æ‰¾sçš„å‰nä¸ªå­—ç¬¦ç¬¬ä¸€æ¬¡ä½ç½®</li><li><code>int find(const char c, int pos = 0) const;</code>                       //æŸ¥æ‰¾å­—ç¬¦cç¬¬ä¸€æ¬¡å‡ºç°ä½ç½®</li><li><code>int rfind(const string&amp; str, int pos = npos) const;</code>      //æŸ¥æ‰¾stræœ€åä¸€æ¬¡ä½ç½®,ä»poså¼€å§‹æŸ¥æ‰¾</li><li><code>int rfind(const char* s, int pos = npos) const;</code>              //æŸ¥æ‰¾sæœ€åä¸€æ¬¡å‡ºç°ä½ç½®,ä»poså¼€å§‹æŸ¥æ‰¾</li><li><code>int rfind(const char* s, int pos, int n) const;</code>              //ä»posæŸ¥æ‰¾sçš„å‰nä¸ªå­—ç¬¦æœ€åä¸€æ¬¡ä½ç½®</li><li><code>int rfind(const char c, int pos = 0) const;</code>                      //æŸ¥æ‰¾å­—ç¬¦cæœ€åä¸€æ¬¡å‡ºç°ä½ç½®</li><li><code>string&amp; replace(int pos, int n, const string&amp; str);</code>       //æ›¿æ¢ä»poså¼€å§‹nä¸ªå­—ç¬¦ä¸ºå­—ç¬¦ä¸²str</li><li><code>string&amp; replace(int pos, int n,const char* s);</code>                 //æ›¿æ¢ä»poså¼€å§‹çš„nä¸ªå­—ç¬¦ä¸ºå­—ç¬¦ä¸²s</li></ul><h3 id="stringå­—ç¬¦ä¸²æ¯”è¾ƒ"><a href="#stringå­—ç¬¦ä¸²æ¯”è¾ƒ" class="headerlink" title="stringå­—ç¬¦ä¸²æ¯”è¾ƒ"></a>stringå­—ç¬¦ä¸²æ¯”è¾ƒ</h3><p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p><ul><li>å­—ç¬¦ä¸²ä¹‹é—´çš„æ¯”è¾ƒ</li></ul><p><strong>æ¯”è¾ƒæ–¹å¼ï¼š</strong></p><ul><li>å­—ç¬¦ä¸²æ¯”è¾ƒæ˜¯æŒ‰å­—ç¬¦çš„ASCIIç è¿›è¡Œå¯¹æ¯”</li></ul><p>= è¿”å›   0</p><p>> è¿”å›   1</p><p>&lt; è¿”å›  -1</p><p><strong>å‡½æ•°åŸå‹ï¼š</strong></p><ul><li><code>int compare(const string &amp;s) const;</code>  //ä¸å­—ç¬¦ä¸²sæ¯”è¾ƒ</li><li><code>int compare(const char *s) const;</code>      //ä¸å­—ç¬¦ä¸²sæ¯”è¾ƒ</li></ul><h3 id="stringå­—ç¬¦å­˜å–"><a href="#stringå­—ç¬¦å­˜å–" class="headerlink" title="stringå­—ç¬¦å­˜å–"></a>stringå­—ç¬¦å­˜å–</h3><p>stringä¸­å•ä¸ªå­—ç¬¦å­˜å–æ–¹å¼æœ‰ä¸¤ç§</p><ul><li><code>char&amp; operator[](int n);</code>     //é€šè¿‡[]æ–¹å¼å–å­—ç¬¦</li><li><code>char&amp; at(int n);</code>                    //é€šè¿‡atæ–¹æ³•è·å–å­—ç¬¦</li></ul><h3 id="stringæ’å…¥å’Œåˆ é™¤"><a href="#stringæ’å…¥å’Œåˆ é™¤" class="headerlink" title="stringæ’å…¥å’Œåˆ é™¤"></a>stringæ’å…¥å’Œåˆ é™¤</h3><p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p><ul><li>å¯¹stringå­—ç¬¦ä¸²è¿›è¡Œæ’å…¥å’Œåˆ é™¤å­—ç¬¦æ“ä½œ</li></ul><p><strong>å‡½æ•°åŸå‹ï¼š</strong></p><ul><li><code>string&amp; insert(int pos, const char* s);</code>                //æ’å…¥å­—ç¬¦ä¸²</li><li><code>string&amp; insert(int pos, const string&amp; str);</code>        //æ’å…¥å­—ç¬¦ä¸²</li><li><code>string&amp; insert(int pos, int n, char c);</code>                //åœ¨æŒ‡å®šä½ç½®æ’å…¥nä¸ªå­—ç¬¦c</li><li><code>string&amp; erase(int pos, int n = npos);</code>                    //åˆ é™¤ä»Poså¼€å§‹çš„nä¸ªå­—ç¬¦</li></ul><h3 id="stringå­ä¸²"><a href="#stringå­ä¸²" class="headerlink" title="stringå­ä¸²"></a>stringå­ä¸²</h3><p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p><ul><li>ä»å­—ç¬¦ä¸²ä¸­è·å–æƒ³è¦çš„å­ä¸²</li></ul><p><strong>å‡½æ•°åŸå‹ï¼š</strong></p><ul><li><code>string substr(int pos = 0, int n = npos) const;</code>   //è¿”å›ç”±poså¼€å§‹çš„nä¸ªå­—ç¬¦ç»„æˆçš„å­—ç¬¦ä¸²</li></ul><h2 id="Dequeå®¹å™¨"><a href="#Dequeå®¹å™¨" class="headerlink" title="Dequeå®¹å™¨"></a>Dequeå®¹å™¨</h2><p><strong>åŠŸèƒ½ï¼šåŒç«¯æ•°ç»„ï¼Œå¯ä»¥å¯¹å¤´ç«¯è¿›è¡Œæ’å…¥åˆ é™¤æ“ä½œ</strong></p><p><strong>deque ä¸ vector çš„åŒºåˆ«ï¼š</strong></p><ul><li>vector å¯¹äºå¤´éƒ¨çš„æ’å…¥åˆ é™¤æ•ˆç‡ä½ï¼Œæ•°æ®é‡è¶Šå¤§ï¼Œæ•ˆç‡è¶Šä½</li><li>å¯¹äºå¤´éƒ¨çš„æ’å…¥åˆ é™¤é€Ÿåº¦ä¼šæ¯” vector å¿«</li><li>vector è®¿é—®å…ƒç´ æ—¶çš„é€Ÿåº¦ä¼šæ¯” deque å¿«</li></ul><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-11%20at%2020.47.44.png" alt="Screen Shot 2021-03-11 at 20.47.44"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202021-03-11%20at%2020.48.04.png" alt="Screen Shot 2021-03-11 at 20.48.04"></p><p>deque å†…éƒ¨æœ‰ä¸ªä¸­æ§å™¨ï¼Œç»´æŠ¤æ¯æ®µç¼“å†²åŒºä¸­çš„å†…å®¹ï¼Œç¼“å†²åŒºä¸­å­˜æ”¾çœŸæ˜¯æ•°æ®ï¼Œä¸­æ§å™¨ç»´æŠ¤çš„æ˜¯æ¯ä¸ªç¼“å†²åŒºçš„åœ°å€ï¼Œä½¿å¾—ä½¿ç”¨ deque æ—¶åƒä¸€ç‰‡è¿ç»­çš„å†…å­˜ç©ºé—´</p><h3 id="deque-æ„é€ å‡½æ•°"><a href="#deque-æ„é€ å‡½æ•°" class="headerlink" title="deque æ„é€ å‡½æ•°"></a>deque æ„é€ å‡½æ•°</h3><p><strong>å‡½æ•°åŸå‹ï¼š</strong></p><ul><li><code>deque&lt;T&gt;</code> deqT;                      //é»˜è®¤æ„é€ å½¢å¼</li><li><code>deque(beg, end);</code>                  //æ„é€ å‡½æ•°å°†[beg, end)åŒºé—´ä¸­çš„å…ƒç´ æ‹·è´ç»™æœ¬èº«ã€‚</li><li><code>deque(n, elem);</code>                    //æ„é€ å‡½æ•°å°†nä¸ªelemæ‹·è´ç»™æœ¬èº«ã€‚</li><li><code>deque(const deque &amp;deq);</code>   //æ‹·è´æ„é€ å‡½æ•°</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;deque&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printDeque</span><span class="params">(<span class="keyword">const</span> <span class="built_in">deque</span>&lt;<span class="keyword">int</span>&gt;&amp; d)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">deque</span>&lt;<span class="keyword">int</span>&gt;::const_iterator it = d.<span class="built_in">begin</span>(); it != d.<span class="built_in">end</span>(); it++) &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; *it &lt;&lt; <span class="string">" "</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//dequeæ„é€ </span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="built_in">deque</span>&lt;<span class="keyword">int</span>&gt; d1; <span class="comment">//æ— å‚æ„é€ å‡½æ•°</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">d1.push_back(i);</span><br><span class="line">&#125;</span><br><span class="line">printDeque(d1);</span><br><span class="line"><span class="function"><span class="built_in">deque</span>&lt;<span class="keyword">int</span>&gt; <span class="title">d2</span><span class="params">(d1.<span class="built_in">begin</span>(),d1.<span class="built_in">end</span>())</span></span>;</span><br><span class="line">printDeque(d2);</span><br><span class="line"></span><br><span class="line"><span class="built_in">deque</span>&lt;<span class="keyword">int</span>&gt;d3(<span class="number">10</span>,<span class="number">100</span>);</span><br><span class="line">printDeque(d3);</span><br><span class="line"></span><br><span class="line"><span class="built_in">deque</span>&lt;<span class="keyword">int</span>&gt;d4 = d3;</span><br><span class="line">printDeque(d4);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="deque-å¤§å°æ“ä½œ"><a href="#deque-å¤§å°æ“ä½œ" class="headerlink" title="deque å¤§å°æ“ä½œ"></a>deque å¤§å°æ“ä½œ</h3><p>deque æ— å®¹é‡é™åˆ¶ï¼Œä¸åƒ vector æœ‰é™åˆ¶ï¼Œæ‰€ä»¥æ²¡æœ‰ .capacity æ¥å£</p><p><strong>å‡½æ•°åŸå‹ï¼š</strong></p><ul><li><p><code>deque.empty();</code>                       //åˆ¤æ–­å®¹å™¨æ˜¯å¦ä¸ºç©º</p></li><li><p><code>deque.size();</code>                         //è¿”å›å®¹å™¨ä¸­å…ƒç´ çš„ä¸ªæ•°</p></li><li><p><code>deque.resize(num);</code>                //é‡æ–°æŒ‡å®šå®¹å™¨çš„é•¿åº¦ä¸ºnum,è‹¥å®¹å™¨å˜é•¿ï¼Œåˆ™ä»¥é»˜è®¤å€¼å¡«å……æ–°ä½ç½®ã€‚</p><p>  â€‹                                         //å¦‚æœå®¹å™¨å˜çŸ­ï¼Œåˆ™æœ«å°¾è¶…å‡ºå®¹å™¨é•¿åº¦çš„å…ƒç´ è¢«åˆ é™¤ã€‚</p></li><li><p><code>deque.resize(num, elem);</code>     //é‡æ–°æŒ‡å®šå®¹å™¨çš„é•¿åº¦ä¸ºnum,è‹¥å®¹å™¨å˜é•¿ï¼Œåˆ™ä»¥elemå€¼å¡«å……æ–°ä½ç½®ã€‚</p><p>  â€‹                                                     //å¦‚æœå®¹å™¨å˜çŸ­ï¼Œåˆ™æœ«å°¾è¶…å‡ºå®¹å™¨é•¿åº¦çš„å…ƒç´ è¢«åˆ é™¤ã€‚</p></li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;deque&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printDeque</span><span class="params">(<span class="keyword">const</span> <span class="built_in">deque</span>&lt;<span class="keyword">int</span>&gt;&amp; d)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">deque</span>&lt;<span class="keyword">int</span>&gt;::const_iterator it = d.<span class="built_in">begin</span>(); it != d.<span class="built_in">end</span>(); it++) &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; *it &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¤§å°æ“ä½œ</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">deque</span>&lt;<span class="keyword">int</span>&gt; d1;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">d1.push_back(i);</span><br><span class="line">&#125;</span><br><span class="line">printDeque(d1);</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ¤æ–­å®¹å™¨æ˜¯å¦ä¸ºç©º</span></span><br><span class="line"><span class="keyword">if</span> (d1.empty()) &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"d1ä¸ºç©º!"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"d1ä¸ä¸ºç©º!"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="comment">//ç»Ÿè®¡å¤§å°</span></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"d1çš„å¤§å°ä¸ºï¼š"</span> &lt;&lt; d1.<span class="built_in">size</span>() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//é‡æ–°æŒ‡å®šå¤§å°</span></span><br><span class="line">d1.resize(<span class="number">15</span>, <span class="number">1</span>);</span><br><span class="line">printDeque(d1);</span><br><span class="line"></span><br><span class="line">d1.resize(<span class="number">5</span>);</span><br><span class="line">printDeque(d1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="deque-æ’å…¥å’Œåˆ é™¤"><a href="#deque-æ’å…¥å’Œåˆ é™¤" class="headerlink" title="deque æ’å…¥å’Œåˆ é™¤"></a>deque æ’å…¥å’Œåˆ é™¤</h3><p><strong>å‡½æ•°åŸå‹ï¼š</strong></p><p>ä¸¤ç«¯æ’å…¥æ“ä½œï¼š</p><ul><li><code>push_back(elem);</code>          //åœ¨å®¹å™¨å°¾éƒ¨æ·»åŠ ä¸€ä¸ªæ•°æ®</li><li><code>push_front(elem);</code>        //åœ¨å®¹å™¨å¤´éƒ¨æ’å…¥ä¸€ä¸ªæ•°æ®</li><li><code>pop_back();</code>                   //åˆ é™¤å®¹å™¨æœ€åä¸€ä¸ªæ•°æ®</li><li><code>pop_front();</code>                 //åˆ é™¤å®¹å™¨ç¬¬ä¸€ä¸ªæ•°æ®</li></ul><p>æŒ‡å®šä½ç½®æ“ä½œï¼š</p><ul><li><p><code>insert(pos,elem);</code>         //åœ¨posä½ç½®æ’å…¥ä¸€ä¸ªelemå…ƒç´ çš„æ‹·è´ï¼Œè¿”å›æ–°æ•°æ®çš„ä½ç½®ã€‚</p></li><li><p><code>insert(pos,n,elem);</code>     //åœ¨posä½ç½®æ’å…¥nä¸ªelemæ•°æ®ï¼Œæ— è¿”å›å€¼ã€‚</p></li><li><p><code>insert(pos,beg,end);</code>    //åœ¨posä½ç½®æ’å…¥[beg,end)åŒºé—´çš„æ•°æ®ï¼Œæ— è¿”å›å€¼ã€‚</p></li><li><p><code>clear();</code>                           //æ¸…ç©ºå®¹å™¨çš„æ‰€æœ‰æ•°æ®</p></li><li><p><code>erase(beg,end);</code>             //åˆ é™¤[beg,end)åŒºé—´çš„æ•°æ®ï¼Œè¿”å›ä¸‹ä¸€ä¸ªæ•°æ®çš„ä½ç½®ã€‚</p></li><li><p><code>erase(pos);</code>                    //åˆ é™¤posä½ç½®çš„æ•°æ®ï¼Œè¿”å›ä¸‹ä¸€ä¸ªæ•°æ®çš„ä½ç½®ã€‚</p></li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;deque&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printDeque</span><span class="params">(<span class="keyword">const</span> <span class="built_in">deque</span>&lt;<span class="keyword">int</span>&gt;&amp; d)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">deque</span>&lt;<span class="keyword">int</span>&gt;::const_iterator it = d.<span class="built_in">begin</span>(); it != d.<span class="built_in">end</span>(); it++) &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; *it &lt;&lt; <span class="string">" "</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//ä¸¤ç«¯æ“ä½œ</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">deque</span>&lt;<span class="keyword">int</span>&gt; d;</span><br><span class="line"><span class="comment">//å°¾æ’</span></span><br><span class="line">d.push_back(<span class="number">10</span>);</span><br><span class="line">d.push_back(<span class="number">20</span>);</span><br><span class="line"><span class="comment">//å¤´æ’</span></span><br><span class="line">d.push_front(<span class="number">100</span>);</span><br><span class="line">d.push_front(<span class="number">200</span>);</span><br><span class="line"></span><br><span class="line">printDeque(d);</span><br><span class="line"></span><br><span class="line"><span class="comment">//å°¾åˆ </span></span><br><span class="line">d.pop_back();</span><br><span class="line"><span class="comment">//å¤´åˆ </span></span><br><span class="line">d.pop_front();</span><br><span class="line">printDeque(d);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ’å…¥</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test02</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">deque</span>&lt;<span class="keyword">int</span>&gt; d;</span><br><span class="line">d.push_back(<span class="number">10</span>);</span><br><span class="line">d.push_back(<span class="number">20</span>);</span><br><span class="line">d.push_front(<span class="number">100</span>);</span><br><span class="line">d.push_front(<span class="number">200</span>);</span><br><span class="line">printDeque(d);</span><br><span class="line"></span><br><span class="line">d.insert(d.<span class="built_in">begin</span>(), <span class="number">1000</span>);</span><br><span class="line">printDeque(d);</span><br><span class="line"></span><br><span class="line">d.insert(d.<span class="built_in">begin</span>(), <span class="number">2</span>,<span class="number">10000</span>);</span><br><span class="line">printDeque(d);</span><br><span class="line"></span><br><span class="line"><span class="built_in">deque</span>&lt;<span class="keyword">int</span>&gt;d2;</span><br><span class="line">d2.push_back(<span class="number">1</span>);</span><br><span class="line">d2.push_back(<span class="number">2</span>);</span><br><span class="line">d2.push_back(<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">d.insert(d.<span class="built_in">begin</span>(), d2.<span class="built_in">begin</span>(), d2.<span class="built_in">end</span>());</span><br><span class="line">printDeque(d);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ é™¤</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test03</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">deque</span>&lt;<span class="keyword">int</span>&gt; d;</span><br><span class="line">d.push_back(<span class="number">10</span>);</span><br><span class="line">d.push_back(<span class="number">20</span>);</span><br><span class="line">d.push_front(<span class="number">100</span>);</span><br><span class="line">d.push_front(<span class="number">200</span>);</span><br><span class="line">printDeque(d);</span><br><span class="line"></span><br><span class="line">d.erase(d.<span class="built_in">begin</span>());</span><br><span class="line">printDeque(d);</span><br><span class="line"></span><br><span class="line">d.erase(d.<span class="built_in">begin</span>(), d.<span class="built_in">end</span>());</span><br><span class="line">d.<span class="built_in">clear</span>();</span><br><span class="line">printDeque(d);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//test01();</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//test02();</span></span><br><span class="line"></span><br><span class="line">    test03();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> æ€»ç»“ï¼š</p><ul><li>å°¾æ’ push_back( )</li><li>å°¾åˆ  pop_back( )</li><li>å¤´æ’ push_front( )</li><li>å¤´åˆ  pop_front( )</li></ul><h3 id="deque-å®¹å™¨æ•°æ®å­˜å–"><a href="#deque-å®¹å™¨æ•°æ®å­˜å–" class="headerlink" title="deque å®¹å™¨æ•°æ®å­˜å–"></a>deque å®¹å™¨æ•°æ®å­˜å–</h3><p><strong>å‡½æ•°åŸå‹ï¼š</strong></p><ul><li><code>at(int idx);</code>     //è¿”å›ç´¢å¼•idxæ‰€æŒ‡çš„æ•°æ®</li><li><code>operator[];</code>      //è¿”å›ç´¢å¼•idxæ‰€æŒ‡çš„æ•°æ®</li><li><code>front();</code>            //è¿”å›å®¹å™¨ä¸­ç¬¬ä¸€ä¸ªæ•°æ®å…ƒç´ </li><li><code>back();</code>              //è¿”å›å®¹å™¨ä¸­æœ€åä¸€ä¸ªæ•°æ®å…ƒç´ </li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;deque&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printDeque</span><span class="params">(<span class="keyword">const</span> <span class="built_in">deque</span>&lt;<span class="keyword">int</span>&gt;&amp; d)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">deque</span>&lt;<span class="keyword">int</span>&gt;::const_iterator it = d.<span class="built_in">begin</span>(); it != d.<span class="built_in">end</span>(); it++) &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; *it &lt;&lt; <span class="string">" "</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ•°æ®å­˜å–</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="built_in">deque</span>&lt;<span class="keyword">int</span>&gt; d;</span><br><span class="line">d.push_back(<span class="number">10</span>);</span><br><span class="line">d.push_back(<span class="number">20</span>);</span><br><span class="line">d.push_front(<span class="number">100</span>);</span><br><span class="line">d.push_front(<span class="number">200</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; d.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; d[i] &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; d.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; d.at(i) &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"front:"</span> &lt;&lt; d.front() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"back:"</span> &lt;&lt; d.back() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="deque-æ’åº"><a href="#deque-æ’åº" class="headerlink" title="deque æ’åº"></a>deque æ’åº</h3><p><strong>ç®—æ³•</strong></p><p>åˆ©ç”¨ sort ç®—æ³•è¿›è¡Œå¯¹ deque çš„æ’åº</p><p>sort ç®—æ³•ä¹Ÿå¯ä»¥å¯¹ vector ç­‰è¿›è¡Œæ’åº</p><ul><li><code>sort(iterator begin, iterator end)</code></li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;deque&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printDeque</span><span class="params">(<span class="keyword">const</span> <span class="built_in">deque</span>&lt;<span class="keyword">int</span>&gt; &amp;d)</span></span>&#123;</span><br><span class="line">  <span class="keyword">for</span>(<span class="built_in">deque</span>&lt;<span class="keyword">int</span>&gt;::const_iterator it = d.<span class="built_in">begin</span>(); it != d.<span class="built_in">end</span>(); it++ )&#123;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt; *it &lt;&lt;<span class="string">" "</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span>&#123;</span><br><span class="line">  <span class="built_in">deque</span>&lt;<span class="keyword">int</span>&gt; d;</span><br><span class="line">  d.push_back(<span class="number">30</span>);</span><br><span class="line">  d.push_back(<span class="number">40</span>);</span><br><span class="line">  d.push_back(<span class="number">100</span>);</span><br><span class="line">  d.push_front(<span class="number">200</span>);</span><br><span class="line">  d.push_front(<span class="number">300</span>);</span><br><span class="line">  printDeque(d);</span><br><span class="line"></span><br><span class="line">  sort(d.<span class="built_in">begin</span>(), d.<span class="built_in">end</span>());</span><br><span class="line">  <span class="built_in">cout</span>&lt;&lt;<span class="string">"after sort"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">  printDeque(d);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">  test01();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>rand éšæœºæ•°</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;ctime&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="comment">//srand( (unsigned int)time(NULL)); // ç”¨ä»¥ä»£æ›¿ä¸‹é¢ä¸‰è¡Œ</span></span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">int</span> seed;</span><br><span class="line">seed = time(<span class="number">0</span>);</span><br><span class="line">srand(seed);</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> first = rand() % <span class="number">41</span> + <span class="number">10</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; first &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">int</span> second = rand() % <span class="number">41</span> + <span class="number">10</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; second &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="stack"><a href="#stack" class="headerlink" title="stack"></a>stack</h3><p>æ„é€ å‡½æ•°ï¼š</p><ul><li><code>stack&lt;T&gt; stk;</code>                                 //stacké‡‡ç”¨æ¨¡æ¿ç±»å®ç°ï¼Œ stackå¯¹è±¡çš„é»˜è®¤æ„é€ å½¢å¼</li><li><code>stack(const stack &amp;stk);</code>            //æ‹·è´æ„é€ å‡½æ•°</li></ul><p>èµ‹å€¼æ“ä½œï¼š</p><ul><li><code>stack&amp; operator=(const stack &amp;stk);</code>           //é‡è½½ç­‰å·æ“ä½œç¬¦</li></ul><p>æ•°æ®å­˜å–ï¼š</p><ul><li><code>push(elem);</code>      //å‘æ ˆé¡¶æ·»åŠ å…ƒç´ </li><li><code>pop();</code>                //ä»æ ˆé¡¶ç§»é™¤ç¬¬ä¸€ä¸ªå…ƒç´ </li><li><code>top();</code>                //è¿”å›æ ˆé¡¶å…ƒç´ </li></ul><p>å¤§å°æ“ä½œï¼š</p><ul><li><code>empty();</code>            //åˆ¤æ–­å †æ ˆæ˜¯å¦ä¸ºç©º</li><li><code>size();</code>              //è¿”å›æ ˆçš„å¤§å°</li></ul><h3 id="queue"><a href="#queue" class="headerlink" title="queue"></a>queue</h3><p>æ„é€ å‡½æ•°ï¼š</p><ul><li><code>queue&lt;T&gt; que;</code>                                 //queueé‡‡ç”¨æ¨¡æ¿ç±»å®ç°ï¼Œqueueå¯¹è±¡çš„é»˜è®¤æ„é€ å½¢å¼</li><li><code>queue(const queue &amp;que);</code>            //æ‹·è´æ„é€ å‡½æ•°</li></ul><p>èµ‹å€¼æ“ä½œï¼š</p><ul><li><code>queue&amp; operator=(const queue &amp;que);</code>           //é‡è½½ç­‰å·æ“ä½œç¬¦</li></ul><p>æ•°æ®å­˜å–ï¼š</p><ul><li><code>push(elem);</code>                             //å¾€é˜Ÿå°¾æ·»åŠ å…ƒç´ </li><li><code>pop();</code>                                      //ä»é˜Ÿå¤´ç§»é™¤ç¬¬ä¸€ä¸ªå…ƒç´ </li><li><code>back();</code>                                    //è¿”å›æœ€åä¸€ä¸ªå…ƒç´ </li><li><code>front();</code>                                  //è¿”å›ç¬¬ä¸€ä¸ªå…ƒç´ </li></ul><p>å¤§å°æ“ä½œï¼š</p><ul><li><code>empty();</code>            //åˆ¤æ–­å †æ ˆæ˜¯å¦ä¸ºç©º</li><li><code>size();</code>              //è¿”å›æ ˆçš„å¤§å°</li></ul><h2 id="list"><a href="#list" class="headerlink" title="list"></a>list</h2><p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p><ul><li>åˆ›å»ºlistå®¹å™¨</li></ul><p><strong>å‡½æ•°åŸå‹ï¼š</strong></p><ul><li><code>list&lt;T&gt; lst;</code>                               //listé‡‡ç”¨é‡‡ç”¨æ¨¡æ¿ç±»å®ç°,å¯¹è±¡çš„é»˜è®¤æ„é€ å½¢å¼ï¼š</li><li><code>list(beg,end);</code>                           //æ„é€ å‡½æ•°å°†[beg, end)åŒºé—´ä¸­çš„å…ƒç´ æ‹·è´ç»™æœ¬èº«ã€‚</li><li><code>list(n,elem);</code>                             //æ„é€ å‡½æ•°å°†nä¸ªelemæ‹·è´ç»™æœ¬èº«ã€‚</li><li><code>list(const list &amp;lst);</code>            //æ‹·è´æ„é€ å‡½æ•°ã€‚</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printList</span><span class="params">(<span class="keyword">const</span> <span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt;&amp; L)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt;::const_iterator it = L.<span class="built_in">begin</span>(); it != L.<span class="built_in">end</span>(); it++) &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; *it &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt;L1;</span><br><span class="line">L1.push_back(<span class="number">10</span>);</span><br><span class="line">L1.push_back(<span class="number">20</span>);</span><br><span class="line">L1.push_back(<span class="number">30</span>);</span><br><span class="line">L1.push_back(<span class="number">40</span>);</span><br><span class="line"></span><br><span class="line">printList(L1);</span><br><span class="line"></span><br><span class="line"><span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt;L2(L1.<span class="built_in">begin</span>(),L1.<span class="built_in">end</span>());</span><br><span class="line">printList(L2);</span><br><span class="line"></span><br><span class="line"><span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt;L3(L2);</span><br><span class="line">printList(L3);</span><br><span class="line"></span><br><span class="line"><span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt;L4(<span class="number">10</span>, <span class="number">1000</span>);</span><br><span class="line">printList(L4);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>list æˆå‘˜å‡½æ•°</p><div class="table-container"><table><thead><tr><th><a href="https://www.nhooo.com/cpp/cpp-list-insert-function.html" target="_blank" rel="noopener">insert()</a></th><th>å®ƒå°†æ–°å…ƒç´ æ’å…¥åˆ°è¿­ä»£å™¨æŒ‡å‘çš„ä½ç½®ä¹‹å‰ã€‚</th></tr></thead><tbody><tr><td><a href="https://www.nhooo.com/cpp/cpp-list-push_back-function.html" target="_blank" rel="noopener">push_back()</a></td><td>å®ƒåœ¨å®¹å™¨çš„æœ«å°¾æ·»åŠ äº†ä¸€ä¸ªæ–°å…ƒç´ ã€‚</td></tr><tr><td><a href="https://www.nhooo.com/cpp/cpp-list-push_front-function.html" target="_blank" rel="noopener">push_front()</a></td><td>å®ƒåœ¨å‰é¢å¢åŠ äº†ä¸€ä¸ªæ–°å…ƒç´ ã€‚</td></tr><tr><td><a href="https://www.nhooo.com/cpp/cpp-list-pop_back-function.html" target="_blank" rel="noopener">pop_back()</a></td><td>åˆ é™¤æœ€åä¸€ä¸ªå…ƒç´ ã€‚</td></tr><tr><td><a href="https://www.nhooo.com/cpp/cpp-list-pop_front-function.html" target="_blank" rel="noopener">pop_front()</a></td><td>åˆ é™¤ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚</td></tr><tr><td><a href="https://www.nhooo.com/cpp/cpp-list-empty-function.html" target="_blank" rel="noopener">empty()</a></td><td>å®ƒæ£€æŸ¥åˆ—è¡¨æ˜¯å¦ä¸ºç©ºã€‚</td></tr><tr><td><a href="https://www.nhooo.com/cpp/cpp-list-size-function.html" target="_blank" rel="noopener">size()</a></td><td>å®ƒæŸ¥æ‰¾åˆ—è¡¨ä¸­å­˜åœ¨çš„å…ƒç´ æ•°ã€‚</td></tr><tr><td><a href="https://www.nhooo.com/cpp/cpp-list-max_size-function.html" target="_blank" rel="noopener">max_size()</a></td><td>å®ƒæ‰¾åˆ°åˆ—è¡¨çš„æœ€å¤§å¤§å°ã€‚</td></tr><tr><td><a href="https://www.nhooo.com/cpp/cpp-list-front-function.html" target="_blank" rel="noopener">front()</a></td><td>å®ƒè¿”å›åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚</td></tr><tr><td><a href="https://www.nhooo.com/cpp/cpp-list-back-function.html" target="_blank" rel="noopener">back()</a></td><td>å®ƒè¿”å›åˆ—è¡¨çš„æœ€åä¸€ä¸ªå…ƒç´ ã€‚</td></tr><tr><td><a href="https://www.nhooo.com/cpp/cpp-list-swap-function.html" target="_blank" rel="noopener">swap()</a></td><td>å½“ä¸¤ä¸ªåˆ—è¡¨çš„ç±»å‹ç›¸åŒæ—¶ï¼Œå®ƒå°†äº¤æ¢ä¸¤ä¸ªåˆ—è¡¨ã€‚</td></tr><tr><td><a href="https://www.nhooo.com/cpp/cpp-list-reverse-function.html" target="_blank" rel="noopener">reverse()</a></td><td>å®ƒåè½¬äº†åˆ—è¡¨çš„å…ƒç´ ã€‚</td></tr><tr><td><a href="https://www.nhooo.com/cpp/cpp-list-sort-function.html" target="_blank" rel="noopener">sort()</a></td><td>å®ƒä»¥é€’å¢çš„é¡ºåºå¯¹åˆ—è¡¨ä¸­çš„å…ƒç´ è¿›è¡Œæ’åºã€‚</td></tr><tr><td><a href="https://www.nhooo.com/cpp/cpp-list-merge-function.html" target="_blank" rel="noopener">merge()</a></td><td>å®ƒåˆå¹¶ä¸¤ä¸ªæ’åºçš„åˆ—è¡¨ã€‚</td></tr><tr><td><a href="https://www.nhooo.com/cpp/cpp-list-splice-function.html" target="_blank" rel="noopener">splice()</a></td><td>å®ƒå°†æ–°åˆ—è¡¨æ’å…¥åˆ°è°ƒç”¨åˆ—è¡¨ä¸­ã€‚</td></tr><tr><td><a href="https://www.nhooo.com/cpp/cpp-list-unique-function.html" target="_blank" rel="noopener">unique()</a></td><td>å®ƒä»åˆ—è¡¨ä¸­åˆ é™¤æ‰€æœ‰é‡å¤çš„å…ƒç´ ã€‚</td></tr><tr><td><a href="https://www.nhooo.com/cpp/cpp-list-resize-function.html" target="_blank" rel="noopener">resize()</a></td><td>å®ƒæ›´æ”¹åˆ—è¡¨å®¹å™¨çš„å¤§å°ã€‚</td></tr><tr><td><a href="https://www.nhooo.com/cpp/cpp-list-assign-function.html" target="_blank" rel="noopener">assign()</a></td><td>å®ƒå°†ä¸€ä¸ªæ–°å…ƒç´ åˆ†é…ç»™åˆ—è¡¨å®¹å™¨ã€‚</td></tr><tr><td><a href="https://www.nhooo.com/cpp/cpp-list-emplace-function.html" target="_blank" rel="noopener">emplace()</a></td><td>å®ƒå°†åœ¨æŒ‡å®šä½ç½®æ’å…¥ä¸€ä¸ªæ–°å…ƒç´ ã€‚</td></tr><tr><td><a href="https://www.nhooo.com/cpp/cpp-list-emplace_back-function.html" target="_blank" rel="noopener">emplace_back()</a></td><td>å®ƒå°†åœ¨å®¹å™¨çš„æœ«å°¾æ’å…¥ä¸€ä¸ªæ–°å…ƒç´ ã€‚</td></tr><tr><td><a href="https://www.nhooo.com/cpp/cpp-list-emplace_front-function.html" target="_blank" rel="noopener">emplace_front()</a></td><td>å®ƒå°†åœ¨åˆ—è¡¨çš„å¼€å¤´æ’å…¥ä¸€ä¸ªæ–°å…ƒç´ ã€‚</td></tr><tr><td>remove(element)</td><td>åˆ é™¤å®¹å™¨ä¸­æ‰€æœ‰ä¸ elem å€¼åŒ¹é…çš„å…ƒç´ </td></tr></tbody></table></div><h3 id="list-æ•°æ®å­˜å–"><a href="#list-æ•°æ®å­˜å–" class="headerlink" title="list æ•°æ®å­˜å–"></a>list æ•°æ®å­˜å–</h3><p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p><ul><li>å¯¹listå®¹å™¨ä¸­æ•°æ®è¿›è¡Œå­˜å–</li></ul><p><strong>å‡½æ•°åŸå‹ï¼š</strong></p><ul><li><code>front();</code>        //è¿”å›ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚</li><li><code>back();</code>         //è¿”å›æœ€åä¸€ä¸ªå…ƒç´ ã€‚</li></ul><h3 id="list-åè½¬å’Œæ’åº"><a href="#list-åè½¬å’Œæ’åº" class="headerlink" title="list åè½¬å’Œæ’åº"></a>list åè½¬å’Œæ’åº</h3><p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p><ul><li>å°†å®¹å™¨ä¸­çš„å…ƒç´ åè½¬ï¼Œä»¥åŠå°†å®¹å™¨ä¸­çš„æ•°æ®è¿›è¡Œæ’åº</li></ul><p><strong>å‡½æ•°åŸå‹ï¼š</strong></p><ul><li><code>reverse();</code>   //åè½¬é“¾è¡¨</li><li><code>sort();</code>        //é“¾è¡¨æ’åº</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printList</span><span class="params">(<span class="keyword">const</span> <span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt;&amp; L)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt;::const_iterator it = L.<span class="built_in">begin</span>(); it != L.<span class="built_in">end</span>(); it++) &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; *it &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">myCompare</span><span class="params">(<span class="keyword">int</span> val1 , <span class="keyword">int</span> val2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> val1 &gt; val2;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åè½¬å’Œæ’åº</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt; L;</span><br><span class="line">L.push_back(<span class="number">90</span>);</span><br><span class="line">L.push_back(<span class="number">30</span>);</span><br><span class="line">L.push_back(<span class="number">20</span>);</span><br><span class="line">L.push_back(<span class="number">70</span>);</span><br><span class="line">printList(L);</span><br><span class="line"></span><br><span class="line"><span class="comment">//åè½¬å®¹å™¨çš„å…ƒç´ </span></span><br><span class="line">L.reverse();</span><br><span class="line">printList(L);</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ’åº</span></span><br><span class="line">L.sort(); <span class="comment">//é»˜è®¤çš„æ’åºè§„åˆ™ ä»å°åˆ°å¤§</span></span><br><span class="line">printList(L);</span><br><span class="line"></span><br><span class="line">L.sort(myCompare); <span class="comment">//æŒ‡å®šè§„åˆ™ï¼Œä»å¤§åˆ°å°</span></span><br><span class="line">printList(L);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="list-æ’åºæ¡ˆä¾‹"><a href="#list-æ’åºæ¡ˆä¾‹" class="headerlink" title="list æ’åºæ¡ˆä¾‹"></a>list æ’åºæ¡ˆä¾‹</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Person(<span class="built_in">string</span> name, <span class="keyword">int</span> age , <span class="keyword">int</span> <span class="built_in">height</span>) &#123;</span><br><span class="line">m_Name = name;</span><br><span class="line">m_Age = age;</span><br><span class="line">m_Height = <span class="built_in">height</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">string</span> m_Name;  <span class="comment">//å§“å</span></span><br><span class="line"><span class="keyword">int</span> m_Age;      <span class="comment">//å¹´é¾„</span></span><br><span class="line"><span class="keyword">int</span> m_Height;   <span class="comment">//èº«é«˜</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">ComparePerson</span><span class="params">(Person&amp; p1, Person&amp; p2)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (p1.m_Age == p2.m_Age) &#123;</span><br><span class="line"><span class="keyword">return</span> p1.m_Height  &gt; p2.m_Height;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span>  p1.m_Age &lt; p2.m_Age;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="built_in">list</span>&lt;Person&gt; L;</span><br><span class="line"></span><br><span class="line"><span class="function">Person <span class="title">p1</span><span class="params">(<span class="string">"åˆ˜å¤‡"</span>, <span class="number">35</span> , <span class="number">175</span>)</span></span>;</span><br><span class="line"><span class="function">Person <span class="title">p2</span><span class="params">(<span class="string">"æ›¹æ“"</span>, <span class="number">45</span> , <span class="number">180</span>)</span></span>;</span><br><span class="line"><span class="function">Person <span class="title">p3</span><span class="params">(<span class="string">"å­™æƒ"</span>, <span class="number">40</span> , <span class="number">170</span>)</span></span>;</span><br><span class="line"><span class="function">Person <span class="title">p4</span><span class="params">(<span class="string">"èµµäº‘"</span>, <span class="number">25</span> , <span class="number">190</span>)</span></span>;</span><br><span class="line"><span class="function">Person <span class="title">p5</span><span class="params">(<span class="string">"å¼ é£"</span>, <span class="number">35</span> , <span class="number">160</span>)</span></span>;</span><br><span class="line"><span class="function">Person <span class="title">p6</span><span class="params">(<span class="string">"å…³ç¾½"</span>, <span class="number">35</span> , <span class="number">200</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">L.push_back(p1);</span><br><span class="line">L.push_back(p2);</span><br><span class="line">L.push_back(p3);</span><br><span class="line">L.push_back(p4);</span><br><span class="line">L.push_back(p5);</span><br><span class="line">L.push_back(p6);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">list</span>&lt;Person&gt;::iterator it = L.<span class="built_in">begin</span>(); it != L.<span class="built_in">end</span>(); it++) &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"å§“åï¼š "</span> &lt;&lt; it-&gt;m_Name &lt;&lt; <span class="string">" å¹´é¾„ï¼š "</span> &lt;&lt; it-&gt;m_Age</span><br><span class="line">              &lt;&lt; <span class="string">" èº«é«˜ï¼š "</span> &lt;&lt; it-&gt;m_Height &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"---------------------------------"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">L.sort(ComparePerson); <span class="comment">//æ’åº</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">list</span>&lt;Person&gt;::iterator it = L.<span class="built_in">begin</span>(); it != L.<span class="built_in">end</span>(); it++) &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"å§“åï¼š "</span> &lt;&lt; it-&gt;m_Name &lt;&lt; <span class="string">" å¹´é¾„ï¼š "</span> &lt;&lt; it-&gt;m_Age</span><br><span class="line">              &lt;&lt; <span class="string">" èº«é«˜ï¼š "</span> &lt;&lt; it-&gt;m_Height &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">test01();</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å…³è”å¼å®¹å™¨"><a href="#å…³è”å¼å®¹å™¨" class="headerlink" title="å…³è”å¼å®¹å™¨"></a>å…³è”å¼å®¹å™¨</h2><p>ä½¿ç”¨å…³è”å¼å®¹å™¨å­˜å‚¨çš„å…ƒç´ ï¼Œéƒ½æ˜¯ä¸€ä¸ªä¸ªçš„â€œé”®å€¼å¯¹â€ï¼ˆ<key , value> ) ã€‚</p><p>C++ STLæä¾›äº†4ç§å…³è”å¼å®¹å™¨ï¼Œmap, set, multimap, multiset</p><div class="table-container"><table><thead><tr><th>å…³è”å¼å®¹å™¨åç§°</th><th>ç‰¹ç‚¹</th></tr></thead><tbody><tr><td>map</td><td>å®šä¹‰åœ¨ \<map\> å¤´æ–‡ä»¶ä¸­ï¼Œä½¿ç”¨è¯¥å®¹å™¨å­˜å‚¨çš„æ•°æ®ï¼Œå…¶å„ä¸ªå…ƒç´ çš„é”®å€¼å¿…é¡»æ˜¯å”¯ä¸€çš„ï¼ˆä¸èƒ½é‡å¤ï¼‰ï¼Œè¯¥å®¹å™¨ä¼šæ ¹æ®é”®å€¼çš„å¤§å°è¿›è¡Œè‡ªåŠ¨å‡åºæ’åº</td></tr><tr><td>set</td><td>å®šä¹‰åœ¨ \<set\> å¤´æ–‡ä»¶ä¸­ï¼Œä½¿ç”¨è¯¥å®¹å™¨å­˜å‚¨çš„æ•°æ®ï¼Œå„ä¸ªå…ƒç´ é”®å€¼å®Œå…¨ç›¸åŒï¼Œä¸”å„ä¸ªå…ƒç´ çš„å€¼ä¸èƒ½é‡å¤ï¼ˆä¿è¯å„å…ƒç´ é”®çš„å”¯ä¸€æ€§ï¼‰ï¼Œè¯¥å®¹å™¨ä¼šæ ¹æ®é”®å€¼çš„å¤§å°è¿›è¡Œè‡ªåŠ¨å‡åºæ’åºã€‚</td></tr><tr><td>multimap</td><td>ä¸ map åŒºåˆ«åœ¨äºï¼Œé”®å€¼å¯ä»¥é‡å¤</td></tr><tr><td>multiset</td><td>å­˜å‚¨çš„å…ƒç´ çš„å€¼å¯ä»¥é‡å¤ï¼ˆä¸€æ—¦é‡å¤ï¼Œæ„å‘³ç€é”®ä¹Ÿæ˜¯é‡å¤çš„ï¼‰</td></tr></tbody></table></div><h3 id="pair-ç±»æ¨¡æ¿"><a href="#pair-ç±»æ¨¡æ¿" class="headerlink" title="pair ç±»æ¨¡æ¿"></a>pair ç±»æ¨¡æ¿</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;utility&gt;      // pair</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;       // string</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// è°ƒç”¨æ„é€ å‡½æ•° 1ï¼Œä¹Ÿå°±æ˜¯é»˜è®¤æ„é€ å‡½æ•°</span></span><br><span class="line">    pair &lt;<span class="built_in">string</span>, <span class="keyword">double</span>&gt; pair1;</span><br><span class="line">    <span class="comment">// è°ƒç”¨ç¬¬ 2 ç§æ„é€ å‡½æ•°</span></span><br><span class="line">    pair &lt;<span class="built_in">string</span>, <span class="built_in">string</span>&gt; pair2(<span class="string">"STLæ•™ç¨‹"</span>,<span class="string">"http://stl/"</span>);</span><br><span class="line">    <span class="comment">// è°ƒç”¨æ‹·è´æ„é€ å‡½æ•°</span></span><br><span class="line">    pair &lt;<span class="built_in">string</span>, <span class="built_in">string</span>&gt; pair3(pair2);</span><br><span class="line">    <span class="comment">//è°ƒç”¨ç§»åŠ¨æ„é€ å‡½æ•°</span></span><br><span class="line">    pair &lt;<span class="built_in">string</span>, <span class="built_in">string</span>&gt; pair4(make_pair(<span class="string">"C++æ•™ç¨‹"</span>, <span class="string">"http://cplus/"</span>));</span><br><span class="line">    <span class="comment">// è°ƒç”¨ç¬¬ 5 ç§æ„é€ å‡½æ•°</span></span><br><span class="line">    pair &lt;<span class="built_in">string</span>, <span class="built_in">string</span>&gt; pair5(<span class="built_in">string</span>(<span class="string">"Pythonæ•™ç¨‹"</span>), <span class="built_in">string</span>(<span class="string">"http://python/"</span>));</span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"pair1: "</span> &lt;&lt; pair1.first &lt;&lt; <span class="string">" "</span> &lt;&lt; pair1.second &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"pair2: "</span>&lt;&lt; pair2.first &lt;&lt; <span class="string">" "</span> &lt;&lt; pair2.second &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"pair3: "</span> &lt;&lt; pair3.first &lt;&lt; <span class="string">" "</span> &lt;&lt; pair3.second &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"pair4: "</span> &lt;&lt; pair4.first &lt;&lt; <span class="string">" "</span> &lt;&lt; pair4.second &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"pair5: "</span> &lt;&lt; pair5.first &lt;&lt; <span class="string">" "</span> &lt;&lt; pair5.second &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">pair1:  0</span><br><span class="line">pair2: STLæ•™ç¨‹ http:&#x2F;&#x2F;stl&#x2F;</span><br><span class="line">pair3: STLæ•™ç¨‹ http:&#x2F;&#x2F;stl&#x2F;</span><br><span class="line">pair4: C++æ•™ç¨‹ http:&#x2F;&#x2F;cplus&#x2F;</span><br><span class="line">pair5: Pythonæ•™ç¨‹ http:&#x2F;&#x2F;python&#x2F;</span><br></pre></td></tr></table></figure><p>åœ¨ pair4 ä¸­ï¼Œmake_pair() æ˜¯ \<utility\> å¤´æ–‡ä»¶ä¸­æä¾›çš„ï¼Œä¸»è¦åŠŸèƒ½æ˜¯ç”Ÿæˆä¸€ä¸ª pair å¯¹è±¡ï¼Œä½¿å¾— make_pair å‡½æ•°æ‰€åˆ›é€ çš„è¿”å›å€¼ä½œä¸ºä¸€ä¸ªä¸´æ—¶å¯¹è±¡ä¼ é€’ç»™ pair() çš„ç¬¬4ç§æ„é€ å‡½æ•°â€”&gt; ç§»åŠ¨æ„é€ å‡½æ•°ï¼ˆä¸æ˜¯æ‹·è´æ„é€ å‡½æ•°ï¼‰ã€‚</p><p><strong>pair çš„èµ‹å€¼æ“ä½œ</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pair1.first = <span class="string">"C++"</span>;</span><br><span class="line">pair1.second = <span class="string">"https://cplus.com"</span>;</span><br></pre></td></tr></table></figure> <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pair&lt;<span class="built_in">string</span>, <span class="built_in">string</span>&gt; pair = make_pair(<span class="string">"c++"</span>,<span class="string">"https://cplus.com"</span>);</span><br></pre></td></tr></table></figure><p>\<utility\> è¿˜æä¾›äº†å¯¹äº pair å¯¹è±¡é‡è½½äº† &lt;, &lt;=, &gt;, &gt;==, ==, != è¿ç®—ç¬¦ï¼Œå¯ä»¥è¿›è¡Œæ¯”è¾ƒå¤§å°ä¹‹ç±»çš„æ“ä½œã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">pair&lt;string, int&gt; pair1("C++", 100);</span><br><span class="line">pair&lt;string, int&gt; pair2("C++", 100);</span><br><span class="line"><span class="keyword">if</span>(pair1 == pair2)&#123;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cout</span>&lt;&lt; pair1 == pair2 &lt;&lt;<span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cout</span>&lt;&lt; pair1 != pair2 &lt;&lt;<span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ— åºå…³è”å¼å®¹å™¨-unordered-map"><a href="#æ— åºå…³è”å¼å®¹å™¨-unordered-map" class="headerlink" title="æ— åºå…³è”å¼å®¹å™¨ unordered_map"></a>æ— åºå…³è”å¼å®¹å™¨ unordered_map</h2><p>æ— åºå…³è”å¼å®¹å™¨ä¸å…³è”å¼å®¹å™¨æœ€ä¸»è¦çš„åŒºåˆ«åœ¨äºï¼Œæ— åºå…³è”å¼å®¹å™¨ä¸ä¼šå¯¹å­˜å‚¨çš„å…ƒç´ åšé»˜è®¤çš„å‡åºæ’åºæ“ä½œã€‚</p><p>æ— åºå…³è”å¼å®¹å™¨æ“…é•¿é€šè¿‡æŒ‡å®šé”®æ¥æŸ¥æ‰¾å¯¹åº”çš„å€¼ï¼Œè€Œéå†å®¹å™¨ä¸­å­˜å‚¨å…ƒç´ çš„æ•ˆç‡ä¸å¦‚å…³è”å¼å®¹å™¨ã€‚</p><p>å…³è”å¼å®¹å™¨çš„åº•å±‚å®ç°é‡‡ç”¨çš„æ ‘å­˜å‚¨ç»“æ„â€”â€”çº¢é»‘æ ‘ç»“æ„ã€‚</p><p>æ— åºå®¹å™¨çš„åº•å±‚é‡‡ç”¨çš„æ˜¯å“ˆå¸Œè¡¨çš„å­˜å‚¨ç»“æ„ã€‚</p><div class="table-container"><table><thead><tr><th>æ— åºå®¹å™¨</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>unordered_map</td><td>å­˜å‚¨é”®å€¼å¯¹ <key, value> ç±»å‹çš„å…ƒç´ ï¼Œå…¶ä¸­å„ä¸ªé”®å€¼å¯¹é”®çš„å€¼ä¸å…è®¸é‡å¤ï¼Œä¸”è¯¥å®¹å™¨ä¸­å­˜å‚¨çš„é”®å€¼å¯¹æ˜¯æ— åºçš„ã€‚</td></tr><tr><td>unordered_multimap</td><td>å’Œ unordered_map å”¯ä¸€çš„åŒºåˆ«åœ¨äºï¼Œè¯¥å®¹å™¨å…è®¸å­˜å‚¨å¤šä¸ªé”®ç›¸åŒçš„é”®å€¼å¯¹ã€‚</td></tr><tr><td>unordered_set</td><td>ä¸å†ä»¥é”®å€¼å¯¹çš„å½¢å¼å­˜å‚¨æ•°æ®ï¼Œè€Œæ˜¯ç›´æ¥å­˜å‚¨æ•°æ®å…ƒç´ æœ¬èº«ï¼ˆå½“ç„¶ä¹Ÿå¯ä»¥ç†è§£ä¸ºï¼Œè¯¥å®¹å™¨å­˜å‚¨çš„å…¨éƒ¨éƒ½æ˜¯é”® key å’Œå€¼ value ç›¸ç­‰çš„é”®å€¼å¯¹ï¼Œæ­£å› ä¸ºå®ƒä»¬ç›¸ç­‰ï¼Œå› æ­¤åªå­˜å‚¨ value å³å¯ï¼‰ã€‚å¦å¤–ï¼Œè¯¥å®¹å™¨å­˜å‚¨çš„å…ƒç´ ä¸èƒ½é‡å¤ï¼Œä¸”å®¹å™¨å†…éƒ¨å­˜å‚¨çš„å…ƒç´ ä¹Ÿæ˜¯æ— åºçš„ã€‚</td></tr><tr><td>unordered_multiset</td><td>å’Œ unordered_set å”¯ä¸€çš„åŒºåˆ«åœ¨äºï¼Œè¯¥å®¹å™¨å…è®¸å­˜å‚¨å€¼ç›¸åŒçš„å…ƒç´ ã€‚</td></tr></tbody></table></div><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;unordered_map&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//åˆ›å»ºå¹¶åˆå§‹åŒ–ä¸€ä¸ª unordered_map å®¹å™¨ï¼Œå…¶å­˜å‚¨çš„ &lt;string,string&gt; ç±»å‹çš„é”®å€¼å¯¹</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">unordered_map</span>&lt;<span class="built_in">std</span>::<span class="built_in">string</span>, <span class="built_in">std</span>::<span class="built_in">string</span>&gt; myMap;</span><br><span class="line">myMap[<span class="string">"C++"</span>] = <span class="string">"cpp"</span>;</span><br><span class="line">myMap[<span class="string">"Py"</span>] = <span class="string">"python"</span>;</span><br><span class="line">myMap[<span class="string">"Java"</span>] = <span class="string">"java"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æŸ¥æ‰¾æŒ‡å®šé”®å¯¹åº”çš„å€¼ï¼Œæ•ˆç‡æ¯”å…³è”å¼å®¹å™¨é«˜</span></span><br><span class="line">    <span class="built_in">string</span> str = myMap.at(<span class="string">"Java"</span>);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"str = "</span> &lt;&lt; str &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ä½¿ç”¨è¿­ä»£å™¨éå†å“ˆå¸Œå®¹å™¨ï¼Œæ•ˆç‡ä¸å¦‚å…³è”å¼å®¹å™¨</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> iter = myMap.<span class="built_in">begin</span>(); iter != myMap.<span class="built_in">end</span>(); ++iter)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//pair ç±»å‹é”®å€¼å¯¹åˆ†ä¸º 2 éƒ¨åˆ†</span></span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; iter-&gt;first &lt;&lt; <span class="string">" "</span> &lt;&lt; iter-&gt;second &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">unorderedMaptest.cpp:19:10: warning: &#39;auto&#39; type specifier is a C++11 extension [-Wc++11-extensions]</span><br><span class="line">    for (auto iter &#x3D; myMap.begin(); iter !&#x3D; myMap.end(); ++iter)</span><br><span class="line">         ^</span><br><span class="line">1 warning generated.</span><br><span class="line">str &#x3D; java</span><br><span class="line">Java java</span><br><span class="line">Py python</span><br><span class="line">C++ cpp</span><br></pre></td></tr></table></figure><p><strong>å‘ unordered_map ä¸­æ’å…¥å…ƒç´ çš„æ–¹æ³•</strong></p><ul><li>insert</li><li>emplace</li></ul><p>emplace æ–¹æ³•æ•ˆç‡æ¯” insert é«˜</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;unordered_map&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//åˆ›å»º umap å®¹å™¨</span></span><br><span class="line">    <span class="built_in">unordered_map</span>&lt;<span class="built_in">string</span>, <span class="built_in">string</span>&gt; umap;</span><br><span class="line">    <span class="comment">//å®šä¹‰ä¸€ä¸ªæ¥å— emplace() æ–¹æ³•çš„ pair ç±»å‹å˜é‡</span></span><br><span class="line">    pair&lt;<span class="built_in">unordered_map</span>&lt;<span class="built_in">string</span>, <span class="built_in">string</span>&gt;::iterator, <span class="keyword">bool</span>&gt; ret;</span><br><span class="line">    <span class="comment">//è°ƒç”¨ emplace() æ–¹æ³•</span></span><br><span class="line">    ret = umap.emplace(<span class="string">"STLæ•™ç¨‹"</span>, <span class="string">"http://c.biancheng.net/stl/"</span>);</span><br><span class="line">    <span class="comment">//è¾“å‡º ret ä¸­åŒ…å«çš„ 2 ä¸ªå…ƒç´ çš„å€¼</span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"bool ="</span> &lt;&lt; ret.second &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"iter -&gt;"</span> &lt;&lt; ret.first-&gt;first &lt;&lt; <span class="string">" "</span> &lt;&lt; ret.first-&gt;second &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;CPP-refresh&quot;&gt;&lt;a href=&quot;#CPP-refresh&quot; class=&quot;headerlink&quot; title=&quot;CPP refresh&quot;&gt;&lt;/a&gt;CPP refresh&lt;/h1&gt;&lt;h2 id=&quot;å†…å­˜æ¨¡å‹&quot;&gt;&lt;a href=&quot;#å†…å­˜æ¨¡å‹&quot; class=&quot;
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>752. Open the Lock</title>
    <link href="https://github.com/liysky/liysky.github.io.git/2021/02/03/752-Open-the-Lock/"/>
    <id>https://github.com/liysky/liysky.github.io.git/2021/02/03/752-Open-the-Lock/</id>
    <published>2021-02-03T14:49:30.000Z</published>
    <updated>2021-02-03T14:49:53.791Z</updated>
    
    <content type="html"><![CDATA[<h3 id="752-Open-the-Lock"><a href="#752-Open-the-Lock" class="headerlink" title="752. Open the Lock"></a><a href="https://leetcode-cn.com/problems/open-the-lock/" target="_blank" rel="noopener">752. Open the Lock</a></h3><p>You have a lock in front of you with 4 circular wheels. Each wheel has 10 slots: â€˜0â€™, â€˜1â€™, â€˜2â€™, â€˜3â€™, â€˜4â€™, â€˜5â€™, â€˜6â€™, â€˜7â€™, â€˜8â€™, â€˜9â€™. The wheels can rotate freely and wrap around: for example we can turn â€˜9â€™ to be â€˜0â€™, or â€˜0â€™ to be â€˜9â€™. Each move consists of turning one wheel one slot.</p><p>The lock initially starts at â€˜0000â€™, a string representing the state of the 4 wheels.</p><p>You are given a list of deadends dead ends, meaning if the lock displays any of these codes, the wheels of the lock will stop turning and you will be unable to open it.</p><p>Given a target representing the value of the wheels that will unlock the lock, return the minimum total number of turns required to open the lock, or -1 if it is impossible.</p><p>Example 1:</p><p>Input: deadends = [â€œ0201â€,â€0101â€,â€0102â€,â€1212â€,â€2002â€], target = â€œ0202â€<br>Output: 6<br>Explanation:<br>A sequence of valid moves would be â€œ0000â€ -&gt; â€œ1000â€ -&gt; â€œ1100â€ -&gt; â€œ1200â€ -&gt; â€œ1201â€ -&gt; â€œ1202â€ -&gt; â€œ0202â€.<br>Note that a sequence like â€œ0000â€ -&gt; â€œ0001â€ -&gt; â€œ0002â€ -&gt; â€œ0102â€ -&gt; â€œ0202â€ would be invalid,<br>because the wheels of the lock become stuck after the display becomes the dead end â€œ0102â€.<br>Example 2:</p><p>Input: deadends = [â€œ8888â€], target = â€œ0009â€<br>Output: 1<br>Explanation:<br>We can turn the last wheel in reverse to move from â€œ0000â€ -&gt; â€œ0009â€.<br>Example 3:</p><p>Input: deadends = [â€œ8887â€,â€8889â€,â€8878â€,â€8898â€,â€8788â€,â€8988â€,â€7888â€,â€9888â€], target = â€œ8888â€<br>Output: -1<br>Explanation:<br>We canâ€™t reach the target without getting stuck.<br>Example 4:</p><p>Input: deadends = [â€œ0000â€], target = â€œ8888â€<br>Output: -1</p><p>Constraints:</p><p>1 &lt;= deadends.length &lt;= 500<br>deadends[i].length == 4<br>target.length == 4<br>target will not be in the list deadends.<br>target and deadends[i] consist of digits only.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function">String <span class="title">plusOne</span><span class="params">(String s, <span class="keyword">int</span> i)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">char</span>[] ch = s.toCharArray();</span><br><span class="line">        <span class="keyword">if</span>(ch[i] == <span class="string">'9'</span>)</span><br><span class="line">            ch[i] = <span class="string">'0'</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            ch[i] += <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> String(ch);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">String <span class="title">minusOne</span><span class="params">(String s, <span class="keyword">int</span> i)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">char</span>[] ch = s.toCharArray();</span><br><span class="line">        <span class="keyword">if</span>(ch[i] == <span class="string">'0'</span>)</span><br><span class="line">            ch[i] = <span class="string">'9'</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            ch[i] -= <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> String(ch);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">openLock</span><span class="params">(String[] deadends, String target)</span> </span>&#123;</span><br><span class="line">        Set&lt;String&gt; deads = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(String dead : deadends)</span><br><span class="line">            deads.add(dead);</span><br><span class="line">        Set&lt;String&gt; visited = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        Queue&lt;String&gt; q = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        <span class="keyword">int</span> depth = <span class="number">0</span>;</span><br><span class="line">        visited.add(<span class="string">"0000"</span>);</span><br><span class="line">        q.offer(<span class="string">"0000"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span>(!q.isEmpty())&#123;</span><br><span class="line">            <span class="keyword">int</span> q_size = q.size();</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; q_size; i++)&#123;</span><br><span class="line">                String cur = q.poll();</span><br><span class="line">                <span class="keyword">if</span>(deads.contains(cur))</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                <span class="keyword">if</span>(cur.equals(target))</span><br><span class="line">                    <span class="keyword">return</span> depth;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">4</span>; j++)&#123;</span><br><span class="line">                    String plusone = plusOne(cur, j);</span><br><span class="line">                    <span class="keyword">if</span>(!visited.contains(plusone))&#123;</span><br><span class="line">                        q.offer(plusone);</span><br><span class="line">                        visited.add(plusone);</span><br><span class="line">                    &#125;</span><br><span class="line">                    String minusone = minusOne(cur, j);</span><br><span class="line">                    <span class="keyword">if</span>(!visited.contains(minusone))&#123;</span><br><span class="line">                        q.offer(minusone);</span><br><span class="line">                        visited.add(minusone);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            depth++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;752-Open-the-Lock&quot;&gt;&lt;a href=&quot;#752-Open-the-Lock&quot; class=&quot;headerlink&quot; title=&quot;752. Open the Lock&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://leetcode-cn.com/p
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>Iteratively. 144.Binary Tree Preorder&amp;Inorder Traversal</title>
    <link href="https://github.com/liysky/liysky.github.io.git/2021/02/01/Iteratively-144-Binary-Tree-Preorder-Inorder-Traversal/"/>
    <id>https://github.com/liysky/liysky.github.io.git/2021/02/01/Iteratively-144-Binary-Tree-Preorder-Inorder-Traversal/</id>
    <published>2021-02-01T15:53:55.000Z</published>
    <updated>2021-02-01T15:54:18.699Z</updated>
    
    <content type="html"><![CDATA[<h4 id="144-Binary-Tree-Preorder-Traversal"><a href="#144-Binary-Tree-Preorder-Traversal" class="headerlink" title="144. Binary Tree Preorder Traversal"></a><a href="https://leetcode-cn.com/problems/binary-tree-preorder-traversal/" target="_blank" rel="noopener">144. Binary Tree Preorder Traversal</a></h4><p>Given the root of a binary tree, return the preorder traversal of its nodesâ€™ values.</p><p>Example 1:</p><p>Input: root = [1,null,2,3]<br>Output: [1,2,3]<br>Example 2:</p><p>Input: root = []<br>Output: []<br>Example 3:</p><p>Input: root = [1]<br>Output: [1]<br>Example 4:</p><p>Input: root = [1,2]<br>Output: [1,2]<br>Example 5:</p><p>Input: root = [1,null,2]<br>Output: [1,2]</p><p>Constraints:</p><p>The number of nodes in the tree is in the range [0, 100].<br>-100 &lt;= Node.val &lt;= 100</p><p>Follow up: Recursive solution is trivial, could you do it iteratively?</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * struct TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode *left;</span></span><br><span class="line"><span class="comment"> *     TreeNode *right;</span></span><br><span class="line"><span class="comment"> *     TreeNode() : val(0), left(nullptr), right(nullptr) &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; <span class="title">preorderTraversal</span><span class="params">(TreeNode* root)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; res;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> res;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">stack</span>&lt;TreeNode*&gt; stk;</span><br><span class="line">        TreeNode* node = root;</span><br><span class="line">        <span class="keyword">while</span> (!stk.empty() || node != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            <span class="keyword">while</span> (node != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">                res.emplace_back(node-&gt;val);</span><br><span class="line">                stk.emplace(node);</span><br><span class="line">                node = node-&gt;left;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(!stk.empty())&#123;</span><br><span class="line">                node = stk.top();</span><br><span class="line">                stk.pop();</span><br><span class="line">                node = node-&gt;right;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><strong>Iterative Method</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">PreOrderTraversal</span><span class="params">(BinTree BT)</span></span>&#123;</span><br><span class="line">    BinTree T = BT;</span><br><span class="line">    Stack S = CreatStack(Maxsize);<span class="comment">//å»ºç«‹ä¸€ä¸ªå †æ ˆ S</span></span><br><span class="line">    While(T || !IsEmpty(S))&#123;<span class="comment">//å½“ T å­˜åœ¨æˆ–è€… S éç©ºæ—¶ï¼ŒS ä¸ºç©ºæ—¶è¯´æ˜é€€å®Œäº†</span></span><br><span class="line">        <span class="keyword">while</span>(T)&#123;<span class="comment">//å½“ T å­˜åœ¨æ—¶</span></span><br><span class="line">            Push(S,T);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%5d"</span>, T-&gt;Data);</span><br><span class="line">            T = T-&gt;Left;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(!IsEmpty(S))&#123;<span class="comment">//å¦‚æœ S éç©º </span></span><br><span class="line">          T = S.top();</span><br><span class="line">            S.pop();</span><br><span class="line">            T = T-&gt;Right;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>difference with Inorder traversal</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">PreOrderTraversal</span><span class="params">(BinTree BT)</span></span>&#123;</span><br><span class="line">    BinTree T = BT;</span><br><span class="line">    Stack S = CreatStack(Maxsize);<span class="comment">//å»ºç«‹ä¸€ä¸ªå †æ ˆ S</span></span><br><span class="line">    While(T || !IsEmpty(S))&#123;<span class="comment">//å½“ T å­˜åœ¨æˆ–è€… S éç©ºæ—¶ï¼ŒS ä¸ºç©ºæ—¶è¯´æ˜é€€å®Œäº†</span></span><br><span class="line">        <span class="keyword">while</span>(T)&#123;<span class="comment">//å½“ T å­˜åœ¨æ—¶</span></span><br><span class="line">            Push(S,T);</span><br><span class="line">            T = T-&gt;Left;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(!IsEmpty(S))&#123;<span class="comment">//å¦‚æœ S éç©º </span></span><br><span class="line">          T = S.top();</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%5d"</span>, T-&gt;Data);</span><br><span class="line">            S.pop();</span><br><span class="line">            T = T-&gt;Right;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h4 id=&quot;144-Binary-Tree-Preorder-Traversal&quot;&gt;&lt;a href=&quot;#144-Binary-Tree-Preorder-Traversal&quot; class=&quot;headerlink&quot; title=&quot;144. Binary Tree Preorde
      
    
    </summary>
    
    
    
  </entry>
  
</feed>
