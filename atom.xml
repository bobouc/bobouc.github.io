<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>GuoXin Li&#39;s Blog</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://github.com/liysky/liysky.github.io.git/"/>
  <updated>2020-12-01T15:55:51.014Z</updated>
  <id>https://github.com/liysky/liysky.github.io.git/</id>
  
  <author>
    <name>jax</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Learn AndrewNg-MachineLearning notes</title>
    <link href="https://github.com/liysky/liysky.github.io.git/2020/11/28/Learn-AndrewNg-Ai-notes/"/>
    <id>https://github.com/liysky/liysky.github.io.git/2020/11/28/Learn-AndrewNg-Ai-notes/</id>
    <published>2020-11-28T14:28:31.000Z</published>
    <updated>2020-12-01T15:55:51.014Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Supervised-Leaning"><a href="#Supervised-Leaning" class="headerlink" title="Supervised Leaning:"></a>Supervised Leaning:</h3><p>e.g.</p><ul><li><p>Housing price prediction. (Regression) æˆ¿å±‹ç§Ÿä»·é¢„æµ‹</p></li><li><p>Breast cancer(maligant, benign). (Classification) ä¹³è…ºç™Œçš„æ¶æ€§è‰¯æ€§é¢„æµ‹</p></li></ul><h3 id="Unsupervised-Leaning"><a href="#Unsupervised-Leaning" class="headerlink" title="Unsupervised Leaning:"></a>Unsupervised Leaning:</h3><p>e.g.</p><ul><li><p>Google news. è°·æ­Œæ–°é—»çš„åˆ†ç±»ï¼ˆé‡‡ç”¨èšç±»çš„æ–¹æ³•ï¼‰</p></li><li><p>DNA Classification. DNAçš„åˆ†ç±»ï¼Œèšç±»ç®—æ³•</p></li><li><p>ç»„ç»‡è®¡ç®—æœºé›†ç¾¤ï¼ˆä»€ä¹ˆæ ·çš„æœºå™¨æ˜“äºååŒå·¥ä½œï¼Œè¿›è€Œé«˜æ•ˆï¼‰</p></li><li><p>Facebookã€Google+ çš„åœˆå­åˆ†ç±»</p></li><li><p>å¤§å…¬å¸å¤§å‹æ•°æ®ï¼Œå­˜å‚¨æ¶ˆè´¹è€…ä¿¡æ¯è¿›è¡Œï¼Œå¸‚åœºåˆ†ç±»ï¼Œç»†åˆ†å¸‚åœº</p></li><li><p>cocktail party é¸¡å°¾é…’ğŸ¸çš„é…’å®´ä¸­éº¦å…‹é£è®°å½•ä¸åŒçš„å£°éŸ³ï¼Œé€šè¿‡æœºå™¨å­¦ä¹ è¿›è¡Œåˆ†è¾¨å‡ºä¸åŒçš„å£°éŸ³ï¼ˆäººå£°ï¼Œæ­Œå£°ï¼Œå™ªå£°ï¼‰</p></li></ul><h3 id="ä»£ä»·å‡½æ•°"><a href="#ä»£ä»·å‡½æ•°" class="headerlink" title="ä»£ä»·å‡½æ•°"></a>ä»£ä»·å‡½æ•°</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201128001043034.png" alt="image-20201128001043034" style="zoom:80%;" /></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201128001208038.png" alt="image-20201128001208038" style="zoom:80%;" /></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201128001331719.png" alt="image-20201128001331719"  /></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201128002225309.png" alt="image-20201128002225309"></p><p>ä»£ä»·å‡½æ•° theta</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201128001331719.png" alt="image-20201128001331719"  /></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201128002225309.png" alt="image-20201128002225309"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201128002355980.png" alt="image-20201128002355980"  /></p><p><strong>ä»£ä»·å‡½æ•°çš„ä½œç”¨</strong></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201128002539163.png" alt="image-20201128002539163" style="zoom:80%;" /></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201128002714684.png" alt="image-20201128002714684"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201128002714684.png" alt="image-20201128002714684"></p><p><strong>ä½¿ç”¨ç­‰é«˜çº¿æ¥ä»£è¡¨ä»£ä»·å‡½æ•°</strong></p><p>contour plot ç­‰é«˜çº¿å›¾</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201128002952837.png" alt="image-20201128002952837" style="zoom:80%;" /></p><p>æƒ³è±¡ä¸€ä¸‹ï¼Œè¿™ä¸ªç­‰é«˜çº¿ä¸Šé•¿å‡ºä¸€ä¸ªç¢—æ¥</p><p><strong>ä¸åŒçš„ä»£ä»·å‡½æ•°å¯¹åº”ä¸åŒçš„å‡è®¾å‡½æ•°</strong></p><h3 id="æ¢¯åº¦ä¸‹é™-Gradient-Decent"><a href="#æ¢¯åº¦ä¸‹é™-Gradient-Decent" class="headerlink" title="æ¢¯åº¦ä¸‹é™ Gradient Decent"></a>æ¢¯åº¦ä¸‹é™ Gradient Decent</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201128003530397.png" alt="image-20201128003530397" style="zoom:80%;" /></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201128003554240.png" alt="image-20201128003554240" style="zoom:80%;" /></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201128003757283.png" alt="image-20201128003757283" style="zoom:80%;" /></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201128004027942.png" alt="image-20201128004027942" style="zoom:80%;" /></p><p>é˜¿å°”æ³•æ˜¯ä¸€ä¸ªå­¦ä¹ ç‡ï¼Œæ¥æ§åˆ¶æ¢¯åº¦ä¸‹é™çš„é€Ÿåº¦</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201128004409451.png" alt="image-20201128004409451" style="zoom:80%;" /></p><p>å·¦è¾¹çš„æ˜¯æ­£ç¡®çš„ simultaneous åŒæ­¥æ›´æ–°</p><p>å³è¾¹æ›´æ–°åœ¨æ›´æ–°æ—¶ä½¿ç”¨äº†æ›´æ–°çš„å€¼ï¼Œæ— åŒæ­¥</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201128005531564.png" alt="image-20201128005531564" style="zoom:80%;" /></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201128005730763.png" alt="image-20201128005730763" style="zoom:80%;" /></p><p>å¦‚æœæ­¥ä¼è¿‡å¤§ï¼Œå°†ä¼šè¶Šè¿‡æœ€å°å€¼ç‚¹</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201128005854145.png" alt="image-20201128005854145"></p><p>å¦‚æœå·²ç»åœ¨æœ€ä½ç‚¹äº†ï¼Œé‚£ä¹ˆæ¢¯åº¦ä¸‹é™ç®—æ³•å°†ä¸ä¼šåšä»»ä½•äº‹æƒ…</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201128010156987.png" alt="image-20201128010156987" style="zoom:80%;" /></p><h3 id="çº¿æ€§å›å½’çš„æ¢¯åº¦ä¸‹é™ç®—æ³•"><a href="#çº¿æ€§å›å½’çš„æ¢¯åº¦ä¸‹é™ç®—æ³•" class="headerlink" title="çº¿æ€§å›å½’çš„æ¢¯åº¦ä¸‹é™ç®—æ³•"></a>çº¿æ€§å›å½’çš„æ¢¯åº¦ä¸‹é™ç®—æ³•</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201128010407579.png" alt="image-20201128010407579" style="zoom:80%;" /></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201128010902400.png" alt="image-20201128010902400" style="zoom:80%;" /></p><p>å°†æ¢¯åº¦ä¸‹é™ç®—æ³•åº”ç”¨åˆ°çº¿æ€§å›å½’å‡½æ•°ä¸­åï¼š</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201128011023572.png" alt="image-20201128011023572" style="zoom:80%;" /></p><p>å½“ä»£ä»·å€¼è¶Šæ¥è¶Šå°æ—¶ï¼Œå°†ä¼šæœ€ç»ˆåˆ°è¾¾æœ€ç¬¦åˆçš„æ‹Ÿåˆæ›²çº¿</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201128011404831.png" alt="image-20201128011404831" style="zoom: 67%;" /></p><p>å› ä¸ºåœ¨æ¯æ¬¡è®¡ç®—ä»£ä»·å‡½æ•°çš„æ—¶å€™ï¼Œéƒ½è¿›è¡Œäº†å¯¹äºmä¸ªæ•°æ®é›†çš„è®¡ç®—ï¼Œæ‰€ä»¥ç§°ä¹‹ä¸ºbatchï¼Œæ‰¹å¤„ç†</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201128011618967.png" alt="image-20201128011618967" style="zoom:80%;" /></p><p>é™¤äº†æ¢¯åº¦ä¸‹é™ç®—æ³•æ¥æ±‚è§£ä»£ä»·å‡½æ•°çš„æœ€å°å€¼ï¼Œè¿˜æœ‰ä¸€ä¸ªäº¤åšæ­£è§„æ–¹ç¨‹ç»„æ–¹æ³•å¯ä»¥ä½¿ç”¨ã€‚</p><p>æ¢¯åº¦ä¸‹é™ç®—æ³•æ›´é€‚åˆäºæ•°æ®é‡å¤§çš„è®¡ç®—ã€‚</p><h3 id="çŸ©é˜µä¹˜æ³•çš„å¦™ç”¨"><a href="#çŸ©é˜µä¹˜æ³•çš„å¦™ç”¨" class="headerlink" title="çŸ©é˜µä¹˜æ³•çš„å¦™ç”¨"></a>çŸ©é˜µä¹˜æ³•çš„å¦™ç”¨</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201128233000407.png" alt="image-20201128233000407" style="zoom:80%;" /></p><p>python ä¸­æœ‰å…³çŸ©é˜µçš„ä¹˜æ³•å’Œè½¬ç½®</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201128233000407.png" alt="image-20201128233000407" style="zoom:80%;" /></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201129005158320.png" alt="image-20201129005158320" style="zoom: 67%;" /></p><p>æ±‚é€†æ—¶ï¼Œå¦‚æœä¸ºå¥‡å¼‚çŸ©é˜µ-singular matrix ï¼Œå°†ä¼šæœ‰æç¤ºï¼š</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201129010025788.png" alt="image-20201129010025788" style="zoom: 67%;" /></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201129010226792.png" alt="image-20201129010226792" style="zoom: 67%;" /></p><h3 id="Multivariate-linear-regression-å¤šå…ƒçº¿æ€§å›å½’"><a href="#Multivariate-linear-regression-å¤šå…ƒçº¿æ€§å›å½’" class="headerlink" title="Multivariate linear regression å¤šå…ƒçº¿æ€§å›å½’"></a>Multivariate linear regression å¤šå…ƒçº¿æ€§å›å½’</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201129110527040.png" alt="image-20201129110527040" style="zoom:80%;" /></p><p>New Hypothesisï¼š</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201129110633901.png" alt="image-20201129110633901" style="zoom:80%;" /></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201129111023093.png" alt="image-20201129111023093" style="zoom:80%;" /></p><h3 id="Gradient-descentå¤šå…ƒæ¢¯åº¦ä¸‹é™æ–¹æ³•"><a href="#Gradient-descentå¤šå…ƒæ¢¯åº¦ä¸‹é™æ–¹æ³•" class="headerlink" title="Gradient descentå¤šå…ƒæ¢¯åº¦ä¸‹é™æ–¹æ³•"></a>Gradient descentå¤šå…ƒæ¢¯åº¦ä¸‹é™æ–¹æ³•</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201129111307808.png" alt="image-20201129111307808" style="zoom:80%;" /></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201129111744934.png" alt="image-20201129111744934"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201129111744934.png" alt="image-20201129111744934"></p><h3 id="å¤šå…ƒæ¢¯åº¦ä¸‹é™-feature-scaling"><a href="#å¤šå…ƒæ¢¯åº¦ä¸‹é™-feature-scaling" class="headerlink" title="å¤šå…ƒæ¢¯åº¦ä¸‹é™  feature scaling"></a>å¤šå…ƒæ¢¯åº¦ä¸‹é™  feature scaling</h3><p>divide max  é™¤ä»¥æœ€å¤§å€¼æ–¹æ³•</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201201170055672.png" alt="image-20201201170055672" style="zoom:80%;" /></p><p>feature scaling ä¹‹åæ›´å®¹æ˜“æ¢¯åº¦ä¸‹é™è‡³æ‰¾åˆ°ä¸€ä¸ªå±€éƒ¨æœ€å°å€¼</p><p>feature scaling æ¡ä»¶</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201201170317073.png" alt="image-20201201170317073"></p><p>é™¤ä»¥å¹³å‡å€¼æ–¹æ³•</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201201171035772.png" alt="image-20201201171035772" style="zoom:80%;" /></p><h3 id="å¤šå…ƒæ¢¯åº¦ä¸‹é™ä¸­çš„å­¦ä¹ ç‡-â€”â€”é˜¿å°”æ³•"><a href="#å¤šå…ƒæ¢¯åº¦ä¸‹é™ä¸­çš„å­¦ä¹ ç‡-â€”â€”é˜¿å°”æ³•" class="headerlink" title="å¤šå…ƒæ¢¯åº¦ä¸‹é™ä¸­çš„å­¦ä¹ ç‡ â€”â€”é˜¿å°”æ³•"></a>å¤šå…ƒæ¢¯åº¦ä¸‹é™ä¸­çš„å­¦ä¹ ç‡ â€”â€”é˜¿å°”æ³•</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201201171819775.png" alt="image-20201201171819775" style="zoom:80%;" /></p><p>ä»£ä»·å‡½æ•°é€æ¸æ”¶æ•›</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201201172029595.png" alt="image-20201201172029595" style="zoom:80%;" /></p><p>å­¦ä¹ ç‡ é˜¿å°”æ³• çš„é€‰æ‹©ï¼š</p><p>é€šå¸¸æƒ…å†µä¸‹æ˜¯é€‰æ‹©ä¸€ä¸ªè¾ƒå°çš„å­¦ä¹ ç‡ï¼Œä½†å¤ªå°ä¹Ÿä¼šå¯¼è‡´æ”¶æ•›é€Ÿåº¦å˜æ…¢ã€‚</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/picgo/image-20201201172322418.png" alt="image-20201201172322418" style="zoom:80%;" /></p><p>é€‰å–å­¦ä¹ ç‡çš„æ–¹æ³•</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;Supervised-Leaning&quot;&gt;&lt;a href=&quot;#Supervised-Leaning&quot; class=&quot;headerlink&quot; title=&quot;Supervised Leaning:&quot;&gt;&lt;/a&gt;Supervised Leaning:&lt;/h3&gt;&lt;p&gt;e.g.
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>LeetCode-Hanota LCCI</title>
    <link href="https://github.com/liysky/liysky.github.io.git/2020/11/20/LeetCode-Hanota-LCCI/"/>
    <id>https://github.com/liysky/liysky.github.io.git/2020/11/20/LeetCode-Hanota-LCCI/</id>
    <published>2020-11-19T16:01:32.000Z</published>
    <updated>2020-11-20T04:29:37.225Z</updated>
    
    <content type="html"><![CDATA[<h3 id="08-06-Hanota-LCCI"><a href="#08-06-Hanota-LCCI" class="headerlink" title="08.06. Hanota LCCI"></a><a href="https://leetcode-cn.com/problems/hanota-lcci/" target="_blank" rel="noopener">08.06. Hanota LCCI</a></h3><p>In the classic problem of the Towers of Hanoi, you have 3 towers and N disks of different sizes which can slide onto any tower. The puzzle starts with disks sorted in ascending order of size from top to bottom (i.e., each disk sits on top of an even larger one). You have the following constraints:</p><p>(1) Only one disk can be moved at a time.<br>(2) A disk is slid off the top of one tower onto another tower.<br>(3) A disk cannot be placed on top of a smaller disk.</p><p>Write a program to move the disks from the first tower to the last using stacks.</p><h4 id="Example1"><a href="#Example1" class="headerlink" title="Example1:"></a>Example1:</h4><p> Input: A = [2, 1, 0], B = [], C = []<br> Output: C = [2, 1, 0]</p><h4 id="Example2"><a href="#Example2" class="headerlink" title="Example2:"></a>Example2:</h4><p> Input: A = [1, 0], B = [], C = []<br> Output: C = [1, 0]<br>Note:</p><p><strong>A.length &lt;= 14</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">hanota</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; A, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; B, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; C)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = A.<span class="built_in">size</span>();</span><br><span class="line">        <span class="built_in">move</span>(n, A, B, C);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">move</span><span class="params">(<span class="keyword">int</span> n, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; A, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; B, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; C)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(n == <span class="number">1</span>)&#123;</span><br><span class="line">            C.push_back(A.back());</span><br><span class="line">            A.pop_back();</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">move</span>(n<span class="number">-1</span>, A, C, B);</span><br><span class="line">        C.push_back(A.back());</span><br><span class="line">        A.pop_back();</span><br><span class="line">        <span class="built_in">move</span>(n<span class="number">-1</span>, B, A, C);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><strong>time complexity: $O(2^n-1)$</strong> . Itâ€™s the moving times.</p><p><strong>space complexity:</strong> $O(1)$</p><p><strong>Key Solution:</strong></p><ul><li>wanna resolve n number, first to resolve n-1</li><li>put <strong>n-1</strong> number of A into B using C</li><li>push_back A.back into C. (Itâ€™s a half answer that A.back must be at the bottum of C)</li><li>pop A.back(). (=delete A.back)</li><li>put <strong>n-1</strong> number of B into C using A</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;08-06-Hanota-LCCI&quot;&gt;&lt;a href=&quot;#08-06-Hanota-LCCI&quot; class=&quot;headerlink&quot; title=&quot;08.06. Hanota LCCI&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://leetcode-cn.com/p
      
    
    </summary>
    
    
    
      <category term="LeetCode" scheme="https://github.com/liysky/liysky.github.io.git/tags/LeetCode/"/>
    
  </entry>
  
  <entry>
    <title>DogsVSCats</title>
    <link href="https://github.com/liysky/liysky.github.io.git/2020/11/18/DogsVSCats/"/>
    <id>https://github.com/liysky/liysky.github.io.git/2020/11/18/DogsVSCats/</id>
    <published>2020-11-18T07:25:45.000Z</published>
    <updated>2020-11-25T09:54:40.519Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Dog-VS-Cat"><a href="#Dog-VS-Cat" class="headerlink" title="Dog VS Cat"></a>Dog VS Cat</h1><h2 id="VGGç½‘ç»œ"><a href="#VGGç½‘ç»œ" class="headerlink" title="VGGç½‘ç»œ"></a>VGGç½‘ç»œ</h2><p>VGG æ˜¯ä¸€ä¸ªå·ç§¯ç¥ç»ç½‘ç»œæ¨¡å‹ï¼Œæ˜¯å“ˆå¼— Robotics Institute Visual Geometry Group ç»„çš„ Karen Simonyan å’Œ Andrew Zisserman  åœ¨2014å¹´æå‡ºçš„ã€‚2014å¹´åœ¨æœ€å¤§çš„å›¾åƒè¯†åˆ«ç«èµ› ILSVRC ä¸­ï¼Œè¿™ä¸ªæ¨¡å‹è·å¾—ç¬¬äºŒåï¼Œç¬¬ä¸€åæ˜¯ GoogleNetï¼ŒVGG æ¨¡å‹åœ¨å¤šä¸ªè¿ç§»å­¦ä¹ ä»»åŠ¡ä¸­å¥½äº GoogleNetã€‚</p><p>VGG æ˜¯å·ç§¯ç¥ç»ç½‘ç»œçš„é‡å¤§çªç ´ï¼Œåœ¨è¿™äº›ä¹‹åï¼š</p><ul><li>LeNet-5 ï¼ˆ1998ï¼‰</li><li>AlexNet ï¼ˆ2012ï¼‰</li><li>ZFNet ï¼ˆ2013ï¼‰</li><li>GoogleNet/Inception ï¼ˆ2014)</li></ul><p>æ³¨ï¼šAlexNet çš„æå‡ºï¼Œä½¿å¾—å¤§å‹å·ç§¯ç½‘ç»œå˜å¾—æµè¡Œäº†èµ·æ¥ã€‚ZFNet æ˜¯åŸºäº AlexNet çš„ä¸€ç§æ¨¡å‹æ”¹è¿›ã€‚</p><p><strong>VGGçš„ç‰¹ç‚¹</strong></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/main-qimg-4eb892d2fa56e21288ae723397f5f329.png" alt="img"></p><p>ä¸Šå›¾ä¸­ï¼Œä¸Šé¢æ˜¯AlexNetå’Œä¸‹é¢VGG-16ä¸¤ç§æ¨¡å‹ç»“æ„æ¯”è¾ƒ</p><p>AlexNet åŒ…å«æœ‰5ä¸ªå·ç§¯å±‚å’Œ3ä¸ªå…¨è¿æ¥å±‚ï¼Œåœ¨ç¬¬1ã€2å’Œ5å·ç§¯å±‚ä½¿ç”¨äº†3ä¸ªæœ€å¤§æ± åŒ–å±‚</p><p>VGG-16 åŒ…å«æœ‰13ä¸ªå·ç§¯å±‚ï¼Œå·ç§¯æ ¸ä¸º3X3ï¼Œ3ä¸ªå…¨è¿æ¥å±‚</p><p>VGG-19åŒ…å«äº†16ä¸ªå·ç§¯å±‚å’Œ3ä¸ªå…¨è¿æ¥å±‚</p><p>VGG ç½‘ç»œç»“æ„éå¸¸ä¸€è‡´ï¼Œä»å¤´åˆ°å°¾å…¨éƒ¨ä½¿ç”¨äº†  3X3 çš„å·ç§¯æ ¸å’Œ2X2çš„ max-pooling</p><p>VGG-16ç½‘ç»œç»“æ„ä¸€é•œåˆ°åº•ï¼š<a href="https://dgschwend.github.io/netscope/#/preset/vgg-16" target="_blank" rel="noopener">https://dgschwend.github.io/netscope/#/preset/vgg-16</a></p><h2 id="VGG-Dogs-VS-Cats"><a href="#VGG-Dogs-VS-Cats" class="headerlink" title="VGG Dogs VS Cats"></a>VGG Dogs VS Cats</h2><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201118152910384.png" alt="image-20201118152910384"></p><p><em>Description</em></p><ul><li><p><a href="https://god.yanxishe.com/41" target="_blank" rel="noopener">https://god.yanxishe.com/41</a></p></li><li><p><a href="https://www.kaggle.com/tongpython/cat-and-dog" target="_blank" rel="noopener">https://www.kaggle.com/tongpython/cat-and-dog</a></p></li></ul><p>æœ¬æ¬¡ä½œä¸šå®ç°ä½¿ç”¨é¢„è®­ç»ƒå¥½çš„ VGG æ¨¡å‹ï¼Œä¸‹è½½Imagenet 1000 ä¸ªç±»çš„ JSON æ–‡ä»¶ã€‚</p><p>VGG æ¨¡å‹ç½‘ç»œç»„æˆå…ƒç´ ï¼š</p><ul><li>å·ç§¯å±‚ï¼ˆCONVï¼‰æ˜¯å‘ç°å›¾åƒä¸­å±€éƒ¨çš„ pattern</li><li>å…¨è¿æ¥å±‚ï¼ˆFCï¼‰æ˜¯åœ¨å…¨å±€ä¸Šå»ºç«‹ç‰¹å¾çš„å…³è”</li><li>æ± åŒ–ï¼ˆPoolï¼‰æ˜¯ç»™å›¾åƒå°†ç»´ä»¥æé«˜ç‰¹å¾çš„invariance</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torch.nn <span class="keyword">as</span> nn</span><br><span class="line"><span class="keyword">import</span> torchvision</span><br><span class="line"><span class="keyword">from</span> torchvision <span class="keyword">import</span> models,transforms,datasets</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ¤æ–­æ˜¯å¦å­˜åœ¨GPUè®¾å¤‡</span></span><br><span class="line">device = torch.device(<span class="string">"cuda:0"</span> <span class="keyword">if</span> torch.cuda.is_available() <span class="keyword">else</span> <span class="string">"cpu"</span>)</span><br><span class="line">print(<span class="string">'Using gpu:&#123;&#125;'</span>.format(torch.cuda.is_available()) )</span><br></pre></td></tr></table></figure><hr><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Using: gpu:True</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä¸‹è½½æ•°æ®å¹¶è§£å‹</span></span><br><span class="line">! wget http://fenggao-image.stor.sinaapp.com/dogscats.zip</span><br><span class="line">! unzip dogscats.zip</span><br></pre></td></tr></table></figure><hr><p><strong>æ•°æ®å¤„ç†</strong></p><ul><li><p>å›¾ç‰‡è£å‰ª</p></li><li><p>è½¬æ¢ä¸º tensor æ ¼å¼</p><p>å› ä¸ºå›¾ç‰‡è¯»å…¥åä¸º numpy æ ¼å¼ï¼Œéœ€è¦åœ¨ pytorchä¸­è¿›è¡Œå¤„ç†ï¼Œå°±éœ€è¦è½¬åŒ–ä¸º tensor çš„æ ¼å¼ã€‚</p><p>è‡³äº tensor çš„å«ä¹‰ï¼š</p><p><strong>tensorï¼šå¼ é‡</strong></p><blockquote><p>æ˜¯ä¸€ä¸ªå¯ç”¨æ¥è¡¨ç¤ºåœ¨ä¸€äº›<a href="https://zh.wikipedia.org/wiki/å‘é‡" target="_blank" rel="noopener">çŸ¢é‡</a>ã€<a href="https://zh.wikipedia.org/wiki/ç´”é‡" target="_blank" rel="noopener">æ ‡é‡</a>å’Œå…¶ä»–å¼ é‡ä¹‹é—´çš„çº¿æ€§å…³ç³»çš„<a href="https://zh.wikipedia.org/wiki/çº¿æ€§å½¢å¼" target="_blank" rel="noopener">å¤šçº¿æ€§å‡½æ•°</a>ï¼Œè¿™äº›çº¿æ€§å…³ç³»çš„åŸºæœ¬ä¾‹å­æœ‰<a href="https://zh.wikipedia.org/wiki/å…§ç©" target="_blank" rel="noopener">å†…ç§¯</a>ã€<a href="https://zh.wikipedia.org/wiki/å¤–ç©" target="_blank" rel="noopener">å¤–ç§¯</a>ã€çº¿æ€§æ˜ å°„ä»¥åŠ<a href="https://zh.wikipedia.org/wiki/ç¬›å¡å„¿ç§¯" target="_blank" rel="noopener">ç¬›å¡å„¿ç§¯</a>ã€‚</p><p>â€”wikipedia</p></blockquote><p>æ¦‚å¿µï¼šèƒ½å¤Ÿç”¨æŒ‡æ ‡è¡¨ç¤ºæ³•è¡¨ç¤ºçš„ç‰©ç†é‡ï¼Œå¹¶ä¸”è¯¥ç‰©ç†é‡æ»¡è¶³åæ ‡å˜æ¢å…³ç³»ã€‚</p><ul><li>0é˜¶å¼ é‡ï¼šæ— è‡ªç”±æŒ‡æ ‡çš„é‡ï¼Œä¸åæ ‡ç³»é€‰å–æ— å…³ï¼Œå¦‚æ¸©åº¦ã€è´¨é‡ã€èƒ½é‡ç­‰æ ‡é‡</li><li>1é˜¶å¼ é‡ï¼ˆå‘é‡ï¼‰ï¼šæœ‰ä¸€ä¸ªè‡ªç”±æŒ‡æ ‡çš„é‡ï¼Œå¦‚åæ ‡ <script type="math/tex">{x_i}</script>ï¼Œä½ç§»ç­‰çŸ¢é‡</li><li>2é˜¶å¼ é‡ï¼šæœ‰2ä¸ªè‡ªç”±æŒ‡æ ‡çš„é‡ï¼Œå¦‚åº”åŠ›ï¼Œåº”å˜ç­‰</li><li>3é˜¶å¼ é‡ï¼šå¦‚æ•°æ®ç«‹æ–¹</li></ul><p>åœ¨æ·±åº¦å­¦ä¹ é‡Œï¼Œå¼ é‡å³ä¸ºä¸€ä¸ªå¤šç»´æ•°ç»„ï¼Œå…¶å¯ä»¥åˆ›å»ºæ›´é«˜ç»´åº¦çš„çŸ©é˜µ</p><p>Tensorå¯¹è±¡çš„3ä¸ªå±æ€§ï¼š</p><ul><li>Rankï¼š number of dimensions</li><li>Shape: number of rows and columns</li><li>Type: data type of tensorâ€™s elements</li></ul></li><li><p>å½’ä¸€åŒ–</p><ul><li>ä¸åŒçš„å›¾ç‰‡æ˜ å°„åˆ°åŒä¸€åæ ‡ç³»ï¼Œæ‹¥æœ‰ç›¸åŒçš„å°ºåº¦</li><li>åƒç´ å€¼å¤§å°ä¸åŒçš„é—®é¢˜è½¬åŒ–ä¸ºå…·æœ‰ç›¸ä¼¼ç‰¹å¾åˆ†å¸ƒçš„é—®é¢˜</li><li>ä¸€å®šç¨‹åº¦ä¸Šæ¶ˆé™¤äº†å› ä¸ºè¿‡åº¦æ›å…‰ï¼Œè´¨é‡ä¸ä½³æˆ–è€…å™ªå£°ç­‰å„ç§åŸå› å¯¹æ¨¡å‹æƒå€¼æ›´æ–°çš„å½±å“</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">normalize = transforms.Normalize(mean=[<span class="number">0.485</span>, <span class="number">0.456</span>, <span class="number">0.406</span>], std=[<span class="number">0.229</span>, <span class="number">0.224</span>, <span class="number">0.225</span>]) <span class="comment">#å½’ä¸€åŒ–æ¯ä¸ªé€šé“çš„å¹³å‡å€¼å’Œæ ‡å‡†å·®</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ ¼å¼æ•´åˆ</span></span><br><span class="line">vgg_format = transforms.Compose([</span><br><span class="line">    <span class="comment"># å°†æ¯ä¸ªå›¾ç‰‡è¿›è¡Œè£å‰ªï¼ŒCenterCropå‚æ•°æœ‰ä¸¤ä¸ªï¼Œåªæœ‰ä¸€ä¸ªæ—¶ä¸ºæ­£æ–¹å½¢</span></span><br><span class="line">                transforms.CenterCrop(<span class="number">224</span>), </span><br><span class="line">    <span class="comment"># å°†numpyæ•°æ®æ ¼å¼è½¬æ¢ä¸ºtensoræ ¼å¼</span></span><br><span class="line">                transforms.ToTensor(),   </span><br><span class="line">                <span class="comment">#å½’ä¸€åŒ–</span></span><br><span class="line">    normalize,          </span><br><span class="line">            ])                  </span><br><span class="line"></span><br><span class="line">data_dir = <span class="string">'./dogscats'</span></span><br><span class="line"></span><br><span class="line">dsets = &#123;x: datasets.ImageFolder(os.path.join(data_dir, x), vgg_format)</span><br><span class="line">         <span class="keyword">for</span> x <span class="keyword">in</span> [<span class="string">'train'</span>, <span class="string">'valid'</span>]&#125;</span><br><span class="line"></span><br><span class="line">dset_sizes = &#123;x: len(dsets[x]) <span class="keyword">for</span> x <span class="keyword">in</span> [<span class="string">'train'</span>, <span class="string">'valid'</span>]&#125;</span><br><span class="line">dset_classes = dsets[<span class="string">'train'</span>].classes</span><br></pre></td></tr></table></figure><h2 id=""><a href="#" class="headerlink" title=""></a><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è®­ç»ƒæ—¶ shuffleæ˜¯trueï¼Œå½“æ£€éªŒæ—¶åˆ™ä¸ºFalse</span></span><br><span class="line">loader_train = torch.utils.data.DataLoader(dsets[<span class="string">'train'</span>], batch_size=<span class="number">64</span>, shuffle=<span class="literal">True</span>, num_workers=<span class="number">6</span>)</span><br><span class="line">loader_valid = torch.utils.data.DataLoader(dsets[<span class="string">'valid'</span>], batch_size=<span class="number">5</span>, shuffle=<span class="literal">False</span>, num_workers=<span class="number">6</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">valid æ•°æ®ä¸€å…±æœ‰2000å¼ å›¾ï¼Œæ¯ä¸ªbatchæ˜¯5å¼ ï¼Œå› æ­¤ï¼Œä¸‹é¢è¿›è¡Œéå†ä¸€å…±ä¼šè¾“å‡ºåˆ° 400</span></span><br><span class="line"><span class="string">åŒæ—¶ï¼ŒæŠŠç¬¬ä¸€ä¸ª batch ä¿å­˜åˆ° inputs_try, labels_tryï¼Œåˆ†åˆ«æŸ¥çœ‹</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">count = <span class="number">1</span></span><br><span class="line"><span class="keyword">for</span> data <span class="keyword">in</span> loader_valid:</span><br><span class="line">    print(count, end=<span class="string">'\n'</span>)</span><br><span class="line">    <span class="keyword">if</span> count == <span class="number">1</span>:</span><br><span class="line">        inputs_try,labels_try = data</span><br><span class="line">    count +=<span class="number">1</span></span><br><span class="line"></span><br><span class="line">print(labels_try)</span><br><span class="line">print(inputs_try.shape)</span><br></pre></td></tr></table></figure></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">...</span><br><span class="line">...</span><br><span class="line">...</span><br><span class="line">400</span><br><span class="line">tensor([0, 0, 0, 0, 0])</span><br><span class="line">torch.Size([5, 3, 224, 224])</span><br></pre></td></tr></table></figure><h3 id="æ¨¡å‹ä¸‹è½½-ï¼Œåˆ›å»º-VGG-Model"><a href="#æ¨¡å‹ä¸‹è½½-ï¼Œåˆ›å»º-VGG-Model" class="headerlink" title="æ¨¡å‹ä¸‹è½½ ï¼Œåˆ›å»º VGG Model"></a>æ¨¡å‹ä¸‹è½½ ï¼Œåˆ›å»º VGG Model</h3><h2 id="-1"><a href="#-1" class="headerlink" title=""></a><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">!wget https://s3.amazonaws.com/deep-learning-models/image-models/imagenet_class_index.json</span><br></pre></td></tr></table></figure></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">--2020-11-17 06:42:58--  https:&#x2F;&#x2F;s3.amazonaws.com&#x2F;deep-learning-models&#x2F;image-models&#x2F;imagenet_class_index.json</span><br><span class="line">Resolving s3.amazonaws.com (s3.amazonaws.com)... 52.216.169.189</span><br><span class="line">Connecting to s3.amazonaws.com (s3.amazonaws.com)|52.216.169.189|:443... connected.</span><br><span class="line">HTTP request sent, awaiting response... 200 OK</span><br><span class="line">Length: 35363 (35K) [application&#x2F;octet-stream]</span><br><span class="line">Saving to: â€˜imagenet_class_index.jsonâ€™</span><br><span class="line"></span><br><span class="line">imagenet_class_inde 100%[&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&gt;]  34.53K  --.-KB&#x2F;s    in 0.09s   </span><br><span class="line"></span><br><span class="line">2020-11-17 06:42:58 (405 KB&#x2F;s) - â€˜imagenet_class_index.jsonâ€™ saved [35363&#x2F;35363]</span><br></pre></td></tr></table></figure><p>åˆ›å»ºçš„æ˜¯ VGG16 æ¨¡å‹</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">model_vgg = models.vgg16(pretrained=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> open(<span class="string">'./imagenet_class_index.json'</span>) <span class="keyword">as</span> f:</span><br><span class="line">    class_dict = json.load(f)</span><br><span class="line">dic_imagenet = [class_dict[str(i)][<span class="number">1</span>] <span class="keyword">for</span> i <span class="keyword">in</span> range(len(class_dict))]</span><br><span class="line"></span><br><span class="line">inputs_try , labels_try = inputs_try.to(device), labels_try.to(device)</span><br><span class="line">model_vgg = model_vgg.to(device)</span><br><span class="line"></span><br><span class="line">outputs_try = model_vgg(inputs_try)</span><br><span class="line"></span><br><span class="line">print(outputs_try)</span><br><span class="line">print(outputs_try.shape)</span><br><span class="line"></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">å¯ä»¥çœ‹åˆ°ç»“æœä¸º5è¡Œï¼Œ1000åˆ—çš„æ•°æ®ï¼Œæ¯ä¸€åˆ—ä»£è¡¨å¯¹æ¯ä¸€ç§ç›®æ ‡è¯†åˆ«çš„ç»“æœã€‚</span></span><br><span class="line"><span class="string">ä½†æ˜¯æˆ‘ä¹Ÿå¯ä»¥è§‚å¯Ÿåˆ°ï¼Œç»“æœéå¸¸å¥‡è‘©ï¼Œæœ‰è´Ÿæ•°ï¼Œæœ‰æ­£æ•°ï¼Œ</span></span><br><span class="line"><span class="string">ä¸ºäº†å°†VGGç½‘ç»œè¾“å‡ºçš„ç»“æœè½¬åŒ–ä¸ºå¯¹æ¯ä¸€ç±»çš„é¢„æµ‹æ¦‚ç‡ï¼Œæˆ‘ä»¬æŠŠç»“æœè¾“å…¥åˆ° Softmax å‡½æ•°</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">m_softm = nn.Softmax(dim=<span class="number">1</span>)</span><br><span class="line">probs = m_softm(outputs_try)</span><br><span class="line">vals_try,pred_try = torch.max(probs,dim=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">print( <span class="string">'prob sum: '</span>, torch.sum(probs,<span class="number">1</span>))</span><br><span class="line">print( <span class="string">'vals_try: '</span>, vals_try)</span><br><span class="line">print( <span class="string">'pred_try: '</span>, pred_try)</span><br><span class="line"></span><br><span class="line">print([dic_imagenet[i] <span class="keyword">for</span> i <span class="keyword">in</span> pred_try.data])</span><br><span class="line">imshow(torchvision.utils.make_grid(inputs_try.data.cpu()), </span><br><span class="line">       title=[dset_classes[x] <span class="keyword">for</span> x <span class="keyword">in</span> labels_try.data.cpu()])</span><br></pre></td></tr></table></figure><hr><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Downloading: &quot;https:&#x2F;&#x2F;download.pytorch.org&#x2F;models&#x2F;vgg16-397923af.pth&quot; to &#x2F;root&#x2F;.cache&#x2F;torch&#x2F;hub&#x2F;checkpoints&#x2F;vgg16-397923af.pth</span><br><span class="line">100%</span><br><span class="line">528M&#x2F;528M [00:38&lt;00:00, 14.3MB&#x2F;s]</span><br><span class="line"></span><br><span class="line">tensor([[ 0.7979,  1.5667,  0.8546,  ...,  3.1719,  3.3310,  1.1075],</span><br><span class="line">        [-1.1246,  2.7357, -1.9035,  ..., -5.2773,  5.4166,  6.0531],</span><br><span class="line">        [-2.8606, -2.5214, -1.5476,  ..., -3.1250,  0.7820,  3.6555],</span><br><span class="line">        [-0.8027, -1.4977,  2.9460,  ..., -3.7837, -0.4200,  5.5966],</span><br><span class="line">        [-2.6016, -4.2326, -2.6736,  ..., -4.2833,  0.4802,  2.5251]],</span><br><span class="line">       device&#x3D;&#39;cuda:0&#39;, grad_fn&#x3D;&lt;AddmmBackward&gt;)</span><br><span class="line">torch.Size([5, 1000])</span><br><span class="line">prob sum:  tensor([1.0000, 1.0000, 1.0000, 1.0000, 1.0000], device&#x3D;&#39;cuda:0&#39;,</span><br><span class="line">       grad_fn&#x3D;&lt;SumBackward1&gt;)</span><br><span class="line">vals_try:  tensor([0.2639, 0.9191, 0.5210, 0.8608, 0.3465], device&#x3D;&#39;cuda:0&#39;,</span><br><span class="line">       grad_fn&#x3D;&lt;MaxBackward0&gt;)</span><br><span class="line">pred_try:  tensor([333, 281, 281, 281, 359], device&#x3D;&#39;cuda:0&#39;)</span><br><span class="line">[&#39;hamster&#39;, &#39;tabby&#39;, &#39;tabby&#39;, &#39;tabby&#39;, &#39;black-footed_ferret&#39;]</span><br></pre></td></tr></table></figure><h3 id="ä¿®æ”¹æ¨¡å‹"><a href="#ä¿®æ”¹æ¨¡å‹" class="headerlink" title="ä¿®æ”¹æ¨¡å‹"></a>ä¿®æ”¹æ¨¡å‹</h3><p>ä¿®æ”¹æœ€åä¸€å±‚ç½‘ç»œï¼Œå†»ç»“å‰é¢å±‚çš„å‚æ•°ï¼Œä½¿ç”¨é¢„è®­ç»ƒå¥½çš„æ¨¡å‹ï¼Œéœ€è¦æŠŠæœ€åçš„ nn.Linear å±‚ç”± 1000ç±»æ›¿æ¢ä¸º 2ç±»ã€‚</p><p>ä¸ºäº†åœ¨è®­ç»ƒä¸­å†»ç»“å‰é¢å±‚çš„å‚æ•°ï¼Œéœ€è¦è®¾ç½® required_grad=Falseã€‚è¿™æ ·ï¼Œåå‘ä¼ æ’­è®­ç»ƒæ¢¯åº¦æ—¶ï¼Œå‰é¢å±‚çš„æƒé‡å°±ä¸ä¼šè‡ªåŠ¨æ›´æ–°äº†ï¼Œè®­ç»ƒä¸­ï¼Œåªä¼šæ›´æ–°æœ€åä¸€å±‚çš„å‚æ•°ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">print(model_vgg)</span><br><span class="line"></span><br><span class="line">model_vgg_new = model_vgg;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> param <span class="keyword">in</span> model_vgg_new.parameters():</span><br><span class="line">    param.requires_grad = <span class="literal">False</span></span><br><span class="line">model_vgg_new.classifier._modules[<span class="string">'6'</span>] = nn.Linear(<span class="number">4096</span>, <span class="number">2</span>)</span><br><span class="line">model_vgg_new.classifier._modules[<span class="string">'7'</span>] = torch.nn.LogSoftmax(dim = <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">model_vgg_new = model_vgg_new.to(device)</span><br><span class="line"></span><br><span class="line">print(model_vgg_new.classifier)</span><br></pre></td></tr></table></figure><hr><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">VGG(</span><br><span class="line">  (features): Sequential(</span><br><span class="line">    (0): Conv2d(3, 64, kernel_size&#x3D;(3, 3), stride&#x3D;(1, 1), padding&#x3D;(1, 1))</span><br><span class="line">    (1): ReLU(inplace&#x3D;True)</span><br><span class="line">    (2): Conv2d(64, 64, kernel_size&#x3D;(3, 3), stride&#x3D;(1, 1), padding&#x3D;(1, 1))</span><br><span class="line">    (3): ReLU(inplace&#x3D;True)</span><br><span class="line">    (4): MaxPool2d(kernel_size&#x3D;2, stride&#x3D;2, padding&#x3D;0, dilation&#x3D;1, ceil_mode&#x3D;False)</span><br><span class="line">    (5): Conv2d(64, 128, kernel_size&#x3D;(3, 3), stride&#x3D;(1, 1), padding&#x3D;(1, 1))</span><br><span class="line">    (6): ReLU(inplace&#x3D;True)</span><br><span class="line">    (7): Conv2d(128, 128, kernel_size&#x3D;(3, 3), stride&#x3D;(1, 1), padding&#x3D;(1, 1))</span><br><span class="line">    (8): ReLU(inplace&#x3D;True)</span><br><span class="line">    (9): MaxPool2d(kernel_size&#x3D;2, stride&#x3D;2, padding&#x3D;0, dilation&#x3D;1, ceil_mode&#x3D;False)</span><br><span class="line">    (10): Conv2d(128, 256, kernel_size&#x3D;(3, 3), stride&#x3D;(1, 1), padding&#x3D;(1, 1))</span><br><span class="line">    (11): ReLU(inplace&#x3D;True)</span><br><span class="line">    (12): Conv2d(256, 256, kernel_size&#x3D;(3, 3), stride&#x3D;(1, 1), padding&#x3D;(1, 1))</span><br><span class="line">    (13): ReLU(inplace&#x3D;True)</span><br><span class="line">    (14): Conv2d(256, 256, kernel_size&#x3D;(3, 3), stride&#x3D;(1, 1), padding&#x3D;(1, 1))</span><br><span class="line">    (15): ReLU(inplace&#x3D;True)</span><br><span class="line">    (16): MaxPool2d(kernel_size&#x3D;2, stride&#x3D;2, padding&#x3D;0, dilation&#x3D;1, ceil_mode&#x3D;False)</span><br><span class="line">    (17): Conv2d(256, 512, kernel_size&#x3D;(3, 3), stride&#x3D;(1, 1), padding&#x3D;(1, 1))</span><br><span class="line">    (18): ReLU(inplace&#x3D;True)</span><br><span class="line">    (19): Conv2d(512, 512, kernel_size&#x3D;(3, 3), stride&#x3D;(1, 1), padding&#x3D;(1, 1))</span><br><span class="line">    (20): ReLU(inplace&#x3D;True)</span><br><span class="line">    (21): Conv2d(512, 512, kernel_size&#x3D;(3, 3), stride&#x3D;(1, 1), padding&#x3D;(1, 1))</span><br><span class="line">    (22): ReLU(inplace&#x3D;True)</span><br><span class="line">    (23): MaxPool2d(kernel_size&#x3D;2, stride&#x3D;2, padding&#x3D;0, dilation&#x3D;1, ceil_mode&#x3D;False)</span><br><span class="line">    (24): Conv2d(512, 512, kernel_size&#x3D;(3, 3), stride&#x3D;(1, 1), padding&#x3D;(1, 1))</span><br><span class="line">    (25): ReLU(inplace&#x3D;True)</span><br><span class="line">    (26): Conv2d(512, 512, kernel_size&#x3D;(3, 3), stride&#x3D;(1, 1), padding&#x3D;(1, 1))</span><br><span class="line">    (27): ReLU(inplace&#x3D;True)</span><br><span class="line">    (28): Conv2d(512, 512, kernel_size&#x3D;(3, 3), stride&#x3D;(1, 1), padding&#x3D;(1, 1))</span><br><span class="line">    (29): ReLU(inplace&#x3D;True)</span><br><span class="line">    (30): MaxPool2d(kernel_size&#x3D;2, stride&#x3D;2, padding&#x3D;0, dilation&#x3D;1, ceil_mode&#x3D;False)</span><br><span class="line">  )</span><br><span class="line">  (avgpool): AdaptiveAvgPool2d(output_size&#x3D;(7, 7))</span><br><span class="line">  (classifier): Sequential(</span><br><span class="line">    (0): Linear(in_features&#x3D;25088, out_features&#x3D;4096, bias&#x3D;True)</span><br><span class="line">    (1): ReLU(inplace&#x3D;True)</span><br><span class="line">    (2): Dropout(p&#x3D;0.5, inplace&#x3D;False)</span><br><span class="line">    (3): Linear(in_features&#x3D;4096, out_features&#x3D;4096, bias&#x3D;True)</span><br><span class="line">    (4): ReLU(inplace&#x3D;True)</span><br><span class="line">    (5): Dropout(p&#x3D;0.5, inplace&#x3D;False)</span><br><span class="line">    (6): Linear(in_features&#x3D;4096, out_features&#x3D;1000, bias&#x3D;True)</span><br><span class="line">  )</span><br><span class="line">)</span><br><span class="line">Sequential(</span><br><span class="line">  (0): Linear(in_features&#x3D;25088, out_features&#x3D;4096, bias&#x3D;True)</span><br><span class="line">  (1): ReLU(inplace&#x3D;True)</span><br><span class="line">  (2): Dropout(p&#x3D;0.5, inplace&#x3D;False)</span><br><span class="line">  (3): Linear(in_features&#x3D;4096, out_features&#x3D;4096, bias&#x3D;True)</span><br><span class="line">  (4): ReLU(inplace&#x3D;True)</span><br><span class="line">  (5): Dropout(p&#x3D;0.5, inplace&#x3D;False)</span><br><span class="line">  (6): Linear(in_features&#x3D;4096, out_features&#x3D;2, bias&#x3D;True)</span><br><span class="line">  (7): LogSoftmax(dim&#x3D;1)</span><br><span class="line">)</span><br></pre></td></tr></table></figure><h3 id="è®­ç»ƒå¹¶æµ‹è¯•å…¨è¿æ¥å±‚"><a href="#è®­ç»ƒå¹¶æµ‹è¯•å…¨è¿æ¥å±‚" class="headerlink" title="è®­ç»ƒå¹¶æµ‹è¯•å…¨è¿æ¥å±‚"></a>è®­ç»ƒå¹¶æµ‹è¯•å…¨è¿æ¥å±‚</h3><p><strong>ä¸‰ä¸ªæ­¥éª¤</strong></p><ul><li>åˆ›å»ºæŸå¤±å‡½æ•°å’Œä¼˜åŒ–å™¨</li><li>è®­ç»ƒæ¨¡å‹</li><li>æµ‹è¯•æ¨¡å‹</li></ul><p>åœ¨è¿™é‡Œï¼Œæ”¹ç”¨ Adam æ›¿æ¢ SGD ä¼˜åŒ–å™¨</p><ul><li><p>SGD ï¼ˆStochastic Gradient Descentï¼‰æœ´ç´ æ¢¯åº¦ä¸‹é™ï¼Œæœ€ä¸ºç®€å•ï¼Œæ²¡æœ‰åŠ¨é‡çš„æ¦‚å¿µã€‚</p><p>ç¼ºç‚¹åœ¨äºï¼šæ”¶æ•›é€Ÿåº¦æ…¢ï¼Œå¯èƒ½åœ¨éç‚¹ï¼ˆæ²¿ç€æŸä¸€ä¸ªæ–¹å‘æ˜¯ç¨³å®šçš„å¦ä¸€ä¸ªæ–¹å‘æ˜¯ä¸ç¨³å®šçš„ï¼Œç‰©ç†å«ä¹‰å³ä¸€ä¸ªæ–¹å‘ä¸Šæ˜¯æå¤§å€¼ï¼Œå¦ä¸€ä¸ªæ–¹å‘ä¸Šæ˜¯æå°å€¼ï¼‰å¤„éœ‡è¡ã€‚</p><p>ä¸ºäº†è·³å‡ºéç‚¹å¤„ï¼Œæå‡ºäº†åŠ¨é‡çš„æ¦‚å¿µå› æ­¤æœ‰äº†å‡ ç§æ”¹è¿›çš„ä¼˜åŒ–å™¨</p></li><li><p>Adam ç®€å•è¯´æ˜¯ä¸€ç§æ·»åŠ äº†åŠ¨é‡çš„æ¢¯åº¦ä¸‹é™ä¼˜åŒ–å™¨ï¼Œå¤§å¤§æé«˜äº†æ”¶æ•›çš„é€Ÿåº¦ã€‚</p><p>ç¼ºç‚¹åœ¨äºï¼šå¯èƒ½è¶Šè¿‡å…¨å±€æœ€ä¼˜è§£ï¼›æŸäº›æƒ…å†µå¯èƒ½ä¸æ”¶æ•›</p></li></ul><p>åœ¨è¿™é‡Œè®¾ç½®ä¸€ä¸ªæœ€å¤§ç²¾åº¦å€¼max_accï¼Œæ¯ä¸€ä¸ª epoch éƒ½ä¸ä¹‹è¿›è¡Œæ¯”è¾ƒï¼Œå½“æ–°çš„ epoch ç²¾åº¦æ›´å¥½æ—¶æ›¿æ¢ä¹‹ï¼Œä¿å­˜è®­ç»ƒå‡ºçš„æœ€å¥½çš„æ¨¡å‹å’Œæœ€åä¸€ä¸ªè®­ç»ƒçš„æ¨¡å‹ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºæŸå¤±å‡½æ•°å’Œä¼˜åŒ–å™¨</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">æŸå¤±å‡½æ•° NLLLoss() çš„ è¾“å…¥ æ˜¯ä¸€ä¸ªå¯¹æ•°æ¦‚ç‡å‘é‡å’Œä¸€ä¸ªç›®æ ‡æ ‡ç­¾. </span></span><br><span class="line"><span class="string">å®ƒä¸ä¼šä¸ºæˆ‘ä»¬è®¡ç®—å¯¹æ•°æ¦‚ç‡ï¼Œé€‚åˆæœ€åä¸€å±‚æ˜¯log_softmax()çš„ç½‘ç»œ. </span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="keyword">from</span> tqdm <span class="keyword">import</span> trange,tqdm</span><br><span class="line">criterion = nn.NLLLoss()</span><br><span class="line"></span><br><span class="line"><span class="comment"># å­¦ä¹ ç‡</span></span><br><span class="line">lr = (<span class="number">1e-3</span>)/<span class="number">2</span>/<span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># éšæœºæ¢¯åº¦ä¸‹é™</span></span><br><span class="line">optimizer_vgg = torch.optim.Adam(model_vgg_new.classifier[<span class="number">6</span>].parameters(),lr = lr)</span><br><span class="line"></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">ç¬¬äºŒæ­¥ï¼šè®­ç»ƒæ¨¡å‹</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">train_model</span><span class="params">(model,dataloader,size,epochs=<span class="number">1</span>,optimizer=None)</span>:</span></span><br><span class="line">    model.train()</span><br><span class="line">    </span><br><span class="line">    max_acc = <span class="number">-1</span></span><br><span class="line">    <span class="keyword">for</span> epoch <span class="keyword">in</span> range(epochs):</span><br><span class="line">        running_loss = <span class="number">0.0</span></span><br><span class="line">        running_corrects = <span class="number">0</span></span><br><span class="line">        count = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> inputs,classes <span class="keyword">in</span> dataloader:</span><br><span class="line">            inputs = inputs.to(device)</span><br><span class="line">            classes = classes.to(device)</span><br><span class="line">            outputs = model(inputs)</span><br><span class="line">            loss = criterion(outputs,classes)           </span><br><span class="line">            optimizer = optimizer</span><br><span class="line">            optimizer.zero_grad()</span><br><span class="line">            loss.backward()</span><br><span class="line">            optimizer.step()</span><br><span class="line">            _,preds = torch.max(outputs.data,<span class="number">1</span>)</span><br><span class="line">            <span class="comment"># statistics</span></span><br><span class="line">            running_loss += loss.data.item()</span><br><span class="line">            running_corrects += torch.sum(preds == classes.data)</span><br><span class="line">            count += len(inputs)</span><br><span class="line">            print(<span class="string">'Training: No. '</span>, count, <span class="string">' process ... total: '</span>, size)</span><br><span class="line">        epoch_loss = running_loss / size</span><br><span class="line">        epoch_acc = running_corrects.data.item() / size</span><br><span class="line">        print(<span class="string">'Loss: &#123;:.4f&#125; Acc: &#123;:.4f&#125;'</span>.format(</span><br><span class="line">                     epoch_loss, epoch_acc))</span><br><span class="line">                    <span class="comment">#/content/imagenet_class_index.json</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> epoch_acc&gt;max_acc:</span><br><span class="line">            max_acc = epoch_acc</span><br><span class="line">            torch.save(model, <span class="string">'/content/model_best_new.pth'</span>)</span><br><span class="line">            <span class="comment"># tqdm.write("\n Got A Nice Model Acc:&#123;:.8f&#125;".format(max_acc))</span></span><br><span class="line">        tqdm.write(<span class="string">'\nepoch: &#123;&#125; \tLoss: &#123;:.8f&#125; Acc: &#123;:.8f&#125;'</span>.format(epoch,epoch_loss, epoch_acc))</span><br><span class="line">        tqdm.write(<span class="string">'\n Best acc is: &#123;&#125; \n'</span>.format(max_acc))</span><br><span class="line">        time.sleep(<span class="number">0.1</span>)</span><br><span class="line"> </span><br><span class="line">    torch.save(model, <span class="string">'/content/model_last_new.pth'</span>)</span><br><span class="line"> </span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line"><span class="comment"># æ¨¡å‹è®­ç»ƒ</span></span><br><span class="line">train_model(model_vgg_new,loader_train,size=dset_sizes[<span class="string">'train'</span>], epochs=<span class="number">10</span>, </span><br><span class="line">            optimizer=optimizer_vgg)</span><br></pre></td></tr></table></figure><hr><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201119132604195.png" alt="image-20201119132604195"></p><p>ï¼ˆepochs èµ·åˆæ”¹ä¸º100ï¼Œåæ¥å‘ç°æ”¹ä¸º10ï¼Œæ•ˆæœä¹Ÿå·²ç»ä¸é”™äº†ï¼‰</p><h3 id="valid-æ•°æ®æ¨¡å‹æµ‹è¯•"><a href="#valid-æ•°æ®æ¨¡å‹æµ‹è¯•" class="headerlink" title="valid æ•°æ®æ¨¡å‹æµ‹è¯•"></a>valid æ•°æ®æ¨¡å‹æµ‹è¯•</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test_model</span><span class="params">(model,dataloader,size)</span>:</span></span><br><span class="line">    model.eval()</span><br><span class="line">    predictions = np.zeros(size)</span><br><span class="line">    all_classes = np.zeros(size)</span><br><span class="line">    all_proba = np.zeros((size,<span class="number">2</span>))</span><br><span class="line">    i = <span class="number">0</span></span><br><span class="line">    running_loss = <span class="number">0.0</span></span><br><span class="line">    running_corrects = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> inputs,classes <span class="keyword">in</span> dataloader:</span><br><span class="line">        inputs = inputs.to(device)</span><br><span class="line">        classes = classes.to(device)</span><br><span class="line">        outputs = model(inputs)</span><br><span class="line">        loss = criterion(outputs,classes)           </span><br><span class="line">        _,preds = torch.max(outputs.data,<span class="number">1</span>)</span><br><span class="line">        <span class="comment"># statistics</span></span><br><span class="line">        running_loss += loss.data.item()</span><br><span class="line">        running_corrects += torch.sum(preds == classes.data)</span><br><span class="line">        predictions[i:i+len(classes)] = preds.to(<span class="string">'cpu'</span>).numpy()</span><br><span class="line">        all_classes[i:i+len(classes)] = classes.to(<span class="string">'cpu'</span>).numpy()</span><br><span class="line">        all_proba[i:i+len(classes),:] = outputs.data.to(<span class="string">'cpu'</span>).numpy()</span><br><span class="line">        i += len(classes)</span><br><span class="line">        print(<span class="string">'Testing: No. '</span>, i, <span class="string">' process ... total: '</span>, size)        </span><br><span class="line">    epoch_loss = running_loss / size</span><br><span class="line">    epoch_acc = running_corrects.data.item() / size</span><br><span class="line">    print(<span class="string">'Loss: &#123;:.4f&#125; Acc: &#123;:.4f&#125;'</span>.format(</span><br><span class="line">                     epoch_loss, epoch_acc))</span><br><span class="line">    <span class="keyword">return</span> predictions, all_proba, all_classes</span><br><span class="line">  </span><br><span class="line">predictions, all_proba, all_classes = test_model(model_vgg_new,loader_valid,size=dset_sizes[<span class="string">'valid'</span>])</span><br></pre></td></tr></table></figure><hr><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Testing: No.  5  process ... total:  2000</span><br><span class="line">Testing: No.  10  process ... total:  2000</span><br><span class="line">Testing: No.  15  process ... total:  2000</span><br><span class="line">...</span><br><span class="line">...</span><br><span class="line">...</span><br><span class="line">Testing: No.  1995  process ... total:  2000</span><br><span class="line">Testing: No.  2000  process ... total:  2000</span><br><span class="line">Loss: 0.0105 Acc: 0.9795</span><br></pre></td></tr></table></figure><h3 id="ç ”ä¹ ç¤¾-test-æ•°æ®æµ‹è¯•"><a href="#ç ”ä¹ ç¤¾-test-æ•°æ®æµ‹è¯•" class="headerlink" title="ç ”ä¹ ç¤¾ test æ•°æ®æµ‹è¯•"></a>ç ”ä¹ ç¤¾ test æ•°æ®æµ‹è¯•</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åŠ è½½æµ‹è¯•æ•°æ®</span></span><br><span class="line">dsets_mine = datasets.ImageFolder(<span class="string">"/content/yanxishe/"</span>, vgg_format)</span><br><span class="line"> </span><br><span class="line">loader_test = torch.utils.data.DataLoader(dsets_mine, batch_size=<span class="number">1</span>, shuffle=<span class="literal">False</span>, num_workers=<span class="number">0</span>)</span><br><span class="line"><span class="comment"># åŠ è½½ best model</span></span><br><span class="line">model_vgg_new = torch.load(<span class="string">r'/content/model_best_new.pth'</span>)</span><br><span class="line">model_vgg_new = model_vgg_new.to(device)</span><br><span class="line"></span><br><span class="line">dic = &#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test</span><span class="params">(model,dataloader,size)</span>:</span></span><br><span class="line">    model.eval()</span><br><span class="line">    predictions = np.zeros(size)</span><br><span class="line">    cnt = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> inputs,_ <span class="keyword">in</span> tqdm(dataloader):</span><br><span class="line">        inputs = inputs.to(device)</span><br><span class="line">        outputs = model(inputs)</span><br><span class="line">        _,preds = torch.max(outputs.data,<span class="number">1</span>)    </span><br><span class="line">        key = dsets_mine.imgs[cnt][<span class="number">0</span>].split(<span class="string">"\\"</span>)[<span class="number">-1</span>].split(<span class="string">'.'</span>)[<span class="number">0</span>]</span><br><span class="line">        dic[key] = preds[<span class="number">0</span>]</span><br><span class="line">        cnt = cnt +<span class="number">1</span></span><br><span class="line">test(model_vgg_new,loader_test,size=<span class="number">2000</span>)</span><br></pre></td></tr></table></figure><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201119132146392.png" alt="image-20201119132146392"></p><p>å°†æµ‹è¯•ç»“æœ dic æŒ‰é¡ºåºå†™å…¥ csv æ–‡ä»¶</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> open(<span class="string">"result1.csv"</span>,<span class="string">'a+'</span>) <span class="keyword">as</span> f:</span><br><span class="line">    <span class="keyword">for</span> key <span class="keyword">in</span> range(<span class="number">2000</span>):</span><br><span class="line">        f.write(<span class="string">"&#123;&#125;,&#123;&#125;\n"</span>.format(key, dic[<span class="string">"/content/yanxishe/test/"</span>+str(key)]))</span><br></pre></td></tr></table></figure><h3 id="æäº¤ç»“æœ"><a href="#æäº¤ç»“æœ" class="headerlink" title="æäº¤ç»“æœ"></a>æäº¤ç»“æœ</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201119141718413.png" alt="image-20201119141718413"></p><p>æœ€æ—©çš„ç»“æœæ˜¯è®­ç»ƒ epoch ä¿®æ”¹ä¸º100ï¼ŒSGDä¼˜åŒ–å™¨æ—¶ï¼Œè®­ç»ƒ Acc ä¸º0.99æ—¶è·å¾—çš„ã€‚</p><p>ç¬¬äºŒä¸ªæ˜¯ä¿®æ”¹ä¼˜åŒ–å™¨ä¸º Adam æ—¶çš„ç»“æœï¼Œ Acc åŒæ ·ä¸º0.99æ—¶è·å¾—çš„ç»“æœã€‚</p><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><ul><li><p>å¢åŠ  epoch æ•°é‡ä¼šæé«˜è®­ç»ƒçš„å‡†ç¡®åº¦</p></li><li><p>ä¼˜åŒ–å™¨æ”¹ä¸º Adam ä¼šæé«˜è®­ç»ƒæ—¶æ”¶æ•›çš„é€Ÿåº¦ï¼Œä½†å¯¹äºç»“æœå¥½åƒæ²¡æœ‰å¤ªå¤§çš„æå‡</p></li><li><p>å½“ä¿®æ”¹äº†å­¦ä¹ ç‡æ—¶ï¼Œå‘ç°å¯¹ Acc æœ‰ä¸é”™çš„å½±å“ï¼Œé€‰æ‹© epoch = 10ï¼Œ æµ‹è¯•äº† 0.001 å­¦ä¹ ç‡ï¼Œå’Œ0.005å­¦ä¹ ç‡ï¼Œå‘ç°0.005å¯ä»¥åœ¨ä¸€å¼€å§‹æ—¶å°±è·å¾—æ¯”è¾ƒé«˜çš„ Accã€‚</p><p>å¯¹äºå­¦ä¹ ç‡çš„è®¾ç½®æœ‰:</p></li></ul><div class="table-container"><table><thead><tr><th>å­¦ä¹ ç‡</th><th>å¤§</th><th>å°</th></tr></thead><tbody><tr><td>å­¦ä¹ é€Ÿåº¦</td><td>å¿«</td><td>æ…¢</td></tr><tr><td>ä½¿ç”¨æ—¶é—´ç‚¹</td><td>åˆšå¼€å§‹è®­ç»ƒæ—¶</td><td>ç»è¿‡ä¸€å®šè½®æ•°å</td></tr><tr><td>å‰¯ä½œç”¨</td><td>1. æ˜“æŸå¤±å€¼çˆ†ç‚¸ï¼›2. æ˜“éœ‡è¡</td><td>1. æ˜“è¿‡æ‹Ÿåˆï¼›2. æ”¶æ•›é€Ÿåº¦æ…¢</td></tr></tbody></table></div><ul><li>è®¾ç½®ä¸€ä¸ªæœ€å¤§ç²¾åº¦å€¼max_accï¼Œæ¯ä¸€ä¸ª epoch çš„ Acc éƒ½ä¸ä¹‹è¿›è¡Œæ¯”è¾ƒï¼Œå½“æ–°çš„ epoch ç²¾åº¦æ›´å¥½æ—¶æ›¿æ¢ä¹‹ï¼Œä¿å­˜è®­ç»ƒå‡ºçš„æœ€å¥½çš„æ¨¡å‹ã€‚ç„¶åç”¨æœ€å¥½çš„è®­ç»ƒæ¨¡å‹è¿›è¡Œ valid æ•°æ®é›†æµ‹è¯•å’Œ test æ•°æ®é›†æµ‹è¯•ã€‚</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Dog-VS-Cat&quot;&gt;&lt;a href=&quot;#Dog-VS-Cat&quot; class=&quot;headerlink&quot; title=&quot;Dog VS Cat&quot;&gt;&lt;/a&gt;Dog VS Cat&lt;/h1&gt;&lt;h2 id=&quot;VGGç½‘ç»œ&quot;&gt;&lt;a href=&quot;#VGGç½‘ç»œ&quot; class=&quot;he
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>åŒºåŸŸç”Ÿé•¿&amp;åŒºåŸŸåˆ†å‰²ä¸åˆæˆ&amp;åˆ†æ°´å²­ç®—æ³•</title>
    <link href="https://github.com/liysky/liysky.github.io.git/2020/11/14/region-growsplitmerge-watershed/"/>
    <id>https://github.com/liysky/liysky.github.io.git/2020/11/14/region-growsplitmerge-watershed/</id>
    <published>2020-11-14T05:49:54.000Z</published>
    <updated>2020-11-14T05:53:48.700Z</updated>
    
    <content type="html"><![CDATA[<h1 id="åŒºåŸŸç”Ÿé•¿ç®—æ³•ï¼ŒåŒºåŸŸåˆ†è£‚ä¸åˆæˆç®—æ³•ï¼Œåˆ†æ°´å²­åˆ†å‰²ç®—æ³•"><a href="#åŒºåŸŸç”Ÿé•¿ç®—æ³•ï¼ŒåŒºåŸŸåˆ†è£‚ä¸åˆæˆç®—æ³•ï¼Œåˆ†æ°´å²­åˆ†å‰²ç®—æ³•" class="headerlink" title="åŒºåŸŸç”Ÿé•¿ç®—æ³•ï¼ŒåŒºåŸŸåˆ†è£‚ä¸åˆæˆç®—æ³•ï¼Œåˆ†æ°´å²­åˆ†å‰²ç®—æ³•"></a>åŒºåŸŸç”Ÿé•¿ç®—æ³•ï¼ŒåŒºåŸŸåˆ†è£‚ä¸åˆæˆç®—æ³•ï¼Œåˆ†æ°´å²­åˆ†å‰²ç®—æ³•</h1><h2 id="åŒºåŸŸç”Ÿé•¿ç®—æ³•"><a href="#åŒºåŸŸç”Ÿé•¿ç®—æ³•" class="headerlink" title="åŒºåŸŸç”Ÿé•¿ç®—æ³•"></a>åŒºåŸŸç”Ÿé•¿ç®—æ³•</h2><p><strong>ç®—æ³•å®ç°</strong></p><ul><li>æ ¹æ®å›¾åƒçš„ä¸åŒåº”ç”¨é€‰æ‹©ä¸€ä¸ªæˆ–ä¸€ç»„ç§å­ï¼Œå®ƒæˆ–ä¸ºæœ€äº®æˆ–æœ€æš—æˆ–ç‚¹ç°‡ä¸­å¿ƒçš„ç‚¹</li><li>ç¡®å®šç›¸ä¼¼æ€§å‡†åˆ™å³ç”Ÿé•¿å‡†åˆ™ï¼ˆæ¡ä»¶ï¼‰</li><li>ä»è¯¥ç§å­å¼€å§‹ä¸æ–­å‘å¤–æ‰©å¼ ï¼Œé¦–å…ˆå°†ç§å­åƒç´ åŠ å…¥é›†åˆï¼Œç„¶åä¸æ–­å°†ä¸å‡ ä½•ä¸­å„ä¸ªåƒç´ è¿é€šã€ä¸”æ»¡è¶³æè¿°å‡†åˆ™çš„åƒç´ åŠ å…¥é›†åˆ</li><li>ä¸Šä¸€è¿‡ç¨‹è¿›è¡Œåˆ°ä¸å†æœ‰æ»¡è¶³æ¡ä»¶çš„æ–°çš„èŠ‚ç‚¹åŠ å…¥é›†åˆä¸ºæ­¢</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"></span><br><span class="line"><span class="comment">#class pour une pile</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Stack</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.item = []</span><br><span class="line">        self.obj=[]</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">push</span><span class="params">(self, value)</span>:</span></span><br><span class="line">        self.item.append(value)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">pop</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.item.pop()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">size</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> len(self.item)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isEmpty</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.size() == <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">clear</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.item = []</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">regionGrow</span><span class="params">()</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,im_path,th)</span>:</span></span><br><span class="line">        self.readImage(im_path)</span><br><span class="line">        self.h, self.w,_ =  self.im.shape</span><br><span class="line">        self.passedBy = np.zeros((self.h,self.w), np.double)</span><br><span class="line">        self.currentRegion = <span class="number">0</span></span><br><span class="line">        self.iterations=<span class="number">0</span></span><br><span class="line">        self.SEGS=np.zeros((self.h,self.w,<span class="number">3</span>), dtype=<span class="string">'uint8'</span>)</span><br><span class="line">        self.stack = Stack()</span><br><span class="line">        self.thresh=float(th)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">readImage</span><span class="params">(self, img_path)</span>:</span></span><br><span class="line">        self.im = cv2.imread(img_path,<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getNeighbour</span><span class="params">(self, x0, y0)</span>:</span></span><br><span class="line">        neighbour = []</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> (<span class="number">-1</span>,<span class="number">0</span>,<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> (<span class="number">-1</span>,<span class="number">0</span>,<span class="number">1</span>):</span><br><span class="line">                <span class="keyword">if</span> (i,j) == (<span class="number">0</span>,<span class="number">0</span>):</span><br><span class="line">                    <span class="keyword">continue</span></span><br><span class="line">                x = x0+i</span><br><span class="line">                y = y0+j</span><br><span class="line">                <span class="keyword">if</span> self.limit(x,y):</span><br><span class="line">                    neighbour.append((x,y))</span><br><span class="line">        <span class="keyword">return</span> neighbour</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">ApplyRegionGrow</span><span class="params">(self)</span>:</span></span><br><span class="line">        randomseeds=[[self.h/<span class="number">2</span>,self.w/<span class="number">2</span>],</span><br><span class="line">            [self.h/<span class="number">3</span>,self.w/<span class="number">3</span>],[<span class="number">2</span>*self.h/<span class="number">3</span>,self.w/<span class="number">3</span>],[self.h/<span class="number">3</span><span class="number">-10</span>,self.w/<span class="number">3</span>],</span><br><span class="line">            [self.h/<span class="number">3</span>,<span class="number">2</span>*self.w/<span class="number">3</span>],[<span class="number">2</span>*self.h/<span class="number">3</span>,<span class="number">2</span>*self.w/<span class="number">3</span>],[self.h/<span class="number">3</span><span class="number">-10</span>,<span class="number">2</span>*self.w/<span class="number">3</span>],</span><br><span class="line">            [self.h/<span class="number">3</span>,self.w<span class="number">-10</span>],[<span class="number">2</span>*self.h/<span class="number">3</span>,self.w<span class="number">-10</span>],[self.h/<span class="number">3</span><span class="number">-10</span>,self.w<span class="number">-10</span>]</span><br><span class="line">                    ]</span><br><span class="line">        np.random.shuffle(randomseeds)</span><br><span class="line">        <span class="keyword">for</span> x0 <span class="keyword">in</span> range (self.h):</span><br><span class="line">            <span class="keyword">for</span> y0 <span class="keyword">in</span> range (self.w):</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> self.passedBy[x0,y0] == <span class="number">0</span> <span class="keyword">and</span> (int(self.im[x0,y0,<span class="number">0</span>])*int(self.im[x0,y0,<span class="number">1</span>])*int(self.im[x0,y0,<span class="number">2</span>]) &gt; <span class="number">0</span>) :</span><br><span class="line">                    self.currentRegion += <span class="number">1</span></span><br><span class="line">                    self.passedBy[x0,y0] = self.currentRegion</span><br><span class="line">                    self.stack.push((x0,y0))</span><br><span class="line">                    self.prev_region_count=<span class="number">0</span></span><br><span class="line">                    <span class="keyword">while</span> <span class="keyword">not</span> self.stack.isEmpty():</span><br><span class="line">                        x,y = self.stack.pop()</span><br><span class="line">                        self.BFS(x,y)</span><br><span class="line">                        self.iterations+=<span class="number">1</span></span><br><span class="line">                    <span class="keyword">if</span>(self.PassedAll()):</span><br><span class="line">                        <span class="keyword">break</span></span><br><span class="line">                    <span class="keyword">if</span>(self.prev_region_count&lt;<span class="number">8</span>*<span class="number">8</span>):</span><br><span class="line">                        self.passedBy[self.passedBy==self.currentRegion]=<span class="number">0</span></span><br><span class="line">                        x0=random.randint(x0<span class="number">-4</span>,x0+<span class="number">4</span>)</span><br><span class="line">                        y0=random.randint(y0<span class="number">-4</span>,y0+<span class="number">4</span>)</span><br><span class="line">                        x0=max(<span class="number">0</span>,x0)</span><br><span class="line">                        y0=max(<span class="number">0</span>,y0)</span><br><span class="line">                        x0=min(x0,self.h<span class="number">-1</span>)</span><br><span class="line">                        y0=min(y0,self.w<span class="number">-1</span>)</span><br><span class="line">                        self.currentRegion-=<span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>,self.h):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range (<span class="number">0</span>,self.w):</span><br><span class="line">                val = self.passedBy[i][j]</span><br><span class="line">                <span class="keyword">if</span>(val==<span class="number">0</span>):</span><br><span class="line">                    self.SEGS[i][j]=<span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    self.SEGS[i][j]=val*<span class="number">35</span>,val*<span class="number">90</span>,val*<span class="number">30</span></span><br><span class="line">        <span class="keyword">if</span>(self.iterations&gt;<span class="number">200000</span>):</span><br><span class="line">            print(<span class="string">"Max Iterations"</span>)</span><br><span class="line">        print(<span class="string">"Iterations : "</span>+str(self.iterations))</span><br><span class="line">        cv2.imshow(<span class="string">""</span>,self.SEGS)</span><br><span class="line">        <span class="comment"># return self.SEGS</span></span><br><span class="line">        cv2.waitKey(<span class="number">0</span>)</span><br><span class="line">        cv2.destroyAllWindows()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">BFS</span><span class="params">(self, x0,y0)</span>:</span></span><br><span class="line">        regionNum = self.passedBy[x0,y0]</span><br><span class="line">        elems=[]</span><br><span class="line">        elems.append((int(self.im[x0,y0,<span class="number">0</span>])+int(self.im[x0,y0,<span class="number">1</span>])+int(self.im[x0,y0,<span class="number">2</span>]))/<span class="number">3</span>)</span><br><span class="line">        var=self.thresh</span><br><span class="line">        neighbours=self.getNeighbour(x0,y0)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> x,y <span class="keyword">in</span> neighbours:</span><br><span class="line">            <span class="keyword">if</span> self.passedBy[x,y] == <span class="number">0</span> <span class="keyword">and</span> self.distance(x,y,x0,y0)&lt;var:</span><br><span class="line">                <span class="keyword">if</span>(self.PassedAll()):</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                self.passedBy[x,y] = regionNum</span><br><span class="line">                self.stack.push((x,y))</span><br><span class="line">                elems.append((int(self.im[x,y,<span class="number">0</span>])+int(self.im[x,y,<span class="number">1</span>])+int(self.im[x,y,<span class="number">2</span>]))/<span class="number">3</span>)</span><br><span class="line">                var=np.var(elems)</span><br><span class="line">                self.prev_region_count+=<span class="number">1</span></span><br><span class="line">            var=max(var,self.thresh)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">PassedAll</span><span class="params">(self)</span>:</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> self.iterations&gt;<span class="number">200000</span> <span class="keyword">or</span> np.count_nonzero(self.passedBy &gt; <span class="number">0</span>) == self.w*self.h</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">limit</span><span class="params">(self, x,y)</span>:</span></span><br><span class="line">        <span class="keyword">return</span>  <span class="number">0</span>&lt;=x&lt;self.h <span class="keyword">and</span> <span class="number">0</span>&lt;=y&lt;self.w</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">distance</span><span class="params">(self,x,y,x0,y0)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> ((int(self.im[x,y,<span class="number">0</span>])-int(self.im[x0,y0,<span class="number">0</span>]))**<span class="number">2</span>+(int(self.im[x,y,<span class="number">1</span>])-int(self.im[x0,y0,<span class="number">1</span>]))**<span class="number">2</span>+(int(self.im[x,y,<span class="number">2</span>])-int(self.im[x0,y0,<span class="number">2</span>]))**<span class="number">2</span>)**<span class="number">0.5</span></span><br><span class="line"></span><br><span class="line">img = <span class="string">"./food.jpg"</span></span><br><span class="line">imgorin = cv2.imread(img,<span class="number">1</span>)</span><br><span class="line"><span class="comment"># imgorin = imgorin[:,:,[2,1,0]]  #show original in plt: cv2 is BGR, plt is RGB</span></span><br><span class="line">cv2.imshow(<span class="string">"original"</span>, imgorin)</span><br><span class="line">exemple = regionGrow(img,<span class="number">15</span>)</span><br><span class="line">exemple.ApplyRegionGrow()</span><br></pre></td></tr></table></figure><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202020-11-13%20at%2019.20.32.png" alt="Screen Shot 2020-11-13 at 19.20.32"></p><h2 id="åŒºåŸŸåˆ†è£‚ä¸åˆæˆç®—æ³•"><a href="#åŒºåŸŸåˆ†è£‚ä¸åˆæˆç®—æ³•" class="headerlink" title="åŒºåŸŸåˆ†è£‚ä¸åˆæˆç®—æ³•"></a>åŒºåŸŸåˆ†è£‚ä¸åˆæˆç®—æ³•</h2><p><strong>ç®—æ³•å®ç°</strong></p><ul><li>å¯¹äºå›¾åƒä¸­ç°åº¦çº§åˆ«ä¸åŒçš„åŒºåŸŸï¼Œå‡åˆ†ä¸ºå››ä¸ªå­åŒºåŸŸ</li><li>å¦‚æœç›¸é‚»çš„å­åŒºåŸŸæ‰€æœ‰åƒç´ çš„ç°åº¦çº§ç›¸åŒï¼Œåˆ™å°†å…¶åˆå¹¶</li><li>åå¤è¿›è¡Œä¸Šè¿°ä¸¤æ­¥æ“ä½œï¼Œç›´è‡³ä¸å†æœ‰æ–°çš„åˆ†è£‚ä¸åˆå¹¶ä¸ºæ­¢</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">from</span> matplotlib.pyplot <span class="keyword">import</span> imread</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="comment"># calculate std of a cube of the image</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">stdRight</span><span class="params">(h0, w0, h, w)</span>:</span></span><br><span class="line">    value = img[h0 : h0+h, w0: w0+w]</span><br><span class="line">    <span class="comment"># print(value)</span></span><br><span class="line">    cal_std = np.std(value, ddof=<span class="number">1</span>)</span><br><span class="line">    print(cal_std)</span><br><span class="line">    <span class="keyword">if</span> abs(cal_std) &lt; <span class="number">20</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">thresholdFuc</span><span class="params">(h0, w0, h, w)</span>:</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(w0, w0+w):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(h0, h0 + h):</span><br><span class="line">            <span class="keyword">if</span> img[j, i] &gt; <span class="number">127</span>:</span><br><span class="line">                img[j, i] = <span class="number">255</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                img[j, i] = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># iteration for split when condition is true(condition is the std of a cube of img )</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">iterationSplit</span><span class="params">(h0, w0, h, w)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> stdRight(h0, w0, h, w) <span class="keyword">and</span> min(h,w) &gt; <span class="number">5</span>:</span><br><span class="line">        iterationSplit(h0, w0, int(h / <span class="number">2</span>), int( w / <span class="number">2</span> ))</span><br><span class="line">        iterationSplit(h0 + int(h / <span class="number">2</span>), w0, int(h / <span class="number">2</span>), int( w / <span class="number">2</span> ))</span><br><span class="line">        iterationSplit(h0, w0 + int( w / <span class="number">2</span>), int(h / <span class="number">2</span>), int( w / <span class="number">2</span> ))</span><br><span class="line">        iterationSplit(h0 + int(h / <span class="number">2</span>), w0 + int( w / <span class="number">2</span>), int(h / <span class="number">2</span>), int( w / <span class="number">2</span> ))</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        thresholdFuc(h0, w0, h, w)</span><br><span class="line">        <span class="comment"># ret, img[h0 : h, w0 : w]= cv2.threshold(img[h0:h, w0 : w], 50, 255, cv2.THRESH_BINARY)</span></span><br><span class="line"></span><br><span class="line">img = cv2.imread(<span class="string">"./hy.jpg"</span>, <span class="number">0</span>)</span><br><span class="line">img_copy = img.copy()</span><br><span class="line">print(img.shape)</span><br><span class="line">h, w = img.shape</span><br><span class="line">iterationSplit(<span class="number">0</span>, <span class="number">0</span>, h, w)</span><br><span class="line"></span><br><span class="line"><span class="comment">#cv2.cvtColor() change BGR to RGB</span></span><br><span class="line">plt.subplot(<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>), plt.imshow(cv2.cvtColor(img_copy, cv2.COLOR_BGR2RGB)), plt.title(<span class="string">"Original"</span>)</span><br><span class="line">plt.subplot(<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>), plt.imshow(cv2.cvtColor(img, cv2.COLOR_BGR2RGB)), plt.title(<span class="string">"Result"</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201113223633344.png" alt="image-20201113223633344"></p><p><em>Reference:</em></p><ul><li><a href="https://nirantak.com/image-processing-region-splitting#code" target="_blank" rel="noopener">https://nirantak.com/image-processing-region-splitting#code</a></li><li><a href="https://en.wikipedia.org/wiki/Split_and_merge_segmentation" target="_blank" rel="noopener">https://en.wikipedia.org/wiki/Split_and_merge_segmentation</a></li></ul><h2 id="åˆ†æ°´å²­åˆ†å‰²ç®—æ³•"><a href="#åˆ†æ°´å²­åˆ†å‰²ç®—æ³•" class="headerlink" title="åˆ†æ°´å²­åˆ†å‰²ç®—æ³•"></a>åˆ†æ°´å²­åˆ†å‰²ç®—æ³•</h2><h3 id="åˆ†å‰²åŸç†"><a href="#åˆ†å‰²åŸç†" class="headerlink" title="åˆ†å‰²åŸç†"></a>åˆ†å‰²åŸç†</h3><ul><li><p>ä»»ä½•çš„ç°åº¦çº§å›¾åƒéƒ½å¯ä»¥è¢«çœ‹ä½œæ˜¯ä¸€ä¸ªåœ°å½¢å›¾</p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201111163807118.png" alt="image-20201111163807118" style="zoom:50%;" /></li><li><p>å‡è®¾ä»æ¯ä¸ªåŒºåŸŸçš„æœ€å°å€¼åœ°æ–¹æ°´ä½ä¸Šæ¶¨ï¼Œç›´è‡³æ·¹æ²¡æ•´ä¸ªåœ°å½¢ï¼Œå½“å¤„äºä¸åŒçš„æ±‡èšç›†åœ°çš„æ°´å°†è¦æ±‡èšåˆ°ä¸€èµ·çš„æ—¶å€™ï¼Œä¿®å‰ªå¤§åé˜»æ­¢èšåˆï¼Œæœ€åå¾—åˆ°æ°´ååˆ†ç•Œå°±æ˜¯åˆ†æ°´å²­çš„åˆ†å‰²çº¿ã€‚</p></li><li><p>ç”¨1æ ‡è®°éå¯¹è±¡ï¼ˆèƒŒæ™¯ï¼‰çš„åŒºåŸŸ</p></li><li><p>ç”¨0æ ‡è®°ä¸ç¡®å®šçš„åŒºåŸŸ</p></li><li><p>ç„¶ååº”ç”¨åˆ†æ°´å²­ç®—æ³•ï¼Œç”¨ä¹‹å‰æ ‡è®°å‡ºçš„æ ‡ç­¾è¿›è¡Œä¸æ–­æ›´æ–°ï¼Œæ ‡è®°å¯¹è±¡çš„è¾¹ç•Œå€¼ä¸º-1</p></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> cv2 <span class="keyword">as</span> cv</span><br><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">watershedFuc</span><span class="params">(img)</span>:</span></span><br><span class="line">    <span class="comment">#threshold Otsu</span></span><br><span class="line">    gray = cv.cvtColor(img,cv.COLOR_BGR2GRAY)</span><br><span class="line">    ret, thresh = cv.threshold(gray,<span class="number">0</span>,<span class="number">255</span>,cv.THRESH_BINARY_INV+cv.THRESH_OTSU)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># noise removal</span></span><br><span class="line">    kernel = np.ones((<span class="number">3</span>,<span class="number">3</span>),np.uint8)</span><br><span class="line">    opening = cv.morphologyEx(thresh,cv.MORPH_OPEN,kernel, iterations = <span class="number">5</span>)</span><br><span class="line">    <span class="comment"># sure background area</span></span><br><span class="line">    sure_bg = cv.dilate(opening,kernel,iterations=<span class="number">5</span>)</span><br><span class="line">    <span class="comment"># Finding sure foreground area</span></span><br><span class="line">    dist_transform = cv.distanceTransform(opening,cv.DIST_L2, <span class="number">5</span>)</span><br><span class="line">    ret, sure_fg = cv.threshold(dist_transform,<span class="number">0.7</span>*dist_transform.max(),<span class="number">255</span>,<span class="number">0</span>)</span><br><span class="line">    <span class="comment"># Finding unknown region</span></span><br><span class="line">    sure_fg = np.uint8(sure_fg)</span><br><span class="line">    unknown = cv.subtract(sure_bg,sure_fg)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Marker labelling</span></span><br><span class="line">    ret, markers = cv.connectedComponents(sure_fg)</span><br><span class="line">    <span class="comment"># Add one to all labels so that sure background is not 0, but 1</span></span><br><span class="line">    markers = markers+<span class="number">1</span></span><br><span class="line">    <span class="comment"># Now, mark the region of unknown with zero</span></span><br><span class="line">    markers[unknown==<span class="number">255</span>] = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># Apply watershed</span></span><br><span class="line">    markers = cv.watershed(img,markers)</span><br><span class="line">    img[markers == <span class="number">-1</span>] = [<span class="number">255</span>,<span class="number">0</span>,<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> img</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    img1 = cv.imread(<span class="string">'./egg.jpg'</span>)</span><br><span class="line">    plt.subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">1</span>),plt.imshow(img1), plt.title(<span class="string">"eggOrin"</span>), plt.xticks([]), plt.yticks([])</span><br><span class="line"></span><br><span class="line">    img2 = cv.imread(<span class="string">'./coins.jpg'</span>)</span><br><span class="line">    plt.subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">3</span>),plt.imshow(img2), plt.title(<span class="string">"coinOrin"</span>), plt.xticks([]), plt.yticks([])</span><br><span class="line"></span><br><span class="line">    img = [img1, img2]</span><br><span class="line">    title = [<span class="string">"coinwatershed"</span>, <span class="string">'eggwatershed'</span>]</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>):</span><br><span class="line">        result = watershedFuc(img[i])</span><br><span class="line">        plt.subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>**(i+<span class="number">1</span>)),plt.imshow(result), plt.title(title[i]), plt.xticks([]), plt.yticks([])</span><br><span class="line">    plt.show()</span><br></pre></td></tr></table></figure><p><strong>æ•ˆæœå›¾</strong></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201111164111409.png" alt="image-20201111164111409"></p><p><em>Referenceï¼š</em> <a href="https://docs.opencv.org/master/d3/db4/tutorial_py_watershed.html" target="_blank" rel="noopener">https://docs.opencv.org/master/d3/db4/tutorial_py_watershed.html</a></p><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><ul><li>åŒºåŸŸç”Ÿé•¿ç®—æ³•èƒ½å¤Ÿæ˜¾ç¤ºå‡ºå…·æœ‰ç›¸åŒç‰¹å¾çš„ä¸€äº›åƒç´ å—ï¼ŒåŒºåˆ†åº¦è¾ƒé«˜ï¼Œä½†æ˜¯ç®—æ³•è¾ƒä¸ºéæ—¶é—´ï¼Œè¦ç¡®å®šå¥½åˆå§‹ç§å­å€¼å’Œä¸å†ç»§ç»­æ‰©å¼ çš„æ¡ä»¶</li><li>åŒºåŸŸåˆ†è£‚ä¸åˆæˆç®—æ³•ï¼Œåˆ†å—è¿›è¡Œç›¸åŒç°åº¦çº§åƒç´ çš„åˆå¹¶å’Œä¸åŒåƒç´ ç°åº¦çº§çš„åˆ†è£‚ï¼Œç›´è‡³ä¸èƒ½å†åˆ†è£‚ä¸ºæ­¢ï¼Œè¿™é‡Œè®¾å®šçš„ä¸èƒ½åˆ†è£‚çš„æ¡ä»¶ä½¿ç”¨çš„æ˜¯æ–¹å·®ï¼Œå¯¹äºç›¸å·®å°çš„å¤§å—çŠ¶çš„èƒŒæ™¯å¾ˆå®¹æ˜“åœ¨å‰å‡ æ¬¡åˆ†è£‚ä¸åˆå¹¶ä¸­è¢«ç›´æ¥å»åˆ†å¼€ï¼ˆä¾‹å¦‚ï¼Œå¤©ç©ºä¸­çš„ç™½äº‘ï¼‰è¿›è€Œç›´æ¥è¢«å·®å€¼åŒ–</li><li>åˆ†æ°´å²­ç®—æ³•å¯¹äºå¯»æ‰¾è¾¹ç•Œéå¸¸æ˜æ˜¾ï¼Œå¯ä»¥å¾ˆå¥½çš„æ‰¾å‡ºç›®æ ‡å¯¹è±¡çš„è½®å»“</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;åŒºåŸŸç”Ÿé•¿ç®—æ³•ï¼ŒåŒºåŸŸåˆ†è£‚ä¸åˆæˆç®—æ³•ï¼Œåˆ†æ°´å²­åˆ†å‰²ç®—æ³•&quot;&gt;&lt;a href=&quot;#åŒºåŸŸç”Ÿé•¿ç®—æ³•ï¼ŒåŒºåŸŸåˆ†è£‚ä¸åˆæˆç®—æ³•ï¼Œåˆ†æ°´å²­åˆ†å‰²ç®—æ³•&quot; class=&quot;headerlink&quot; title=&quot;åŒºåŸŸç”Ÿé•¿ç®—æ³•ï¼ŒåŒºåŸŸåˆ†è£‚ä¸åˆæˆç®—æ³•ï¼Œåˆ†æ°´å²­åˆ†å‰²ç®—æ³•&quot;&gt;&lt;/a&gt;åŒºåŸŸç”Ÿé•¿ç®—æ³•ï¼ŒåŒºåŸŸåˆ†è£‚ä¸åˆæˆ
      
    
    </summary>
    
    
    
      <category term="BuaaAssignments" scheme="https://github.com/liysky/liysky.github.io.git/tags/BuaaAssignments/"/>
    
  </entry>
  
  <entry>
    <title>ä¸åŒé˜ˆå€¼å¤„ç†æ–¹æ³•å¯¹äºäºŒå€¼å›¾åƒçš„å½±å“</title>
    <link href="https://github.com/liysky/liysky.github.io.git/2020/11/10/threshouldeffecton2valueimg/"/>
    <id>https://github.com/liysky/liysky.github.io.git/2020/11/10/threshouldeffecton2valueimg/</id>
    <published>2020-11-10T04:22:00.000Z</published>
    <updated>2020-11-16T08:29:28.401Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æ¯”è¾ƒä¸åŒçš„é˜ˆå€¼å¤„ç†æ–¹æ³•å¯¹ç”ŸæˆäºŒå€¼å›¾åƒçš„å½±å“"><a href="#æ¯”è¾ƒä¸åŒçš„é˜ˆå€¼å¤„ç†æ–¹æ³•å¯¹ç”ŸæˆäºŒå€¼å›¾åƒçš„å½±å“" class="headerlink" title="æ¯”è¾ƒä¸åŒçš„é˜ˆå€¼å¤„ç†æ–¹æ³•å¯¹ç”ŸæˆäºŒå€¼å›¾åƒçš„å½±å“"></a>æ¯”è¾ƒä¸åŒçš„é˜ˆå€¼å¤„ç†æ–¹æ³•å¯¹ç”ŸæˆäºŒå€¼å›¾åƒçš„å½±å“</h2><h3 id="å…¨å±€é˜ˆå€¼æ³•"><a href="#å…¨å±€é˜ˆå€¼æ³•" class="headerlink" title="å…¨å±€é˜ˆå€¼æ³•"></a>å…¨å±€é˜ˆå€¼æ³•</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201109133450051.png" alt="image-20201109133450051"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201109133533603.png" alt="image-20201109133533603"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201109141042899.png" alt="image-20201109141042899"></p><p>opencv-python ä¸­æä¾›äº†cv.threshold æ–¹æ³•ï¼Œå¯ä»¥è®¾ç½®å°†å¤§äºæŸä¸€ä¸ªé˜ˆå€¼æˆ–è€…å°äºæŸä¸€ä¸ªé˜ˆå€¼ä¸ºä¸´ç•Œï¼Œå°†å…¶è®¾ç½®ä¸º0æˆ–è€…æœ€å¤§å€¼ã€‚</p><p>ç¬¬ä¸€ä¸ªå‚æ•°ï¼šåŸå›¾åƒ</p><p>ç¬¬äºŒä¸ªå‚æ•°ï¼šé˜ˆå€¼</p><p>ç¬¬ä¸‰ä¸ªå‚æ•°ï¼šæœ€å¤§å€¼</p><p>ç¬¬å››ä¸ªå‚æ•°ï¼šé˜ˆå€¼ç±»å‹</p><p>å³å¯¹äºå¤§äºæˆ–è€…å°äºæ‰€è®¾å®šçš„é˜ˆå€¼è¿›è¡Œçš„ä¸åŒçš„å¤„ç†æ–¹æ³•ç±»å‹</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201109150217758.png" alt="image-20201109150217758"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="comment">#read image</span></span><br><span class="line">img = cv2.imread(<span class="string">'./shot.jpg'</span>, <span class="number">0</span>)</span><br><span class="line"><span class="comment">#thredholding with different type</span></span><br><span class="line">ret,thresh1 = cv2.threshold(img,<span class="number">50</span>,<span class="number">255</span>,cv2.THRESH_BINARY)</span><br><span class="line">ret,thresh2 = cv2.threshold(img,<span class="number">50</span>,<span class="number">255</span>,cv2.THRESH_BINARY_INV)</span><br><span class="line">ret,thresh3 = cv2.threshold(img,<span class="number">50</span>,<span class="number">255</span>,cv2.THRESH_TRUNC)</span><br><span class="line">ret,thresh4 = cv2.threshold(img,<span class="number">50</span>,<span class="number">255</span>,cv2.THRESH_TOZERO)</span><br><span class="line">ret,thresh5 = cv2.threshold(img,<span class="number">50</span>,<span class="number">255</span>,cv2.THRESH_TOZERO_INV)</span><br><span class="line">titles = [<span class="string">'Original Image'</span>,<span class="string">'BINARY'</span>,<span class="string">'BINARY_INV'</span>,<span class="string">'TRUNC'</span>,<span class="string">'TOZERO'</span>,<span class="string">'TOZERO_INV'</span>]</span><br><span class="line">images = [img, thresh1, thresh2, thresh3, thresh4, thresh5]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">6</span>):</span><br><span class="line">    plt.subplot(<span class="number">2</span>,<span class="number">3</span>,i+<span class="number">1</span>),plt.imshow(images[i],<span class="string">'gray'</span>)</span><br><span class="line">    plt.title(titles[i])</span><br><span class="line">    plt.xticks([]),plt.yticks([])</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201109142140114.png" alt="image-20201109142140114"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201109154734991.png" alt="image-20201109154734991"></p><h3 id="è‡ªé€‚åº”é˜ˆå€¼åŒ–"><a href="#è‡ªé€‚åº”é˜ˆå€¼åŒ–" class="headerlink" title="è‡ªé€‚åº”é˜ˆå€¼åŒ–"></a>è‡ªé€‚åº”é˜ˆå€¼åŒ–</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201109145358273.png" alt="image-20201109145358273"></p><p>ä½¿ç”¨ç»Ÿä¸€çš„å…¨å±€é˜ˆå€¼æ³•æœ‰ç¼ºé™·åœ¨äºï¼Œæœ‰çš„å›¾åƒåœ¨ä¸åŒçš„åœ°æ–¹æœ‰ä¸åŒçš„å…‰ç…§æ¡ä»¶ï¼Œåœ¨è¿™ç§æ¡ä»¶ä¸‹ï¼Œè‡ªé€‚åº”é˜ˆå€¼åŒ–èƒ½å¤Ÿæä¾›å¸®åŠ©ã€‚</p><p>opencv-python ä¸­æä¾›äº† cv.adptiveThreshold æ–¹æ³•</p><p>cv2.adaptiveThreshold(src, maxValue, adaptiveMethod, thresholdType, blockSize, C[, dst])</p><p>å…¶ä¸­ï¼Œåˆæä¾›äº†ä¸¤ç§ä¸åŒçš„é˜ˆå€¼è®¡ç®—æ–¹æ³•ï¼š</p><ul><li>cv.ADPTIVE_THRESH_MEAN_C: é˜ˆå€¼ä¸ºé‚»åŸŸçš„å¹³å‡å€¼å‡å»ä¸€ä¸ªå¸¸æ•°C</li><li>cv.ADPTIVE_THRESH_GASSIAN_C: é˜ˆå€¼ä¸ºé‚»åŸŸé«˜æ–¯åŠ æƒå’Œå‡å»ä¸€ä¸ªå¸¸æ•°C</li></ul><p><strong>blockSizeï¼š</strong> å†³å®šé‚»åŸŸçš„å¤§å°</p><p><strong>Cï¼š</strong> å¸¸æ•°</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">img = cv2.imread(<span class="string">'shot.jpg'</span>,<span class="number">0</span>)</span><br><span class="line">img = cv2.medianBlur(img,<span class="number">5</span>)<span class="comment">#</span></span><br><span class="line"></span><br><span class="line">ret,th1 = cv2.threshold(img,<span class="number">50</span>,<span class="number">255</span>,cv2.THRESH_BINARY)</span><br><span class="line">th2 = cv2.adaptiveThreshold(img,<span class="number">50</span>,cv2.ADAPTIVE_THRESH_MEAN_C,\</span><br><span class="line">            cv2.THRESH_BINARY,<span class="number">11</span>,<span class="number">2</span>)</span><br><span class="line">th3 = cv2.adaptiveThreshold(img,<span class="number">50</span>,cv2.ADAPTIVE_THRESH_GAUSSIAN_C,\</span><br><span class="line">            cv2.THRESH_BINARY,<span class="number">11</span>,<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">titles = [<span class="string">'Original Image'</span>, <span class="string">'Global Thresholding (v = 50)'</span>,</span><br><span class="line">            <span class="string">'Adaptive Mean Thresholding'</span>, <span class="string">'Adaptive Gaussian Thresholding'</span>]</span><br><span class="line">images = [img, th1, th2, th3]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">4</span>):</span><br><span class="line">    plt.subplot(<span class="number">2</span>,<span class="number">2</span>,i+<span class="number">1</span>),plt.imshow(images[i],<span class="string">'gray'</span>)</span><br><span class="line">    plt.title(titles[i])</span><br><span class="line">    plt.xticks([]),plt.yticks([])</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201109143750177.png" alt="image-20201109143750177"></p><p><strong>ç›¸æ¯”è¾ƒå…¨å±€é˜ˆå€¼æ–¹æ³•ï¼Œå¯ä»¥æ¸…æ™°çš„çœ‹åˆ°ï¼Œè‡ªé€‚åº”é˜ˆå€¼åŒ–ä¸ä¼šä½¿å¾—å›¾åƒå‡ºç°å¤§é¢ç§¯çš„ç›®æ ‡ä¸¢å¤±â€”â€”é»‘è‰²å—æˆ–è€…ç™½è‰²å—ï¼Œå±€éƒ¨ä¿¡æ¯çš„ç»†èŠ‚æ›´åŠ å‹å¥½ï¼Œè™½ç„¶ä¸ä¼šå‡ºç°å¤§é¢ç§¯çš„ç›®æ ‡ä¸¢å¤±ï¼Œä½†æ˜¯å¯¹äºæœ€ç»ˆç›®æ ‡çš„è¿ç»“æ€§æ˜¯æ¯”è¾ƒå·®çš„ï¼Œé€šå¸¸åŒ…å«æœ‰è®¸å¤šçš„å™ªç‚¹å™ªå£°ï¼Œæ‰€ä»¥å¯¹äºè‡ªé€‚åº”çš„å±€éƒ¨ç‰¹æ€§çš„è‡ªé€‚åº”é˜ˆå€¼æ–¹æ³•ï¼Œæœ€åè¿˜ä¼šè¿›è¡Œä¸€äº›å™ªå£°å»é™¤çš„æ“ä½œï¼Œä»è€Œæ¶ˆé™¤å™ªå£°ï¼Œæ¥è¿›ä¸€æ­¥åŠ å¼ºå¯¹äºç›®æ ‡ç‰©ä½“çš„æ£€æµ‹ã€‚</strong></p><h3 id="Otsu-å¤§å¾‹é˜ˆå€¼æ³•"><a href="#Otsu-å¤§å¾‹é˜ˆå€¼æ³•" class="headerlink" title="Otsu å¤§å¾‹é˜ˆå€¼æ³•"></a>Otsu å¤§å¾‹é˜ˆå€¼æ³•</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201109164629903.png" alt="image-20201109164629903"></p><p>å°†å›¾åƒæŒ‰ç°åº¦é˜ˆå€¼åˆ†ä¸ºä¸¤ç±»ï¼Œåˆ†åˆ«æ±‚å‡ºä¸¤ç±»çš„å‡å€¼å’Œæ–¹å·®ï¼Œå†æ±‚å‡ºä¸¤ä¸ªç±»ä¹‹é—´çš„æ–¹å·®ï¼Œå½“ç±»ä¹‹é—´æ–¹å·®æ¯”ç±»å†…æ–¹å·®æœ€å¤§æ—¶ï¼Œæ‰€æ±‚å‡ºçš„é˜ˆå€¼Tï¼Œå³ä¸ºæ‰€æ±‚é˜ˆå€¼ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2 <span class="keyword">as</span> cv</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> pyplot <span class="keyword">as</span> plt</span><br><span class="line">img = cv.imread(<span class="string">'shot.jpg'</span>,<span class="number">0</span>)</span><br><span class="line"><span class="comment"># global thresholding</span></span><br><span class="line">ret1,th1 = cv.threshold(img,<span class="number">50</span>,<span class="number">255</span>,cv.THRESH_BINARY)</span><br><span class="line"><span class="comment"># Otsu's thresholding</span></span><br><span class="line">ret2,th2 = cv.threshold(img,<span class="number">0</span>,<span class="number">255</span>,cv.THRESH_BINARY+cv.THRESH_OTSU)</span><br><span class="line"><span class="comment"># plot all the images and their histograms</span></span><br><span class="line">images = [img, <span class="number">0</span>, th1,</span><br><span class="line">          img, <span class="number">0</span>, th2]</span><br><span class="line">titles = [<span class="string">'Original Noisy Image'</span>,<span class="string">'Histogram'</span>,<span class="string">'Global Thresholding (v=50)'</span>,</span><br><span class="line">          <span class="string">'Original Noisy Image'</span>,<span class="string">'Histogram'</span>,<span class="string">"Otsu's Thresholding"</span>]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>):</span><br><span class="line">    plt.subplot(<span class="number">3</span>,<span class="number">3</span>,i*<span class="number">3</span>+<span class="number">1</span>),plt.imshow(images[i*<span class="number">3</span>],<span class="string">'gray'</span>)</span><br><span class="line">    plt.title(titles[i*<span class="number">3</span>]), plt.xticks([]), plt.yticks([])</span><br><span class="line">    plt.subplot(<span class="number">3</span>,<span class="number">3</span>,i*<span class="number">3</span>+<span class="number">2</span>),plt.hist(images[i*<span class="number">3</span>].ravel(),<span class="number">256</span>)</span><br><span class="line">    plt.title(titles[i*<span class="number">3</span>+<span class="number">1</span>]), plt.xticks([]), plt.yticks([])</span><br><span class="line">    plt.subplot(<span class="number">3</span>,<span class="number">3</span>,i*<span class="number">3</span>+<span class="number">3</span>),plt.imshow(images[i*<span class="number">3</span>+<span class="number">2</span>],<span class="string">'gray'</span>)</span><br><span class="line">    plt.title(titles[i*<span class="number">3</span>+<span class="number">2</span>]), plt.xticks([]), plt.yticks([])</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201109161123329.png" alt="image-20201109161123329"></p><p><strong>æ€»ç»“</strong></p><ul><li>å…¨å±€é˜ˆå€¼æ³•å¤„ç†çš„æ–¹æ³•è¾ƒè‡ªé€‚åº”é˜ˆå€¼æ³•ï¼Œä¸¤è€…çš„åŒºåˆ«æœ€ä¸»è¦é›†ä¸­åœ¨å™ªå£°åˆ†å¸ƒå’Œå¯¹äºå‡åŒ€å…‰ç…§è¿˜æ˜¯éå‡åŒ€å…‰ç…§çš„å¤„ç†ä¸Šï¼Œå…¨å±€é˜ˆå€¼æ³•é€‚åˆäºç®€å•å•ä¸€çš„å‡åŒ€å…‰ç…§æ¡ä»¶ä¸Šè¿›è¡Œå¤„ç†ï¼Œè€Œè‡ªé€‚åº”é˜ˆå€¼æ³•é€‚åˆäºä¸åŒçš„å±€éƒ¨å…‰ç…§æ¡ä»¶ï¼Œå¯¹äºç»†èŠ‚çš„å¤„ç†ä¼šæ›´å¥½ï¼Œä½†åŒæ—¶ä¹Ÿä¼šæœ‰å™ªå£°çš„ä¿ç•™ã€‚</li><li>å¤§å¾‹æ³•æ˜¯ä¸€ç§æ›´ä¼˜çš„é˜ˆå€¼å¤„ç†æ–¹æ³•ï¼Œèƒ½å¤Ÿå¿«é€Ÿæœ‰æ•ˆåœ°æ‰¾åˆ°ç±»é—´çš„åˆ†å‰²é˜ˆå€¼ï¼Œä½†æ˜¯ç¼ºç‚¹åœ¨äºå¯¹äºç›®æ ‡çš„æ£€æµ‹æ˜¯å•ä¸€çš„ï¼Œå¦‚æœæƒ³è¦æ£€æµ‹çš„ç›®æ ‡ä¸å±äºåŒä¸€æˆ–è€…æ¥è¿‘çš„ç°åº¦åŒºåŸŸï¼Œé‚£ä¹ˆå°†ä¼šå¯¼è‡´æƒ³è¦æ£€æµ‹çš„ç›®æ ‡ç‰©ä½“çš„ä¿¡æ¯ä¸¢å¤±ï¼Œåæ˜ åœ¨å›¾ç‰‡ä¸Šå°±æ˜¯ä¼šæœ‰è¿ç»“ä¿¡æ¯çš„æ¶ˆå¤±ï¼ˆé»‘è‰²å—æˆ–è€…ç™½è‰²å—ï¼‰ï¼Œä½†æ˜¯ç›¸è¾ƒäºæ™®é€šçš„å…¨å±€é˜ˆå€¼å¤„ç†ï¼Œæ•ˆæœæ˜¯ç”±æ˜æ˜¾çš„æå‡å¯¹æ¯”çš„ã€‚</li></ul><table><thead><tr><th>å…¨å±€é˜€å€¼æ³•</th><th>è‡ªé€‚åº”é˜€å€¼æ³•</th><th>å¤§æ´¥æ³•</th></tr></thead><tbody><tr><td><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201109142140114.png" alt="image-20201109142140114"></td><td><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201109143750177.png" alt="image-20201109143750177"></td><td><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201110121940396.png" alt="image-20201110121940396"></td></tr></tbody></table><p><strong>Referenceï¼š</strong></p><p><a href="https://docs.opencv.org/master/d7/d4d/tutorial_py_thresholding.html" target="_blank" rel="noopener">https://docs.opencv.org/master/d7/d4d/tutorial_py_thresholding.html</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;æ¯”è¾ƒä¸åŒçš„é˜ˆå€¼å¤„ç†æ–¹æ³•å¯¹ç”ŸæˆäºŒå€¼å›¾åƒçš„å½±å“&quot;&gt;&lt;a href=&quot;#æ¯”è¾ƒä¸åŒçš„é˜ˆå€¼å¤„ç†æ–¹æ³•å¯¹ç”ŸæˆäºŒå€¼å›¾åƒçš„å½±å“&quot; class=&quot;headerlink&quot; title=&quot;æ¯”è¾ƒä¸åŒçš„é˜ˆå€¼å¤„ç†æ–¹æ³•å¯¹ç”ŸæˆäºŒå€¼å›¾åƒçš„å½±å“&quot;&gt;&lt;/a&gt;æ¯”è¾ƒä¸åŒçš„é˜ˆå€¼å¤„ç†æ–¹æ³•å¯¹ç”ŸæˆäºŒå€¼å›¾åƒçš„å½±å“&lt;/
      
    
    </summary>
    
    
    
      <category term="BuaaAssignments" scheme="https://github.com/liysky/liysky.github.io.git/tags/BuaaAssignments/"/>
    
  </entry>
  
  <entry>
    <title>é¢‘ç‡åŸŸé«˜é€šä½é€šæ»¤æ³¢&amp;åŒæ€æ»¤æ³¢</title>
    <link href="https://github.com/liysky/liysky.github.io.git/2020/10/23/%E9%A2%91%E7%8E%87%E5%9F%9F%E9%AB%98%E9%80%9A%E4%BD%8E%E9%80%9A%E6%BB%A4%E6%B3%A2-%E5%90%8C%E6%80%81%E6%BB%A4%E6%B3%A2/"/>
    <id>https://github.com/liysky/liysky.github.io.git/2020/10/23/%E9%A2%91%E7%8E%87%E5%9F%9F%E9%AB%98%E9%80%9A%E4%BD%8E%E9%80%9A%E6%BB%A4%E6%B3%A2-%E5%90%8C%E6%80%81%E6%BB%A4%E6%B3%A2/</id>
    <published>2020-10-22T18:27:31.000Z</published>
    <updated>2020-10-31T08:07:32.969Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æ•°å­—å›¾åƒå¤„ç†ä½œä¸š02"><a href="#æ•°å­—å›¾åƒå¤„ç†ä½œä¸š02" class="headerlink" title="æ•°å­—å›¾åƒå¤„ç†ä½œä¸š02"></a>æ•°å­—å›¾åƒå¤„ç†ä½œä¸š02</h2><h2 id="èƒŒæ™¯çŸ¥è¯†"><a href="#èƒŒæ™¯çŸ¥è¯†" class="headerlink" title="èƒŒæ™¯çŸ¥è¯†"></a>èƒŒæ™¯çŸ¥è¯†</h2><h2 id="ç©ºé—´åŸŸä¸é¢‘ç‡åŸŸ"><a href="#ç©ºé—´åŸŸä¸é¢‘ç‡åŸŸ" class="headerlink" title="ç©ºé—´åŸŸä¸é¢‘ç‡åŸŸ"></a>ç©ºé—´åŸŸä¸é¢‘ç‡åŸŸ</h2><p><strong>ç©ºé—´åŸŸä¸é¢‘ç‡åŸŸæä¾›äº†è§‚å¯Ÿå›¾åƒçš„ä¸åŒè§†è§’</strong></p><ul><li><p>ç©ºé—´åŸŸä¸­ï¼Œæ•°å­—å›¾åƒf(x,y)å³ä¸ºä¸€ä¸ªå®šä¹‰åœ¨äºŒç»´ç©ºé—´ä¸­çš„çŸ©å½¢åŒºåŸŸä¸Šçš„ç¦»æ•£å‡½æ•°</p></li><li><p>å¦‚æœå°†f(x,y)è§†ä¸ºå¹…å€¼å˜åŒ–ï¼ˆå³ç©ºé—´åŸŸç°åº¦å€¼åœ¨å¹³é¢ç©ºé—´çš„æ¢¯åº¦â€”â€”ç›´è§‚è¡¨ç°ä¸ºè¡¡é‡è¡¨å¾å›¾åƒä¸­ç°åº¦å˜åŒ–å‰§çƒˆç¨‹åº¦çš„æŒ‡æ ‡ï¼‰çš„äºŒç»´ä¿¡å·â€”â€”å¹…å€¼å˜åŒ–å³ä¸ºç°åº¦å€¼çš„æ¢¯åº¦ã€‚åˆ™å¯ä»¥é€šè¿‡æŸäº›å˜æ¢æ‰‹æ®µï¼ˆå¦‚å‚…ç«‹å¶å˜æ¢ã€ç¦»æ•£ä½™å¼¦å˜åŒ–ã€å°æ³¢å˜æ¢ç­‰ï¼‰åœ¨é¢‘åŸŸä¸‹å¯¹å›¾åƒè¿›è¡Œå¤„ç†ã€‚</p></li><li><p>æ¯”å¦‚åœ¨ç©ºé—´å›¾åƒé‡Œä¸å¥½æ‰¾å‡ºå™ªå£°çš„æ¨¡å¼ï¼Œå¦‚æœå˜æ¢åˆ°é¢‘ç‡åŸŸï¼Œåˆ™æ¯”è¾ƒå¥½æ‰¾å‡ºå™ªå£°çš„æ¨¡å¼ï¼ˆé«˜é¢‘åˆ†é‡ï¼‰ï¼Œå¹¶èƒ½æ›´å®¹æ˜“å¤„ç†ã€‚</p></li></ul><p><strong>ç©ºé—´åŸŸï¼š</strong></p><p>æœ‰<strong>å›¾åƒåƒç´ ç»„æˆçš„ç©ºé—´</strong>ï¼Œå…¶<strong>ç‰©ç†æè¿°çš„æ˜¯å›¾åƒçš„ç°åº¦ åˆ†å¸ƒå‡½æ•°</strong>ã€‚</p><p><strong>é¢‘ç‡åŸŸï¼š</strong></p><p>ä»¥é¢‘ç‡ï¼ˆå³æ³¢æ•°ï¼‰ä¸ºè‡ªå˜é‡çš„æè¿°å›¾åƒçš„ç‰¹å¾ï¼Œå¯ä»¥å°†ä¸€å¹…å›¾åƒå€¼å…ƒå€¼åœ¨ç©ºé—´ä¸Šçš„å˜åŒ–åˆ†è§£ä¸ºå…·æœ‰ä¸åŒæŒ¯å¹…ã€ç©ºé—´é¢‘ç‡å’Œç›¸ä½çš„ç®€æŒ¯å‡½æ•°çš„çº¿æ€§å åŠ ï¼Œå›¾åƒä¸­å„ç§é¢‘ç‡æˆåˆ†çš„ç»„æˆå’Œåˆ†å¸ƒç§°ä¸ºç©ºé—´é¢‘è°±ï¼Œ<strong>å…¶ç‰©ç†æ„ä¹‰æ˜¯å›¾åƒçš„é¢‘ç‡åˆ†å¸ƒå‡½æ•°</strong>ã€‚è¿™ç§å¯¹å›¾åƒçš„é¢‘ç‡ç‰¹å¾è¿›è¡Œåˆ†è§£ã€å¤„ç†å’Œåˆ†æç§°ä¸ºé¢‘ç‡åŸŸå¤„ç†ã€‚</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201021140831977.png" alt="image-20201021140831977"></p><h2 id="é¢‘ç‡åŸŸæ»¤æ³¢çš„ç›®çš„"><a href="#é¢‘ç‡åŸŸæ»¤æ³¢çš„ç›®çš„" class="headerlink" title="é¢‘ç‡åŸŸæ»¤æ³¢çš„ç›®çš„"></a>é¢‘ç‡åŸŸæ»¤æ³¢çš„ç›®çš„</h2><ul><li>å¼•èµ·å›¾åƒè´¨é‡ä¸‹é™çš„å™ªå£°å é¢‘è°±çš„é«˜é¢‘æ®µ</li><li>å›¾åƒè¾¹ç¼˜å é«˜é¢‘æ®µ</li><li>å›¾åƒä¸»é¢˜æˆ–ç°åº¦ç¼“å˜åŒºåŸŸå ä½é¢‘æ®µ</li></ul><h2 id="åœ¨é¢‘ç‡åŸŸç ”ç©¶å›¾åƒçš„åŸå› "><a href="#åœ¨é¢‘ç‡åŸŸç ”ç©¶å›¾åƒçš„åŸå› " class="headerlink" title="åœ¨é¢‘ç‡åŸŸç ”ç©¶å›¾åƒçš„åŸå› "></a>åœ¨é¢‘ç‡åŸŸç ”ç©¶å›¾åƒçš„åŸå› </h2><ul><li>ç©ºé—´åŸŸå¤æ‚çš„é—®é¢˜è½¬å˜ä¸ºé¢‘è°±ä¸Šç®€å•æ˜“äºæ±‚è§£çš„é—®é¢˜</li><li>æ»¤æ³¢åœ¨é¢‘ç‡åŸŸæ›´ä¸ºç›´è§‚ï¼Œå¯ä»¥è§£é‡Šç©ºé—´åŸŸæ»¤æ³¢çš„æŸäº›æ€§è´¨</li><li>å¯ä»¥åœ¨é¢‘ç‡åŸŸåˆ¶å®šæ»¤æ³¢å™¨ï¼Œåšé¥­å˜æ¢ï¼Œç„¶ååœ¨ç©ºé—´åŸŸä½¿ç”¨ç»“æœæ»¤æ³¢å™¨ä½œä¸ºç©ºé—´åŸŸæ»¤æ³¢å™¨çš„æŒ‡å¯¼</li></ul><h2 id="è§£å†³è¿‡ç¨‹"><a href="#è§£å†³è¿‡ç¨‹" class="headerlink" title="è§£å†³è¿‡ç¨‹"></a>è§£å†³è¿‡ç¨‹</h2><ul><li>åˆ©ç”¨å‚…ç«‹å¶å˜æ¢å°†åŸé—®é¢˜è½¬å˜ä¸ºé¢‘åŸŸä¸Šè§£å†³</li><li>åº”ç”¨åå˜æ¢ï¼Œå°†é¢‘åŸŸä¸Šçš„è§£è½¬åŒ–ä¸ºåŸé—®é¢˜çš„è§£</li></ul><h2 id="é¢‘ç‡åŸŸçš„ç‰¹å¾"><a href="#é¢‘ç‡åŸŸçš„ç‰¹å¾" class="headerlink" title="é¢‘ç‡åŸŸçš„ç‰¹å¾"></a>é¢‘ç‡åŸŸçš„ç‰¹å¾</h2><ul><li>é¢‘è°±çš„ç›´æµä½é¢‘åˆ†é‡å¯¹åº”å›¾åƒçš„å¹³æ»‘åŒºåŸŸ</li><li>é¢‘è°±çš„é«˜é¢‘åˆ†é‡å¯¹åº”å›¾åƒçš„è¾¹æ²¿æˆ–å˜åŒ–å‰§çƒˆåŒºåŸŸ</li><li>å¤–ç•Œå åŠ å™ªå£°å¯¹åº”äºé¢‘ç‡è¾ƒé«˜çš„éƒ¨åˆ†</li><li>æ’å®šçš„å¹²æ‰°æ¡çº¹å¯¹åº”é¢‘è°±ä¸­çš„æŸäº›ç‰¹å¾ç‚¹</li></ul><h2 id="ä½é€šæ»¤æ³¢"><a href="#ä½é€šæ»¤æ³¢" class="headerlink" title="ä½é€šæ»¤æ³¢"></a>ä½é€šæ»¤æ³¢</h2><ul><li>æ„é€ ä¸€ä¸ªä½é€šæ»¤æ³¢å™¨ï¼Œä½¿å¾—ä½é¢‘åˆ†é‡é¡ºåˆ©é€šè¿‡ï¼Œæœ‰æ•ˆé˜»æ­¢é«˜é¢‘åˆ†é‡</li><li>ä½é€šæ»¤æ³¢æ—¶ä¸€ä¸ªç‰ºç‰²å›¾åƒæ¸…æ™°åº¦ä¸ºä»£ä»·æ¥å‡å°‘å¹²æ‰°æ•ˆæœçš„ä¿®é¥°è¿‡ç¨‹</li><li>é«˜é€šæ»¤æ³¢ä¸ä½é€šæ»¤æ³¢ä½œç”¨ç›¸åï¼Œå®ƒä½¿é«˜é¢‘åˆ†é‡é¡ºåˆ©é€šè¿‡ï¼Œè€Œå‰Šå¼±ä½é€šåˆ†é‡</li></ul><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201021145937937.png" alt="image-20201021145937937"></p><ul><li>ä½é€šæ»¤æ³¢å™¨ç±»å‹<ul><li>ç†æƒ³ä½é€šæ»¤æ³¢å™¨ï¼šå°–é”</li><li>å·´ç‰¹æ²ƒæ€ä½é€šæ»¤æ³¢å™¨ï¼šå¤„äºç†æƒ³å’Œé«˜æ–¯æ»¤æ³¢å™¨ä¹‹é—´</li><li>é«˜æ–¯æ»¤æ³¢å™¨ï¼šå¹³æ»‘</li></ul></li></ul><h3 id="ä½é€šæ»¤æ³¢å™¨åº”ç”¨å®ä¾‹ï¼šæ¨¡ç³Šï¼Œå¹³æ»‘ç­‰"><a href="#ä½é€šæ»¤æ³¢å™¨åº”ç”¨å®ä¾‹ï¼šæ¨¡ç³Šï¼Œå¹³æ»‘ç­‰" class="headerlink" title="ä½é€šæ»¤æ³¢å™¨åº”ç”¨å®ä¾‹ï¼šæ¨¡ç³Šï¼Œå¹³æ»‘ç­‰"></a>ä½é€šæ»¤æ³¢å™¨åº”ç”¨å®ä¾‹ï¼šæ¨¡ç³Šï¼Œå¹³æ»‘ç­‰</h3><ul><li><p>å­—ç¬¦è¯†åˆ«ï¼šé€šè¿‡æ¨¡æ‹Ÿå›¾åƒï¼Œæ¡¥æ¥æ–­è£‚å­—ç¬¦çš„è£‚ç¼</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201021151648193.png" alt="image-20201021151648193"></p></li><li><p>å°åˆ·å’Œå‡ºç‰ˆä¸šï¼šä»ä¸€å¹…å°–é”çš„åŸå§‹å›¾åƒäº§ç”Ÿå¹³æ»‘ã€æŸ”å’Œçš„å¤–è§‚ï¼Œå¦‚å‡å°‘äººè„¸çš®è‚¤çš±çº¹å’Œå°æ–‘ç‚¹</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201021151701682.png" alt="image-20201021151701682"></p></li><li><p>å¤„ç†å«æ˜Ÿå’Œèˆªç©ºå›¾åƒï¼šå°½å¯èƒ½æ¨¡ç³Šç»†èŠ‚ï¼Œä¿ç•™å¤§çš„å¯è¯†åˆ«ç‰¹å¾</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201021151718012.png" alt="image-20201021151718012"></p></li></ul><h3 id="é¢‘ç‡åŸŸé”åŒ–æ»¤æ³¢å™¨"><a href="#é¢‘ç‡åŸŸé”åŒ–æ»¤æ³¢å™¨" class="headerlink" title="é¢‘ç‡åŸŸé”åŒ–æ»¤æ³¢å™¨"></a>é¢‘ç‡åŸŸé”åŒ–æ»¤æ³¢å™¨</h3><p>å›¾åƒçš„é”åŒ–å¯ä»¥é€šè¿‡é«˜é€šæ»¤æ³¢å™¨è¿‡ç¨‹å®ç°ï¼Œå‡å¼±å‚…ç«‹å¶å˜æ¢çš„ä½é¢‘æˆåˆ†ï¼Œè€Œä¸æ”¹å˜é«˜é¢‘ä¿¡æ¯</p><p>æ˜¯ä½é€šæ»¤æ³¢çš„ç›¸åè¿‡ç¨‹ï¼š</p><p>$H_{hp}(u,v) = 1-H_{lp}(u,v)$</p><h2 id="é«˜é€šæ»¤æ³¢å™¨ç±»å‹"><a href="#é«˜é€šæ»¤æ³¢å™¨ç±»å‹" class="headerlink" title="é«˜é€šæ»¤æ³¢å™¨ç±»å‹"></a>é«˜é€šæ»¤æ³¢å™¨ç±»å‹</h2><ul><li>ç†æƒ³é«˜é€šæ»¤æ³¢å™¨ï¼šå°–é”</li><li>å·´ç‰¹æ²ƒæ€é«˜é€šæ»¤æ³¢å™¨ï¼šå¤„äºç†æƒ³å’Œé«˜æ–¯æ»¤æ³¢å™¨ä¹‹é—´</li><li>é«˜æ–¯é«˜é€šæ»¤æ³¢å™¨ï¼šå¹³æ»‘</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="comment">###################################################################</span></span><br><span class="line"><span class="comment">###############            è¿›è¡Œé¢‘ç‡åŸŸå¤„ç†             #############</span></span><br><span class="line"><span class="comment">###################################################################</span></span><br><span class="line"></span><br><span class="line">img = cv2.imread(<span class="string">"fog.jpg"</span>,<span class="number">0</span>)<span class="comment">#è¯»å›¾</span></span><br><span class="line">dft = cv2.dft(np.float64(img),flags = cv2.DFT_COMPLEX_OUTPUT)<span class="comment">#è®¾ç½®è¾“å…¥æ ¼å¼ä¸ºfloat32</span></span><br><span class="line">dft_shift = np.fft.fftshift(dft)<span class="comment">#ä½é¢‘åˆ†é‡ä¸­å¿ƒåŒ–å¤„ç†ï¼Œæ–¹ä¾¿è§‚å¯Ÿ</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#è®¾ç½®æŒ¯å¹…å¤§å°</span></span><br><span class="line">magnitude_spectrum = <span class="number">20</span> * np.log(cv2.magnitude(dft_shift[:, :, <span class="number">0</span>], dft_shift[:, :, <span class="number">1</span>]))</span><br><span class="line"></span><br><span class="line"><span class="comment">#æ‰“å°è¾“å…¥å›¾åƒ</span></span><br><span class="line">plt.subplot(<span class="number">221</span>), plt.imshow(img, cmap=<span class="string">'gray'</span>)</span><br><span class="line">plt.title(<span class="string">'input'</span>), plt.xticks([]), plt.yticks([])</span><br><span class="line"></span><br><span class="line"><span class="comment">#è·å–é¢‘è°±å›¾</span></span><br><span class="line">plt.subplot(<span class="number">222</span>), plt.imshow(magnitude_spectrum, cmap=<span class="string">'gray'</span>)</span><br><span class="line">plt.title(<span class="string">'Frequency Domain'</span>), plt.xticks([]), plt.yticks([])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#è®¾ç½®ä½é€šæ»¤æ³¢å™¨</span></span><br><span class="line">rows, cols = img.shape</span><br><span class="line">crow,ccol = int(rows/<span class="number">2</span>), int(cols/<span class="number">2</span>) <span class="comment">#ä¸­å¿ƒä½ç½®</span></span><br><span class="line">mask = np.zeros((rows, cols, <span class="number">2</span>), np.uint8)</span><br><span class="line">mask[crow<span class="number">-30</span>:crow+<span class="number">30</span>, ccol<span class="number">-30</span>:ccol+<span class="number">30</span>] = <span class="number">1</span><span class="comment">#è®¾ç½®çŸ©å½¢çª—å£é®ç½©ï¼Œè®¾ä¸º1ï¼Œè¿‡æ»¤é«˜é¢‘</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#æ©è†œå›¾åƒå’Œé¢‘è°±å›¾åƒä¹˜ç§¯</span></span><br><span class="line">f = dft_shift * mask</span><br><span class="line"></span><br><span class="line"><span class="comment">#å‚…é‡Œå¶é€†å˜æ¢</span></span><br><span class="line">ishift = np.fft.ifftshift(f)</span><br><span class="line">iimg = cv2.idft(ishift)</span><br><span class="line">res = cv2.magnitude(iimg[:,:,<span class="number">0</span>], iimg[:,:,<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">#æ˜¾ç¤ºä½é€šæ»¤æ³¢å¤„ç†å›¾åƒ</span></span><br><span class="line">plt.subplot(<span class="number">223</span>), plt.imshow(res, <span class="string">'gray'</span>), plt.title(<span class="string">'low'</span>)</span><br><span class="line">plt.axis(<span class="string">'off'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">f = np.fft.fft2(img)</span><br><span class="line">fshift = np.fft.fftshift(f)</span><br><span class="line"></span><br><span class="line"><span class="comment">#è®¾ç½®é«˜é€šæ»¤æ³¢å™¨</span></span><br><span class="line">rows, cols = img.shape</span><br><span class="line">crow,ccol = int(rows/<span class="number">2</span>), int(cols/<span class="number">2</span>)</span><br><span class="line">fshift[crow<span class="number">-30</span>:crow+<span class="number">30</span>, ccol<span class="number">-30</span>:ccol+<span class="number">30</span>] = <span class="number">0</span> <span class="comment">#è®¾ç½®çŸ©å½¢çª—å£é®ç½©ï¼Œè®¾ä¸º0ï¼Œè¿‡æ»¤ä½é¢‘</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#å‚…é‡Œå¶é€†å˜æ¢</span></span><br><span class="line">ishift = np.fft.ifftshift(fshift)</span><br><span class="line">himg = np.fft.ifft2(ishift)</span><br><span class="line">himg = np.abs(himg)</span><br><span class="line"></span><br><span class="line"><span class="comment">#æ˜¾ç¤ºåŸå§‹å›¾åƒå’Œé«˜é€šæ»¤æ³¢å¤„ç†å›¾åƒ</span></span><br><span class="line">plt.subplot(<span class="number">224</span>), plt.imshow(himg, <span class="string">'gray'</span>), plt.title(<span class="string">'high'</span>)</span><br><span class="line">plt.axis(<span class="string">'off'</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201023022624600.png" alt="image-20201023022624600"></p><h2 id="åŒæ€æ»¤æ³¢"><a href="#åŒæ€æ»¤æ³¢" class="headerlink" title="åŒæ€æ»¤æ³¢"></a>åŒæ€æ»¤æ³¢</h2><blockquote><p>  åŒæ€æ»¤æ³¢æ˜¯ä¸€ç§å¹¿æ³›äºä¿¡å·å’Œå›¾åƒå¤„ç†çš„æŠ€æœ¯ï¼Œå°†åŸæœ¬çš„ä¿¡å·ç»ç”±éçº¿æ€§æ˜ å°„ï¼Œè½¬æ¢åˆ°å¯ä»¥ä½¿ç”¨çº¿æ€§æ»¤æ³¢å™¨çš„ä¸åŒåŸŸï¼Œåšå®Œè¿ç®—åå†æ˜ å°„å›åŸå§‹åŸŸã€‚åŒæ€çš„æ€§è´¨å°±æ˜¯ä¿æŒç›¸å…³çš„å±æ€§ä¸å˜ï¼Œè€ŒåŒæ€æ»¤æ³¢çš„å¥½å¤„æ˜¯å°†åŸæœ¬å¤æ‚çš„è¿ç®—è½¬ä¸ºæ•ˆèƒ½ç›¸åŒä½†ç›¸å¯¹ç®€å•çš„è¿ç®—ã€‚è¿™ä¸ªæ¦‚å¿µåœ¨1960å¹´ä»£ç”±Thomas Stockhamï¼ŒAlan V. Oppenheimå’ŒRonald W. Schaferåœ¨éº»çœç†å·¥å­¦é™¢æå‡ºã€‚â€”â€”wiki</p></blockquote><p><strong>åŸºæœ¬æ€æƒ³</strong></p><p>æŠŠå›¾åƒçš„ç°åº¦å‡½æ•° f(x,y) çœ‹ä½œä¸ºå…¥å°„å…‰åˆ†é‡å’Œåå°„å…‰åˆ†é‡ä¸¤éƒ¨åˆ†ç»„æˆ</p><p>$f(x,y) = i(x,y) r(x,y)$</p><p>i(x,y)ï¼šå…¥å°„å…‰ï¼Œå æ®ä½é¢‘æ®µ</p><p>r(x,y)ï¼šåå°„å…‰â€”â€”å–å†³äºç‰©ä½“çš„ç‰¹æ€§ï¼Œç‰©ä½“çš„äº®åº¦ç‰¹å¾ä¸»è¦å–å†³äºåå°„å…‰ï¼Œå æ®é«˜é¢‘æ®µ</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201021161436906.png" alt="image-20201021161436906"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201021155933953.png" alt="image-20201021155933953"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201021161549234.png" alt="image-20201021161549234"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201021161615446.png" alt="image-20201021161615446"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201021161632876.png" alt="image-20201021161632876"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">homomorphic_filter</span><span class="params">(src,d0 = <span class="number">1</span>,r1 = <span class="number">0.5</span>,rh=<span class="number">2</span>,c=<span class="number">4</span>,h=<span class="number">2.0</span>,l=<span class="number">0.5</span>)</span>:</span></span><br><span class="line">    gray = src.copy()      <span class="comment">#duplicate img</span></span><br><span class="line">    <span class="keyword">if</span> len(src.shape) &gt; <span class="number">2</span>:</span><br><span class="line">        gray = cv2.cvtColor(src,cv2.COLOR_BGR2GRAY) <span class="comment">#set image gray</span></span><br><span class="line">    gray = np.float64(gray)</span><br><span class="line">    print(gray)</span><br><span class="line">    rows,cols = gray.shape <span class="comment">#get rows and columns of inputed pic</span></span><br><span class="line"></span><br><span class="line">    gray_fft = np.fft.fft2(gray)    <span class="comment"># two dimension fft</span></span><br><span class="line">    print(gray_fft)</span><br><span class="line">    gray_fftshift = np.fft.fftshift(gray_fft)</span><br><span class="line">    print(gray_fftshift)</span><br><span class="line">    <span class="string">'''</span></span><br><span class="line"><span class="string">    éœ€è¦fftshiftçš„åŸå› ï¼š</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    1ã€ç»è¿‡fftå˜æ¢åï¼Œæ•°æ®çš„é¢‘ç‡èŒƒå›´æ˜¯ä»[0,fs]æ’åˆ—çš„ã€‚</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    2ã€è€Œä¸€èˆ¬ï¼Œæˆ‘ä»¬åœ¨ç”»å›¾æˆ–è€…è®¨è®ºçš„æ—¶å€™ï¼Œæ˜¯ä»[-fs/2,fs/2]çš„èŒƒå›´è¿›è¡Œåˆ†æã€‚</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    3ã€å› æ­¤ï¼Œéœ€è¦å°†ç»è¿‡fftå˜æ¢åçš„å›¾åƒçš„[fs/2,fs]éƒ¨åˆ†ç§»åŠ¨åˆ°[-fs/2,0]è¿™ä¸ªèŒƒå›´å†…ã€‚</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    è€Œfftshiftå°±æ˜¯å®Œæˆè¿™ä¸ªåŠŸèƒ½ã€‚</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    é€šå¸¸ï¼Œå¦‚æœæƒ³å¾—åˆ°æ‰€è§çš„ä¸­é—´æ˜¯0é¢‘çš„å›¾åƒï¼Œç»è¿‡fftå˜æ¢åï¼Œéƒ½è¦å†ç»è¿‡fftshiftã€‚</span></span><br><span class="line"><span class="string">    '''</span></span><br><span class="line"></span><br><span class="line">    dst_fftshift = np.zeros_like(gray_fftshift) <span class="comment">#äº§ç”Ÿ0ç±»ä¼¼çš„é›¶çŸ©é˜µ</span></span><br><span class="line">    <span class="comment"># np.meshgrid: çŸ©é˜µåŒ–   np.arange: start,stop,step 'arange can solve remainder'</span></span><br><span class="line">    M,N = np.meshgrid(np.arange(-cols // <span class="number">2</span>,cols // <span class="number">2</span>),np.arange(-rows//<span class="number">2</span>,rows//<span class="number">2</span>))</span><br><span class="line">    D = np.sqrt(M ** <span class="number">2</span> + N ** <span class="number">2</span>) <span class="comment">#square result</span></span><br><span class="line">    Z = (rh - r1) * (<span class="number">1</span> - np.exp(-c * (D ** <span class="number">2</span> / d0 ** <span class="number">2</span>))) + r1</span><br><span class="line"></span><br><span class="line">    <span class="comment">#ä½¿ç”¨é¢‘ç‡å¢å¼ºå‡½æ•°è¿›è¡Œå¯¹åŸé¢‘åŸŸçš„åˆ†é‡è¿›è¡Œå¤„ç†</span></span><br><span class="line">    dst_fftshift = Z * gray_fftshift                <span class="comment">#å¯¹é›¶çŸ©é˜µè¿›è¡ŒZå¤„ç†ï¼ŒZ*åŸé¢‘åŸŸå¤„ç†åçš„åˆ†é‡</span></span><br><span class="line">    dst_fftshift = (h - l) * dst_fftshift + l</span><br><span class="line"></span><br><span class="line">    dst_ifftshift = np.fft.ifftshift(dst_fftshift)</span><br><span class="line">    dst_ifft = np.fft.ifft2(dst_ifftshift)</span><br><span class="line"></span><br><span class="line">    <span class="comment">#å–å®æ•°éƒ¨åˆ†</span></span><br><span class="line">    dst = np.real(dst_ifft)</span><br><span class="line"></span><br><span class="line">    <span class="comment">#np.clip to clip bigger than 255</span></span><br><span class="line">    dst = np.uint8(np.clip(dst,<span class="number">0</span>,<span class="number">255</span>))</span><br><span class="line">    <span class="keyword">return</span> dst</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># main</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    <span class="comment">#resize img</span></span><br><span class="line">    img = cv2.imread(<span class="string">"preSny.jpg"</span>, cv2.IMREAD_GRAYSCALE)</span><br><span class="line">    img = cv2.resize(img, (<span class="number">600</span>,<span class="number">400</span>))</span><br><span class="line"></span><br><span class="line">    img_new = homomorphic_filter(img)</span><br><span class="line">    result = np.hstack((img, img_new))</span><br><span class="line"></span><br><span class="line">    cv2.imshow(<span class="string">"Contrast"</span>, result)</span><br><span class="line"></span><br><span class="line">    cv2.waitKey()</span><br><span class="line">    cv2.destroyAllWindows()</span><br></pre></td></tr></table></figure><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201023012547066.png" alt="image-20201023012547066"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;æ•°å­—å›¾åƒå¤„ç†ä½œä¸š02&quot;&gt;&lt;a href=&quot;#æ•°å­—å›¾åƒå¤„ç†ä½œä¸š02&quot; class=&quot;headerlink&quot; title=&quot;æ•°å­—å›¾åƒå¤„ç†ä½œä¸š02&quot;&gt;&lt;/a&gt;æ•°å­—å›¾åƒå¤„ç†ä½œä¸š02&lt;/h2&gt;&lt;h2 id=&quot;èƒŒæ™¯çŸ¥è¯†&quot;&gt;&lt;a href=&quot;#èƒŒæ™¯çŸ¥è¯†&quot; class=&quot;head
      
    
    </summary>
    
    
    
      <category term="BuaaAssignments" scheme="https://github.com/liysky/liysky.github.io.git/tags/BuaaAssignments/"/>
    
  </entry>
  
  <entry>
    <title>æ•°å­—å›¾åƒå¤„ç†work-ç©ºé—´åŸŸ/å›¾åƒåŸŸ-ç›´æ–¹å›¾å‡è¡¡åŒ–/å¹³æ»‘ç©ºé—´æ»¤æ³¢/é”åŒ–æ»¤æ³¢å™¨</title>
    <link href="https://github.com/liysky/liysky.github.io.git/2020/10/19/%E6%95%B0%E5%AD%97%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86work-%E7%A9%BA%E9%97%B4%E5%9F%9F-%E5%9B%BE%E5%83%8F%E5%9F%9F-%E7%9B%B4%E6%96%B9%E5%9B%BE%E5%9D%87%E8%A1%A1%E5%8C%96-%E5%B9%B3%E6%BB%91%E7%A9%BA%E9%97%B4%E6%BB%A4%E6%B3%A2-%E9%94%90%E5%8C%96%E6%BB%A4%E6%B3%A2%E5%99%A8/"/>
    <id>https://github.com/liysky/liysky.github.io.git/2020/10/19/%E6%95%B0%E5%AD%97%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86work-%E7%A9%BA%E9%97%B4%E5%9F%9F-%E5%9B%BE%E5%83%8F%E5%9F%9F-%E7%9B%B4%E6%96%B9%E5%9B%BE%E5%9D%87%E8%A1%A1%E5%8C%96-%E5%B9%B3%E6%BB%91%E7%A9%BA%E9%97%B4%E6%BB%A4%E6%B3%A2-%E9%94%90%E5%8C%96%E6%BB%A4%E6%B3%A2%E5%99%A8/</id>
    <published>2020-10-19T09:17:58.000Z</published>
    <updated>2020-10-19T09:20:28.671Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æ•°å­—å›¾åƒå¤„ç†ä½œä¸š01"><a href="#æ•°å­—å›¾åƒå¤„ç†ä½œä¸š01" class="headerlink" title="æ•°å­—å›¾åƒå¤„ç†ä½œä¸š01"></a>æ•°å­—å›¾åƒå¤„ç†ä½œä¸š01</h2><h3 id="ç›´æ–¹å›¾å‡è¡¡åŒ–"><a href="#ç›´æ–¹å›¾å‡è¡¡åŒ–" class="headerlink" title="ç›´æ–¹å›¾å‡è¡¡åŒ–"></a>ç›´æ–¹å›¾å‡è¡¡åŒ–</h3><p>ç›´æ–¹å›¾å‡è¡¡åŒ–æ˜¯å°†åŸå›¾åƒé€šè¿‡æŸç§å˜åŒ–ï¼Œå¾—åˆ°ä¸€å¹…ç°åº¦ç›´æ–¹å›¾ä¸ºå‡åŒ€åˆ†å¸ƒçš„æ–°å›¾åƒçš„æ–¹æ³•ã€‚</p><p>è¿™ç§æ–¹æ³•é€šå¸¸ç”¨æ¥å¢åŠ è®¸å¤šå›¾åƒçš„å…¨å±€å¯¹æ¯”åº¦ã€‚å¢å¼ºå±€éƒ¨äº®åº¦çš„å¯¹æ¯”å¯¹è€Œä¸å½±å“æ•´ä½“çš„å¯¹æ¯”åº¦ã€‚</p><p><strong>å®ç°</strong></p><p>ç¦»æ•£çš„ç°åº¦å›¾åƒ{x}ï¼Œå…¶ä¸­$$n_i$$ è¡¨ç¤ºç°åº¦iå‡ºç°çš„æ¬¡æ•°ï¼Œæœ‰ï¼š</p><p>$$p_x(i) = p(x = i ) = \frac{n_i}{n}$$</p><p>å…³äºç°åº¦içš„æ¦‚ç‡å¯†åº¦å‡½æ•°</p><p>ç›¸åº”å¯¹ $p_x$ çš„ç´¯ç§¯åˆ†å¸ƒå‡½æ•°ï¼Œæœ‰ï¼š</p><p>$f_x(i) = \sum_{j=0}^{i}P_x(j)$</p><p>å†åˆ›å»ºä¸€ä¸ªå½¢å¼ä¸º $y=T(x)$ çš„å˜æ¢ï¼Œå¯¹äºåŸå§‹å›¾åƒä¸­æ¯ä¸ªå€¼äº§ç”Ÿä¸€ä¸ªy</p><p>æœ€åå°†è¿›è¡Œå€¼çš„æ˜ å°„å’Œå˜æ¢ï¼š</p><p>$yâ€™ = y(max{x}-min{x}) + min{x}$</p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201015133327561.png" alt="image-20201015133327561" style="zoom:33%;" /><p>åº”ç”¨ï¼š</p><ul><li>å¯¹äºèƒŒæ™¯å’Œå‰æ™¯å¤ªäº®æˆ–è€…å¤ªæš—çš„å›¾åƒéå¸¸æœ‰ç”¨ã€‚</li><li>ä¾‹å¦‚å¯¹Xå…‰å›¾åƒä¸­æ›´å¥½åœ°æ˜¾ç¤ºéª¨éª¼ç»“æ„çš„æ›å…‰æˆ–æ›å…‰ä¸è¶³å¤„ç†</li></ul><p><em>ä»£ç </em></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="comment">#read image</span></span><br><span class="line">img = cv2.imread(<span class="string">"preSny.jpg"</span>, <span class="number">1</span>)</span><br><span class="line">gray = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)</span><br><span class="line">cv2.imshow(<span class="string">"src"</span>, gray)</span><br><span class="line"></span><br><span class="line"><span class="comment">#call opencv-python histogram function: equalizeHist()</span></span><br><span class="line">dst = cv2.equalizeHist(gray)</span><br><span class="line"><span class="comment">#show image</span></span><br><span class="line">cv2.imshow(<span class="string">"dst"</span>, dst)</span><br><span class="line"></span><br><span class="line">cv2.waitKey(<span class="number">0</span>)</span><br><span class="line">cv2.destoryAllWindows()</span><br></pre></td></tr></table></figure><h3 id="å¹³æ»‘ç©ºé—´æ»¤æ³¢å™¨"><a href="#å¹³æ»‘ç©ºé—´æ»¤æ³¢å™¨" class="headerlink" title="å¹³æ»‘ç©ºé—´æ»¤æ³¢å™¨"></a>å¹³æ»‘ç©ºé—´æ»¤æ³¢å™¨</h3><p>ä½œç”¨ï¼šä¸»è¦ç”¨äºå»é™¤å›¾åƒä¸­ä¸€äº›ä¸é‡è¦çš„ç»†èŠ‚ã€‚</p><p>åˆ†ç±»ï¼š</p><ul><li>çº¿æ€§æ»¤æ³¢å™¨ï¼šå‡å€¼æ»¤æ³¢å™¨</li><li>éçº¿æ€§æ»¤æ³¢å™¨<ul><li>æœ€å¤§å€¼æ»¤æ³¢å™¨</li><li>ä¸­å€¼æ»¤æ³¢å™¨</li><li>æœ€å°å€¼æ»¤æ³¢å™¨</li></ul></li></ul><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201015144348111.png" alt="image-20201015144348111" style="zoom: 33%;" /><p><strong>å‡å€¼æ»¤æ³¢å™¨</strong></p><p>å‡å€¼æ»¤æ³¢å™¨å±äºçº¿æ€§æ»¤æ³¢å™¨ï¼Œæœ‰ï¼š</p><ul><li>å‡å°å›¾åƒç°åº¦çš„â€œå°–é”â€å˜åŒ–</li><li>å‡å°å™ªå£°</li><li>ä½†ç”±äºå›¾åƒè¾¹ç¼˜æ˜¯å›¾åƒç°åº¦å°–é”å˜åŒ–å¼•èµ·çš„ï¼Œæ‰€ä»¥å­˜åœ¨<strong>è¾¹ç¼˜æ¨¡ç³Šé—®é¢˜</strong></li></ul><p><strong>ä¸­å€¼æ»¤æ³¢å™¨</strong></p><p>éçº¿æ€§æ»¤æ³¢å™¨</p><p>åŸºäºæ»¤æ³¢å™¨æ‰€åœ¨å›¾åƒåŒºåŸŸä¸­åƒç´ çš„æ’åºï¼Œç”±æ’åºç»“æœå†³å®šçš„å€¼ä»£æ›¿ä¸­å¿ƒåƒç´ çš„å€¼</p><p>ä¸­å€¼æ»¤æ³¢å™¨ï¼šç”¨åƒç´ é¢†åŸŸå†…ä¸­é—´å€¼ä»£æ›¿è¯¥åƒç´ ï¼ˆå¯»æ‰¾åƒç´ å‘¨å›´å†…çš„ä¸­é—´å€¼ï¼‰</p><p>ä¸»è¦è®¡ç®—å…¬å¼ï¼š</p><p>$R = mid{Z_k| k = 1,2,â€¦n}$</p><p><strong>ä¸»è¦ç”¨é€”ï¼šå»é™¤å™ªå£°</strong></p><p>ç®—æ³•çš„ç‰¹ç‚¹</p><ul><li>å»é™¤å™ªå£°çš„åŒæ—¶ï¼Œæ¯”è¾ƒå¥½çš„ä¿ç•™è¾¹çš„é”åº¦å’Œå›¾åƒçš„ç»†èŠ‚ï¼ˆä¼˜äºå‡å€¼æ»¤æ³¢å™¨ï¼‰</li><li>èƒ½å¤Ÿæœ‰æ•ˆå»é™¤è„‰å†²å™ªå£°ï¼šä»¥é»‘ç™½ç‚¹å åŠ åœ¨å›¾åƒä¸Š</li></ul><p><em>ä»£ç </em></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment">#source image and resize image</span></span><br><span class="line">img00 = cv2.imread(<span class="string">"demoShot.png"</span>,<span class="number">1</span>)</span><br><span class="line">scale_percent = <span class="number">45</span></span><br><span class="line">img_width = int(img00.shape[<span class="number">1</span>]*scale_percent / <span class="number">100</span>)</span><br><span class="line">img_height = int(img00.shape[<span class="number">0</span>]*scale_percent / <span class="number">100</span>)</span><br><span class="line">dsize = (img_width, img_height)</span><br><span class="line">img00 = cv2.resize(img00, dsize)</span><br><span class="line"></span><br><span class="line"><span class="comment">#medianBlur and Blur</span></span><br><span class="line">img_medianBlur = cv2.medianBlur(img00, <span class="number">7</span>)</span><br><span class="line">img_Blur = cv2.blur(img00,(<span class="number">7</span>,<span class="number">7</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">#cv2.imshow("image", np.hstack((img00,img_medianBlur,img_Blur)) )</span></span><br><span class="line">cv2.imshow(<span class="string">"originShot"</span>, img00)</span><br><span class="line">cv2.imshow(<span class="string">"medianBlur"</span>, img_medianBlur)</span><br><span class="line">cv2.imshow(<span class="string">"Blur"</span>, img_Blur)</span><br><span class="line"></span><br><span class="line">cv2.waitKey(<span class="number">0</span>)</span><br><span class="line">cv2.destroyAllWindows()</span><br></pre></td></tr></table></figure><h3 id="é”åŒ–æ»¤æ³¢å™¨"><a href="#é”åŒ–æ»¤æ³¢å™¨" class="headerlink" title="é”åŒ–æ»¤æ³¢å™¨"></a>é”åŒ–æ»¤æ³¢å™¨</h3><p>ä¸»è¦ä½œç”¨ï¼š</p><ul><li><p>çªå‡ºå›¾åƒä¸­çš„ç»†èŠ‚ï¼Œå¢å¼ºè¢«æ¨¡ç³Šçš„ç»†èŠ‚</p></li><li><p>å°åˆ·ä¸­çš„å±‚æ¬¡å¼ºè°ƒï¼Œå¼¥è¡¥æ‰«æé’åŒ–</p></li><li><p>è¶…å£°æ¢æµ‹æˆåƒï¼Œé’ˆå¯¹äºåˆ†è¾¨ç‡ä½çš„å›¾ç‰‡</p></li><li><p>å›¾åƒè¯†åˆ«ä¸­çš„è¾¹ç¼˜æå–</p></li><li><p>å›å¤è¿‡åº¦é’åŒ–ï¼Œæ›å…‰ä¸è¶³çš„å›¾åƒ</p></li><li><p>å°–é”ç›®æ ‡è¯†åˆ«</p></li></ul><p>é‡‡ç”¨çš„æ˜¯ç”¨å¾®åˆ†çš„æ–¹å¼è¿›è¡Œé”åŒ–ï¼Œæœ‰ä¸€é˜¶å¾®åˆ†æ»¤æ³¢å™¨å’ŒäºŒé˜¶å¾®åˆ†æ»¤æ³¢å™¨</p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201015143033332.png" alt="image-20201015143033332" style="zoom: 33%;" /><p><strong>æ¢¯åº¦ç®—å­â€”â€”ä¸€é˜¶å¾®åˆ†æ»¤æ³¢å™¨</strong></p><p>è¾¹ç¼˜æ£€æµ‹ä¸æ˜¯éå¸¸æ˜æ˜¾ï¼Œè¾¹ç¼˜æ£€æµ‹äº§ç”Ÿçš„å™ªå£°æ¯”è¾ƒå¤š</p><p><strong>æ‹‰æ™®æ‹‰æ–¯ç®—å­â€”â€”äºŒé˜¶å¾®åˆ†æ»¤æ³¢å™¨</strong></p><p>ä¸»è¦ä¿ç•™ç›®æ ‡è½®å»“çš„é”åŒ–æ•ˆæœï¼Œè¾¹ç¼˜è½®å»“æ˜¾ç¤ºååˆ†æ˜æ˜¾ï¼Œé€‚åˆäºè¿›è¡Œç›®æ ‡ç‰©ä½“è¾¹ç¼˜æ£€æµ‹</p><p><em>ä»£ç </em></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">img = cv2.imread(<span class="string">"apple.png"</span>, cv2.IMREAD_GRAYSCALE)</span><br><span class="line">img = cv2.resize(img, (<span class="number">300</span>,<span class="number">400</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># img = cv2.GaussianBlur(img, (3, 3), 0)</span></span><br><span class="line"><span class="comment"># img = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#cv2.sobel derivative</span></span><br><span class="line">sobel_x = cv2.Sobel(img,cv2.CV_64F, <span class="number">1</span>, <span class="number">0</span>, ksize = <span class="number">5</span>)</span><br><span class="line">sobel_y = cv2.Sobel(img,cv2.CV_64F, <span class="number">0</span>, <span class="number">1</span>, ksize = <span class="number">5</span>)</span><br><span class="line"><span class="comment">#converting back to uint8</span></span><br><span class="line">sobel_x = cv2.convertScaleAbs(sobel_x)</span><br><span class="line">sobel_y = cv2.convertScaleAbs(sobel_y)</span><br><span class="line">sobel_xy = cv2.addWeighted(sobel_x, <span class="number">0.5</span>, sobel_y, <span class="number">0.5</span>, <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#cv2.scharr derivative</span></span><br><span class="line">scharr_x = cv2.Scharr(img, cv2.CV_64F, <span class="number">1</span>, <span class="number">0</span>)</span><br><span class="line">scharr_y = cv2.Scharr(img, cv2.CV_64F, <span class="number">0</span>, <span class="number">1</span>)</span><br><span class="line">scharr_x = cv2.convertScaleAbs(scharr_x)</span><br><span class="line">scharr_y = cv2.convertScaleAbs(scharr_y)</span><br><span class="line">scharr_xy = cv2.addWeighted(scharr_x, <span class="number">0.5</span>, scharr_y, <span class="number">0.5</span>, <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#apply laplace</span></span><br><span class="line">laplacian = cv2.Laplacian(img,cv2.CV_64F)</span><br><span class="line">laplacian = cv2.convertScaleAbs(laplacian)</span><br><span class="line"></span><br><span class="line"><span class="comment">#show result</span></span><br><span class="line">cv2.imshow(<span class="string">"origin"</span>, img)</span><br><span class="line">cv2.imshow(<span class="string">"sobel"</span>, sobel_xy)</span><br><span class="line"><span class="comment">#cv2.imshow("scharr", scharr_xy)</span></span><br><span class="line">cv2.imshow(<span class="string">"laplacian"</span>, laplacian)</span><br><span class="line"></span><br><span class="line">cv2.waitKey(<span class="number">0</span>)</span><br><span class="line">cv2.destroyAllWindows()</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;æ•°å­—å›¾åƒå¤„ç†ä½œä¸š01&quot;&gt;&lt;a href=&quot;#æ•°å­—å›¾åƒå¤„ç†ä½œä¸š01&quot; class=&quot;headerlink&quot; title=&quot;æ•°å­—å›¾åƒå¤„ç†ä½œä¸š01&quot;&gt;&lt;/a&gt;æ•°å­—å›¾åƒå¤„ç†ä½œä¸š01&lt;/h2&gt;&lt;h3 id=&quot;ç›´æ–¹å›¾å‡è¡¡åŒ–&quot;&gt;&lt;a href=&quot;#ç›´æ–¹å›¾å‡è¡¡åŒ–&quot; class=&quot;
      
    
    </summary>
    
    
    
      <category term="BuaaAssignments" scheme="https://github.com/liysky/liysky.github.io.git/tags/BuaaAssignments/"/>
    
  </entry>
  
  <entry>
    <title>ç¬”è®°- GAMES101è®¡ç®—æœºå›¾å½¢å­¦å…¥é—¨-é—«ä»¤çª</title>
    <link href="https://github.com/liysky/liysky.github.io.git/2020/10/09/%E7%AC%94%E8%AE%B0-GAMES101%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%85%A5%E9%97%A8-%E9%97%AB%E4%BB%A4%E7%90%AA/"/>
    <id>https://github.com/liysky/liysky.github.io.git/2020/10/09/%E7%AC%94%E8%AE%B0-GAMES101%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%85%A5%E9%97%A8-%E9%97%AB%E4%BB%A4%E7%90%AA/</id>
    <published>2020-10-09T15:22:19.000Z</published>
    <updated>2020-10-10T19:28:25.240Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ç¬”è®°-GAMES101è®¡ç®—æœºå›¾å½¢å­¦å…¥é—¨-é—«ä»¤çª"><a href="#ç¬”è®°-GAMES101è®¡ç®—æœºå›¾å½¢å­¦å…¥é—¨-é—«ä»¤çª" class="headerlink" title="ç¬”è®°- GAMES101è®¡ç®—æœºå›¾å½¢å­¦å…¥é—¨-é—«ä»¤çª"></a>ç¬”è®°- GAMES101è®¡ç®—æœºå›¾å½¢å­¦å…¥é—¨-é—«ä»¤çª</h1><h2 id="P1-Overview-of-Computer-Graphic"><a href="#P1-Overview-of-Computer-Graphic" class="headerlink" title="P1 Overview of Computer Graphic"></a>P1 Overview of Computer Graphic</h2><ul><li><p>ä»€ä¹ˆæ˜¯å¥½çš„ç”»é¢ï¼šäº®</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201009192116202.png" alt="image-20201009192116202"></p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201009192142797.png" alt="image-20201009192142797"></p></li></ul><p><strong>è¯¾ç¨‹ä¸»è¦å†…å®¹</strong></p><ul><li>Resterization å…‰æ …åŒ–</li><li>Curves and Meshes æ›²çº¿å’Œæ›²é¢ï¼ˆå‡ ä½•ï¼‰</li><li>Ray Tracing å…‰çº¿è¿½è¸ª</li><li>Animation / Simulation åŠ¨ç”»å’Œæ¨¡æ‹Ÿ</li></ul><h3 id="Rasterization-å…‰æ …åŒ–"><a href="#Rasterization-å…‰æ …åŒ–" class="headerlink" title="Rasterization å…‰æ …åŒ–"></a>Rasterization å…‰æ …åŒ–</h3><p>ç†è§£ï¼šå°†ä¸‰ä½å½¢æ€çš„å‡ ä½•å½¢ä½“æ˜¾ç¤ºåœ¨å±å¹•ä¸Š</p><ul><li>Project geometry primitive (3D triangle / polygons) onto the screen</li><li>Break projected primitives into fragments (pixels)</li><li>Gold standard in Video Games (Real-time Applications)</li></ul><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201009225239197.png" alt="image-20201009225239197"></p><h3 id="Curves-and-Meshes"><a href="#Curves-and-Meshes" class="headerlink" title="Curves and Meshes"></a>Curves and Meshes</h3><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201009225422283.png" alt="image-20201009225422283"></p><h3 id="Ray-Tracing"><a href="#Ray-Tracing" class="headerlink" title="Ray Tracing"></a>Ray Tracing</h3><ul><li>Shoot rays from the camera though each pixel<ul><li>calculate intersection and shading</li><li>continue to bounce the rays till the hit light sources </li></ul></li><li>Gold standard in Animations / Movies (Offline Applications)</li></ul><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201009225708474.png" alt="image-20201009225708474"></p><h3 id="Animation-Simulation"><a href="#Animation-Simulation" class="headerlink" title="Animation / Simulation"></a>Animation / Simulation</h3><ul><li>Key frame Animation</li><li>Mass-spring System</li></ul><h3 id="CG-is-NOT-CV"><a href="#CG-is-NOT-CV" class="headerlink" title="CG is NOT CV"></a>CG is NOT CV</h3><p>è®¡ç®—æœºå›¾å½¢å­¦ä¸æ˜¯è®¡ç®—æœºè§†è§‰</p><ul><li><p>è®¡ç®—æœºè§†è§‰æ˜¯è¿›è¡Œå›¾åƒçš„è¯†åˆ«ï¼Œæ¯”å¦‚ï¼šè¯†åˆ«äºº</p><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/image-20201009230345629.png" alt="image-20201009230345629"></p></li></ul><h3 id="Use-An-IDE"><a href="#Use-An-IDE" class="headerlink" title="Use An IDE"></a>Use An IDE</h3><ul><li>hints syntax </li><li>function</li></ul><p><strong>Recommended IDEs</strong></p><ul><li>Visual Studio / Visual Studio Code</li><li>Qt Creator</li></ul><h2 id="P2-Review-of-Linear-Algebra"><a href="#P2-Review-of-Linear-Algebra" class="headerlink" title="P2 Review of Linear Algebra"></a>P2 Review of Linear Algebra</h2><p><strong>Graphicsâ€™s Dependencies</strong></p><ul><li>Basic mathematics<ul><li>Linear algebra, calculus, statistics</li></ul></li><li>Basic physics<ul><li>Optics, Mechanics</li></ul></li><li>Misc<ul><li>Signal processing</li><li>Numerical analysis</li></ul></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;ç¬”è®°-GAMES101è®¡ç®—æœºå›¾å½¢å­¦å…¥é—¨-é—«ä»¤çª&quot;&gt;&lt;a href=&quot;#ç¬”è®°-GAMES101è®¡ç®—æœºå›¾å½¢å­¦å…¥é—¨-é—«ä»¤çª&quot; class=&quot;headerlink&quot; title=&quot;ç¬”è®°- GAMES101è®¡ç®—æœºå›¾å½¢å­¦å…¥é—¨-é—«ä»¤çª&quot;&gt;&lt;/a&gt;ç¬”è®°- GAMES101è®¡ç®—æœºå›¾
      
    
    </summary>
    
    
    
      <category term="learning-note" scheme="https://github.com/liysky/liysky.github.io.git/tags/learning-note/"/>
    
  </entry>
  
  <entry>
    <title>std::vector in c++</title>
    <link href="https://github.com/liysky/liysky.github.io.git/2020/09/23/std-vector-in-c/"/>
    <id>https://github.com/liysky/liysky.github.io.git/2020/09/23/std-vector-in-c/</id>
    <published>2020-09-23T15:57:49.000Z</published>
    <updated>2020-10-09T15:24:48.426Z</updated>
    
    <content type="html"><![CDATA[<p>std::vector in C++</p><p><strong>Declaration of std::vector</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; marks;</span><br></pre></td></tr></table></figure><p><strong>initialization of std::vector</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; marks = &#123;<span class="number">50</span>, <span class="number">45</span>, <span class="number">47</span>, <span class="number">65</span>, <span class="number">80</span>&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; marks;</span><br><span class="line">marks = &#123;<span class="number">50</span>, <span class="number">45</span>, <span class="number">47</span>, <span class="number">65</span>, <span class="number">80</span>&#125;;</span><br></pre></td></tr></table></figure><p><strong>Length of std::vector</strong></p><p>marks.size() â€” <strong>function</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; marks = &#123;<span class="number">50</span>, <span class="number">45</span>, <span class="number">47</span>, <span class="number">65</span>, <span class="number">80</span>&#125;;</span><br><span class="line">    marks = &#123;<span class="number">50</span>, <span class="number">47</span>, <span class="number">60</span>&#125;;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"length of array : "</span> &lt;&lt; marks.<span class="built_in">size</span>() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Pass a std::vector to function</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printVector</span><span class="params">( <span class="keyword">const</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;v )</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; v.<span class="built_in">size</span>(); i++)&#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"v["</span> &lt;&lt; i &lt;&lt; <span class="string">"] = "</span> &lt;&lt; v[i] &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="comment">//        v[2] = 4;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Hello, World!"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>&#125;;</span><br><span class="line">    printVector(v);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>noted from: <a href="https://www.codesdope.com/cpp-stdvector/" target="_blank" rel="noopener">https://www.codesdope.com/cpp-stdvector/</a></p><blockquote><p>  <strong>void printVector(const std::vector&lt;int&gt; &amp;n) - const is used here to prevent the compiler from making a copy of the vector and this enhances the performance. The passed vector will be n in this function as &amp;n is the parameter of the function â€˜printArrayâ€™.</strong></p></blockquote><p><img src="https://jaximage-1253102271.cos.ap-beijing.myqcloud.com/uPic/Screen%20Shot%202020-09-23%20at%2023.11.10.png" alt="Screen Shot 2020-09-23 at 23.11.10"></p><p><strong>front &amp; back</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//usage of front;</span></span><br><span class="line">marks.front();</span><br><span class="line"><span class="comment">//usage of back;</span></span><br><span class="line">marks.back();</span><br></pre></td></tr></table></figure><p><strong>empty</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">marks.empty() <span class="comment">//if true, return 1; else return 0;</span></span><br></pre></td></tr></table></figure><p><strong>resize</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v1 = &#123;<span class="number">5</span>, <span class="number">6</span>&#125;;</span><br><span class="line">    v1.resize(<span class="number">5</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; v1.<span class="built_in">size</span>() ; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; v1[i] &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">5</span><br><span class="line">6</span><br><span class="line">0</span><br><span class="line">0</span><br><span class="line">0</span><br></pre></td></tr></table></figure><p><strong>assign</strong></p><p>assigns new contents to the vector and replaces its current contents all.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v;</span><br><span class="line">    v.assign(<span class="number">7</span>, <span class="number">40</span>);  <span class="comment">// 7 elements each of value 40</span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; v.<span class="built_in">size</span>() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>push_back</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v = &#123;<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>&#125;;</span><br><span class="line">    v.push_back(<span class="number">47</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//printing values of v</span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"elements of v"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; v.<span class="built_in">size</span>(); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; v[i] &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>pop_back</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v = &#123;<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>&#125;;</span><br><span class="line">    v.pop_back();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//printing values of v</span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"elements of v"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; v.<span class="built_in">size</span>(); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; v[i] &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>reserve</strong></p><p>This function increases the capacity of the vector if the desired number of elements is greater than the capacity of the vector.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v1;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">50</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        v1.push_back(<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    v1.reserve(<span class="number">100</span>);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"capacity : "</span> &lt;&lt; v1.capacity() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">capacity:100</span><br></pre></td></tr></table></figure><p><strong>erase</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iterator&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v1 = &#123;<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>&#125;;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v2 = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;;</span><br><span class="line"></span><br><span class="line">    v1.erase(v1.<span class="built_in">begin</span>()+<span class="number">4</span>);  <span class="comment">// removing a single element at position 4</span></span><br><span class="line">    v2.erase(v2.<span class="built_in">begin</span>()+<span class="number">1</span>, v2.<span class="built_in">begin</span>()+<span class="number">3</span>);   <span class="comment">// removing range of elements from position 1 till 2</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//printing the values of v1</span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"Values of v1"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; v1.<span class="built_in">size</span>(); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; v1[i] &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//printing the values of v2</span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"Values of v2"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; v2.<span class="built_in">size</span>(); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; v2[i] &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Values of v1</span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">5</span></span><br><span class="line"><span class="number">6</span></span><br><span class="line"><span class="number">7</span></span><br><span class="line">Values of v2</span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">5</span></span><br></pre></td></tr></table></figure><p><strong>clear</strong></p><p>clear all elements of the vector.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v1 = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v2 = &#123;<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>&#125;;</span><br><span class="line"></span><br><span class="line">    v1.swap(v2);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Vector v1"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> i: v1)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; i &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Vector v2"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> i: v2)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; i &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Multidimensional std::vector</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;  v &#123;&#123;&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;,&#123;<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>&#125;,&#123;<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>&#125;&#125;&#125;;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="number">3</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;<span class="number">3</span>; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; v[i][j] &lt;&lt; <span class="string">"\t"</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span></span><br><span class="line"><span class="number">4</span>   <span class="number">5</span>   <span class="number">6</span></span><br><span class="line"><span class="number">7</span>   <span class="number">8</span>   <span class="number">9</span></span><br></pre></td></tr></table></figure><p><strong>Passing a multidimensional std::vector to a function</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">display</span><span class="params">(<span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; &amp;v)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;v.<span class="built_in">size</span>(); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j&lt;v[i].<span class="built_in">size</span>(); j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; v[i][j] &lt;&lt; <span class="string">"\t"</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;  v &#123;&#123;&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;,&#123;<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>&#125;,&#123;<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>&#125;&#125;&#125;;</span><br><span class="line">    <span class="built_in">display</span>(v);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;std::vector in C++&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Declaration of std::vector&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight c++&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pr
      
    
    </summary>
    
    
    
      <category term="LeetCode" scheme="https://github.com/liysky/liysky.github.io.git/tags/LeetCode/"/>
    
  </entry>
  
  <entry>
    <title>LeetCode 7.Reverse Integer</title>
    <link href="https://github.com/liysky/liysky.github.io.git/2020/09/22/Reverse-Integer/"/>
    <id>https://github.com/liysky/liysky.github.io.git/2020/09/22/Reverse-Integer/</id>
    <published>2020-09-22T14:29:14.000Z</published>
    <updated>2020-10-09T15:39:32.543Z</updated>
    
    <content type="html"><![CDATA[<p> <a href="https://leetcode-cn.com/problems/reverse-integer/" target="_blank" rel="noopener">7. Reverse Integer</a></p><p>Given a 32-bit signed integer, reverse digits of an integer.</p><p><strong>Example 1:</strong></p><p>Input: 123<br>Output: 321<br><strong>Example 2:</strong></p><p>Input: -123<br>Output: -321<br><strong>Example 3:</strong></p><p>Input: 120<br>Output: 21<br>Note:<br>Assume we are dealing with an environment which could only store integers within the 32-bit signed integer range: [âˆ’231,  231 âˆ’ 1]. For the purpose of this problem, assume that your function returns 0 when the reversed integer overflows.</p><h3 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">reverse</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">       <span class="keyword">while</span>(x != <span class="number">0</span>)&#123;</span><br><span class="line">           <span class="keyword">int</span> pop = x % <span class="number">10</span>;</span><br><span class="line">           x /= <span class="number">10</span>;</span><br><span class="line">           <span class="keyword">if</span>(ans &gt; INT_MAX / <span class="number">10</span> || ans == INT_MAX / <span class="number">10</span> &amp;&amp; pop &gt; <span class="number">7</span> ) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">           <span class="keyword">if</span>(ans &lt; INT_MIN / <span class="number">10</span> || ans == INT_MIN / <span class="number">10</span> &amp;&amp; pop &lt; <span class="number">-8</span> ) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">           ans = ans * <span class="number">10</span> + pop;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><strong>Explanationï¼š</strong></p><blockquote><p>  #define INT_MAX = 2147483647</p><p>  #define INT_MAX = -INT_MAX-1</p></blockquote><p>ä¹Ÿå°±æ˜¯å…³äºintçš„æœ€å¤§å€¼å’Œæœ€å°å€¼çš„è¯´æ˜</p><p>å°†ä¸€ä¸ªæ•°å­—è¿›è¡Œåè½¬ï¼Œä»ä¸ªä½æ•°è¿›è¡Œå–ï¼Œä½¿ç”¨å–ä½™çš„æ–¹æ³•ï¼Œå†ä½¿ç”¨â€œä½™æ•°X10â€è¿›è¡Œå¾€é«˜ä½ç§»åŠ¨ã€‚</p><p>è¿™ä¸ªè¿‡ç¨‹ä¸­éœ€è¦æ³¨æ„æº¢å‡ºæ—¶çš„æ¡ä»¶å³å¯ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt; &lt;a href=&quot;https://leetcode-cn.com/problems/reverse-integer/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;7. Reverse Integer&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Given a 32-bit 
      
    
    </summary>
    
    
    
      <category term="LeetCode" scheme="https://github.com/liysky/liysky.github.io.git/tags/LeetCode/"/>
    
  </entry>
  
  <entry>
    <title>LeetCode4. Median of Two Sorted Arrays</title>
    <link href="https://github.com/liysky/liysky.github.io.git/2020/03/10/LeetCode4-Median-of-Two-Sorted-Arrays/"/>
    <id>https://github.com/liysky/liysky.github.io.git/2020/03/10/LeetCode4-Median-of-Two-Sorted-Arrays/</id>
    <published>2020-03-10T15:09:06.000Z</published>
    <updated>2020-05-05T15:36:19.398Z</updated>
    
    <content type="html"><![CDATA[<h3 id="4-Median-of-Two-Sorted-Arrays"><a href="#4-Median-of-Two-Sorted-Arrays" class="headerlink" title="4. Median of Two Sorted Arrays"></a>4. Median of Two Sorted Arrays</h3><p><a href="https://leetcode-cn.com/problems/median-of-two-sorted-arrays/" target="_blank" rel="noopener">4. Median of Two Sorted Arrays</a></p><p>There are two sorted arrays nums1 and nums2 of size m and n respectively.</p><p>Find the median of the two sorted arrays. The overall run time complexity should be O(log (m+n)).</p><p>You may assume nums1 and nums2 cannot be both empty.</p><h3 id="Example-1"><a href="#Example-1" class="headerlink" title="Example 1:"></a>Example 1:</h3><p>nums1 = [1, 3]<br>nums2 = [2]</p><p>The median is 2.0<br>Example 2:</p><p>nums1 = [1, 2]<br>nums2 = [3, 4]</p><p>The median is (2 + 3)/2 = 2.5</p><h3 id="solution-1"><a href="#solution-1" class="headerlink" title="solution 1"></a>solution 1</h3><p>merge array1 and array2, then return the median.</p><p><strong>Time complexity: O(m+n)</strong></p><p><strong>Space complexity: O( m+n )</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//java</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">findMedianSortedArrays</span><span class="params">(<span class="keyword">int</span>[] nums1, <span class="keyword">int</span>[] nums2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> m = nums1.length;</span><br><span class="line">        <span class="keyword">int</span> n = nums2.length;</span><br><span class="line">        <span class="keyword">int</span>[] nums = <span class="keyword">new</span> <span class="keyword">int</span>[m+n];</span><br><span class="line">        <span class="keyword">if</span>(m == <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(n % <span class="number">2</span> == <span class="number">0</span>)&#123;</span><br><span class="line">                <span class="keyword">return</span> (nums2[n/<span class="number">2</span> - <span class="number">1</span>] + nums2[n/<span class="number">2</span>]) / <span class="number">2.0</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">return</span> nums2[n/<span class="number">2</span>];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>( n == <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(m % <span class="number">2</span> == <span class="number">0</span>)&#123;</span><br><span class="line">                <span class="keyword">return</span> (nums1[m/<span class="number">2</span> -<span class="number">1</span>] + nums1[m/<span class="number">2</span>]) / <span class="number">2.0</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">return</span> nums1[m/<span class="number">2</span>];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> j = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(count != (m+n))&#123;</span><br><span class="line">            <span class="keyword">if</span>(i == m)&#123;</span><br><span class="line">                <span class="keyword">while</span>( j != n)&#123;</span><br><span class="line">                    nums[count++] = nums2[j++];</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(j == n)&#123;</span><br><span class="line">                <span class="keyword">while</span>(i != m)&#123;</span><br><span class="line">                    nums[count++] = nums1[i++];</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(nums1[i] &lt; nums2[j])&#123;</span><br><span class="line">                nums[count++] = nums1[i++];</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                nums[count++] = nums2[j++];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(count %<span class="number">2</span> == <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> (nums[count/<span class="number">2</span> - <span class="number">1</span>] + nums[count/<span class="number">2</span>]) / <span class="number">2.0</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> nums[count/<span class="number">2</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;4-Median-of-Two-Sorted-Arrays&quot;&gt;&lt;a href=&quot;#4-Median-of-Two-Sorted-Arrays&quot; class=&quot;headerlink&quot; title=&quot;4. Median of Two Sorted Arrays&quot;&gt;&lt;/
      
    
    </summary>
    
    
    
      <category term="LeetCode" scheme="https://github.com/liysky/liysky.github.io.git/tags/LeetCode/"/>
    
  </entry>
  
  <entry>
    <title>LeetCode628. Maximum Product of Three Numbers</title>
    <link href="https://github.com/liysky/liysky.github.io.git/2020/03/07/LeetCode628-Maximum-Product-of-Three-Numbers/"/>
    <id>https://github.com/liysky/liysky.github.io.git/2020/03/07/LeetCode628-Maximum-Product-of-Three-Numbers/</id>
    <published>2020-03-07T14:48:27.000Z</published>
    <updated>2020-05-05T15:36:19.402Z</updated>
    
    <content type="html"><![CDATA[<h3 id="628-Maximum-Product-of-Three-Numbers"><a href="#628-Maximum-Product-of-Three-Numbers" class="headerlink" title="628. Maximum Product of Three Numbers"></a>628. Maximum Product of Three Numbers</h3><p><a href="https://leetcode-cn.com/problems/maximum-product-of-three-numbers/" target="_blank" rel="noopener">628. Maximum Product of Three Numbers</a></p><p>Given an integer array, find three numbers whose product is maximum and output the maximum product.</p><p>Example 1:</p><p>Input: [1,2,3]<br>Output: 6</p><h3 id="Example-2"><a href="#Example-2" class="headerlink" title="Example 2:"></a>Example 2:</h3><p>Input: [1,2,3,4]<br>Output: 24</p><h3 id="Note"><a href="#Note" class="headerlink" title="Note:"></a>Note:</h3><p>The length of the given array will be in range [3,104] and all elements are in the range [-1000, 1000].<br>Multiplication of any three numbers in the input wonâ€™t exceed the range of 32-bit signed integer.</p><h3 id="Solution-one"><a href="#Solution-one" class="headerlink" title="Solution one"></a>Solution one</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//java</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maximumProduct</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        Arrays.sort(nums);</span><br><span class="line">        <span class="keyword">return</span> Math.max(nums[<span class="number">0</span>] * nums[<span class="number">1</span>] * nums[nums.length-<span class="number">1</span>], nums[nums.length-<span class="number">1</span>]* nums[nums.length-<span class="number">2</span>] * nums[nums.length-<span class="number">3</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Solution 1</strong></p><p>Most important key of solution is that the negative situation may be contained in array.</p><p>return two miximum * one maximum compared to three maximum.</p><p><strong>Time complexity: O(nlogn)</strong></p><p><strong>Space complexity: O(0)</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//c++</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">maximumProduct</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = nums.<span class="built_in">size</span>();</span><br><span class="line">        sort(nums.<span class="built_in">begin</span>(), nums.<span class="built_in">end</span>());</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">max</span>(nums[<span class="number">0</span>] * nums[<span class="number">1</span>] * nums[n<span class="number">-1</span>], nums[n<span class="number">-1</span>] * nums[n - <span class="number">2</span>] * nums[n - <span class="number">3</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><ul><li>sort( begin( ), end( ) );</li><li>sort( rbegin( ), rend( ) );</li></ul><h3 id="solution-2"><a href="#solution-2" class="headerlink" title="solution 2"></a>solution 2</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//java</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maximumProduct</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> max1 = Integer.MIN_VALUE;</span><br><span class="line">        <span class="keyword">int</span> max2 = Integer.MIN_VALUE;</span><br><span class="line">        <span class="keyword">int</span> max3 = Integer.MIN_VALUE;</span><br><span class="line">        <span class="keyword">int</span> min1 = Integer.MAX_VALUE;</span><br><span class="line">        <span class="keyword">int</span> min2 = Integer.MAX_VALUE;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> num : nums)&#123;</span><br><span class="line">            <span class="keyword">if</span>(num &gt; max1)&#123;</span><br><span class="line">                max3 = max2;</span><br><span class="line">                max2 = max1;</span><br><span class="line">                max1 = num;</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(num &gt; max2)&#123;</span><br><span class="line">                max3 = max2;</span><br><span class="line">                max2 = num;</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(num &gt; max3)&#123;</span><br><span class="line">                max3 = num;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(num &lt; min1)&#123;</span><br><span class="line">                min2 = min1;</span><br><span class="line">                min1 = num;</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(num &lt; min2)&#123;</span><br><span class="line">                min2 = num;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> Math.max( max1 * min1 * min2, max1 * max2 * max3 );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>note:</strong> In C++, max is INT_MAX, min is INT_MIN</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;628-Maximum-Product-of-Three-Numbers&quot;&gt;&lt;a href=&quot;#628-Maximum-Product-of-Three-Numbers&quot; class=&quot;headerlink&quot; title=&quot;628. Maximum Product
      
    
    </summary>
    
    
    
      <category term="LeetCode" scheme="https://github.com/liysky/liysky.github.io.git/tags/LeetCode/"/>
    
  </entry>
  
  <entry>
    <title>LeetCode637. Average of Levels in Binary Tree</title>
    <link href="https://github.com/liysky/liysky.github.io.git/2020/03/04/LeetCode637-Average-of-Levels-in-Binary-Tree/"/>
    <id>https://github.com/liysky/liysky.github.io.git/2020/03/04/LeetCode637-Average-of-Levels-in-Binary-Tree/</id>
    <published>2020-03-04T12:46:13.000Z</published>
    <updated>2020-05-05T15:36:19.411Z</updated>
    
    <content type="html"><![CDATA[<h3 id="637-Average-of-Levels-in-Binary-Tree"><a href="#637-Average-of-Levels-in-Binary-Tree" class="headerlink" title="637. Average of Levels in Binary Tree"></a>637. Average of Levels in Binary Tree</h3><p><a href="https://leetcode-cn.com/problems/average-of-levels-in-binary-tree/" target="_blank" rel="noopener">637. Average of Levels in Binary Tree</a></p><p>Given a non-empty binary tree, return the average value of the nodes on each level in the form of an array.</p><h3 id="Example-1"><a href="#Example-1" class="headerlink" title="Example 1:"></a>Example 1:</h3><p>Input:<br>    3<br>   / <br>  9  20<br>    /  <br>   15   7<br>Output: [3, 14.5, 11]</p><h3 id="Explanation"><a href="#Explanation" class="headerlink" title="Explanation:"></a>Explanation:</h3><p>The average value of nodes on level 0 is 3,  on level 1 is 14.5, and on level 2 is 11. Hence return [3, 14.5, 11].<br>Note:</p><p>The range of nodeâ€™s value is in the range of 32-bit signed integer.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * DFS Solution.</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * struct TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode *left;</span></span><br><span class="line"><span class="comment"> *     TreeNode *right;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x) : val(x), left(NULL), right(NULL) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="built_in">vector</span>&lt;<span class="keyword">double</span>&gt; <span class="title">averageOfLevels</span><span class="params">(TreeNode* root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(root == <span class="literal">nullptr</span>) <span class="keyword">return</span> &#123;&#125;;</span><br><span class="line">        <span class="built_in">vector</span>&lt;pair&lt;<span class="keyword">long</span> <span class="keyword">long</span>, <span class="keyword">int</span>&gt;&gt; sum_count;</span><br><span class="line">        preorder(root, <span class="number">0</span>, sum_count);</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">double</span>&gt; ans;</span><br><span class="line">        <span class="keyword">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span>&amp; p : sum_count)&#123;</span><br><span class="line">            ans.push_back( <span class="keyword">static_cast</span>&lt;<span class="keyword">double</span>&gt;(p.first)/p.second );</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">preorder</span><span class="params">( TreeNode* root, <span class="keyword">int</span> depth,  <span class="built_in">vector</span>&lt;pair&lt;<span class="keyword">long</span> <span class="keyword">long</span>, <span class="keyword">int</span>&gt;&gt;&amp; sum_count)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(root == <span class="literal">nullptr</span>) <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">if</span>(depth &gt;= sum_count.<span class="built_in">size</span>()) sum_count.push_back(&#123;<span class="number">0</span>,<span class="number">0</span>&#125;);</span><br><span class="line">        sum_count[depth].first += root-&gt;val;</span><br><span class="line">        ++sum_count[depth].second;</span><br><span class="line">        preorder(root-&gt;left, depth+<span class="number">1</span>, sum_count);</span><br><span class="line">        preorder(root-&gt;right, depth+<span class="number">1</span>, sum_count);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><strong>noteï¼špair using &amp; explain</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//CPP program to illustrate pair STL</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    pair &lt;<span class="keyword">int</span>, <span class="keyword">char</span>&gt; PAIR1 ;</span><br><span class="line"></span><br><span class="line">    PAIR1.first = <span class="number">100</span>;</span><br><span class="line">    PAIR1.second = <span class="string">'G'</span> ;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; PAIR1.first &lt;&lt; <span class="string">" "</span> ; <span class="comment">//visit the first value;</span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; PAIR1.second &lt;&lt; <span class="built_in">endl</span> ; <span class="comment">//visit the second value;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//out:</span></span><br><span class="line"><span class="comment">//100G</span></span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//standard initializtion</span></span><br><span class="line">pair &lt;data_type1, data_type2&gt; pair_name(value1, value2);</span><br><span class="line"><span class="comment">//initialization can be also omitted</span></span><br><span class="line">pair &lt;data_type1, data_type2&gt; pair_name;</span><br></pre></td></tr></table></figure><p><strong>Time Complexity: O(N) , N is the nodes number of Tree</strong></p><p><strong>Space Complexity: O(H) , H is the height of Tree</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * BFS Solution.</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * struct TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode *left;</span></span><br><span class="line"><span class="comment"> *     TreeNode *right;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x) : val(x), left(NULL), right(NULL) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="built_in">vector</span>&lt;<span class="keyword">double</span>&gt; <span class="title">averageOfLevels</span><span class="params">(TreeNode* root)</span> </span>&#123;</span><br><span class="line">      <span class="built_in">vector</span>&lt;<span class="keyword">double</span>&gt; ans;</span><br><span class="line">      <span class="built_in">vector</span>&lt;TreeNode*&gt; curr, next;</span><br><span class="line">      curr.push_back(root);</span><br><span class="line">      <span class="keyword">while</span>(!curr.empty())&#123;<span class="comment">//when curr point is null, it means all over.</span></span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span>&amp; node : curr )&#123;</span><br><span class="line">          sum += node-&gt;val;</span><br><span class="line">          <span class="keyword">if</span>(node-&gt;left) next.push_back(node-&gt;left);</span><br><span class="line">          <span class="keyword">if</span>(node-&gt;right) next.push_back(node-&gt;right);</span><br><span class="line">        &#125;</span><br><span class="line">        ans.push_back(<span class="keyword">static_cast</span>&lt;<span class="keyword">double</span>&gt;(sum)/curr.<span class="built_in">size</span>());</span><br><span class="line">        curr.swap(next);<span class="comment">//swap curr with next</span></span><br><span class="line">        next.<span class="built_in">clear</span>();</span><br><span class="line">      &#125;</span><br><span class="line">  <span class="keyword">return</span> ans;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><strong>Time Complexity: O(N) , N is the nodes number of Tree</strong></p><p><strong>Space Complexity: O(M) , M is the maximum  of every level to the Tree</strong></p><p>Solution version using Java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * java</span></span><br><span class="line"><span class="comment"> * DFS</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * public class TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode left;</span></span><br><span class="line"><span class="comment"> *     TreeNode right;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x) &#123; val = x; &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Double&gt; <span class="title">averageOfLevels</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        List&lt;Double&gt; ans = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        List&lt;Integer&gt; count = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">if</span>(root == <span class="keyword">null</span>) <span class="keyword">return</span> ans;</span><br><span class="line">        getSumOfLevel(root, <span class="number">0</span>, ans, count);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; ans.size(); i++)&#123;</span><br><span class="line">            ans.set(i, ans.get(i)/count.get(i));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">getSumOfLevel</span><span class="params">(TreeNode t, <span class="keyword">int</span> depth, List &lt; Double &gt; ans, List &lt; Integer &gt; count)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(t == <span class="keyword">null</span>) <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">if</span>(depth &lt; ans.size())&#123;</span><br><span class="line">            ans.set(depth, ans.get(depth)+t.val);</span><br><span class="line">            count.set(depth, count.get(depth)+<span class="number">1</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            ans.add(t.val*<span class="number">1.0</span>);</span><br><span class="line">            count.add(<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        getSumOfLevel(t.left, depth+<span class="number">1</span>, ans, count);</span><br><span class="line">        getSumOfLevel(t.right, depth+<span class="number">1</span>, ans, count);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * java BFS</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * public class TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode left;</span></span><br><span class="line"><span class="comment"> *     TreeNode right;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x) &#123; val = x; &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Double&gt; <span class="title">averageOfLevels</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        List&lt;Double&gt; ans = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        Queue&lt;TreeNode&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        queue.add(root);</span><br><span class="line">        <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">            <span class="keyword">long</span> sum = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">            Queue&lt;TreeNode&gt; temp = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">            <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">                TreeNode t = queue.remove();</span><br><span class="line">                sum += t.val;</span><br><span class="line">                count++;</span><br><span class="line">                <span class="keyword">if</span>(t.left != <span class="keyword">null</span> )&#123;</span><br><span class="line">                    temp.add(t.left);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(t.right != <span class="keyword">null</span> )&#123;</span><br><span class="line">                    temp.add(t.right);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            queue = temp;</span><br><span class="line">            ans.add(((<span class="keyword">double</span>)sum)/count);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;637-Average-of-Levels-in-Binary-Tree&quot;&gt;&lt;a href=&quot;#637-Average-of-Levels-in-Binary-Tree&quot; class=&quot;headerlink&quot; title=&quot;637. Average of Leve
      
    
    </summary>
    
    
    
      <category term="LeetCode" scheme="https://github.com/liysky/liysky.github.io.git/tags/LeetCode/"/>
    
  </entry>
  
  <entry>
    <title>LeetCode463. Island Perimeter</title>
    <link href="https://github.com/liysky/liysky.github.io.git/2020/03/02/LeetCode463-Island-Perimeter/"/>
    <id>https://github.com/liysky/liysky.github.io.git/2020/03/02/LeetCode463-Island-Perimeter/</id>
    <published>2020-03-01T17:05:38.000Z</published>
    <updated>2020-05-05T15:36:19.340Z</updated>
    
    <content type="html"><![CDATA[<h3 id="463-Island-Perimeter"><a href="#463-Island-Perimeter" class="headerlink" title="463. Island Perimeter"></a>463. Island Perimeter</h3><p><a href="https://leetcode-cn.com/problems/island-perimeter/" target="_blank" rel="noopener">463. Island Perimeter</a></p><h3 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h3><p>You are given a map in form of a two-dimensional integer grid where 1 represents land and 0 represents water.</p><p>Grid cells are connected horizontally/vertically (not diagonally). The grid is completely surrounded by water, and there is exactly one island (i.e., one or more connected land cells).</p><p>The island doesnâ€™t have â€œlakesâ€ (water inside that isnâ€™t connected to the water around the island). One cell is a square with side length 1. The grid is rectangular, width and height donâ€™t exceed 100. Determine the perimeter of the island. </p><h3 id="Example"><a href="#Example" class="headerlink" title="Example:"></a>Example:</h3><p>Input:<br>[[0,1,0,0],<br> [1,1,1,0],<br> [0,1,0,0],<br> [1,1,0,0]]</p><p>Output: 16</p><p>Explanation: The perimeter is the 16 yellow stripes in the image below:</p><p><img src="https://tva1.sinaimg.cn/large/00831rSTly1gcex6vvgn3j306505xwe9.jpg" alt=""></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">islandPerimeter</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; grid)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(grid.empty())    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> m = grid.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">int</span> n = grid[<span class="number">0</span>].<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">int</span> area = <span class="number">0</span>, nei = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> y = <span class="number">0</span>; y &lt; m; ++y)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> x = <span class="number">0</span>; x &lt; n; ++x)&#123;</span><br><span class="line">                <span class="keyword">if</span>(grid[y][x] == <span class="number">1</span>)&#123;</span><br><span class="line">                    area++;</span><br><span class="line">                    <span class="keyword">if</span>(y &gt; <span class="number">0</span> &amp;&amp;grid[y<span class="number">-1</span>][x] == <span class="number">1</span> )  nei++;</span><br><span class="line">                    <span class="keyword">if</span>(y &lt; m<span class="number">-1</span> &amp;&amp; grid[y+<span class="number">1</span>][x] == <span class="number">1</span>) nei++;</span><br><span class="line">                    <span class="keyword">if</span>(x &gt; <span class="number">0</span> &amp;&amp; grid[y][x<span class="number">-1</span>]==<span class="number">1</span>) nei++;</span><br><span class="line">                    <span class="keyword">if</span>(x &lt; n<span class="number">-1</span>&amp;&amp; grid[y][x+<span class="number">1</span>] == <span class="number">1</span>) nei++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> area*<span class="number">4</span> - nei;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><strong>Time Complexity: O(m*n)</strong></p><p><strong>Space Complexity: O(1)</strong></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;463-Island-Perimeter&quot;&gt;&lt;a href=&quot;#463-Island-Perimeter&quot; class=&quot;headerlink&quot; title=&quot;463. Island Perimeter&quot;&gt;&lt;/a&gt;463. Island Perimeter&lt;/h3
      
    
    </summary>
    
    
    
      <category term="LeetCode" scheme="https://github.com/liysky/liysky.github.io.git/tags/LeetCode/"/>
    
  </entry>
  
  <entry>
    <title>æœ€å°æ•°ç»„</title>
    <link href="https://github.com/liysky/liysky.github.io.git/2020/03/01/%E6%9C%80%E5%B0%8F%E6%95%B0%E7%BB%84/"/>
    <id>https://github.com/liysky/liysky.github.io.git/2020/03/01/%E6%9C%80%E5%B0%8F%E6%95%B0%E7%BB%84/</id>
    <published>2020-03-01T15:53:39.000Z</published>
    <updated>2020-05-05T15:36:19.386Z</updated>
    
    <content type="html"><![CDATA[<h3 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h3><p>ç¬¬ä¸€è¡Œè¾“å…¥ä¸€ä¸ªæ•°nï¼Œ1 &lt;= n &lt;= 1000ï¼Œä¸‹é¢è¾“å…¥nè¡Œæ•°æ®ï¼Œæ¯ä¸€è¡Œæœ‰ä¸¤ä¸ªæ•°ï¼Œåˆ†åˆ«æ˜¯x yã€‚è¾“å‡ºä¸€ç»„x yï¼Œè¯¥ç»„æ•°æ®æ˜¯æ‰€æœ‰æ•°æ®ä¸­xæœ€å°ï¼Œä¸”åœ¨xç›¸ç­‰çš„æƒ…å†µä¸‹yæœ€å°çš„ã€‚</p><h3 id="è¾“å…¥æè¿°"><a href="#è¾“å…¥æè¿°" class="headerlink" title="è¾“å…¥æè¿°:"></a>è¾“å…¥æè¿°:</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥æœ‰å¤šç»„æ•°æ®ã€‚</span><br><span class="line">æ¯ç»„è¾“å…¥nï¼Œç„¶åè¾“å…¥nä¸ªæ•´æ•°å¯¹ã€‚</span><br></pre></td></tr></table></figure><h3 id="è¾“å‡ºæè¿°"><a href="#è¾“å‡ºæè¿°" class="headerlink" title="è¾“å‡ºæè¿°:"></a>è¾“å‡ºæè¿°:</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">è¾“å‡ºæœ€å°çš„æ•´æ•°å¯¹ã€‚</span><br></pre></td></tr></table></figure><p>ç¤ºä¾‹1</p><h3 id="è¾“å…¥"><a href="#è¾“å…¥" class="headerlink" title="è¾“å…¥"></a>è¾“å…¥</h3><p>å¤åˆ¶</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">5</span><br><span class="line">3 3</span><br><span class="line">2 2</span><br><span class="line">5 5</span><br><span class="line">2 1</span><br><span class="line">3 6</span><br></pre></td></tr></table></figure><h3 id="è¾“å‡º"><a href="#è¾“å‡º" class="headerlink" title="è¾“å‡º"></a>è¾“å‡º</h3><p>å¤åˆ¶</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2 1</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">  <span class="keyword">int</span> num;</span><br><span class="line">  <span class="keyword">int</span> m, n, x, y;</span><br><span class="line">  <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;num)!=EOF)&#123;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;m&gt;&gt;n;<span class="comment">//æå‰è¾“å…¥ç¬¬ä¸€ç»„æ•°æ®ï¼Œç„¶ååœ¨è¿›è¡Œæ¯”è¾ƒ</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; num; i++)&#123;</span><br><span class="line">      <span class="built_in">cin</span>&gt;&gt;x&gt;&gt;y;</span><br><span class="line">      <span class="keyword">if</span>(x&lt;m||x==m&amp;&amp;y&lt;n)&#123;</span><br><span class="line">        m = x;</span><br><span class="line">        n = y;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;m&lt;&lt;<span class="string">" "</span>&lt;&lt;n&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>æ•´ä½“æ€è·¯ï¼šåªä¿ç•™æœ€å°çš„ä¸€ç»„æ•°æ®</strong></p><p><strong>#include&lt;bits/stdc++.h&gt; å‡ ä¹åŒ…å«äº†æ‰€æœ‰C++ çš„å¤´æ–‡ä»¶</strong></p><p>C++å¸¸è§„è§£æ³•</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Pair</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> x;</span><br><span class="line">    <span class="keyword">int</span> y;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(Pair a,Pair b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(a.x&gt;b.x)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;<span class="comment">//è¿”å›å‡åºæ’åº</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(a.x==b.x)&#123;</span><br><span class="line">        <span class="keyword">if</span>(a.y&lt;b.y)</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;<span class="comment">//è‹¥xç›¸åŒæ—¶ï¼ŒæŒ‰yå‡åº</span></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;<span class="comment">//å¦åˆ™è¿˜æ˜¯æŒ‰xå‡åº</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;<span class="comment">//æŒ‰xé™åº</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;n)&#123;</span><br><span class="line">        Pair *p=<span class="keyword">new</span> Pair[n];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">            <span class="built_in">cin</span>&gt;&gt;p[i].x&gt;&gt;p[i].y;</span><br><span class="line">        sort(p,p+n,cmp);</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;p[<span class="number">0</span>].x&lt;&lt;<span class="string">" "</span>&lt;&lt;p[<span class="number">0</span>].y&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>å…³äºC++ çš„sortå‡½æ•°çš„ä½¿ç”¨</strong></p><p>å‚æ•°ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt; <span class="class"><span class="keyword">class</span> <span class="title">RandomIt</span> &gt;</span></span><br><span class="line"><span class="class"><span class="title">void</span> <span class="title">sort</span>( <span class="title">RandomIt</span> <span class="title">first</span>, <span class="title">RandomIt</span> <span class="title">last</span> );</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt; <span class="class"><span class="keyword">class</span> <span class="title">RandomIt</span>, <span class="title">class</span> <span class="title">Compare</span> &gt;</span></span><br><span class="line"><span class="class"><span class="title">void</span> <span class="title">sort</span>( <span class="title">RandomIt</span> <span class="title">first</span>, <span class="title">RandomIt</span> <span class="title">last</span>, <span class="title">Compare</span> <span class="title">comp</span> );</span></span><br></pre></td></tr></table></figure><p>å½¢å¼ï¼šsort(first_pointer,first_pointer+n,cmp)</p><p>å…¶ä¸­cmpå¯ä»¥çœç•¥ï¼Œå¦‚æœçœç•¥åˆ™é»˜è®¤æŒ‰ç…§å‡åºæ’åº</p><p>ä¸” <strong>cmp</strong> å‡½æ•°å¯ä»¥é‡è½½</p><ul><li>å¯åœ¨ç»“æ„ä½“å†…éƒ¨é‡è½½</li><li>ä¹Ÿå¯åœ¨ç»“æ„ä½“å¤–éƒ¨è¿›è¡Œé‡è½½</li></ul><p>cmpåŸºæœ¬ç”¨æ³•</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span>&#123;</span><br><span class="line">  <span class="keyword">return</span> a &gt; b;<span class="comment">//å³è¿”å›é™åºæ’åº</span></span><br><span class="line">  <span class="comment">//return a &lt; bï¼›//è¿”å›å‡åºæ’åº</span></span><br><span class="line">    <span class="comment">//----&gt; å…¶ä¸Šéƒ½æ˜¯æ ¹æ®å­—é¢æ’åºliterally</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>cmpç»“æ„ä½“æ’åº</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Student stu[<span class="number">100</span>];</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(Student a, Student b)</span></span>&#123;</span><br><span class="line">  <span class="keyword">return</span> a.x &gt; b.x; <span class="comment">//literally sort by a.x</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;é¢˜ç›®æè¿°&quot;&gt;&lt;a href=&quot;#é¢˜ç›®æè¿°&quot; class=&quot;headerlink&quot; title=&quot;é¢˜ç›®æè¿°&quot;&gt;&lt;/a&gt;é¢˜ç›®æè¿°&lt;/h3&gt;&lt;p&gt;ç¬¬ä¸€è¡Œè¾“å…¥ä¸€ä¸ªæ•°nï¼Œ1 &amp;lt;= n &amp;lt;= 1000ï¼Œä¸‹é¢è¾“å…¥nè¡Œæ•°æ®ï¼Œæ¯ä¸€è¡Œæœ‰ä¸¤ä¸ªæ•°ï¼Œåˆ†åˆ«æ˜¯x yã€‚è¾“å‡ºä¸€ç»„x y
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>æ¯”è¾ƒå¥‡å¶ä¸ªæ•°</title>
    <link href="https://github.com/liysky/liysky.github.io.git/2020/03/01/%E6%AF%94%E8%BE%83%E5%A5%87%E5%81%B6%E4%B8%AA%E6%95%B0/"/>
    <id>https://github.com/liysky/liysky.github.io.git/2020/03/01/%E6%AF%94%E8%BE%83%E5%A5%87%E5%81%B6%E4%B8%AA%E6%95%B0/</id>
    <published>2020-03-01T15:20:01.000Z</published>
    <updated>2020-05-05T15:36:19.364Z</updated>
    
    <content type="html"><![CDATA[<h3 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h3><p>ç¬¬ä¸€è¡Œè¾“å…¥ä¸€ä¸ªæ•°ï¼Œä¸ºnï¼Œç¬¬äºŒè¡Œè¾“å…¥nä¸ªæ•°ï¼Œè¿™nä¸ªæ•°ä¸­ï¼Œå¦‚æœå¶æ•°æ¯”å¥‡æ•°å¤šï¼Œè¾“å‡ºNOï¼Œå¦åˆ™è¾“å‡ºYESã€‚</p><h3 id="è¾“å…¥æè¿°"><a href="#è¾“å…¥æè¿°" class="headerlink" title="è¾“å…¥æè¿°:"></a>è¾“å…¥æè¿°:</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥æœ‰å¤šç»„æ•°æ®ã€‚</span><br><span class="line">æ¯ç»„è¾“å…¥nï¼Œç„¶åè¾“å…¥nä¸ªæ•´æ•°ï¼ˆ1&lt;&#x3D;n&lt;&#x3D;1000ï¼‰ã€‚</span><br></pre></td></tr></table></figure><h3 id="è¾“å‡ºæè¿°"><a href="#è¾“å‡ºæè¿°" class="headerlink" title="è¾“å‡ºæè¿°:"></a>è¾“å‡ºæè¿°:</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å¦‚æœå¶æ•°æ¯”å¥‡æ•°å¤šï¼Œè¾“å‡ºNOï¼Œå¦åˆ™è¾“å‡ºYESã€‚</span><br></pre></td></tr></table></figure><p>ç¤ºä¾‹1</p><h3 id="è¾“å…¥"><a href="#è¾“å…¥" class="headerlink" title="è¾“å…¥"></a>è¾“å…¥</h3><p>å¤åˆ¶</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">5</span><br><span class="line">1 5 2 4 3</span><br></pre></td></tr></table></figure><h3 id="è¾“å‡º"><a href="#è¾“å‡º" class="headerlink" title="è¾“å‡º"></a>è¾“å‡º</h3><p>å¤åˆ¶</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">YES</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> count;<span class="comment">//å¥‡æ•°çš„ä¸ªæ•°(å‡€ä¸ªæ•°)</span></span><br><span class="line">    <span class="keyword">int</span> n, x;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n)!=EOF)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(n&lt;<span class="number">1</span>) <span class="keyword">break</span>;</span><br><span class="line">        count=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(n--)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;x);</span><br><span class="line">            <span class="keyword">if</span>(x%<span class="number">2</span>==<span class="number">1</span>) count++;</span><br><span class="line">            <span class="keyword">else</span> count--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(count&lt;<span class="number">0</span>) <span class="built_in">printf</span>(<span class="string">"NO\n"</span>);</span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">"YES\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„ï¼š</strong></p><p>ç¬¬ä¸€ä¸ªwhile ä¿è¯äº†å¤šæ¬¡æµ‹è¯•ï¼Œåªè¦è¾“å…¥åˆæ³•å°±ä¸€ç›´åœ¨å¾ªç¯åˆ¤æ–­ä¸­ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;é¢˜ç›®æè¿°&quot;&gt;&lt;a href=&quot;#é¢˜ç›®æè¿°&quot; class=&quot;headerlink&quot; title=&quot;é¢˜ç›®æè¿°&quot;&gt;&lt;/a&gt;é¢˜ç›®æè¿°&lt;/h3&gt;&lt;p&gt;ç¬¬ä¸€è¡Œè¾“å…¥ä¸€ä¸ªæ•°ï¼Œä¸ºnï¼Œç¬¬äºŒè¡Œè¾“å…¥nä¸ªæ•°ï¼Œè¿™nä¸ªæ•°ä¸­ï¼Œå¦‚æœå¶æ•°æ¯”å¥‡æ•°å¤šï¼Œè¾“å‡ºNOï¼Œå¦åˆ™è¾“å‡ºYESã€‚&lt;/p&gt;
&lt;h3 id=&quot;
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>LeetCode504. Base 7</title>
    <link href="https://github.com/liysky/liysky.github.io.git/2020/02/29/LeetCode504-Base-7/"/>
    <id>https://github.com/liysky/liysky.github.io.git/2020/02/29/LeetCode504-Base-7/</id>
    <published>2020-02-29T13:25:47.000Z</published>
    <updated>2020-05-05T15:36:19.341Z</updated>
    
    <content type="html"><![CDATA[<h3 id="504-Base-7"><a href="#504-Base-7" class="headerlink" title="504. Base 7"></a>504. Base 7</h3><p><a href="https://leetcode-cn.com/problems/base-7/" target="_blank" rel="noopener">504. Base 7</a></p><p>Given an integer, return its base 7 string representation.</p><h3 id="Example-1"><a href="#Example-1" class="headerlink" title="Example 1:"></a>Example 1:</h3><p>Input: 100<br>Output: â€œ202â€<br>Example 2:</p><p>Input: -7<br>Output: â€œ-10â€<br>Note: The input will be in range of [-1e7, 1e7].</p><h3 id="Resolution"><a href="#Resolution" class="headerlink" title="Resolution"></a>Resolution</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">convertToBase7</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">        StringBuilder com = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        <span class="keyword">if</span>(num == <span class="number">0</span>) <span class="keyword">return</span> <span class="string">"0"</span>;</span><br><span class="line">        <span class="keyword">boolean</span> flag = num &lt; <span class="number">0</span>;</span><br><span class="line">        num = Math.abs(num);</span><br><span class="line">        <span class="keyword">while</span>(num != <span class="number">0</span>)&#123;</span><br><span class="line">            com.append(num % <span class="number">7</span>);</span><br><span class="line">            num = num/<span class="number">7</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        StringBuilder com_ = com.reverse();</span><br><span class="line">        String str = com_.toString();</span><br><span class="line">        <span class="keyword">return</span> flag ? <span class="string">"-"</span>+str : str;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Time Complexity: O(logn)</strong></p><p><strong>Space Complexity: O(logn)</strong></p><p><strong>note:</strong></p><p>important: num.toString( ); â€”â€”&gt; wrong. Object numberdo not has the method â€œtoString( )â€</p><p>donâ€™t foget to check the initial condition firstly.</p><h3 id="A-good-solution-of-java-Integer"><a href="#A-good-solution-of-java-Integer" class="headerlink" title="A good solution of java Integer"></a>A good solution of java Integer</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">convertToBase7</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> Integer.toString(num, <span class="number">7</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="C-solution"><a href="#C-solution" class="headerlink" title="C++ solution"></a>C++ solution</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">string <span class="title">convertToBase7</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">        string ans;</span><br><span class="line">        bool is_nagetive = num &lt; <span class="number">0</span>;</span><br><span class="line">        num = abs(num);</span><br><span class="line">        <span class="keyword">do</span>&#123;</span><br><span class="line">            ans = std::to_string(num%<span class="number">7</span>) + ans;</span><br><span class="line">            num /=<span class="number">7</span>;</span><br><span class="line">        &#125;<span class="keyword">while</span>(num &gt; <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span>(is_nagetive)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"-"</span>+ans;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>*<em>key:implicit handle of special case 0 â€“&gt;&gt; using do{ }while( ); *</em></p><p><strong>Time Complexity: O(logn)</strong></p><p><strong>Space Complexity: O(logn)</strong></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;504-Base-7&quot;&gt;&lt;a href=&quot;#504-Base-7&quot; class=&quot;headerlink&quot; title=&quot;504. Base 7&quot;&gt;&lt;/a&gt;504. Base 7&lt;/h3&gt;&lt;p&gt;&lt;a href=&quot;https://leetcode-cn.com/pro
      
    
    </summary>
    
    
    
      <category term="LeetCode" scheme="https://github.com/liysky/liysky.github.io.git/tags/LeetCode/"/>
    
  </entry>
  
  <entry>
    <title>LeetCode551. Student Attendance Record I</title>
    <link href="https://github.com/liysky/liysky.github.io.git/2020/02/27/LeetCode551-Student-Attendance-Record-I/"/>
    <id>https://github.com/liysky/liysky.github.io.git/2020/02/27/LeetCode551-Student-Attendance-Record-I/</id>
    <published>2020-02-27T13:48:48.000Z</published>
    <updated>2020-05-05T15:36:19.389Z</updated>
    
    <content type="html"><![CDATA[<h3 id="551-Student-Attendance-Record-I"><a href="#551-Student-Attendance-Record-I" class="headerlink" title="551. Student Attendance Record I"></a>551. Student Attendance Record I</h3><p><a href="https://leetcode-cn.com/problems/student-attendance-record-i/" target="_blank" rel="noopener">551. Student Attendance Record I</a></p><p>You are given a string representing an attendance record for a student. The record only contains the following three characters:<br>â€˜Aâ€™ : Absent.<br>â€˜Lâ€™ : Late.<br>â€˜Pâ€™ : Present.<br>A student could be rewarded if his attendance record doesnâ€™t contain more than one â€˜Aâ€™ (absent) or more than two continuous â€˜Lâ€™ (late).</p><p>You need to return whether the student could be rewarded according to his attendance record.</p><h3 id="Example-1"><a href="#Example-1" class="headerlink" title="Example 1:"></a>Example 1:</h3><p>Input: â€œPPALLPâ€<br>Output: True<br>Example 2:</p><p>Input: â€œPPALLLâ€<br>Output: False</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//java</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">checkRecord</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.length(); i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(count &gt; <span class="number">1</span>)&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(s.charAt(i) == <span class="string">'A'</span>)&#123;</span><br><span class="line">                count++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>( i &lt; (s.length()-<span class="number">2</span>) &amp;&amp; (s.charAt(i) == <span class="string">'L'</span>) &amp;&amp; (s.charAt(i+<span class="number">1</span>) == <span class="string">'L'</span>) &amp;&amp; (s.charAt(i+<span class="number">2</span>) == <span class="string">'L'</span>))&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> (count &lt; <span class="number">2</span>) ;</span><br><span class="line">        <span class="comment">//return (count &lt; 2) &amp;&amp; (s.indexOf("LLL") &lt; 0)</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//c++</span></span><br><span class="line"><span class="comment">//from Huahua, good solution</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">checkRecord</span><span class="params">(<span class="built_in">string</span> s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> a&#123;<span class="number">0</span>&#125;;</span><br><span class="line">        <span class="keyword">int</span> l&#123;<span class="number">0</span>&#125;;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">char</span> c : s)&#123;</span><br><span class="line">            <span class="keyword">if</span>(c == <span class="string">'A'</span>) ++a;</span><br><span class="line">            <span class="keyword">if</span>(c == <span class="string">'L'</span>) ++l;</span><br><span class="line">            <span class="keyword">else</span> l = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">if</span>(a &gt; <span class="number">1</span> || l &gt; <span class="number">2</span> ) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//c++</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">bool <span class="title">checkRecord</span><span class="params">(string s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> s.find(<span class="string">'A'</span>, s.find(<span class="string">'A'</span>) + <span class="number">1</span>) == -<span class="number">1</span> &amp;&amp;  s.find(<span class="string">"LLL"</span>) == -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><strong>Time Complexity: solution1: O(n) + O(n), solution2: O(n)</strong></p><p><strong>Space Complexity: O(1)</strong></p><p><strong>note:</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="built_in">string</span> s = <span class="string">"lipsky"</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">string</span> p = <span class="string">"l"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> ans = s.<span class="built_in">find</span>(p, <span class="number">2</span>) ; Â <span class="comment">//find "l" from 2 index in s; if true return index, else return -1 (same as java)</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;551-Student-Attendance-Record-I&quot;&gt;&lt;a href=&quot;#551-Student-Attendance-Record-I&quot; class=&quot;headerlink&quot; title=&quot;551. Student Attendance Record
      
    
    </summary>
    
    
    
      <category term="LeetCode" scheme="https://github.com/liysky/liysky.github.io.git/tags/LeetCode/"/>
    
  </entry>
  
  <entry>
    <title>LeetCode 303. Range Sum Query - Immutable</title>
    <link href="https://github.com/liysky/liysky.github.io.git/2020/02/26/LeetCode-303-Range-Sum-Query-Immutable/"/>
    <id>https://github.com/liysky/liysky.github.io.git/2020/02/26/LeetCode-303-Range-Sum-Query-Immutable/</id>
    <published>2020-02-26T14:53:31.000Z</published>
    <updated>2020-05-05T15:36:19.390Z</updated>
    
    <content type="html"><![CDATA[<h3 id="303-Range-Sum-Query-Immutable"><a href="#303-Range-Sum-Query-Immutable" class="headerlink" title="303. Range Sum Query - Immutable"></a>303. Range Sum Query - Immutable</h3><p><a href="https://leetcode-cn.com/problems/range-sum-query-immutable/" target="_blank" rel="noopener">303. Range Sum Query - Immutable</a></p><h3 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h3><p>Given an integer array nums, find the sum of the elements between indices i and j (i â‰¤ j), inclusive.</p><h3 id="Example"><a href="#Example" class="headerlink" title="Example:"></a>Example:</h3><p>Given nums = [-2, 0, 3, -5, 2, -1]</p><p>sumRange(0, 2) -&gt; 1<br>sumRange(2, 5) -&gt; -1<br>sumRange(0, 5) -&gt; -3<br>Note:</p><p>You may assume that the array does not change.<br>There are many calls to sumRange function.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NumArray</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span>[] sum;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">NumArray</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        sum = <span class="keyword">new</span> <span class="keyword">int</span>[nums.length+<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; i++)&#123;</span><br><span class="line">            sum[i+<span class="number">1</span>] = sum[i] + nums[i];        <span class="comment">//S(n) = S(n-1) + f(n);</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">sumRange</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> sum[j+<span class="number">1</span>] - sum[i];               <span class="comment">//S(n+2) - S(n) = f(n+1) + f(n+2);</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Your NumArray object will be instantiated and called as such:</span></span><br><span class="line"><span class="comment"> * NumArray obj = new NumArray(nums);</span></span><br><span class="line"><span class="comment"> * int param_1 = obj.sumRange(i,j);</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * C++</span></span><br><span class="line"><span class="comment"> * Your NumArray object will be instantiated and called as such:</span></span><br><span class="line"><span class="comment"> * NumArray* obj = new NumArray(nums);</span></span><br><span class="line"><span class="comment"> * int param_1 = obj-&gt;sumRange(i,j);</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NumArray</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    NumArray(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums) &#123;</span><br><span class="line">        <span class="keyword">int</span> n = nums.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">if</span> (n==<span class="number">0</span>) <span class="keyword">return</span>;</span><br><span class="line">        sum_ = <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; (n, <span class="number">0</span>);</span><br><span class="line">        sum_[<span class="number">0</span>] = nums[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;nums.<span class="built_in">size</span>();i++)&#123;</span><br><span class="line">            sum_[i] = sum_[i<span class="number">-1</span>] + nums[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">sumRange</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(i==<span class="number">0</span>) <span class="keyword">return</span> sum_[j];</span><br><span class="line">        <span class="keyword">return</span> sum_[j] - sum_[i<span class="number">-1</span>];</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; sum_;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><img src="https://tva1.sinaimg.cn/large/0082zybply1gca6v456q8j30x80aujsq.jpg" alt="image-20200226224942382"></p><p><strong>Time Complexity:  Query$O(1)$ Pre-calculate $O(n)$</strong></p><p><strong>Space Complexity: $O(n)$</strong></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;303-Range-Sum-Query-Immutable&quot;&gt;&lt;a href=&quot;#303-Range-Sum-Query-Immutable&quot; class=&quot;headerlink&quot; title=&quot;303. Range Sum Query - Immutable&quot;&gt;
      
    
    </summary>
    
    
    
      <category term="LeetCode" scheme="https://github.com/liysky/liysky.github.io.git/tags/LeetCode/"/>
    
  </entry>
  
  <entry>
    <title>LeetCode655. Print Binary Tree</title>
    <link href="https://github.com/liysky/liysky.github.io.git/2020/02/26/LeetCode655-Print-Binary-Tree/"/>
    <id>https://github.com/liysky/liysky.github.io.git/2020/02/26/LeetCode655-Print-Binary-Tree/</id>
    <published>2020-02-25T16:08:29.000Z</published>
    <updated>2020-05-05T15:36:19.356Z</updated>
    
    <content type="html"><![CDATA[<h4 id="655-Print-Binary-Tree"><a href="#655-Print-Binary-Tree" class="headerlink" title="655. Print Binary Tree"></a>655. Print Binary Tree</h4><p><a href="https://leetcode-cn.com/problems/print-binary-tree/" target="_blank" rel="noopener">LeetCode. 655.Print Binary Tree</a></p><h3 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h3><p>Print a binary tree in an m*n 2D string array following these rules:</p><p>The row number m should be equal to the height of the given binary tree.<br>The column number n should always be an odd number.<br>The root nodeâ€™s value (in string format) should be put in the exactly middle of the first row it can be put. The column and the row where the root node belongs will separate the rest space into two parts (left-bottom part and right-bottom part). You should print the left subtree in the left-bottom part and print the right subtree in the right-bottom part. The left-bottom part and the right-bottom part should have the same size. Even if one subtree is none while the other is not, you donâ€™t need to print anything for the none subtree but still need to leave the space as large as that for the other subtree. However, if two subtrees are none, then you donâ€™t need to leave space for both of them.<br>Each unused space should contain an empty string â€œâ€.<br>Print the subtrees following the same rules.</p><h3 id="Example-1"><a href="#Example-1" class="headerlink" title="Example 1:"></a>Example 1:</h3><p>Input:<br>     1<br>    /<br>   2<br>Output:<br>[[â€œâ€, â€œ1â€, â€œâ€],<br> [â€œ2â€, â€œâ€, â€œâ€]]</p><h3 id="Example-2"><a href="#Example-2" class="headerlink" title="Example 2:"></a>Example 2:</h3><p>Input:<br>     1<br>    / <br>   2   3<br>    <br>     4<br>Output:<br>[[â€œâ€, â€œâ€, â€œâ€, â€œ1â€, â€œâ€, â€œâ€, â€œâ€],<br> [â€œâ€, â€œ2â€, â€œâ€, â€œâ€, â€œâ€, â€œ3â€, â€œâ€],<br> [â€œâ€, â€œâ€, â€œ4â€, â€œâ€, â€œâ€, â€œâ€, â€œâ€]]</p><h3 id="Example-3"><a href="#Example-3" class="headerlink" title="Example 3:"></a>Example 3:</h3><p>Input:<br>      1<br>     / <br>    2   5<br>   /<br>  3<br> /<br>4<br>Output:</p><p>[[â€œâ€,  â€œâ€,  â€œâ€, â€œâ€,  â€œâ€, â€œâ€, â€œâ€, â€œ1â€, â€œâ€,  â€œâ€,  â€œâ€,  â€œâ€,  â€œâ€, â€œâ€, â€œâ€]<br> [â€œâ€,  â€œâ€,  â€œâ€, â€œ2â€, â€œâ€, â€œâ€, â€œâ€, â€œâ€,  â€œâ€,  â€œâ€,  â€œâ€,  â€œ5â€, â€œâ€, â€œâ€, â€œâ€]<br> [â€œâ€,  â€œ3â€, â€œâ€, â€œâ€,  â€œâ€, â€œâ€, â€œâ€, â€œâ€,  â€œâ€,  â€œâ€,  â€œâ€,  â€œâ€,  â€œâ€, â€œâ€, â€œâ€]<br> [â€œ4â€, â€œâ€,  â€œâ€, â€œâ€,  â€œâ€, â€œâ€, â€œâ€, â€œâ€,  â€œâ€,  â€œâ€,  â€œâ€,  â€œâ€,  â€œâ€, â€œâ€, â€œâ€]]<br>Note: The height of binary tree is in the range of [1, 10].</p><h3 id="Resolution"><a href="#Resolution" class="headerlink" title="Resolution"></a>Resolution</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * public class TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode left;</span></span><br><span class="line"><span class="comment"> *     TreeNode right;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x) &#123; val = x; &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;String&gt;&gt; printTree(TreeNode root) &#123;</span><br><span class="line">        <span class="keyword">int</span> h = getHeight(root);</span><br><span class="line">        <span class="keyword">int</span> w = (<span class="number">1</span>&lt;&lt;h) - <span class="number">1</span>;</span><br><span class="line">        String[][] res = <span class="keyword">new</span> String[h][w];</span><br><span class="line">        <span class="keyword">for</span>(String[] arr:res)</span><br><span class="line">            Arrays.fill(arr,<span class="string">""</span>);</span><br><span class="line">        List&lt;List&lt;String&gt;&gt; ans = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        fill(res, root, <span class="number">0</span>, <span class="number">0</span>, res[<span class="number">0</span>].length);</span><br><span class="line">        <span class="keyword">for</span>(String[] arr:res)</span><br><span class="line">            ans.add(Arrays.asList(arr));</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">fill</span><span class="params">(String[][] res, TreeNode root, <span class="keyword">int</span> h, <span class="keyword">int</span> l, <span class="keyword">int</span> r)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(root == <span class="keyword">null</span>) <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">int</span> mid = (l+r)/<span class="number">2</span>;</span><br><span class="line">        res[h][mid] = Integer.toString(root.val);</span><br><span class="line">        fill(res, root.left, h+<span class="number">1</span>, l, mid-<span class="number">1</span> );</span><br><span class="line">        fill(res, root.right, h+<span class="number">1</span>, mid+<span class="number">1</span>, r);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getHeight</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="keyword">null</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span> + Math.max(getHeight(root.left), getHeight(root.right));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Time Complexity: $O(h*w)$</strong></p><p><strong>Space Complexity: $O(h*w)$</strong></p><p><strong>note:</strong></p><p>java.List</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h4 id=&quot;655-Print-Binary-Tree&quot;&gt;&lt;a href=&quot;#655-Print-Binary-Tree&quot; class=&quot;headerlink&quot; title=&quot;655. Print Binary Tree&quot;&gt;&lt;/a&gt;655. Print Binary Tree
      
    
    </summary>
    
    
    
      <category term="LeetCode" scheme="https://github.com/liysky/liysky.github.io.git/tags/LeetCode/"/>
    
  </entry>
  
</feed>
